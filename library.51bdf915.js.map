{"mappings":"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","sources":["src/js/library.js","src/js/localStorage.js","src/js/moviesMarkup.js","src/js/moviesGenres.js"],"sourcesContent":["// import './localStorage';\n// import { loadLocalStorage } from './localStorage';\nimport local from './localStorage';\n\nimport { appendMoviesMarkup } from './moviesMarkup';\n\nconst watchedBtn = document.querySelector('button[data-action=\"watched\"]');\nconst queueBtn = document.querySelector('button[data-action=\"queue\"]');\nconst myLibrary = document.querySelector('.library__container');\n\nconst queueKey = local.loadLocalStorage('queueKey');\nconst watchedKey = local.loadLocalStorage('watchedKey');\n\nwatchedBtn.addEventListener('click', handleRenderWatchedClick);\nqueueBtn.addEventListener('click', handleRenderQueueClick);\n\nif (queueBtn.classList.contains('js-current')) {\n  libraryMarkup(queueKey);\n  return;\n}\n\nlibraryMarkup(watchedKey);\n\n// ===================================\n// FUNCTION\n\nfunction handleRenderWatchedClick() {\n  watchedBtn.classList.add('js-current');\n  queueBtn.classList.remove('js-current');\n  myLibrary.innerHTML = '';\n  libraryMarkup(watchedKey);\n}\n\nfunction handleRenderQueueClick() {\n  watchedBtn.classList.remove('js-current');\n  queueBtn.classList.add('js-current');\n  myLibrary.innerHTML = '';\n  libraryMarkup(queueKey);\n}\n\nfunction libraryMarkup(nameKey) {\n  if (nameKey === null || nameKey === undefined) {\n    // Тут должна быть заглушка для MyLibrary - картинка или текст, что фильмов в библиотеке нет\n    libraryEmptyMarkup();\n    console.log('Поставлена инфо что библиотека пустая');\n    return;\n  }\n\n  // const elementUl = '<ul class=\"library-list\"></ul>';\n  // myLibrary.insertAdjacentHTML('beforeend', elementUl);\n  // const moviesGallery = document.querySelector('.library-list');\n  // appendMoviesMarkup(nameKey);\n}\n\nfunction libraryEmptyMarkup() {\n  const markup = `<h2 class=\"library-empty__title\">\n          Your movie library to watch is empty\n        </h2>\n        <div class=\"library-empty__tumb\">\n          <a href=\"./index.html\" class=\"library-empty__btn\">CHOOSE MOVIE</a>\n        </div>`;\n  myLibrary.insertAdjacentHTML('beforeend', markup);\n}\n","//Сохранить в локал\nfunction saveLocalStorage(key, value) {\n  const data = JSON.stringify(value);\n  localStorage.setItem(key, data);\n}\n\n//Витягує ключь з локал\nfunction loadLocalStorage(key) {\n  try {\n    const data = localStorage.getItem(key);\n    return data === null ? undefined : JSON.parse(data);\n  } catch (error) {\n    console.log('Get error: ', error.message);\n  }\n}\n// Видаляє локал ключь\nfunction removeLocalStorage(key) {\n  return localStorage.removeItem(key);\n}\n\nexport default {\n  saveLocalStorage,\n  loadLocalStorage,\n  removeLocalStorage,\n};\n","import { genresArray } from './moviesGenres';\n\nconst moviesGallery = document.querySelector('.film_list');\n\nfunction appendMoviesMarkup(movies) {\n  movies.forEach(movie => {\n    let moviePoster = `https://image.tmdb.org/t/p/w500${movie.poster_path}`;\n    if (movie.poster_path === null) {\n      moviePoster = `https://qqcinema.com/wp-content/uploads/no-poster.png`;\n    }\n    const movieTitle = movie.title;\n    let movieReleaseDate = movie.release_date.split('').slice(0, 4).join('');\n    if (movie.release_date === '') {\n      movieReleaseDate = `Unknown`;\n    }\n    const movieGenres = getGenres(movie.genre_ids);\n    const movieId = movie.id;\n\n    const movieMarkup = `<li id=\"${movieId}\" class=\"film-list__item\"><img src=\"${moviePoster}\" alt=\"${movieTitle}\" class=\"film-list__item-poster\" loading=\"lazy\">\n     <div class=\"film-list__item-info\"><h3 class=\"film-list__item-title\">${movieTitle}</h3><div class=\"film-list__item-details\"><span class=\"film-list__item-genres\">${movieGenres}</span>|<span class=\"film-list__item-year\">${movieReleaseDate}</span></div></div>\n   </li>`;\n\n    moviesGallery.insertAdjacentHTML('beforeend', movieMarkup);\n  });\n}\n\nfunction getGenres(ids) {\n  const genres = ids.map(id => {\n    const genre = genresArray.find(genre => genre.id === id).name;\n    return genre;\n  });\n  if (genres.length === 0) {\n    return ['Unknown'];\n  }\n  if (genres.length >= 4) {\n    genres.splice(2, 10, 'Other');\n  }\n  return genres.join(', ');\n}\n\nfunction clearGallery() {\n  moviesGallery.innerHTML = '';\n}\n\n// export { appendMoviesMarkup, clearGallery };\n\nexport { appendMoviesMarkup, moviesGallery, clearGallery };\n","const genresArray = [\n  { id: 28, name: 'Action' },\n  { id: 12, name: 'Adventure' },\n  { id: 16, name: 'Animation' },\n  { id: 35, name: 'Comedy' },\n  { id: 80, name: 'Crime' },\n  { id: 99, name: 'Documentary' },\n  { id: 18, name: 'Drama' },\n  { id: 10751, name: 'Family' },\n  { id: 14, name: 'Fantasy' },\n  { id: 36, name: 'History' },\n  { id: 27, name: 'Horror' },\n  { id: 10402, name: 'Music' },\n  { id: 9648, name: 'Mystery' },\n  { id: 10749, name: 'Romance' },\n  { id: 878, name: 'Science Fiction' },\n  { id: 10770, name: 'TV Movie' },\n  { id: 53, name: 'Thriller' },\n  { id: 10752, name: 'War' },\n  { id: 37, name: 'Western' },\n];\n\nexport { genresArray };\n"],"names":["$UL92Z","parcelRequire","watchedBtn","document","querySelector","queueBtn","myLibrary","queueKey","default","loadLocalStorage","watchedKey","libraryMarkup","nameKey","markup","insertAdjacentHTML","console","log","addEventListener","classList","add","remove","innerHTML","contains","$0aa9cd13c14a6e1e$export$2e2bcd8739ae039","saveLocalStorage","key","value","data","JSON","stringify","localStorage","setItem","getItem","undefined","parse","error","message","removeLocalStorage","removeItem","$ldZry","$7eea87a3f2b7426d$export$c9559b622b3d6142","$7eea87a3f2b7426d$export$c56a348ae6870e29","movies","forEach","movie","moviePoster","concat","poster_path","movieTitle","title","movieReleaseDate","release_date","split","slice","join","movieGenres","ids","genres","map","id","genresArray","find","genre","name","length","splice","$7eea87a3f2b7426d$var$getGenres","genre_ids","movieId","movieMarkup","$7eea87a3f2b7426d$export$8c1b58d5eff8e8c1","$f73a79428c0fa61c$export$1b16090b9a50a74"],"version":3,"file":"library.51bdf915.js.map"}