{"mappings":"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","sources":["node_modules/easter-break/src/lib/index.ts","node_modules/matter-js/build/matter.js","node_modules/easter-break/src/lib/Renderer.ts","node_modules/easter-break/src/lib/utils.ts","node_modules/html2canvas/node_modules/tslib/tslib.es6.js","node_modules/src/css/layout/bounds.ts","node_modules/html2canvas/node_modules/src/Util.ts","node_modules/html2canvas/node_modules/css-line-break/node_modules/src/Util.ts","node_modules/html2canvas/node_modules/src/LineBreak.ts","node_modules/html2canvas/node_modules/css-line-break/node_modules/src/Trie.ts","node_modules/html2canvas/node_modules/css-line-break/node_modules/utrie/node_modules/src/index.ts","node_modules/src/css/syntax/tokenizer.ts","node_modules/src/css/syntax/parser.ts","node_modules/src/css/types/length-percentage.ts","node_modules/src/css/types/length.ts","node_modules/src/css/types/angle.ts","node_modules/src/css/types/color.ts","node_modules/src/css/property-descriptors/background-clip.ts","node_modules/src/css/property-descriptors/background-color.ts","node_modules/src/css/types/functions/gradient.ts","node_modules/src/css/types/functions/linear-gradient.ts","node_modules/src/css/types/functions/-prefix-linear-gradient.ts","node_modules/src/css/types/functions/-webkit-gradient.ts","node_modules/src/css/types/functions/radial-gradient.ts","node_modules/src/css/types/functions/-prefix-radial-gradient.ts","node_modules/src/css/types/image.ts","node_modules/src/css/property-descriptors/background-image.ts","node_modules/src/css/property-descriptors/background-size.ts","node_modules/src/css/property-descriptors/background-origin.ts","node_modules/src/css/property-descriptors/background-position.ts","node_modules/src/css/property-descriptors/background-repeat.ts","node_modules/src/css/property-descriptors/border-color.ts","node_modules/src/css/property-descriptors/border-radius.ts","node_modules/src/css/property-descriptors/border-style.ts","node_modules/src/css/property-descriptors/border-width.ts","node_modules/src/css/property-descriptors/color.ts","node_modules/src/css/property-descriptors/direction.ts","node_modules/src/css/property-descriptors/display.ts","node_modules/src/css/property-descriptors/float.ts","node_modules/src/css/property-descriptors/letter-spacing.ts","node_modules/src/css/property-descriptors/line-break.ts","node_modules/src/css/property-descriptors/line-height.ts","node_modules/src/css/property-descriptors/list-style-image.ts","node_modules/src/css/property-descriptors/list-style-position.ts","node_modules/src/css/property-descriptors/list-style-type.ts","node_modules/src/css/property-descriptors/margin.ts","node_modules/src/css/property-descriptors/overflow.ts","node_modules/src/css/property-descriptors/overflow-wrap.ts","node_modules/src/css/property-descriptors/padding.ts","node_modules/src/css/property-descriptors/text-align.ts","node_modules/src/css/property-descriptors/position.ts","node_modules/src/css/property-descriptors/text-shadow.ts","node_modules/src/css/property-descriptors/text-transform.ts","node_modules/src/css/property-descriptors/transform.ts","node_modules/src/css/property-descriptors/transform-origin.ts","node_modules/src/css/property-descriptors/visibility.ts","node_modules/src/css/property-descriptors/word-break.ts","node_modules/src/css/property-descriptors/z-index.ts","node_modules/src/css/types/time.ts","node_modules/src/css/property-descriptors/opacity.ts","node_modules/src/css/property-descriptors/text-decoration-color.ts","node_modules/src/css/property-descriptors/text-decoration-line.ts","node_modules/src/css/property-descriptors/font-family.ts","node_modules/src/css/property-descriptors/font-weight.ts","node_modules/src/css/property-descriptors/font-size.ts","node_modules/src/css/property-descriptors/font-variant.ts","node_modules/src/css/property-descriptors/font-style.ts","node_modules/src/core/bitwise.ts","node_modules/src/css/property-descriptors/content.ts","node_modules/src/css/property-descriptors/counter-increment.ts","node_modules/src/css/property-descriptors/counter-reset.ts","node_modules/src/css/property-descriptors/duration.ts","node_modules/src/css/property-descriptors/quotes.ts","node_modules/src/css/property-descriptors/box-shadow.ts","node_modules/src/css/property-descriptors/paint-order.ts","node_modules/src/css/property-descriptors/webkit-text-stroke-width.ts","node_modules/src/css/property-descriptors/webkit-text-stroke-color.ts","node_modules/src/css/index.ts","node_modules/src/core/debugger.ts","node_modules/src/dom/element-container.ts","node_modules/html2canvas/node_modules/src/grapheme-break-trie.ts","node_modules/html2canvas/node_modules/text-segmentation/node_modules/src/Util.ts","node_modules/html2canvas/node_modules/src/GraphemeBreak.ts","node_modules/html2canvas/node_modules/text-segmentation/node_modules/src/Trie.ts","node_modules/html2canvas/node_modules/text-segmentation/node_modules/utrie/node_modules/src/index.ts","node_modules/src/dom/document-cloner.ts","node_modules/src/core/features.ts","node_modules/src/css/layout/text.ts","node_modules/src/dom/text-container.ts","node_modules/src/dom/replaced-elements/image-element-container.ts","node_modules/src/dom/replaced-elements/canvas-element-container.ts","node_modules/src/dom/replaced-elements/svg-element-container.ts","node_modules/src/dom/elements/li-element-container.ts","node_modules/src/dom/elements/ol-element-container.ts","node_modules/src/dom/replaced-elements/input-element-container.ts","node_modules/src/dom/elements/select-element-container.ts","node_modules/src/dom/elements/textarea-element-container.ts","node_modules/src/dom/replaced-elements/iframe-element-container.ts","node_modules/src/dom/node-parser.ts","node_modules/src/css/types/functions/counter.ts","node_modules/src/render/bound-curves.ts","node_modules/src/core/cache-storage.ts","node_modules/src/render/vector.ts","node_modules/src/render/bezier-curve.ts","node_modules/src/render/effects.ts","node_modules/src/render/path.ts","node_modules/src/render/stacking-context.ts","node_modules/src/render/border.ts","node_modules/src/render/box-sizing.ts","node_modules/src/render/background.ts","node_modules/src/core/util.ts","node_modules/src/render/font-metrics.ts","node_modules/src/render/renderer.ts","node_modules/src/render/canvas/canvas-renderer.ts","node_modules/src/render/canvas/foreignobject-renderer.ts","node_modules/src/core/logger.ts","node_modules/src/core/context.ts","node_modules/src/index.ts","src/js/mobile-menu.js","src/js/getMoviesApi.js","src/js/loader.js","node_modules/notiflix/build/notiflix-loading-aio.js","node_modules/axios/index.js","node_modules/axios/lib/axios.js","node_modules/axios/lib/utils.js","node_modules/axios/lib/helpers/bind.js","node_modules/axios/lib/core/Axios.js","node_modules/axios/lib/helpers/buildURL.js","node_modules/axios/lib/core/InterceptorManager.js","node_modules/axios/lib/core/dispatchRequest.js","node_modules/axios/lib/core/transformData.js","node_modules/axios/lib/defaults/index.js","node_modules/process/browser.js","node_modules/axios/lib/helpers/normalizeHeaderName.js","node_modules/axios/lib/core/AxiosError.js","node_modules/axios/lib/defaults/transitional.js","node_modules/axios/lib/helpers/toFormData.js","node_modules/buffer/index.js","node_modules/base64-js/index.js","node_modules/ieee754/index.js","node_modules/axios/lib/adapters/xhr.js","node_modules/axios/lib/core/settle.js","node_modules/axios/lib/helpers/cookies.js","node_modules/axios/lib/core/buildFullPath.js","node_modules/axios/lib/helpers/isAbsoluteURL.js","node_modules/axios/lib/helpers/combineURLs.js","node_modules/axios/lib/helpers/parseHeaders.js","node_modules/axios/lib/helpers/isURLSameOrigin.js","node_modules/axios/lib/cancel/CanceledError.js","node_modules/axios/lib/helpers/parseProtocol.js","node_modules/axios/lib/helpers/null.js","node_modules/axios/lib/cancel/isCancel.js","node_modules/axios/lib/core/mergeConfig.js","node_modules/axios/lib/helpers/validator.js","node_modules/axios/lib/env/data.js","node_modules/axios/lib/cancel/CancelToken.js","node_modules/axios/lib/helpers/spread.js","node_modules/axios/lib/helpers/isAxiosError.js","src/js/moviesMarkup.js","src/js/moviesGenres.js","src/js/theme.js","src/js/footerModal.js","src/js/modalMovieMarkup.js","src/js/getfullMovieInfo.js","src/js/localStorage.js","src/js/Utils/auth.js","node_modules/notiflix/dist/notiflix-aio-3.2.5.min.js","src/js/Utils/firebaseConfig.js","node_modules/@firebase/app/src/platformLoggerService.ts","node_modules/@firebase/app/src/logger.ts","node_modules/@firebase/app/src/constants.ts","node_modules/@firebase/app/src/internal.ts","node_modules/@firebase/app/src/errors.ts","node_modules/@firebase/app/src/firebaseApp.ts","node_modules/@firebase/app/src/api.ts","node_modules/@firebase/app/src/indexeddb.ts","node_modules/@firebase/app/src/heartbeatService.ts","node_modules/@firebase/component/src/component.ts","node_modules/@firebase/component/src/constants.ts","node_modules/@firebase/component/src/provider.ts","node_modules/@firebase/component/src/component_container.ts","node_modules/@firebase/util/src/crypt.ts","node_modules/@firebase/util/src/deepCopy.ts","node_modules/@firebase/util/src/deferred.ts","node_modules/@firebase/util/src/emulator.ts","node_modules/@firebase/util/src/environment.ts","node_modules/@firebase/util/src/json.ts","node_modules/@firebase/util/src/jwt.ts","node_modules/@firebase/util/src/query.ts","node_modules/@firebase/util/src/sha1.ts","node_modules/@firebase/util/src/subscribe.ts","node_modules/@firebase/util/src/utf8.ts","node_modules/@firebase/util/src/uuid.ts","node_modules/@firebase/logger/src/logger.ts","node_modules/idb/build/index.js","node_modules/idb/build/wrap-idb-value.js","node_modules/@firebase/auth/src/core/errors.ts","node_modules/@firebase/auth/src/core/auth/initialize.ts","node_modules/@firebase/auth/src/core/util/location.ts","node_modules/@firebase/auth/src/core/util/navigator.ts","node_modules/@firebase/auth/src/core/util/delay.ts","node_modules/@firebase/auth/src/core/util/emulator.ts","node_modules/@firebase/auth/src/core/util/fetch_provider.ts","node_modules/@firebase/auth/src/api/errors.ts","node_modules/@firebase/auth/src/api/index.ts","node_modules/@firebase/auth/src/core/util/time.ts","node_modules/@firebase/auth/src/core/user/id_token_result.ts","node_modules/@firebase/auth/src/core/user/invalidation.ts","node_modules/@firebase/auth/src/core/user/proactive_refresh.ts","node_modules/@firebase/auth/src/core/user/user_metadata.ts","node_modules/@firebase/auth/src/core/user/reload.ts","node_modules/@firebase/auth/src/api/authentication/token.ts","node_modules/@firebase/auth/src/core/user/token_manager.ts","node_modules/@firebase/auth/src/core/user/user_impl.ts","node_modules/@firebase/auth/src/core/persistence/in_memory.ts","node_modules/@firebase/auth/src/core/persistence/persistence_user_manager.ts","node_modules/@firebase/auth/src/core/util/browser.ts","node_modules/@firebase/auth/src/core/util/version.ts","node_modules/@firebase/auth/src/core/auth/middleware.ts","node_modules/@firebase/auth/src/core/auth/auth_impl.ts","node_modules/@firebase/auth/src/core/auth/emulator.ts","node_modules/@firebase/auth/src/core/credentials/auth_credential.ts","node_modules/@firebase/auth/src/api/authentication/email_and_password.ts","node_modules/@firebase/auth/src/api/authentication/email_link.ts","node_modules/@firebase/auth/src/core/credentials/email.ts","node_modules/@firebase/auth/src/core/credentials/oauth.ts","node_modules/@firebase/auth/src/api/authentication/idp.ts","node_modules/@firebase/auth/src/api/authentication/sms.ts","node_modules/@firebase/auth/src/core/credentials/phone.ts","node_modules/@firebase/auth/src/core/action_code_url.ts","node_modules/@firebase/auth/src/core/providers/email.ts","node_modules/@firebase/auth/src/core/providers/federated.ts","node_modules/@firebase/auth/src/core/providers/oauth.ts","node_modules/@firebase/auth/src/core/providers/facebook.ts","node_modules/@firebase/auth/src/core/providers/google.ts","node_modules/@firebase/auth/src/core/providers/github.ts","node_modules/@firebase/auth/src/api/authentication/sign_up.ts","node_modules/@firebase/auth/src/core/user/user_credential_impl.ts","node_modules/@firebase/auth/src/core/strategies/anonymous.ts","node_modules/@firebase/auth/src/core/strategies/credential.ts","node_modules/@firebase/auth/src/api/authentication/custom_token.ts","node_modules/@firebase/auth/src/core/strategies/custom_token.ts","node_modules/@firebase/auth/src/mfa/mfa_info.ts","node_modules/@firebase/auth/src/mfa/mfa_error.ts","node_modules/@firebase/auth/src/core/user/link_unlink.ts","node_modules/@firebase/auth/src/core/strategies/action_code_settings.ts","node_modules/@firebase/auth/src/core/user/reauthenticate.ts","node_modules/@firebase/auth/src/core/strategies/email_and_password.ts","node_modules/@firebase/auth/src/core/strategies/email_link.ts","node_modules/@firebase/auth/src/api/authentication/create_auth_uri.ts","node_modules/@firebase/auth/src/core/strategies/email.ts","node_modules/@firebase/auth/src/api/account_management/profile.ts","node_modules/@firebase/auth/src/core/user/account_info.ts","node_modules/@firebase/auth/src/core/user/additional_user_info.ts","node_modules/@firebase/auth/src/mfa/mfa_resolver.ts","node_modules/@firebase/auth/src/mfa/mfa_session.ts","node_modules/@firebase/auth/src/core/index.ts","node_modules/@firebase/auth/src/mfa/mfa_user.ts","node_modules/@firebase/auth/src/core/persistence/index.ts","node_modules/@firebase/auth/src/platform_browser/persistence/browser.ts","node_modules/@firebase/auth/src/platform_browser/persistence/local_storage.ts","node_modules/@firebase/auth/src/platform_browser/messagechannel/sender.ts","node_modules/@firebase/auth/src/platform_browser/persistence/indexed_db.ts","node_modules/@firebase/auth/src/platform_browser/recaptcha/recaptcha_mock.ts","node_modules/@firebase/auth/src/platform_browser/recaptcha/recaptcha_loader.ts","node_modules/@firebase/auth/src/platform_browser/recaptcha/recaptcha_verifier.ts","node_modules/@firebase/auth/src/platform_browser/strategies/phone.ts","node_modules/@firebase/auth/src/platform_browser/providers/phone.ts","node_modules/@firebase/auth/src/core/util/resolver.ts","node_modules/@firebase/auth/src/core/strategies/idp.ts","node_modules/@firebase/auth/src/platform_browser/strategies/redirect.ts","node_modules/@firebase/auth/src/core/auth/auth_event_manager.ts","node_modules/@firebase/auth/src/core/auth/register.ts","node_modules/@firebase/auth/src/api/account_management/email_and_password.ts","node_modules/tslib/tslib.es6.js"],"sourcesContent":[null,"/*!\n * matter-js 0.18.0 by @liabru\n * http://brm.io/matter-js/\n * License MIT\n * \n * The MIT License (MIT)\n * \n * Copyright (c) Liam Brummitt and contributors.\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Matter\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Matter\"] = factory();\n\telse\n\t\troot[\"Matter\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 21);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\n/**\n* The `Matter.Common` module contains utility functions that are common to all modules.\n*\n* @class Common\n*/\n\nvar Common = {};\n\nmodule.exports = Common;\n\n(function() {\n\n    Common._nextId = 0;\n    Common._seed = 0;\n    Common._nowStartTime = +(new Date());\n    Common._warnedOnce = {};\n    Common._decomp = null;\n    \n    /**\n     * Extends the object in the first argument using the object in the second argument.\n     * @method extend\n     * @param {} obj\n     * @param {boolean} deep\n     * @return {} obj extended\n     */\n    Common.extend = function(obj, deep) {\n        var argsStart,\n            args,\n            deepClone;\n\n        if (typeof deep === 'boolean') {\n            argsStart = 2;\n            deepClone = deep;\n        } else {\n            argsStart = 1;\n            deepClone = true;\n        }\n\n        for (var i = argsStart; i < arguments.length; i++) {\n            var source = arguments[i];\n\n            if (source) {\n                for (var prop in source) {\n                    if (deepClone && source[prop] && source[prop].constructor === Object) {\n                        if (!obj[prop] || obj[prop].constructor === Object) {\n                            obj[prop] = obj[prop] || {};\n                            Common.extend(obj[prop], deepClone, source[prop]);\n                        } else {\n                            obj[prop] = source[prop];\n                        }\n                    } else {\n                        obj[prop] = source[prop];\n                    }\n                }\n            }\n        }\n        \n        return obj;\n    };\n\n    /**\n     * Creates a new clone of the object, if deep is true references will also be cloned.\n     * @method clone\n     * @param {} obj\n     * @param {bool} deep\n     * @return {} obj cloned\n     */\n    Common.clone = function(obj, deep) {\n        return Common.extend({}, deep, obj);\n    };\n\n    /**\n     * Returns the list of keys for the given object.\n     * @method keys\n     * @param {} obj\n     * @return {string[]} keys\n     */\n    Common.keys = function(obj) {\n        if (Object.keys)\n            return Object.keys(obj);\n\n        // avoid hasOwnProperty for performance\n        var keys = [];\n        for (var key in obj)\n            keys.push(key);\n        return keys;\n    };\n\n    /**\n     * Returns the list of values for the given object.\n     * @method values\n     * @param {} obj\n     * @return {array} Array of the objects property values\n     */\n    Common.values = function(obj) {\n        var values = [];\n        \n        if (Object.keys) {\n            var keys = Object.keys(obj);\n            for (var i = 0; i < keys.length; i++) {\n                values.push(obj[keys[i]]);\n            }\n            return values;\n        }\n        \n        // avoid hasOwnProperty for performance\n        for (var key in obj)\n            values.push(obj[key]);\n        return values;\n    };\n\n    /**\n     * Gets a value from `base` relative to the `path` string.\n     * @method get\n     * @param {} obj The base object\n     * @param {string} path The path relative to `base`, e.g. 'Foo.Bar.baz'\n     * @param {number} [begin] Path slice begin\n     * @param {number} [end] Path slice end\n     * @return {} The object at the given path\n     */\n    Common.get = function(obj, path, begin, end) {\n        path = path.split('.').slice(begin, end);\n\n        for (var i = 0; i < path.length; i += 1) {\n            obj = obj[path[i]];\n        }\n\n        return obj;\n    };\n\n    /**\n     * Sets a value on `base` relative to the given `path` string.\n     * @method set\n     * @param {} obj The base object\n     * @param {string} path The path relative to `base`, e.g. 'Foo.Bar.baz'\n     * @param {} val The value to set\n     * @param {number} [begin] Path slice begin\n     * @param {number} [end] Path slice end\n     * @return {} Pass through `val` for chaining\n     */\n    Common.set = function(obj, path, val, begin, end) {\n        var parts = path.split('.').slice(begin, end);\n        Common.get(obj, path, 0, -1)[parts[parts.length - 1]] = val;\n        return val;\n    };\n\n    /**\n     * Shuffles the given array in-place.\n     * The function uses a seeded random generator.\n     * @method shuffle\n     * @param {array} array\n     * @return {array} array shuffled randomly\n     */\n    Common.shuffle = function(array) {\n        for (var i = array.length - 1; i > 0; i--) {\n            var j = Math.floor(Common.random() * (i + 1));\n            var temp = array[i];\n            array[i] = array[j];\n            array[j] = temp;\n        }\n        return array;\n    };\n\n    /**\n     * Randomly chooses a value from a list with equal probability.\n     * The function uses a seeded random generator.\n     * @method choose\n     * @param {array} choices\n     * @return {object} A random choice object from the array\n     */\n    Common.choose = function(choices) {\n        return choices[Math.floor(Common.random() * choices.length)];\n    };\n\n    /**\n     * Returns true if the object is a HTMLElement, otherwise false.\n     * @method isElement\n     * @param {object} obj\n     * @return {boolean} True if the object is a HTMLElement, otherwise false\n     */\n    Common.isElement = function(obj) {\n        if (typeof HTMLElement !== 'undefined') {\n            return obj instanceof HTMLElement;\n        }\n\n        return !!(obj && obj.nodeType && obj.nodeName);\n    };\n\n    /**\n     * Returns true if the object is an array.\n     * @method isArray\n     * @param {object} obj\n     * @return {boolean} True if the object is an array, otherwise false\n     */\n    Common.isArray = function(obj) {\n        return Object.prototype.toString.call(obj) === '[object Array]';\n    };\n\n    /**\n     * Returns true if the object is a function.\n     * @method isFunction\n     * @param {object} obj\n     * @return {boolean} True if the object is a function, otherwise false\n     */\n    Common.isFunction = function(obj) {\n        return typeof obj === \"function\";\n    };\n\n    /**\n     * Returns true if the object is a plain object.\n     * @method isPlainObject\n     * @param {object} obj\n     * @return {boolean} True if the object is a plain object, otherwise false\n     */\n    Common.isPlainObject = function(obj) {\n        return typeof obj === 'object' && obj.constructor === Object;\n    };\n\n    /**\n     * Returns true if the object is a string.\n     * @method isString\n     * @param {object} obj\n     * @return {boolean} True if the object is a string, otherwise false\n     */\n    Common.isString = function(obj) {\n        return toString.call(obj) === '[object String]';\n    };\n    \n    /**\n     * Returns the given value clamped between a minimum and maximum value.\n     * @method clamp\n     * @param {number} value\n     * @param {number} min\n     * @param {number} max\n     * @return {number} The value clamped between min and max inclusive\n     */\n    Common.clamp = function(value, min, max) {\n        if (value < min)\n            return min;\n        if (value > max)\n            return max;\n        return value;\n    };\n    \n    /**\n     * Returns the sign of the given value.\n     * @method sign\n     * @param {number} value\n     * @return {number} -1 if negative, +1 if 0 or positive\n     */\n    Common.sign = function(value) {\n        return value < 0 ? -1 : 1;\n    };\n    \n    /**\n     * Returns the current timestamp since the time origin (e.g. from page load).\n     * The result is in milliseconds and will use high-resolution timing if available.\n     * @method now\n     * @return {number} the current timestamp in milliseconds\n     */\n    Common.now = function() {\n        if (typeof window !== 'undefined' && window.performance) {\n            if (window.performance.now) {\n                return window.performance.now();\n            } else if (window.performance.webkitNow) {\n                return window.performance.webkitNow();\n            }\n        }\n\n        if (Date.now) {\n            return Date.now();\n        }\n\n        return (new Date()) - Common._nowStartTime;\n    };\n    \n    /**\n     * Returns a random value between a minimum and a maximum value inclusive.\n     * The function uses a seeded random generator.\n     * @method random\n     * @param {number} min\n     * @param {number} max\n     * @return {number} A random number between min and max inclusive\n     */\n    Common.random = function(min, max) {\n        min = (typeof min !== \"undefined\") ? min : 0;\n        max = (typeof max !== \"undefined\") ? max : 1;\n        return min + _seededRandom() * (max - min);\n    };\n\n    var _seededRandom = function() {\n        // https://en.wikipedia.org/wiki/Linear_congruential_generator\n        Common._seed = (Common._seed * 9301 + 49297) % 233280;\n        return Common._seed / 233280;\n    };\n\n    /**\n     * Converts a CSS hex colour string into an integer.\n     * @method colorToNumber\n     * @param {string} colorString\n     * @return {number} An integer representing the CSS hex string\n     */\n    Common.colorToNumber = function(colorString) {\n        colorString = colorString.replace('#','');\n\n        if (colorString.length == 3) {\n            colorString = colorString.charAt(0) + colorString.charAt(0)\n                        + colorString.charAt(1) + colorString.charAt(1)\n                        + colorString.charAt(2) + colorString.charAt(2);\n        }\n\n        return parseInt(colorString, 16);\n    };\n\n    /**\n     * The console logging level to use, where each level includes all levels above and excludes the levels below.\n     * The default level is 'debug' which shows all console messages.  \n     *\n     * Possible level values are:\n     * - 0 = None\n     * - 1 = Debug\n     * - 2 = Info\n     * - 3 = Warn\n     * - 4 = Error\n     * @property Common.logLevel\n     * @type {Number}\n     * @default 1\n     */\n    Common.logLevel = 1;\n\n    /**\n     * Shows a `console.log` message only if the current `Common.logLevel` allows it.\n     * The message will be prefixed with 'matter-js' to make it easily identifiable.\n     * @method log\n     * @param ...objs {} The objects to log.\n     */\n    Common.log = function() {\n        if (console && Common.logLevel > 0 && Common.logLevel <= 3) {\n            console.log.apply(console, ['matter-js:'].concat(Array.prototype.slice.call(arguments)));\n        }\n    };\n\n    /**\n     * Shows a `console.info` message only if the current `Common.logLevel` allows it.\n     * The message will be prefixed with 'matter-js' to make it easily identifiable.\n     * @method info\n     * @param ...objs {} The objects to log.\n     */\n    Common.info = function() {\n        if (console && Common.logLevel > 0 && Common.logLevel <= 2) {\n            console.info.apply(console, ['matter-js:'].concat(Array.prototype.slice.call(arguments)));\n        }\n    };\n\n    /**\n     * Shows a `console.warn` message only if the current `Common.logLevel` allows it.\n     * The message will be prefixed with 'matter-js' to make it easily identifiable.\n     * @method warn\n     * @param ...objs {} The objects to log.\n     */\n    Common.warn = function() {\n        if (console && Common.logLevel > 0 && Common.logLevel <= 3) {\n            console.warn.apply(console, ['matter-js:'].concat(Array.prototype.slice.call(arguments)));\n        }\n    };\n\n    /**\n     * Uses `Common.warn` to log the given message one time only.\n     * @method warnOnce\n     * @param ...objs {} The objects to log.\n     */\n    Common.warnOnce = function() {\n        var message = Array.prototype.slice.call(arguments).join(' ');\n\n        if (!Common._warnedOnce[message]) {\n            Common.warn(message);\n            Common._warnedOnce[message] = true;\n        }\n    };\n\n    /**\n     * Shows a deprecated console warning when the function on the given object is called.\n     * The target function will be replaced with a new function that first shows the warning\n     * and then calls the original function.\n     * @method deprecated\n     * @param {object} obj The object or module\n     * @param {string} name The property name of the function on obj\n     * @param {string} warning The one-time message to show if the function is called\n     */\n    Common.deprecated = function(obj, prop, warning) {\n        obj[prop] = Common.chain(function() {\n            Common.warnOnce(' deprecated ', warning);\n        }, obj[prop]);\n    };\n\n    /**\n     * Returns the next unique sequential ID.\n     * @method nextId\n     * @return {Number} Unique sequential ID\n     */\n    Common.nextId = function() {\n        return Common._nextId++;\n    };\n\n    /**\n     * A cross browser compatible indexOf implementation.\n     * @method indexOf\n     * @param {array} haystack\n     * @param {object} needle\n     * @return {number} The position of needle in haystack, otherwise -1.\n     */\n    Common.indexOf = function(haystack, needle) {\n        if (haystack.indexOf)\n            return haystack.indexOf(needle);\n\n        for (var i = 0; i < haystack.length; i++) {\n            if (haystack[i] === needle)\n                return i;\n        }\n\n        return -1;\n    };\n\n    /**\n     * A cross browser compatible array map implementation.\n     * @method map\n     * @param {array} list\n     * @param {function} func\n     * @return {array} Values from list transformed by func.\n     */\n    Common.map = function(list, func) {\n        if (list.map) {\n            return list.map(func);\n        }\n\n        var mapped = [];\n\n        for (var i = 0; i < list.length; i += 1) {\n            mapped.push(func(list[i]));\n        }\n\n        return mapped;\n    };\n\n    /**\n     * Takes a directed graph and returns the partially ordered set of vertices in topological order.\n     * Circular dependencies are allowed.\n     * @method topologicalSort\n     * @param {object} graph\n     * @return {array} Partially ordered set of vertices in topological order.\n     */\n    Common.topologicalSort = function(graph) {\n        // https://github.com/mgechev/javascript-algorithms\n        // Copyright (c) Minko Gechev (MIT license)\n        // Modifications: tidy formatting and naming\n        var result = [],\n            visited = [],\n            temp = [];\n\n        for (var node in graph) {\n            if (!visited[node] && !temp[node]) {\n                Common._topologicalSort(node, visited, temp, graph, result);\n            }\n        }\n\n        return result;\n    };\n\n    Common._topologicalSort = function(node, visited, temp, graph, result) {\n        var neighbors = graph[node] || [];\n        temp[node] = true;\n\n        for (var i = 0; i < neighbors.length; i += 1) {\n            var neighbor = neighbors[i];\n\n            if (temp[neighbor]) {\n                // skip circular dependencies\n                continue;\n            }\n\n            if (!visited[neighbor]) {\n                Common._topologicalSort(neighbor, visited, temp, graph, result);\n            }\n        }\n\n        temp[node] = false;\n        visited[node] = true;\n\n        result.push(node);\n    };\n\n    /**\n     * Takes _n_ functions as arguments and returns a new function that calls them in order.\n     * The arguments applied when calling the new function will also be applied to every function passed.\n     * The value of `this` refers to the last value returned in the chain that was not `undefined`.\n     * Therefore if a passed function does not return a value, the previously returned value is maintained.\n     * After all passed functions have been called the new function returns the last returned value (if any).\n     * If any of the passed functions are a chain, then the chain will be flattened.\n     * @method chain\n     * @param ...funcs {function} The functions to chain.\n     * @return {function} A new function that calls the passed functions in order.\n     */\n    Common.chain = function() {\n        var funcs = [];\n\n        for (var i = 0; i < arguments.length; i += 1) {\n            var func = arguments[i];\n\n            if (func._chained) {\n                // flatten already chained functions\n                funcs.push.apply(funcs, func._chained);\n            } else {\n                funcs.push(func);\n            }\n        }\n\n        var chain = function() {\n            // https://github.com/GoogleChrome/devtools-docs/issues/53#issuecomment-51941358\n            var lastResult,\n                args = new Array(arguments.length);\n\n            for (var i = 0, l = arguments.length; i < l; i++) {\n                args[i] = arguments[i];\n            }\n\n            for (i = 0; i < funcs.length; i += 1) {\n                var result = funcs[i].apply(lastResult, args);\n\n                if (typeof result !== 'undefined') {\n                    lastResult = result;\n                }\n            }\n\n            return lastResult;\n        };\n\n        chain._chained = funcs;\n\n        return chain;\n    };\n\n    /**\n     * Chains a function to excute before the original function on the given `path` relative to `base`.\n     * See also docs for `Common.chain`.\n     * @method chainPathBefore\n     * @param {} base The base object\n     * @param {string} path The path relative to `base`\n     * @param {function} func The function to chain before the original\n     * @return {function} The chained function that replaced the original\n     */\n    Common.chainPathBefore = function(base, path, func) {\n        return Common.set(base, path, Common.chain(\n            func,\n            Common.get(base, path)\n        ));\n    };\n\n    /**\n     * Chains a function to excute after the original function on the given `path` relative to `base`.\n     * See also docs for `Common.chain`.\n     * @method chainPathAfter\n     * @param {} base The base object\n     * @param {string} path The path relative to `base`\n     * @param {function} func The function to chain after the original\n     * @return {function} The chained function that replaced the original\n     */\n    Common.chainPathAfter = function(base, path, func) {\n        return Common.set(base, path, Common.chain(\n            Common.get(base, path),\n            func\n        ));\n    };\n\n    /**\n     * Provide the [poly-decomp](https://github.com/schteppe/poly-decomp.js) library module to enable\n     * concave vertex decomposition support when using `Bodies.fromVertices` e.g. `Common.setDecomp(require('poly-decomp'))`.\n     * @method setDecomp\n     * @param {} decomp The [poly-decomp](https://github.com/schteppe/poly-decomp.js) library module.\n     */\n    Common.setDecomp = function(decomp) {\n        Common._decomp = decomp;\n    };\n\n    /**\n     * Returns the [poly-decomp](https://github.com/schteppe/poly-decomp.js) library module provided through `Common.setDecomp`,\n     * otherwise returns the global `decomp` if set.\n     * @method getDecomp\n     * @return {} The [poly-decomp](https://github.com/schteppe/poly-decomp.js) library module if provided.\n     */\n    Common.getDecomp = function() {\n        // get user provided decomp if set\n        var decomp = Common._decomp;\n\n        try {\n            // otherwise from window global\n            if (!decomp && typeof window !== 'undefined') {\n                decomp = window.decomp;\n            }\n    \n            // otherwise from node global\n            if (!decomp && typeof global !== 'undefined') {\n                decomp = global.decomp;\n            }\n        } catch (e) {\n            // decomp not available\n            decomp = null;\n        }\n\n        return decomp;\n    };\n})();\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\n/**\n* The `Matter.Bounds` module contains methods for creating and manipulating axis-aligned bounding boxes (AABB).\n*\n* @class Bounds\n*/\n\nvar Bounds = {};\n\nmodule.exports = Bounds;\n\n(function() {\n\n    /**\n     * Creates a new axis-aligned bounding box (AABB) for the given vertices.\n     * @method create\n     * @param {vertices} vertices\n     * @return {bounds} A new bounds object\n     */\n    Bounds.create = function(vertices) {\n        var bounds = { \n            min: { x: 0, y: 0 }, \n            max: { x: 0, y: 0 }\n        };\n\n        if (vertices)\n            Bounds.update(bounds, vertices);\n        \n        return bounds;\n    };\n\n    /**\n     * Updates bounds using the given vertices and extends the bounds given a velocity.\n     * @method update\n     * @param {bounds} bounds\n     * @param {vertices} vertices\n     * @param {vector} velocity\n     */\n    Bounds.update = function(bounds, vertices, velocity) {\n        bounds.min.x = Infinity;\n        bounds.max.x = -Infinity;\n        bounds.min.y = Infinity;\n        bounds.max.y = -Infinity;\n\n        for (var i = 0; i < vertices.length; i++) {\n            var vertex = vertices[i];\n            if (vertex.x > bounds.max.x) bounds.max.x = vertex.x;\n            if (vertex.x < bounds.min.x) bounds.min.x = vertex.x;\n            if (vertex.y > bounds.max.y) bounds.max.y = vertex.y;\n            if (vertex.y < bounds.min.y) bounds.min.y = vertex.y;\n        }\n        \n        if (velocity) {\n            if (velocity.x > 0) {\n                bounds.max.x += velocity.x;\n            } else {\n                bounds.min.x += velocity.x;\n            }\n            \n            if (velocity.y > 0) {\n                bounds.max.y += velocity.y;\n            } else {\n                bounds.min.y += velocity.y;\n            }\n        }\n    };\n\n    /**\n     * Returns true if the bounds contains the given point.\n     * @method contains\n     * @param {bounds} bounds\n     * @param {vector} point\n     * @return {boolean} True if the bounds contain the point, otherwise false\n     */\n    Bounds.contains = function(bounds, point) {\n        return point.x >= bounds.min.x && point.x <= bounds.max.x \n               && point.y >= bounds.min.y && point.y <= bounds.max.y;\n    };\n\n    /**\n     * Returns true if the two bounds intersect.\n     * @method overlaps\n     * @param {bounds} boundsA\n     * @param {bounds} boundsB\n     * @return {boolean} True if the bounds overlap, otherwise false\n     */\n    Bounds.overlaps = function(boundsA, boundsB) {\n        return (boundsA.min.x <= boundsB.max.x && boundsA.max.x >= boundsB.min.x\n                && boundsA.max.y >= boundsB.min.y && boundsA.min.y <= boundsB.max.y);\n    };\n\n    /**\n     * Translates the bounds by the given vector.\n     * @method translate\n     * @param {bounds} bounds\n     * @param {vector} vector\n     */\n    Bounds.translate = function(bounds, vector) {\n        bounds.min.x += vector.x;\n        bounds.max.x += vector.x;\n        bounds.min.y += vector.y;\n        bounds.max.y += vector.y;\n    };\n\n    /**\n     * Shifts the bounds to the given position.\n     * @method shift\n     * @param {bounds} bounds\n     * @param {vector} position\n     */\n    Bounds.shift = function(bounds, position) {\n        var deltaX = bounds.max.x - bounds.min.x,\n            deltaY = bounds.max.y - bounds.min.y;\n            \n        bounds.min.x = position.x;\n        bounds.max.x = position.x + deltaX;\n        bounds.min.y = position.y;\n        bounds.max.y = position.y + deltaY;\n    };\n    \n})();\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\n/**\n* The `Matter.Vector` module contains methods for creating and manipulating vectors.\n* Vectors are the basis of all the geometry related operations in the engine.\n* A `Matter.Vector` object is of the form `{ x: 0, y: 0 }`.\n*\n* See the included usage [examples](https://github.com/liabru/matter-js/tree/master/examples).\n*\n* @class Vector\n*/\n\n// TODO: consider params for reusing vector objects\n\nvar Vector = {};\n\nmodule.exports = Vector;\n\n(function() {\n\n    /**\n     * Creates a new vector.\n     * @method create\n     * @param {number} x\n     * @param {number} y\n     * @return {vector} A new vector\n     */\n    Vector.create = function(x, y) {\n        return { x: x || 0, y: y || 0 };\n    };\n\n    /**\n     * Returns a new vector with `x` and `y` copied from the given `vector`.\n     * @method clone\n     * @param {vector} vector\n     * @return {vector} A new cloned vector\n     */\n    Vector.clone = function(vector) {\n        return { x: vector.x, y: vector.y };\n    };\n\n    /**\n     * Returns the magnitude (length) of a vector.\n     * @method magnitude\n     * @param {vector} vector\n     * @return {number} The magnitude of the vector\n     */\n    Vector.magnitude = function(vector) {\n        return Math.sqrt((vector.x * vector.x) + (vector.y * vector.y));\n    };\n\n    /**\n     * Returns the magnitude (length) of a vector (therefore saving a `sqrt` operation).\n     * @method magnitudeSquared\n     * @param {vector} vector\n     * @return {number} The squared magnitude of the vector\n     */\n    Vector.magnitudeSquared = function(vector) {\n        return (vector.x * vector.x) + (vector.y * vector.y);\n    };\n\n    /**\n     * Rotates the vector about (0, 0) by specified angle.\n     * @method rotate\n     * @param {vector} vector\n     * @param {number} angle\n     * @param {vector} [output]\n     * @return {vector} The vector rotated about (0, 0)\n     */\n    Vector.rotate = function(vector, angle, output) {\n        var cos = Math.cos(angle), sin = Math.sin(angle);\n        if (!output) output = {};\n        var x = vector.x * cos - vector.y * sin;\n        output.y = vector.x * sin + vector.y * cos;\n        output.x = x;\n        return output;\n    };\n\n    /**\n     * Rotates the vector about a specified point by specified angle.\n     * @method rotateAbout\n     * @param {vector} vector\n     * @param {number} angle\n     * @param {vector} point\n     * @param {vector} [output]\n     * @return {vector} A new vector rotated about the point\n     */\n    Vector.rotateAbout = function(vector, angle, point, output) {\n        var cos = Math.cos(angle), sin = Math.sin(angle);\n        if (!output) output = {};\n        var x = point.x + ((vector.x - point.x) * cos - (vector.y - point.y) * sin);\n        output.y = point.y + ((vector.x - point.x) * sin + (vector.y - point.y) * cos);\n        output.x = x;\n        return output;\n    };\n\n    /**\n     * Normalises a vector (such that its magnitude is `1`).\n     * @method normalise\n     * @param {vector} vector\n     * @return {vector} A new vector normalised\n     */\n    Vector.normalise = function(vector) {\n        var magnitude = Vector.magnitude(vector);\n        if (magnitude === 0)\n            return { x: 0, y: 0 };\n        return { x: vector.x / magnitude, y: vector.y / magnitude };\n    };\n\n    /**\n     * Returns the dot-product of two vectors.\n     * @method dot\n     * @param {vector} vectorA\n     * @param {vector} vectorB\n     * @return {number} The dot product of the two vectors\n     */\n    Vector.dot = function(vectorA, vectorB) {\n        return (vectorA.x * vectorB.x) + (vectorA.y * vectorB.y);\n    };\n\n    /**\n     * Returns the cross-product of two vectors.\n     * @method cross\n     * @param {vector} vectorA\n     * @param {vector} vectorB\n     * @return {number} The cross product of the two vectors\n     */\n    Vector.cross = function(vectorA, vectorB) {\n        return (vectorA.x * vectorB.y) - (vectorA.y * vectorB.x);\n    };\n\n    /**\n     * Returns the cross-product of three vectors.\n     * @method cross3\n     * @param {vector} vectorA\n     * @param {vector} vectorB\n     * @param {vector} vectorC\n     * @return {number} The cross product of the three vectors\n     */\n    Vector.cross3 = function(vectorA, vectorB, vectorC) {\n        return (vectorB.x - vectorA.x) * (vectorC.y - vectorA.y) - (vectorB.y - vectorA.y) * (vectorC.x - vectorA.x);\n    };\n\n    /**\n     * Adds the two vectors.\n     * @method add\n     * @param {vector} vectorA\n     * @param {vector} vectorB\n     * @param {vector} [output]\n     * @return {vector} A new vector of vectorA and vectorB added\n     */\n    Vector.add = function(vectorA, vectorB, output) {\n        if (!output) output = {};\n        output.x = vectorA.x + vectorB.x;\n        output.y = vectorA.y + vectorB.y;\n        return output;\n    };\n\n    /**\n     * Subtracts the two vectors.\n     * @method sub\n     * @param {vector} vectorA\n     * @param {vector} vectorB\n     * @param {vector} [output]\n     * @return {vector} A new vector of vectorA and vectorB subtracted\n     */\n    Vector.sub = function(vectorA, vectorB, output) {\n        if (!output) output = {};\n        output.x = vectorA.x - vectorB.x;\n        output.y = vectorA.y - vectorB.y;\n        return output;\n    };\n\n    /**\n     * Multiplies a vector and a scalar.\n     * @method mult\n     * @param {vector} vector\n     * @param {number} scalar\n     * @return {vector} A new vector multiplied by scalar\n     */\n    Vector.mult = function(vector, scalar) {\n        return { x: vector.x * scalar, y: vector.y * scalar };\n    };\n\n    /**\n     * Divides a vector and a scalar.\n     * @method div\n     * @param {vector} vector\n     * @param {number} scalar\n     * @return {vector} A new vector divided by scalar\n     */\n    Vector.div = function(vector, scalar) {\n        return { x: vector.x / scalar, y: vector.y / scalar };\n    };\n\n    /**\n     * Returns the perpendicular vector. Set `negate` to true for the perpendicular in the opposite direction.\n     * @method perp\n     * @param {vector} vector\n     * @param {bool} [negate=false]\n     * @return {vector} The perpendicular vector\n     */\n    Vector.perp = function(vector, negate) {\n        negate = negate === true ? -1 : 1;\n        return { x: negate * -vector.y, y: negate * vector.x };\n    };\n\n    /**\n     * Negates both components of a vector such that it points in the opposite direction.\n     * @method neg\n     * @param {vector} vector\n     * @return {vector} The negated vector\n     */\n    Vector.neg = function(vector) {\n        return { x: -vector.x, y: -vector.y };\n    };\n\n    /**\n     * Returns the angle between the vector `vectorB - vectorA` and the x-axis in radians.\n     * @method angle\n     * @param {vector} vectorA\n     * @param {vector} vectorB\n     * @return {number} The angle in radians\n     */\n    Vector.angle = function(vectorA, vectorB) {\n        return Math.atan2(vectorB.y - vectorA.y, vectorB.x - vectorA.x);\n    };\n\n    /**\n     * Temporary vector pool (not thread-safe).\n     * @property _temp\n     * @type {vector[]}\n     * @private\n     */\n    Vector._temp = [\n        Vector.create(), Vector.create(), \n        Vector.create(), Vector.create(), \n        Vector.create(), Vector.create()\n    ];\n\n})();\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Vertices` module contains methods for creating and manipulating sets of vertices.\n* A set of vertices is an array of `Matter.Vector` with additional indexing properties inserted by `Vertices.create`.\n* A `Matter.Body` maintains a set of vertices to represent the shape of the object (its convex hull).\n*\n* See the included usage [examples](https://github.com/liabru/matter-js/tree/master/examples).\n*\n* @class Vertices\n*/\n\nvar Vertices = {};\n\nmodule.exports = Vertices;\n\nvar Vector = __webpack_require__(2);\nvar Common = __webpack_require__(0);\n\n(function() {\n\n    /**\n     * Creates a new set of `Matter.Body` compatible vertices.\n     * The `points` argument accepts an array of `Matter.Vector` points orientated around the origin `(0, 0)`, for example:\n     *\n     *     [{ x: 0, y: 0 }, { x: 25, y: 50 }, { x: 50, y: 0 }]\n     *\n     * The `Vertices.create` method returns a new array of vertices, which are similar to Matter.Vector objects,\n     * but with some additional references required for efficient collision detection routines.\n     *\n     * Vertices must be specified in clockwise order.\n     *\n     * Note that the `body` argument is not optional, a `Matter.Body` reference must be provided.\n     *\n     * @method create\n     * @param {vector[]} points\n     * @param {body} body\n     */\n    Vertices.create = function(points, body) {\n        var vertices = [];\n\n        for (var i = 0; i < points.length; i++) {\n            var point = points[i],\n                vertex = {\n                    x: point.x,\n                    y: point.y,\n                    index: i,\n                    body: body,\n                    isInternal: false\n                };\n\n            vertices.push(vertex);\n        }\n\n        return vertices;\n    };\n\n    /**\n     * Parses a string containing ordered x y pairs separated by spaces (and optionally commas), \n     * into a `Matter.Vertices` object for the given `Matter.Body`.\n     * For parsing SVG paths, see `Svg.pathToVertices`.\n     * @method fromPath\n     * @param {string} path\n     * @param {body} body\n     * @return {vertices} vertices\n     */\n    Vertices.fromPath = function(path, body) {\n        var pathPattern = /L?\\s*([-\\d.e]+)[\\s,]*([-\\d.e]+)*/ig,\n            points = [];\n\n        path.replace(pathPattern, function(match, x, y) {\n            points.push({ x: parseFloat(x), y: parseFloat(y) });\n        });\n\n        return Vertices.create(points, body);\n    };\n\n    /**\n     * Returns the centre (centroid) of the set of vertices.\n     * @method centre\n     * @param {vertices} vertices\n     * @return {vector} The centre point\n     */\n    Vertices.centre = function(vertices) {\n        var area = Vertices.area(vertices, true),\n            centre = { x: 0, y: 0 },\n            cross,\n            temp,\n            j;\n\n        for (var i = 0; i < vertices.length; i++) {\n            j = (i + 1) % vertices.length;\n            cross = Vector.cross(vertices[i], vertices[j]);\n            temp = Vector.mult(Vector.add(vertices[i], vertices[j]), cross);\n            centre = Vector.add(centre, temp);\n        }\n\n        return Vector.div(centre, 6 * area);\n    };\n\n    /**\n     * Returns the average (mean) of the set of vertices.\n     * @method mean\n     * @param {vertices} vertices\n     * @return {vector} The average point\n     */\n    Vertices.mean = function(vertices) {\n        var average = { x: 0, y: 0 };\n\n        for (var i = 0; i < vertices.length; i++) {\n            average.x += vertices[i].x;\n            average.y += vertices[i].y;\n        }\n\n        return Vector.div(average, vertices.length);\n    };\n\n    /**\n     * Returns the area of the set of vertices.\n     * @method area\n     * @param {vertices} vertices\n     * @param {bool} signed\n     * @return {number} The area\n     */\n    Vertices.area = function(vertices, signed) {\n        var area = 0,\n            j = vertices.length - 1;\n\n        for (var i = 0; i < vertices.length; i++) {\n            area += (vertices[j].x - vertices[i].x) * (vertices[j].y + vertices[i].y);\n            j = i;\n        }\n\n        if (signed)\n            return area / 2;\n\n        return Math.abs(area) / 2;\n    };\n\n    /**\n     * Returns the moment of inertia (second moment of area) of the set of vertices given the total mass.\n     * @method inertia\n     * @param {vertices} vertices\n     * @param {number} mass\n     * @return {number} The polygon's moment of inertia\n     */\n    Vertices.inertia = function(vertices, mass) {\n        var numerator = 0,\n            denominator = 0,\n            v = vertices,\n            cross,\n            j;\n\n        // find the polygon's moment of inertia, using second moment of area\n        // from equations at http://www.physicsforums.com/showthread.php?t=25293\n        for (var n = 0; n < v.length; n++) {\n            j = (n + 1) % v.length;\n            cross = Math.abs(Vector.cross(v[j], v[n]));\n            numerator += cross * (Vector.dot(v[j], v[j]) + Vector.dot(v[j], v[n]) + Vector.dot(v[n], v[n]));\n            denominator += cross;\n        }\n\n        return (mass / 6) * (numerator / denominator);\n    };\n\n    /**\n     * Translates the set of vertices in-place.\n     * @method translate\n     * @param {vertices} vertices\n     * @param {vector} vector\n     * @param {number} scalar\n     */\n    Vertices.translate = function(vertices, vector, scalar) {\n        scalar = typeof scalar !== 'undefined' ? scalar : 1;\n\n        var verticesLength = vertices.length,\n            translateX = vector.x * scalar,\n            translateY = vector.y * scalar,\n            i;\n        \n        for (i = 0; i < verticesLength; i++) {\n            vertices[i].x += translateX;\n            vertices[i].y += translateY;\n        }\n\n        return vertices;\n    };\n\n    /**\n     * Rotates the set of vertices in-place.\n     * @method rotate\n     * @param {vertices} vertices\n     * @param {number} angle\n     * @param {vector} point\n     */\n    Vertices.rotate = function(vertices, angle, point) {\n        if (angle === 0)\n            return;\n\n        var cos = Math.cos(angle),\n            sin = Math.sin(angle),\n            pointX = point.x,\n            pointY = point.y,\n            verticesLength = vertices.length,\n            vertex,\n            dx,\n            dy,\n            i;\n\n        for (i = 0; i < verticesLength; i++) {\n            vertex = vertices[i];\n            dx = vertex.x - pointX;\n            dy = vertex.y - pointY;\n            vertex.x = pointX + (dx * cos - dy * sin);\n            vertex.y = pointY + (dx * sin + dy * cos);\n        }\n\n        return vertices;\n    };\n\n    /**\n     * Returns `true` if the `point` is inside the set of `vertices`.\n     * @method contains\n     * @param {vertices} vertices\n     * @param {vector} point\n     * @return {boolean} True if the vertices contains point, otherwise false\n     */\n    Vertices.contains = function(vertices, point) {\n        var pointX = point.x,\n            pointY = point.y,\n            verticesLength = vertices.length,\n            vertex = vertices[verticesLength - 1],\n            nextVertex;\n\n        for (var i = 0; i < verticesLength; i++) {\n            nextVertex = vertices[i];\n\n            if ((pointX - vertex.x) * (nextVertex.y - vertex.y) \n                + (pointY - vertex.y) * (vertex.x - nextVertex.x) > 0) {\n                return false;\n            }\n\n            vertex = nextVertex;\n        }\n\n        return true;\n    };\n\n    /**\n     * Scales the vertices from a point (default is centre) in-place.\n     * @method scale\n     * @param {vertices} vertices\n     * @param {number} scaleX\n     * @param {number} scaleY\n     * @param {vector} point\n     */\n    Vertices.scale = function(vertices, scaleX, scaleY, point) {\n        if (scaleX === 1 && scaleY === 1)\n            return vertices;\n\n        point = point || Vertices.centre(vertices);\n\n        var vertex,\n            delta;\n\n        for (var i = 0; i < vertices.length; i++) {\n            vertex = vertices[i];\n            delta = Vector.sub(vertex, point);\n            vertices[i].x = point.x + delta.x * scaleX;\n            vertices[i].y = point.y + delta.y * scaleY;\n        }\n\n        return vertices;\n    };\n\n    /**\n     * Chamfers a set of vertices by giving them rounded corners, returns a new set of vertices.\n     * The radius parameter is a single number or an array to specify the radius for each vertex.\n     * @method chamfer\n     * @param {vertices} vertices\n     * @param {number[]} radius\n     * @param {number} quality\n     * @param {number} qualityMin\n     * @param {number} qualityMax\n     */\n    Vertices.chamfer = function(vertices, radius, quality, qualityMin, qualityMax) {\n        if (typeof radius === 'number') {\n            radius = [radius];\n        } else {\n            radius = radius || [8];\n        }\n\n        // quality defaults to -1, which is auto\n        quality = (typeof quality !== 'undefined') ? quality : -1;\n        qualityMin = qualityMin || 2;\n        qualityMax = qualityMax || 14;\n\n        var newVertices = [];\n\n        for (var i = 0; i < vertices.length; i++) {\n            var prevVertex = vertices[i - 1 >= 0 ? i - 1 : vertices.length - 1],\n                vertex = vertices[i],\n                nextVertex = vertices[(i + 1) % vertices.length],\n                currentRadius = radius[i < radius.length ? i : radius.length - 1];\n\n            if (currentRadius === 0) {\n                newVertices.push(vertex);\n                continue;\n            }\n\n            var prevNormal = Vector.normalise({ \n                x: vertex.y - prevVertex.y, \n                y: prevVertex.x - vertex.x\n            });\n\n            var nextNormal = Vector.normalise({ \n                x: nextVertex.y - vertex.y, \n                y: vertex.x - nextVertex.x\n            });\n\n            var diagonalRadius = Math.sqrt(2 * Math.pow(currentRadius, 2)),\n                radiusVector = Vector.mult(Common.clone(prevNormal), currentRadius),\n                midNormal = Vector.normalise(Vector.mult(Vector.add(prevNormal, nextNormal), 0.5)),\n                scaledVertex = Vector.sub(vertex, Vector.mult(midNormal, diagonalRadius));\n\n            var precision = quality;\n\n            if (quality === -1) {\n                // automatically decide precision\n                precision = Math.pow(currentRadius, 0.32) * 1.75;\n            }\n\n            precision = Common.clamp(precision, qualityMin, qualityMax);\n\n            // use an even value for precision, more likely to reduce axes by using symmetry\n            if (precision % 2 === 1)\n                precision += 1;\n\n            var alpha = Math.acos(Vector.dot(prevNormal, nextNormal)),\n                theta = alpha / precision;\n\n            for (var j = 0; j < precision; j++) {\n                newVertices.push(Vector.add(Vector.rotate(radiusVector, theta * j), scaledVertex));\n            }\n        }\n\n        return newVertices;\n    };\n\n    /**\n     * Sorts the input vertices into clockwise order in place.\n     * @method clockwiseSort\n     * @param {vertices} vertices\n     * @return {vertices} vertices\n     */\n    Vertices.clockwiseSort = function(vertices) {\n        var centre = Vertices.mean(vertices);\n\n        vertices.sort(function(vertexA, vertexB) {\n            return Vector.angle(centre, vertexA) - Vector.angle(centre, vertexB);\n        });\n\n        return vertices;\n    };\n\n    /**\n     * Returns true if the vertices form a convex shape (vertices must be in clockwise order).\n     * @method isConvex\n     * @param {vertices} vertices\n     * @return {bool} `true` if the `vertices` are convex, `false` if not (or `null` if not computable).\n     */\n    Vertices.isConvex = function(vertices) {\n        // http://paulbourke.net/geometry/polygonmesh/\n        // Copyright (c) Paul Bourke (use permitted)\n\n        var flag = 0,\n            n = vertices.length,\n            i,\n            j,\n            k,\n            z;\n\n        if (n < 3)\n            return null;\n\n        for (i = 0; i < n; i++) {\n            j = (i + 1) % n;\n            k = (i + 2) % n;\n            z = (vertices[j].x - vertices[i].x) * (vertices[k].y - vertices[j].y);\n            z -= (vertices[j].y - vertices[i].y) * (vertices[k].x - vertices[j].x);\n\n            if (z < 0) {\n                flag |= 1;\n            } else if (z > 0) {\n                flag |= 2;\n            }\n\n            if (flag === 3) {\n                return false;\n            }\n        }\n\n        if (flag !== 0){\n            return true;\n        } else {\n            return null;\n        }\n    };\n\n    /**\n     * Returns the convex hull of the input vertices as a new array of points.\n     * @method hull\n     * @param {vertices} vertices\n     * @return [vertex] vertices\n     */\n    Vertices.hull = function(vertices) {\n        // http://geomalgorithms.com/a10-_hull-1.html\n\n        var upper = [],\n            lower = [], \n            vertex,\n            i;\n\n        // sort vertices on x-axis (y-axis for ties)\n        vertices = vertices.slice(0);\n        vertices.sort(function(vertexA, vertexB) {\n            var dx = vertexA.x - vertexB.x;\n            return dx !== 0 ? dx : vertexA.y - vertexB.y;\n        });\n\n        // build lower hull\n        for (i = 0; i < vertices.length; i += 1) {\n            vertex = vertices[i];\n\n            while (lower.length >= 2 \n                   && Vector.cross3(lower[lower.length - 2], lower[lower.length - 1], vertex) <= 0) {\n                lower.pop();\n            }\n\n            lower.push(vertex);\n        }\n\n        // build upper hull\n        for (i = vertices.length - 1; i >= 0; i -= 1) {\n            vertex = vertices[i];\n\n            while (upper.length >= 2 \n                   && Vector.cross3(upper[upper.length - 2], upper[upper.length - 1], vertex) <= 0) {\n                upper.pop();\n            }\n\n            upper.push(vertex);\n        }\n\n        // concatenation of the lower and upper hulls gives the convex hull\n        // omit last points because they are repeated at the beginning of the other list\n        upper.pop();\n        lower.pop();\n\n        return upper.concat(lower);\n    };\n\n})();\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Events` module contains methods to fire and listen to events on other objects.\n*\n* See the included usage [examples](https://github.com/liabru/matter-js/tree/master/examples).\n*\n* @class Events\n*/\n\nvar Events = {};\n\nmodule.exports = Events;\n\nvar Common = __webpack_require__(0);\n\n(function() {\n\n    /**\n     * Subscribes a callback function to the given object's `eventName`.\n     * @method on\n     * @param {} object\n     * @param {string} eventNames\n     * @param {function} callback\n     */\n    Events.on = function(object, eventNames, callback) {\n        var names = eventNames.split(' '),\n            name;\n\n        for (var i = 0; i < names.length; i++) {\n            name = names[i];\n            object.events = object.events || {};\n            object.events[name] = object.events[name] || [];\n            object.events[name].push(callback);\n        }\n\n        return callback;\n    };\n\n    /**\n     * Removes the given event callback. If no callback, clears all callbacks in `eventNames`. If no `eventNames`, clears all events.\n     * @method off\n     * @param {} object\n     * @param {string} eventNames\n     * @param {function} callback\n     */\n    Events.off = function(object, eventNames, callback) {\n        if (!eventNames) {\n            object.events = {};\n            return;\n        }\n\n        // handle Events.off(object, callback)\n        if (typeof eventNames === 'function') {\n            callback = eventNames;\n            eventNames = Common.keys(object.events).join(' ');\n        }\n\n        var names = eventNames.split(' ');\n\n        for (var i = 0; i < names.length; i++) {\n            var callbacks = object.events[names[i]],\n                newCallbacks = [];\n\n            if (callback && callbacks) {\n                for (var j = 0; j < callbacks.length; j++) {\n                    if (callbacks[j] !== callback)\n                        newCallbacks.push(callbacks[j]);\n                }\n            }\n\n            object.events[names[i]] = newCallbacks;\n        }\n    };\n\n    /**\n     * Fires all the callbacks subscribed to the given object's `eventName`, in the order they subscribed, if any.\n     * @method trigger\n     * @param {} object\n     * @param {string} eventNames\n     * @param {} event\n     */\n    Events.trigger = function(object, eventNames, event) {\n        var names,\n            name,\n            callbacks,\n            eventClone;\n\n        var events = object.events;\n        \n        if (events && Common.keys(events).length > 0) {\n            if (!event)\n                event = {};\n\n            names = eventNames.split(' ');\n\n            for (var i = 0; i < names.length; i++) {\n                name = names[i];\n                callbacks = events[name];\n\n                if (callbacks) {\n                    eventClone = Common.clone(event, false);\n                    eventClone.name = name;\n                    eventClone.source = object;\n\n                    for (var j = 0; j < callbacks.length; j++) {\n                        callbacks[j].apply(object, [eventClone]);\n                    }\n                }\n            }\n        }\n    };\n\n})();\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* A composite is a collection of `Matter.Body`, `Matter.Constraint` and other `Matter.Composite` objects.\n*\n* They are a container that can represent complex objects made of multiple parts, even if they are not physically connected.\n* A composite could contain anything from a single body all the way up to a whole world.\n* \n* When making any changes to composites, use the included functions rather than changing their properties directly.\n*\n* See the included usage [examples](https://github.com/liabru/matter-js/tree/master/examples).\n*\n* @class Composite\n*/\n\nvar Composite = {};\n\nmodule.exports = Composite;\n\nvar Events = __webpack_require__(4);\nvar Common = __webpack_require__(0);\nvar Bounds = __webpack_require__(1);\nvar Body = __webpack_require__(6);\n\n(function() {\n\n    /**\n     * Creates a new composite. The options parameter is an object that specifies any properties you wish to override the defaults.\n     * See the properites section below for detailed information on what you can pass via the `options` object.\n     * @method create\n     * @param {} [options]\n     * @return {composite} A new composite\n     */\n    Composite.create = function(options) {\n        return Common.extend({ \n            id: Common.nextId(),\n            type: 'composite',\n            parent: null,\n            isModified: false,\n            bodies: [], \n            constraints: [], \n            composites: [],\n            label: 'Composite',\n            plugin: {},\n            cache: {\n                allBodies: null,\n                allConstraints: null,\n                allComposites: null\n            }\n        }, options);\n    };\n\n    /**\n     * Sets the composite's `isModified` flag. \n     * If `updateParents` is true, all parents will be set (default: false).\n     * If `updateChildren` is true, all children will be set (default: false).\n     * @private\n     * @method setModified\n     * @param {composite} composite\n     * @param {boolean} isModified\n     * @param {boolean} [updateParents=false]\n     * @param {boolean} [updateChildren=false]\n     */\n    Composite.setModified = function(composite, isModified, updateParents, updateChildren) {\n        composite.isModified = isModified;\n\n        if (isModified && composite.cache) {\n            composite.cache.allBodies = null;\n            composite.cache.allConstraints = null;\n            composite.cache.allComposites = null;\n        }\n\n        if (updateParents && composite.parent) {\n            Composite.setModified(composite.parent, isModified, updateParents, updateChildren);\n        }\n\n        if (updateChildren) {\n            for (var i = 0; i < composite.composites.length; i++) {\n                var childComposite = composite.composites[i];\n                Composite.setModified(childComposite, isModified, updateParents, updateChildren);\n            }\n        }\n    };\n\n    /**\n     * Generic single or multi-add function. Adds a single or an array of body(s), constraint(s) or composite(s) to the given composite.\n     * Triggers `beforeAdd` and `afterAdd` events on the `composite`.\n     * @method add\n     * @param {composite} composite\n     * @param {object|array} object A single or an array of body(s), constraint(s) or composite(s)\n     * @return {composite} The original composite with the objects added\n     */\n    Composite.add = function(composite, object) {\n        var objects = [].concat(object);\n\n        Events.trigger(composite, 'beforeAdd', { object: object });\n\n        for (var i = 0; i < objects.length; i++) {\n            var obj = objects[i];\n\n            switch (obj.type) {\n\n            case 'body':\n                // skip adding compound parts\n                if (obj.parent !== obj) {\n                    Common.warn('Composite.add: skipped adding a compound body part (you must add its parent instead)');\n                    break;\n                }\n\n                Composite.addBody(composite, obj);\n                break;\n            case 'constraint':\n                Composite.addConstraint(composite, obj);\n                break;\n            case 'composite':\n                Composite.addComposite(composite, obj);\n                break;\n            case 'mouseConstraint':\n                Composite.addConstraint(composite, obj.constraint);\n                break;\n\n            }\n        }\n\n        Events.trigger(composite, 'afterAdd', { object: object });\n\n        return composite;\n    };\n\n    /**\n     * Generic remove function. Removes one or many body(s), constraint(s) or a composite(s) to the given composite.\n     * Optionally searching its children recursively.\n     * Triggers `beforeRemove` and `afterRemove` events on the `composite`.\n     * @method remove\n     * @param {composite} composite\n     * @param {object|array} object\n     * @param {boolean} [deep=false]\n     * @return {composite} The original composite with the objects removed\n     */\n    Composite.remove = function(composite, object, deep) {\n        var objects = [].concat(object);\n\n        Events.trigger(composite, 'beforeRemove', { object: object });\n\n        for (var i = 0; i < objects.length; i++) {\n            var obj = objects[i];\n\n            switch (obj.type) {\n\n            case 'body':\n                Composite.removeBody(composite, obj, deep);\n                break;\n            case 'constraint':\n                Composite.removeConstraint(composite, obj, deep);\n                break;\n            case 'composite':\n                Composite.removeComposite(composite, obj, deep);\n                break;\n            case 'mouseConstraint':\n                Composite.removeConstraint(composite, obj.constraint);\n                break;\n\n            }\n        }\n\n        Events.trigger(composite, 'afterRemove', { object: object });\n\n        return composite;\n    };\n\n    /**\n     * Adds a composite to the given composite.\n     * @private\n     * @method addComposite\n     * @param {composite} compositeA\n     * @param {composite} compositeB\n     * @return {composite} The original compositeA with the objects from compositeB added\n     */\n    Composite.addComposite = function(compositeA, compositeB) {\n        compositeA.composites.push(compositeB);\n        compositeB.parent = compositeA;\n        Composite.setModified(compositeA, true, true, false);\n        return compositeA;\n    };\n\n    /**\n     * Removes a composite from the given composite, and optionally searching its children recursively.\n     * @private\n     * @method removeComposite\n     * @param {composite} compositeA\n     * @param {composite} compositeB\n     * @param {boolean} [deep=false]\n     * @return {composite} The original compositeA with the composite removed\n     */\n    Composite.removeComposite = function(compositeA, compositeB, deep) {\n        var position = Common.indexOf(compositeA.composites, compositeB);\n        if (position !== -1) {\n            Composite.removeCompositeAt(compositeA, position);\n        }\n\n        if (deep) {\n            for (var i = 0; i < compositeA.composites.length; i++){\n                Composite.removeComposite(compositeA.composites[i], compositeB, true);\n            }\n        }\n\n        return compositeA;\n    };\n\n    /**\n     * Removes a composite from the given composite.\n     * @private\n     * @method removeCompositeAt\n     * @param {composite} composite\n     * @param {number} position\n     * @return {composite} The original composite with the composite removed\n     */\n    Composite.removeCompositeAt = function(composite, position) {\n        composite.composites.splice(position, 1);\n        Composite.setModified(composite, true, true, false);\n        return composite;\n    };\n\n    /**\n     * Adds a body to the given composite.\n     * @private\n     * @method addBody\n     * @param {composite} composite\n     * @param {body} body\n     * @return {composite} The original composite with the body added\n     */\n    Composite.addBody = function(composite, body) {\n        composite.bodies.push(body);\n        Composite.setModified(composite, true, true, false);\n        return composite;\n    };\n\n    /**\n     * Removes a body from the given composite, and optionally searching its children recursively.\n     * @private\n     * @method removeBody\n     * @param {composite} composite\n     * @param {body} body\n     * @param {boolean} [deep=false]\n     * @return {composite} The original composite with the body removed\n     */\n    Composite.removeBody = function(composite, body, deep) {\n        var position = Common.indexOf(composite.bodies, body);\n        if (position !== -1) {\n            Composite.removeBodyAt(composite, position);\n        }\n\n        if (deep) {\n            for (var i = 0; i < composite.composites.length; i++){\n                Composite.removeBody(composite.composites[i], body, true);\n            }\n        }\n\n        return composite;\n    };\n\n    /**\n     * Removes a body from the given composite.\n     * @private\n     * @method removeBodyAt\n     * @param {composite} composite\n     * @param {number} position\n     * @return {composite} The original composite with the body removed\n     */\n    Composite.removeBodyAt = function(composite, position) {\n        composite.bodies.splice(position, 1);\n        Composite.setModified(composite, true, true, false);\n        return composite;\n    };\n\n    /**\n     * Adds a constraint to the given composite.\n     * @private\n     * @method addConstraint\n     * @param {composite} composite\n     * @param {constraint} constraint\n     * @return {composite} The original composite with the constraint added\n     */\n    Composite.addConstraint = function(composite, constraint) {\n        composite.constraints.push(constraint);\n        Composite.setModified(composite, true, true, false);\n        return composite;\n    };\n\n    /**\n     * Removes a constraint from the given composite, and optionally searching its children recursively.\n     * @private\n     * @method removeConstraint\n     * @param {composite} composite\n     * @param {constraint} constraint\n     * @param {boolean} [deep=false]\n     * @return {composite} The original composite with the constraint removed\n     */\n    Composite.removeConstraint = function(composite, constraint, deep) {\n        var position = Common.indexOf(composite.constraints, constraint);\n        if (position !== -1) {\n            Composite.removeConstraintAt(composite, position);\n        }\n\n        if (deep) {\n            for (var i = 0; i < composite.composites.length; i++){\n                Composite.removeConstraint(composite.composites[i], constraint, true);\n            }\n        }\n\n        return composite;\n    };\n\n    /**\n     * Removes a body from the given composite.\n     * @private\n     * @method removeConstraintAt\n     * @param {composite} composite\n     * @param {number} position\n     * @return {composite} The original composite with the constraint removed\n     */\n    Composite.removeConstraintAt = function(composite, position) {\n        composite.constraints.splice(position, 1);\n        Composite.setModified(composite, true, true, false);\n        return composite;\n    };\n\n    /**\n     * Removes all bodies, constraints and composites from the given composite.\n     * Optionally clearing its children recursively.\n     * @method clear\n     * @param {composite} composite\n     * @param {boolean} keepStatic\n     * @param {boolean} [deep=false]\n     */\n    Composite.clear = function(composite, keepStatic, deep) {\n        if (deep) {\n            for (var i = 0; i < composite.composites.length; i++){\n                Composite.clear(composite.composites[i], keepStatic, true);\n            }\n        }\n        \n        if (keepStatic) {\n            composite.bodies = composite.bodies.filter(function(body) { return body.isStatic; });\n        } else {\n            composite.bodies.length = 0;\n        }\n\n        composite.constraints.length = 0;\n        composite.composites.length = 0;\n\n        Composite.setModified(composite, true, true, false);\n\n        return composite;\n    };\n\n    /**\n     * Returns all bodies in the given composite, including all bodies in its children, recursively.\n     * @method allBodies\n     * @param {composite} composite\n     * @return {body[]} All the bodies\n     */\n    Composite.allBodies = function(composite) {\n        if (composite.cache && composite.cache.allBodies) {\n            return composite.cache.allBodies;\n        }\n\n        var bodies = [].concat(composite.bodies);\n\n        for (var i = 0; i < composite.composites.length; i++)\n            bodies = bodies.concat(Composite.allBodies(composite.composites[i]));\n\n        if (composite.cache) {\n            composite.cache.allBodies = bodies;\n        }\n\n        return bodies;\n    };\n\n    /**\n     * Returns all constraints in the given composite, including all constraints in its children, recursively.\n     * @method allConstraints\n     * @param {composite} composite\n     * @return {constraint[]} All the constraints\n     */\n    Composite.allConstraints = function(composite) {\n        if (composite.cache && composite.cache.allConstraints) {\n            return composite.cache.allConstraints;\n        }\n\n        var constraints = [].concat(composite.constraints);\n\n        for (var i = 0; i < composite.composites.length; i++)\n            constraints = constraints.concat(Composite.allConstraints(composite.composites[i]));\n\n        if (composite.cache) {\n            composite.cache.allConstraints = constraints;\n        }\n\n        return constraints;\n    };\n\n    /**\n     * Returns all composites in the given composite, including all composites in its children, recursively.\n     * @method allComposites\n     * @param {composite} composite\n     * @return {composite[]} All the composites\n     */\n    Composite.allComposites = function(composite) {\n        if (composite.cache && composite.cache.allComposites) {\n            return composite.cache.allComposites;\n        }\n\n        var composites = [].concat(composite.composites);\n\n        for (var i = 0; i < composite.composites.length; i++)\n            composites = composites.concat(Composite.allComposites(composite.composites[i]));\n\n        if (composite.cache) {\n            composite.cache.allComposites = composites;\n        }\n\n        return composites;\n    };\n\n    /**\n     * Searches the composite recursively for an object matching the type and id supplied, null if not found.\n     * @method get\n     * @param {composite} composite\n     * @param {number} id\n     * @param {string} type\n     * @return {object} The requested object, if found\n     */\n    Composite.get = function(composite, id, type) {\n        var objects,\n            object;\n\n        switch (type) {\n        case 'body':\n            objects = Composite.allBodies(composite);\n            break;\n        case 'constraint':\n            objects = Composite.allConstraints(composite);\n            break;\n        case 'composite':\n            objects = Composite.allComposites(composite).concat(composite);\n            break;\n        }\n\n        if (!objects)\n            return null;\n\n        object = objects.filter(function(object) { \n            return object.id.toString() === id.toString(); \n        });\n\n        return object.length === 0 ? null : object[0];\n    };\n\n    /**\n     * Moves the given object(s) from compositeA to compositeB (equal to a remove followed by an add).\n     * @method move\n     * @param {compositeA} compositeA\n     * @param {object[]} objects\n     * @param {compositeB} compositeB\n     * @return {composite} Returns compositeA\n     */\n    Composite.move = function(compositeA, objects, compositeB) {\n        Composite.remove(compositeA, objects);\n        Composite.add(compositeB, objects);\n        return compositeA;\n    };\n\n    /**\n     * Assigns new ids for all objects in the composite, recursively.\n     * @method rebase\n     * @param {composite} composite\n     * @return {composite} Returns composite\n     */\n    Composite.rebase = function(composite) {\n        var objects = Composite.allBodies(composite)\n            .concat(Composite.allConstraints(composite))\n            .concat(Composite.allComposites(composite));\n\n        for (var i = 0; i < objects.length; i++) {\n            objects[i].id = Common.nextId();\n        }\n\n        return composite;\n    };\n\n    /**\n     * Translates all children in the composite by a given vector relative to their current positions, \n     * without imparting any velocity.\n     * @method translate\n     * @param {composite} composite\n     * @param {vector} translation\n     * @param {bool} [recursive=true]\n     */\n    Composite.translate = function(composite, translation, recursive) {\n        var bodies = recursive ? Composite.allBodies(composite) : composite.bodies;\n\n        for (var i = 0; i < bodies.length; i++) {\n            Body.translate(bodies[i], translation);\n        }\n\n        return composite;\n    };\n\n    /**\n     * Rotates all children in the composite by a given angle about the given point, without imparting any angular velocity.\n     * @method rotate\n     * @param {composite} composite\n     * @param {number} rotation\n     * @param {vector} point\n     * @param {bool} [recursive=true]\n     */\n    Composite.rotate = function(composite, rotation, point, recursive) {\n        var cos = Math.cos(rotation),\n            sin = Math.sin(rotation),\n            bodies = recursive ? Composite.allBodies(composite) : composite.bodies;\n\n        for (var i = 0; i < bodies.length; i++) {\n            var body = bodies[i],\n                dx = body.position.x - point.x,\n                dy = body.position.y - point.y;\n                \n            Body.setPosition(body, {\n                x: point.x + (dx * cos - dy * sin),\n                y: point.y + (dx * sin + dy * cos)\n            });\n\n            Body.rotate(body, rotation);\n        }\n\n        return composite;\n    };\n\n    /**\n     * Scales all children in the composite, including updating physical properties (mass, area, axes, inertia), from a world-space point.\n     * @method scale\n     * @param {composite} composite\n     * @param {number} scaleX\n     * @param {number} scaleY\n     * @param {vector} point\n     * @param {bool} [recursive=true]\n     */\n    Composite.scale = function(composite, scaleX, scaleY, point, recursive) {\n        var bodies = recursive ? Composite.allBodies(composite) : composite.bodies;\n\n        for (var i = 0; i < bodies.length; i++) {\n            var body = bodies[i],\n                dx = body.position.x - point.x,\n                dy = body.position.y - point.y;\n                \n            Body.setPosition(body, {\n                x: point.x + dx * scaleX,\n                y: point.y + dy * scaleY\n            });\n\n            Body.scale(body, scaleX, scaleY);\n        }\n\n        return composite;\n    };\n\n    /**\n     * Returns the union of the bounds of all of the composite's bodies.\n     * @method bounds\n     * @param {composite} composite The composite.\n     * @returns {bounds} The composite bounds.\n     */\n    Composite.bounds = function(composite) {\n        var bodies = Composite.allBodies(composite),\n            vertices = [];\n\n        for (var i = 0; i < bodies.length; i += 1) {\n            var body = bodies[i];\n            vertices.push(body.bounds.min, body.bounds.max);\n        }\n\n        return Bounds.create(vertices);\n    };\n\n    /*\n    *\n    *  Events Documentation\n    *\n    */\n\n    /**\n    * Fired when a call to `Composite.add` is made, before objects have been added.\n    *\n    * @event beforeAdd\n    * @param {} event An event object\n    * @param {} event.object The object(s) to be added (may be a single body, constraint, composite or a mixed array of these)\n    * @param {} event.source The source object of the event\n    * @param {} event.name The name of the event\n    */\n\n    /**\n    * Fired when a call to `Composite.add` is made, after objects have been added.\n    *\n    * @event afterAdd\n    * @param {} event An event object\n    * @param {} event.object The object(s) that have been added (may be a single body, constraint, composite or a mixed array of these)\n    * @param {} event.source The source object of the event\n    * @param {} event.name The name of the event\n    */\n\n    /**\n    * Fired when a call to `Composite.remove` is made, before objects have been removed.\n    *\n    * @event beforeRemove\n    * @param {} event An event object\n    * @param {} event.object The object(s) to be removed (may be a single body, constraint, composite or a mixed array of these)\n    * @param {} event.source The source object of the event\n    * @param {} event.name The name of the event\n    */\n\n    /**\n    * Fired when a call to `Composite.remove` is made, after objects have been removed.\n    *\n    * @event afterRemove\n    * @param {} event An event object\n    * @param {} event.object The object(s) that have been removed (may be a single body, constraint, composite or a mixed array of these)\n    * @param {} event.source The source object of the event\n    * @param {} event.name The name of the event\n    */\n\n    /*\n    *\n    *  Properties Documentation\n    *\n    */\n\n    /**\n     * An integer `Number` uniquely identifying number generated in `Composite.create` by `Common.nextId`.\n     *\n     * @property id\n     * @type number\n     */\n\n    /**\n     * A `String` denoting the type of object.\n     *\n     * @property type\n     * @type string\n     * @default \"composite\"\n     * @readOnly\n     */\n\n    /**\n     * An arbitrary `String` name to help the user identify and manage composites.\n     *\n     * @property label\n     * @type string\n     * @default \"Composite\"\n     */\n\n    /**\n     * A flag that specifies whether the composite has been modified during the current step.\n     * This is automatically managed when bodies, constraints or composites are added or removed.\n     *\n     * @property isModified\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * The `Composite` that is the parent of this composite. It is automatically managed by the `Matter.Composite` methods.\n     *\n     * @property parent\n     * @type composite\n     * @default null\n     */\n\n    /**\n     * An array of `Body` that are _direct_ children of this composite.\n     * To add or remove bodies you should use `Composite.add` and `Composite.remove` methods rather than directly modifying this property.\n     * If you wish to recursively find all descendants, you should use the `Composite.allBodies` method.\n     *\n     * @property bodies\n     * @type body[]\n     * @default []\n     */\n\n    /**\n     * An array of `Constraint` that are _direct_ children of this composite.\n     * To add or remove constraints you should use `Composite.add` and `Composite.remove` methods rather than directly modifying this property.\n     * If you wish to recursively find all descendants, you should use the `Composite.allConstraints` method.\n     *\n     * @property constraints\n     * @type constraint[]\n     * @default []\n     */\n\n    /**\n     * An array of `Composite` that are _direct_ children of this composite.\n     * To add or remove composites you should use `Composite.add` and `Composite.remove` methods rather than directly modifying this property.\n     * If you wish to recursively find all descendants, you should use the `Composite.allComposites` method.\n     *\n     * @property composites\n     * @type composite[]\n     * @default []\n     */\n\n    /**\n     * An object reserved for storing plugin-specific properties.\n     *\n     * @property plugin\n     * @type {}\n     */\n\n    /**\n     * An object used for storing cached results for performance reasons.\n     * This is used internally only and is automatically managed.\n     *\n     * @private\n     * @property cache\n     * @type {}\n     */\n\n})();\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Body` module contains methods for creating and manipulating body models.\n* A `Matter.Body` is a rigid body that can be simulated by a `Matter.Engine`.\n* Factories for commonly used body configurations (such as rectangles, circles and other polygons) can be found in the module `Matter.Bodies`.\n*\n* See the included usage [examples](https://github.com/liabru/matter-js/tree/master/examples).\n\n* @class Body\n*/\n\nvar Body = {};\n\nmodule.exports = Body;\n\nvar Vertices = __webpack_require__(3);\nvar Vector = __webpack_require__(2);\nvar Sleeping = __webpack_require__(7);\nvar Render = __webpack_require__(16);\nvar Common = __webpack_require__(0);\nvar Bounds = __webpack_require__(1);\nvar Axes = __webpack_require__(11);\n\n(function() {\n\n    Body._inertiaScale = 4;\n    Body._nextCollidingGroupId = 1;\n    Body._nextNonCollidingGroupId = -1;\n    Body._nextCategory = 0x0001;\n\n    /**\n     * Creates a new rigid body model. The options parameter is an object that specifies any properties you wish to override the defaults.\n     * All properties have default values, and many are pre-calculated automatically based on other properties.\n     * Vertices must be specified in clockwise order.\n     * See the properties section below for detailed information on what you can pass via the `options` object.\n     * @method create\n     * @param {} options\n     * @return {body} body\n     */\n    Body.create = function(options) {\n        var defaults = {\n            id: Common.nextId(),\n            type: 'body',\n            label: 'Body',\n            parts: [],\n            plugin: {},\n            angle: 0,\n            vertices: Vertices.fromPath('L 0 0 L 40 0 L 40 40 L 0 40'),\n            position: { x: 0, y: 0 },\n            force: { x: 0, y: 0 },\n            torque: 0,\n            positionImpulse: { x: 0, y: 0 },\n            constraintImpulse: { x: 0, y: 0, angle: 0 },\n            totalContacts: 0,\n            speed: 0,\n            angularSpeed: 0,\n            velocity: { x: 0, y: 0 },\n            angularVelocity: 0,\n            isSensor: false,\n            isStatic: false,\n            isSleeping: false,\n            motion: 0,\n            sleepThreshold: 60,\n            density: 0.001,\n            restitution: 0,\n            friction: 0.1,\n            frictionStatic: 0.5,\n            frictionAir: 0.01,\n            collisionFilter: {\n                category: 0x0001,\n                mask: 0xFFFFFFFF,\n                group: 0\n            },\n            slop: 0.05,\n            timeScale: 1,\n            render: {\n                visible: true,\n                opacity: 1,\n                strokeStyle: null,\n                fillStyle: null,\n                lineWidth: null,\n                sprite: {\n                    xScale: 1,\n                    yScale: 1,\n                    xOffset: 0,\n                    yOffset: 0\n                }\n            },\n            events: null,\n            bounds: null,\n            chamfer: null,\n            circleRadius: 0,\n            positionPrev: null,\n            anglePrev: 0,\n            parent: null,\n            axes: null,\n            area: 0,\n            mass: 0,\n            inertia: 0,\n            _original: null\n        };\n\n        var body = Common.extend(defaults, options);\n\n        _initProperties(body, options);\n\n        return body;\n    };\n\n    /**\n     * Returns the next unique group index for which bodies will collide.\n     * If `isNonColliding` is `true`, returns the next unique group index for which bodies will _not_ collide.\n     * See `body.collisionFilter` for more information.\n     * @method nextGroup\n     * @param {bool} [isNonColliding=false]\n     * @return {Number} Unique group index\n     */\n    Body.nextGroup = function(isNonColliding) {\n        if (isNonColliding)\n            return Body._nextNonCollidingGroupId--;\n\n        return Body._nextCollidingGroupId++;\n    };\n\n    /**\n     * Returns the next unique category bitfield (starting after the initial default category `0x0001`).\n     * There are 32 available. See `body.collisionFilter` for more information.\n     * @method nextCategory\n     * @return {Number} Unique category bitfield\n     */\n    Body.nextCategory = function() {\n        Body._nextCategory = Body._nextCategory << 1;\n        return Body._nextCategory;\n    };\n\n    /**\n     * Initialises body properties.\n     * @method _initProperties\n     * @private\n     * @param {body} body\n     * @param {} [options]\n     */\n    var _initProperties = function(body, options) {\n        options = options || {};\n\n        // init required properties (order is important)\n        Body.set(body, {\n            bounds: body.bounds || Bounds.create(body.vertices),\n            positionPrev: body.positionPrev || Vector.clone(body.position),\n            anglePrev: body.anglePrev || body.angle,\n            vertices: body.vertices,\n            parts: body.parts || [body],\n            isStatic: body.isStatic,\n            isSleeping: body.isSleeping,\n            parent: body.parent || body\n        });\n\n        Vertices.rotate(body.vertices, body.angle, body.position);\n        Axes.rotate(body.axes, body.angle);\n        Bounds.update(body.bounds, body.vertices, body.velocity);\n\n        // allow options to override the automatically calculated properties\n        Body.set(body, {\n            axes: options.axes || body.axes,\n            area: options.area || body.area,\n            mass: options.mass || body.mass,\n            inertia: options.inertia || body.inertia\n        });\n\n        // render properties\n        var defaultFillStyle = (body.isStatic ? '#14151f' : Common.choose(['#f19648', '#f5d259', '#f55a3c', '#063e7b', '#ececd1'])),\n            defaultStrokeStyle = body.isStatic ? '#555' : '#ccc',\n            defaultLineWidth = body.isStatic && body.render.fillStyle === null ? 1 : 0;\n        body.render.fillStyle = body.render.fillStyle || defaultFillStyle;\n        body.render.strokeStyle = body.render.strokeStyle || defaultStrokeStyle;\n        body.render.lineWidth = body.render.lineWidth || defaultLineWidth;\n        body.render.sprite.xOffset += -(body.bounds.min.x - body.position.x) / (body.bounds.max.x - body.bounds.min.x);\n        body.render.sprite.yOffset += -(body.bounds.min.y - body.position.y) / (body.bounds.max.y - body.bounds.min.y);\n    };\n\n    /**\n     * Given a property and a value (or map of), sets the property(s) on the body, using the appropriate setter functions if they exist.\n     * Prefer to use the actual setter functions in performance critical situations.\n     * @method set\n     * @param {body} body\n     * @param {} settings A property name (or map of properties and values) to set on the body.\n     * @param {} value The value to set if `settings` is a single property name.\n     */\n    Body.set = function(body, settings, value) {\n        var property;\n\n        if (typeof settings === 'string') {\n            property = settings;\n            settings = {};\n            settings[property] = value;\n        }\n\n        for (property in settings) {\n            if (!Object.prototype.hasOwnProperty.call(settings, property))\n                continue;\n\n            value = settings[property];\n            switch (property) {\n\n            case 'isStatic':\n                Body.setStatic(body, value);\n                break;\n            case 'isSleeping':\n                Sleeping.set(body, value);\n                break;\n            case 'mass':\n                Body.setMass(body, value);\n                break;\n            case 'density':\n                Body.setDensity(body, value);\n                break;\n            case 'inertia':\n                Body.setInertia(body, value);\n                break;\n            case 'vertices':\n                Body.setVertices(body, value);\n                break;\n            case 'position':\n                Body.setPosition(body, value);\n                break;\n            case 'angle':\n                Body.setAngle(body, value);\n                break;\n            case 'velocity':\n                Body.setVelocity(body, value);\n                break;\n            case 'angularVelocity':\n                Body.setAngularVelocity(body, value);\n                break;\n            case 'parts':\n                Body.setParts(body, value);\n                break;\n            case 'centre':\n                Body.setCentre(body, value);\n                break;\n            default:\n                body[property] = value;\n\n            }\n        }\n    };\n\n    /**\n     * Sets the body as static, including isStatic flag and setting mass and inertia to Infinity.\n     * @method setStatic\n     * @param {body} body\n     * @param {bool} isStatic\n     */\n    Body.setStatic = function(body, isStatic) {\n        for (var i = 0; i < body.parts.length; i++) {\n            var part = body.parts[i];\n            part.isStatic = isStatic;\n\n            if (isStatic) {\n                part._original = {\n                    restitution: part.restitution,\n                    friction: part.friction,\n                    mass: part.mass,\n                    inertia: part.inertia,\n                    density: part.density,\n                    inverseMass: part.inverseMass,\n                    inverseInertia: part.inverseInertia\n                };\n\n                part.restitution = 0;\n                part.friction = 1;\n                part.mass = part.inertia = part.density = Infinity;\n                part.inverseMass = part.inverseInertia = 0;\n\n                part.positionPrev.x = part.position.x;\n                part.positionPrev.y = part.position.y;\n                part.anglePrev = part.angle;\n                part.angularVelocity = 0;\n                part.speed = 0;\n                part.angularSpeed = 0;\n                part.motion = 0;\n            } else if (part._original) {\n                part.restitution = part._original.restitution;\n                part.friction = part._original.friction;\n                part.mass = part._original.mass;\n                part.inertia = part._original.inertia;\n                part.density = part._original.density;\n                part.inverseMass = part._original.inverseMass;\n                part.inverseInertia = part._original.inverseInertia;\n\n                part._original = null;\n            }\n        }\n    };\n\n    /**\n     * Sets the mass of the body. Inverse mass, density and inertia are automatically updated to reflect the change.\n     * @method setMass\n     * @param {body} body\n     * @param {number} mass\n     */\n    Body.setMass = function(body, mass) {\n        var moment = body.inertia / (body.mass / 6);\n        body.inertia = moment * (mass / 6);\n        body.inverseInertia = 1 / body.inertia;\n\n        body.mass = mass;\n        body.inverseMass = 1 / body.mass;\n        body.density = body.mass / body.area;\n    };\n\n    /**\n     * Sets the density of the body. Mass and inertia are automatically updated to reflect the change.\n     * @method setDensity\n     * @param {body} body\n     * @param {number} density\n     */\n    Body.setDensity = function(body, density) {\n        Body.setMass(body, density * body.area);\n        body.density = density;\n    };\n\n    /**\n     * Sets the moment of inertia (i.e. second moment of area) of the body. \n     * Inverse inertia is automatically updated to reflect the change. Mass is not changed.\n     * @method setInertia\n     * @param {body} body\n     * @param {number} inertia\n     */\n    Body.setInertia = function(body, inertia) {\n        body.inertia = inertia;\n        body.inverseInertia = 1 / body.inertia;\n    };\n\n    /**\n     * Sets the body's vertices and updates body properties accordingly, including inertia, area and mass (with respect to `body.density`).\n     * Vertices will be automatically transformed to be orientated around their centre of mass as the origin.\n     * They are then automatically translated to world space based on `body.position`.\n     *\n     * The `vertices` argument should be passed as an array of `Matter.Vector` points (or a `Matter.Vertices` array).\n     * Vertices must form a convex hull, concave hulls are not supported.\n     *\n     * @method setVertices\n     * @param {body} body\n     * @param {vector[]} vertices\n     */\n    Body.setVertices = function(body, vertices) {\n        // change vertices\n        if (vertices[0].body === body) {\n            body.vertices = vertices;\n        } else {\n            body.vertices = Vertices.create(vertices, body);\n        }\n\n        // update properties\n        body.axes = Axes.fromVertices(body.vertices);\n        body.area = Vertices.area(body.vertices);\n        Body.setMass(body, body.density * body.area);\n\n        // orient vertices around the centre of mass at origin (0, 0)\n        var centre = Vertices.centre(body.vertices);\n        Vertices.translate(body.vertices, centre, -1);\n\n        // update inertia while vertices are at origin (0, 0)\n        Body.setInertia(body, Body._inertiaScale * Vertices.inertia(body.vertices, body.mass));\n\n        // update geometry\n        Vertices.translate(body.vertices, body.position);\n        Bounds.update(body.bounds, body.vertices, body.velocity);\n    };\n\n    /**\n     * Sets the parts of the `body` and updates mass, inertia and centroid.\n     * Each part will have its parent set to `body`.\n     * By default the convex hull will be automatically computed and set on `body`, unless `autoHull` is set to `false.`\n     * Note that this method will ensure that the first part in `body.parts` will always be the `body`.\n     * @method setParts\n     * @param {body} body\n     * @param [body] parts\n     * @param {bool} [autoHull=true]\n     */\n    Body.setParts = function(body, parts, autoHull) {\n        var i;\n\n        // add all the parts, ensuring that the first part is always the parent body\n        parts = parts.slice(0);\n        body.parts.length = 0;\n        body.parts.push(body);\n        body.parent = body;\n\n        for (i = 0; i < parts.length; i++) {\n            var part = parts[i];\n            if (part !== body) {\n                part.parent = body;\n                body.parts.push(part);\n            }\n        }\n\n        if (body.parts.length === 1)\n            return;\n\n        autoHull = typeof autoHull !== 'undefined' ? autoHull : true;\n\n        // find the convex hull of all parts to set on the parent body\n        if (autoHull) {\n            var vertices = [];\n            for (i = 0; i < parts.length; i++) {\n                vertices = vertices.concat(parts[i].vertices);\n            }\n\n            Vertices.clockwiseSort(vertices);\n\n            var hull = Vertices.hull(vertices),\n                hullCentre = Vertices.centre(hull);\n\n            Body.setVertices(body, hull);\n            Vertices.translate(body.vertices, hullCentre);\n        }\n\n        // sum the properties of all compound parts of the parent body\n        var total = Body._totalProperties(body);\n\n        body.area = total.area;\n        body.parent = body;\n        body.position.x = total.centre.x;\n        body.position.y = total.centre.y;\n        body.positionPrev.x = total.centre.x;\n        body.positionPrev.y = total.centre.y;\n\n        Body.setMass(body, total.mass);\n        Body.setInertia(body, total.inertia);\n        Body.setPosition(body, total.centre);\n    };\n\n    /**\n     * Set the centre of mass of the body. \n     * The `centre` is a vector in world-space unless `relative` is set, in which case it is a translation.\n     * The centre of mass is the point the body rotates about and can be used to simulate non-uniform density.\n     * This is equal to moving `body.position` but not the `body.vertices`.\n     * Invalid if the `centre` falls outside the body's convex hull.\n     * @method setCentre\n     * @param {body} body\n     * @param {vector} centre\n     * @param {bool} relative\n     */\n    Body.setCentre = function(body, centre, relative) {\n        if (!relative) {\n            body.positionPrev.x = centre.x - (body.position.x - body.positionPrev.x);\n            body.positionPrev.y = centre.y - (body.position.y - body.positionPrev.y);\n            body.position.x = centre.x;\n            body.position.y = centre.y;\n        } else {\n            body.positionPrev.x += centre.x;\n            body.positionPrev.y += centre.y;\n            body.position.x += centre.x;\n            body.position.y += centre.y;\n        }\n    };\n\n    /**\n     * Sets the position of the body instantly. Velocity, angle, force etc. are unchanged.\n     * @method setPosition\n     * @param {body} body\n     * @param {vector} position\n     */\n    Body.setPosition = function(body, position) {\n        var delta = Vector.sub(position, body.position);\n        body.positionPrev.x += delta.x;\n        body.positionPrev.y += delta.y;\n\n        for (var i = 0; i < body.parts.length; i++) {\n            var part = body.parts[i];\n            part.position.x += delta.x;\n            part.position.y += delta.y;\n            Vertices.translate(part.vertices, delta);\n            Bounds.update(part.bounds, part.vertices, body.velocity);\n        }\n    };\n\n    /**\n     * Sets the angle of the body instantly. Angular velocity, position, force etc. are unchanged.\n     * @method setAngle\n     * @param {body} body\n     * @param {number} angle\n     */\n    Body.setAngle = function(body, angle) {\n        var delta = angle - body.angle;\n        body.anglePrev += delta;\n\n        for (var i = 0; i < body.parts.length; i++) {\n            var part = body.parts[i];\n            part.angle += delta;\n            Vertices.rotate(part.vertices, delta, body.position);\n            Axes.rotate(part.axes, delta);\n            Bounds.update(part.bounds, part.vertices, body.velocity);\n            if (i > 0) {\n                Vector.rotateAbout(part.position, delta, body.position, part.position);\n            }\n        }\n    };\n\n    /**\n     * Sets the linear velocity of the body instantly. Position, angle, force etc. are unchanged. See also `Body.applyForce`.\n     * @method setVelocity\n     * @param {body} body\n     * @param {vector} velocity\n     */\n    Body.setVelocity = function(body, velocity) {\n        body.positionPrev.x = body.position.x - velocity.x;\n        body.positionPrev.y = body.position.y - velocity.y;\n        body.velocity.x = velocity.x;\n        body.velocity.y = velocity.y;\n        body.speed = Vector.magnitude(body.velocity);\n    };\n\n    /**\n     * Sets the angular velocity of the body instantly. Position, angle, force etc. are unchanged. See also `Body.applyForce`.\n     * @method setAngularVelocity\n     * @param {body} body\n     * @param {number} velocity\n     */\n    Body.setAngularVelocity = function(body, velocity) {\n        body.anglePrev = body.angle - velocity;\n        body.angularVelocity = velocity;\n        body.angularSpeed = Math.abs(body.angularVelocity);\n    };\n\n    /**\n     * Moves a body by a given vector relative to its current position, without imparting any velocity.\n     * @method translate\n     * @param {body} body\n     * @param {vector} translation\n     */\n    Body.translate = function(body, translation) {\n        Body.setPosition(body, Vector.add(body.position, translation));\n    };\n\n    /**\n     * Rotates a body by a given angle relative to its current angle, without imparting any angular velocity.\n     * @method rotate\n     * @param {body} body\n     * @param {number} rotation\n     * @param {vector} [point]\n     */\n    Body.rotate = function(body, rotation, point) {\n        if (!point) {\n            Body.setAngle(body, body.angle + rotation);\n        } else {\n            var cos = Math.cos(rotation),\n                sin = Math.sin(rotation),\n                dx = body.position.x - point.x,\n                dy = body.position.y - point.y;\n                \n            Body.setPosition(body, {\n                x: point.x + (dx * cos - dy * sin),\n                y: point.y + (dx * sin + dy * cos)\n            });\n\n            Body.setAngle(body, body.angle + rotation);\n        }\n    };\n\n    /**\n     * Scales the body, including updating physical properties (mass, area, axes, inertia), from a world-space point (default is body centre).\n     * @method scale\n     * @param {body} body\n     * @param {number} scaleX\n     * @param {number} scaleY\n     * @param {vector} [point]\n     */\n    Body.scale = function(body, scaleX, scaleY, point) {\n        var totalArea = 0,\n            totalInertia = 0;\n\n        point = point || body.position;\n\n        for (var i = 0; i < body.parts.length; i++) {\n            var part = body.parts[i];\n\n            // scale vertices\n            Vertices.scale(part.vertices, scaleX, scaleY, point);\n\n            // update properties\n            part.axes = Axes.fromVertices(part.vertices);\n            part.area = Vertices.area(part.vertices);\n            Body.setMass(part, body.density * part.area);\n\n            // update inertia (requires vertices to be at origin)\n            Vertices.translate(part.vertices, { x: -part.position.x, y: -part.position.y });\n            Body.setInertia(part, Body._inertiaScale * Vertices.inertia(part.vertices, part.mass));\n            Vertices.translate(part.vertices, { x: part.position.x, y: part.position.y });\n\n            if (i > 0) {\n                totalArea += part.area;\n                totalInertia += part.inertia;\n            }\n\n            // scale position\n            part.position.x = point.x + (part.position.x - point.x) * scaleX;\n            part.position.y = point.y + (part.position.y - point.y) * scaleY;\n\n            // update bounds\n            Bounds.update(part.bounds, part.vertices, body.velocity);\n        }\n\n        // handle parent body\n        if (body.parts.length > 1) {\n            body.area = totalArea;\n\n            if (!body.isStatic) {\n                Body.setMass(body, body.density * totalArea);\n                Body.setInertia(body, totalInertia);\n            }\n        }\n\n        // handle circles\n        if (body.circleRadius) { \n            if (scaleX === scaleY) {\n                body.circleRadius *= scaleX;\n            } else {\n                // body is no longer a circle\n                body.circleRadius = null;\n            }\n        }\n    };\n\n    /**\n     * Performs a simulation step for the given `body`, including updating position and angle using Verlet integration.\n     * @method update\n     * @param {body} body\n     * @param {number} deltaTime\n     * @param {number} timeScale\n     * @param {number} correction\n     */\n    Body.update = function(body, deltaTime, timeScale, correction) {\n        var deltaTimeSquared = Math.pow(deltaTime * timeScale * body.timeScale, 2);\n\n        // from the previous step\n        var frictionAir = 1 - body.frictionAir * timeScale * body.timeScale,\n            velocityPrevX = body.position.x - body.positionPrev.x,\n            velocityPrevY = body.position.y - body.positionPrev.y;\n\n        // update velocity with Verlet integration\n        body.velocity.x = (velocityPrevX * frictionAir * correction) + (body.force.x / body.mass) * deltaTimeSquared;\n        body.velocity.y = (velocityPrevY * frictionAir * correction) + (body.force.y / body.mass) * deltaTimeSquared;\n\n        body.positionPrev.x = body.position.x;\n        body.positionPrev.y = body.position.y;\n        body.position.x += body.velocity.x;\n        body.position.y += body.velocity.y;\n\n        // update angular velocity with Verlet integration\n        body.angularVelocity = ((body.angle - body.anglePrev) * frictionAir * correction) + (body.torque / body.inertia) * deltaTimeSquared;\n        body.anglePrev = body.angle;\n        body.angle += body.angularVelocity;\n\n        // track speed and acceleration\n        body.speed = Vector.magnitude(body.velocity);\n        body.angularSpeed = Math.abs(body.angularVelocity);\n\n        // transform the body geometry\n        for (var i = 0; i < body.parts.length; i++) {\n            var part = body.parts[i];\n\n            Vertices.translate(part.vertices, body.velocity);\n            \n            if (i > 0) {\n                part.position.x += body.velocity.x;\n                part.position.y += body.velocity.y;\n            }\n\n            if (body.angularVelocity !== 0) {\n                Vertices.rotate(part.vertices, body.angularVelocity, body.position);\n                Axes.rotate(part.axes, body.angularVelocity);\n                if (i > 0) {\n                    Vector.rotateAbout(part.position, body.angularVelocity, body.position, part.position);\n                }\n            }\n\n            Bounds.update(part.bounds, part.vertices, body.velocity);\n        }\n    };\n\n    /**\n     * Applies a force to a body from a given world-space position, including resulting torque.\n     * @method applyForce\n     * @param {body} body\n     * @param {vector} position\n     * @param {vector} force\n     */\n    Body.applyForce = function(body, position, force) {\n        body.force.x += force.x;\n        body.force.y += force.y;\n        var offset = { x: position.x - body.position.x, y: position.y - body.position.y };\n        body.torque += offset.x * force.y - offset.y * force.x;\n    };\n\n    /**\n     * Returns the sums of the properties of all compound parts of the parent body.\n     * @method _totalProperties\n     * @private\n     * @param {body} body\n     * @return {}\n     */\n    Body._totalProperties = function(body) {\n        // from equations at:\n        // https://ecourses.ou.edu/cgi-bin/ebook.cgi?doc=&topic=st&chap_sec=07.2&page=theory\n        // http://output.to/sideway/default.asp?qno=121100087\n\n        var properties = {\n            mass: 0,\n            area: 0,\n            inertia: 0,\n            centre: { x: 0, y: 0 }\n        };\n\n        // sum the properties of all compound parts of the parent body\n        for (var i = body.parts.length === 1 ? 0 : 1; i < body.parts.length; i++) {\n            var part = body.parts[i],\n                mass = part.mass !== Infinity ? part.mass : 1;\n\n            properties.mass += mass;\n            properties.area += part.area;\n            properties.inertia += part.inertia;\n            properties.centre = Vector.add(properties.centre, Vector.mult(part.position, mass));\n        }\n\n        properties.centre = Vector.div(properties.centre, properties.mass);\n\n        return properties;\n    };\n\n    /*\n    *\n    *  Events Documentation\n    *\n    */\n\n    /**\n    * Fired when a body starts sleeping (where `this` is the body).\n    *\n    * @event sleepStart\n    * @this {body} The body that has started sleeping\n    * @param {} event An event object\n    * @param {} event.source The source object of the event\n    * @param {} event.name The name of the event\n    */\n\n    /**\n    * Fired when a body ends sleeping (where `this` is the body).\n    *\n    * @event sleepEnd\n    * @this {body} The body that has ended sleeping\n    * @param {} event An event object\n    * @param {} event.source The source object of the event\n    * @param {} event.name The name of the event\n    */\n\n    /*\n    *\n    *  Properties Documentation\n    *\n    */\n\n    /**\n     * An integer `Number` uniquely identifying number generated in `Body.create` by `Common.nextId`.\n     *\n     * @property id\n     * @type number\n     */\n\n    /**\n     * A `String` denoting the type of object.\n     *\n     * @property type\n     * @type string\n     * @default \"body\"\n     * @readOnly\n     */\n\n    /**\n     * An arbitrary `String` name to help the user identify and manage bodies.\n     *\n     * @property label\n     * @type string\n     * @default \"Body\"\n     */\n\n    /**\n     * An array of bodies that make up this body. \n     * The first body in the array must always be a self reference to the current body instance.\n     * All bodies in the `parts` array together form a single rigid compound body.\n     * Parts are allowed to overlap, have gaps or holes or even form concave bodies.\n     * Parts themselves should never be added to a `World`, only the parent body should be.\n     * Use `Body.setParts` when setting parts to ensure correct updates of all properties.\n     *\n     * @property parts\n     * @type body[]\n     */\n\n    /**\n     * An object reserved for storing plugin-specific properties.\n     *\n     * @property plugin\n     * @type {}\n     */\n\n    /**\n     * A self reference if the body is _not_ a part of another body.\n     * Otherwise this is a reference to the body that this is a part of.\n     * See `body.parts`.\n     *\n     * @property parent\n     * @type body\n     */\n\n    /**\n     * A `Number` specifying the angle of the body, in radians.\n     *\n     * @property angle\n     * @type number\n     * @default 0\n     */\n\n    /**\n     * An array of `Vector` objects that specify the convex hull of the rigid body.\n     * These should be provided about the origin `(0, 0)`. E.g.\n     *\n     *     [{ x: 0, y: 0 }, { x: 25, y: 50 }, { x: 50, y: 0 }]\n     *\n     * When passed via `Body.create`, the vertices are translated relative to `body.position` (i.e. world-space, and constantly updated by `Body.update` during simulation).\n     * The `Vector` objects are also augmented with additional properties required for efficient collision detection. \n     *\n     * Other properties such as `inertia` and `bounds` are automatically calculated from the passed vertices (unless provided via `options`).\n     * Concave hulls are not currently supported. The module `Matter.Vertices` contains useful methods for working with vertices.\n     *\n     * @property vertices\n     * @type vector[]\n     */\n\n    /**\n     * A `Vector` that specifies the current world-space position of the body.\n     *\n     * @property position\n     * @type vector\n     * @default { x: 0, y: 0 }\n     */\n\n    /**\n     * A `Vector` that specifies the force to apply in the current step. It is zeroed after every `Body.update`. See also `Body.applyForce`.\n     *\n     * @property force\n     * @type vector\n     * @default { x: 0, y: 0 }\n     */\n\n    /**\n     * A `Number` that specifies the torque (turning force) to apply in the current step. It is zeroed after every `Body.update`.\n     *\n     * @property torque\n     * @type number\n     * @default 0\n     */\n\n    /**\n     * A `Number` that _measures_ the current speed of the body after the last `Body.update`. It is read-only and always positive (it's the magnitude of `body.velocity`).\n     *\n     * @readOnly\n     * @property speed\n     * @type number\n     * @default 0\n     */\n\n    /**\n     * A `Number` that _measures_ the current angular speed of the body after the last `Body.update`. It is read-only and always positive (it's the magnitude of `body.angularVelocity`).\n     *\n     * @readOnly\n     * @property angularSpeed\n     * @type number\n     * @default 0\n     */\n\n    /**\n     * A `Vector` that _measures_ the current velocity of the body after the last `Body.update`. It is read-only. \n     * If you need to modify a body's velocity directly, you should either apply a force or simply change the body's `position` (as the engine uses position-Verlet integration).\n     *\n     * @readOnly\n     * @property velocity\n     * @type vector\n     * @default { x: 0, y: 0 }\n     */\n\n    /**\n     * A `Number` that _measures_ the current angular velocity of the body after the last `Body.update`. It is read-only. \n     * If you need to modify a body's angular velocity directly, you should apply a torque or simply change the body's `angle` (as the engine uses position-Verlet integration).\n     *\n     * @readOnly\n     * @property angularVelocity\n     * @type number\n     * @default 0\n     */\n\n    /**\n     * A flag that indicates whether a body is considered static. A static body can never change position or angle and is completely fixed.\n     * If you need to set a body as static after its creation, you should use `Body.setStatic` as this requires more than just setting this flag.\n     *\n     * @property isStatic\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag that indicates whether a body is a sensor. Sensor triggers collision events, but doesn't react with colliding body physically.\n     *\n     * @property isSensor\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag that indicates whether the body is considered sleeping. A sleeping body acts similar to a static body, except it is only temporary and can be awoken.\n     * If you need to set a body as sleeping, you should use `Sleeping.set` as this requires more than just setting this flag.\n     *\n     * @property isSleeping\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A `Number` that _measures_ the amount of movement a body currently has (a combination of `speed` and `angularSpeed`). It is read-only and always positive.\n     * It is used and updated by the `Matter.Sleeping` module during simulation to decide if a body has come to rest.\n     *\n     * @readOnly\n     * @property motion\n     * @type number\n     * @default 0\n     */\n\n    /**\n     * A `Number` that defines the number of updates in which this body must have near-zero velocity before it is set as sleeping by the `Matter.Sleeping` module (if sleeping is enabled by the engine).\n     *\n     * @property sleepThreshold\n     * @type number\n     * @default 60\n     */\n\n    /**\n     * A `Number` that defines the density of the body, that is its mass per unit area.\n     * If you pass the density via `Body.create` the `mass` property is automatically calculated for you based on the size (area) of the object.\n     * This is generally preferable to simply setting mass and allows for more intuitive definition of materials (e.g. rock has a higher density than wood).\n     *\n     * @property density\n     * @type number\n     * @default 0.001\n     */\n\n    /**\n     * A `Number` that defines the mass of the body, although it may be more appropriate to specify the `density` property instead.\n     * If you modify this value, you must also modify the `body.inverseMass` property (`1 / mass`).\n     *\n     * @property mass\n     * @type number\n     */\n\n    /**\n     * A `Number` that defines the inverse mass of the body (`1 / mass`).\n     * If you modify this value, you must also modify the `body.mass` property.\n     *\n     * @property inverseMass\n     * @type number\n     */\n\n    /**\n     * A `Number` that defines the moment of inertia (i.e. second moment of area) of the body.\n     * It is automatically calculated from the given convex hull (`vertices` array) and density in `Body.create`.\n     * If you modify this value, you must also modify the `body.inverseInertia` property (`1 / inertia`).\n     *\n     * @property inertia\n     * @type number\n     */\n\n    /**\n     * A `Number` that defines the inverse moment of inertia of the body (`1 / inertia`).\n     * If you modify this value, you must also modify the `body.inertia` property.\n     *\n     * @property inverseInertia\n     * @type number\n     */\n\n    /**\n     * A `Number` that defines the restitution (elasticity) of the body. The value is always positive and is in the range `(0, 1)`.\n     * A value of `0` means collisions may be perfectly inelastic and no bouncing may occur. \n     * A value of `0.8` means the body may bounce back with approximately 80% of its kinetic energy.\n     * Note that collision response is based on _pairs_ of bodies, and that `restitution` values are _combined_ with the following formula:\n     *\n     *     Math.max(bodyA.restitution, bodyB.restitution)\n     *\n     * @property restitution\n     * @type number\n     * @default 0\n     */\n\n    /**\n     * A `Number` that defines the friction of the body. The value is always positive and is in the range `(0, 1)`.\n     * A value of `0` means that the body may slide indefinitely.\n     * A value of `1` means the body may come to a stop almost instantly after a force is applied.\n     *\n     * The effects of the value may be non-linear. \n     * High values may be unstable depending on the body.\n     * The engine uses a Coulomb friction model including static and kinetic friction.\n     * Note that collision response is based on _pairs_ of bodies, and that `friction` values are _combined_ with the following formula:\n     *\n     *     Math.min(bodyA.friction, bodyB.friction)\n     *\n     * @property friction\n     * @type number\n     * @default 0.1\n     */\n\n    /**\n     * A `Number` that defines the static friction of the body (in the Coulomb friction model). \n     * A value of `0` means the body will never 'stick' when it is nearly stationary and only dynamic `friction` is used.\n     * The higher the value (e.g. `10`), the more force it will take to initially get the body moving when nearly stationary.\n     * This value is multiplied with the `friction` property to make it easier to change `friction` and maintain an appropriate amount of static friction.\n     *\n     * @property frictionStatic\n     * @type number\n     * @default 0.5\n     */\n\n    /**\n     * A `Number` that defines the air friction of the body (air resistance). \n     * A value of `0` means the body will never slow as it moves through space.\n     * The higher the value, the faster a body slows when moving through space.\n     * The effects of the value are non-linear. \n     *\n     * @property frictionAir\n     * @type number\n     * @default 0.01\n     */\n\n    /**\n     * An `Object` that specifies the collision filtering properties of this body.\n     *\n     * Collisions between two bodies will obey the following rules:\n     * - If the two bodies have the same non-zero value of `collisionFilter.group`,\n     *   they will always collide if the value is positive, and they will never collide\n     *   if the value is negative.\n     * - If the two bodies have different values of `collisionFilter.group` or if one\n     *   (or both) of the bodies has a value of 0, then the category/mask rules apply as follows:\n     *\n     * Each body belongs to a collision category, given by `collisionFilter.category`. This\n     * value is used as a bit field and the category should have only one bit set, meaning that\n     * the value of this property is a power of two in the range [1, 2^31]. Thus, there are 32\n     * different collision categories available.\n     *\n     * Each body also defines a collision bitmask, given by `collisionFilter.mask` which specifies\n     * the categories it collides with (the value is the bitwise AND value of all these categories).\n     *\n     * Using the category/mask rules, two bodies `A` and `B` collide if each includes the other's\n     * category in its mask, i.e. `(categoryA & maskB) !== 0` and `(categoryB & maskA) !== 0`\n     * are both true.\n     *\n     * @property collisionFilter\n     * @type object\n     */\n\n    /**\n     * An Integer `Number`, that specifies the collision group this body belongs to.\n     * See `body.collisionFilter` for more information.\n     *\n     * @property collisionFilter.group\n     * @type object\n     * @default 0\n     */\n\n    /**\n     * A bit field that specifies the collision category this body belongs to.\n     * The category value should have only one bit set, for example `0x0001`.\n     * This means there are up to 32 unique collision categories available.\n     * See `body.collisionFilter` for more information.\n     *\n     * @property collisionFilter.category\n     * @type object\n     * @default 1\n     */\n\n    /**\n     * A bit mask that specifies the collision categories this body may collide with.\n     * See `body.collisionFilter` for more information.\n     *\n     * @property collisionFilter.mask\n     * @type object\n     * @default -1\n     */\n\n    /**\n     * A `Number` that specifies a tolerance on how far a body is allowed to 'sink' or rotate into other bodies.\n     * Avoid changing this value unless you understand the purpose of `slop` in physics engines.\n     * The default should generally suffice, although very large bodies may require larger values for stable stacking.\n     *\n     * @property slop\n     * @type number\n     * @default 0.05\n     */\n\n    /**\n     * A `Number` that allows per-body time scaling, e.g. a force-field where bodies inside are in slow-motion, while others are at full speed.\n     *\n     * @property timeScale\n     * @type number\n     * @default 1\n     */\n\n    /**\n     * An `Object` that defines the rendering properties to be consumed by the module `Matter.Render`.\n     *\n     * @property render\n     * @type object\n     */\n\n    /**\n     * A flag that indicates if the body should be rendered.\n     *\n     * @property render.visible\n     * @type boolean\n     * @default true\n     */\n\n    /**\n     * Sets the opacity to use when rendering.\n     *\n     * @property render.opacity\n     * @type number\n     * @default 1\n    */\n\n    /**\n     * An `Object` that defines the sprite properties to use when rendering, if any.\n     *\n     * @property render.sprite\n     * @type object\n     */\n\n    /**\n     * An `String` that defines the path to the image to use as the sprite texture, if any.\n     *\n     * @property render.sprite.texture\n     * @type string\n     */\n     \n    /**\n     * A `Number` that defines the scaling in the x-axis for the sprite, if any.\n     *\n     * @property render.sprite.xScale\n     * @type number\n     * @default 1\n     */\n\n    /**\n     * A `Number` that defines the scaling in the y-axis for the sprite, if any.\n     *\n     * @property render.sprite.yScale\n     * @type number\n     * @default 1\n     */\n\n    /**\n      * A `Number` that defines the offset in the x-axis for the sprite (normalised by texture width).\n      *\n      * @property render.sprite.xOffset\n      * @type number\n      * @default 0\n      */\n\n    /**\n      * A `Number` that defines the offset in the y-axis for the sprite (normalised by texture height).\n      *\n      * @property render.sprite.yOffset\n      * @type number\n      * @default 0\n      */\n\n    /**\n     * A `Number` that defines the line width to use when rendering the body outline (if a sprite is not defined).\n     * A value of `0` means no outline will be rendered.\n     *\n     * @property render.lineWidth\n     * @type number\n     * @default 0\n     */\n\n    /**\n     * A `String` that defines the fill style to use when rendering the body (if a sprite is not defined).\n     * It is the same as when using a canvas, so it accepts CSS style property values.\n     *\n     * @property render.fillStyle\n     * @type string\n     * @default a random colour\n     */\n\n    /**\n     * A `String` that defines the stroke style to use when rendering the body outline (if a sprite is not defined).\n     * It is the same as when using a canvas, so it accepts CSS style property values.\n     *\n     * @property render.strokeStyle\n     * @type string\n     * @default a random colour\n     */\n\n    /**\n     * An array of unique axis vectors (edge normals) used for collision detection.\n     * These are automatically calculated from the given convex hull (`vertices` array) in `Body.create`.\n     * They are constantly updated by `Body.update` during the simulation.\n     *\n     * @property axes\n     * @type vector[]\n     */\n     \n    /**\n     * A `Number` that _measures_ the area of the body's convex hull, calculated at creation by `Body.create`.\n     *\n     * @property area\n     * @type string\n     * @default \n     */\n\n    /**\n     * A `Bounds` object that defines the AABB region for the body.\n     * It is automatically calculated from the given convex hull (`vertices` array) in `Body.create` and constantly updated by `Body.update` during simulation.\n     *\n     * @property bounds\n     * @type bounds\n     */\n\n})();\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Sleeping` module contains methods to manage the sleeping state of bodies.\n*\n* @class Sleeping\n*/\n\nvar Sleeping = {};\n\nmodule.exports = Sleeping;\n\nvar Events = __webpack_require__(4);\n\n(function() {\n\n    Sleeping._motionWakeThreshold = 0.18;\n    Sleeping._motionSleepThreshold = 0.08;\n    Sleeping._minBias = 0.9;\n\n    /**\n     * Puts bodies to sleep or wakes them up depending on their motion.\n     * @method update\n     * @param {body[]} bodies\n     * @param {number} timeScale\n     */\n    Sleeping.update = function(bodies, timeScale) {\n        var timeFactor = timeScale * timeScale * timeScale;\n\n        // update bodies sleeping status\n        for (var i = 0; i < bodies.length; i++) {\n            var body = bodies[i],\n                motion = body.speed * body.speed + body.angularSpeed * body.angularSpeed;\n\n            // wake up bodies if they have a force applied\n            if (body.force.x !== 0 || body.force.y !== 0) {\n                Sleeping.set(body, false);\n                continue;\n            }\n\n            var minMotion = Math.min(body.motion, motion),\n                maxMotion = Math.max(body.motion, motion);\n        \n            // biased average motion estimation between frames\n            body.motion = Sleeping._minBias * minMotion + (1 - Sleeping._minBias) * maxMotion;\n            \n            if (body.sleepThreshold > 0 && body.motion < Sleeping._motionSleepThreshold * timeFactor) {\n                body.sleepCounter += 1;\n                \n                if (body.sleepCounter >= body.sleepThreshold)\n                    Sleeping.set(body, true);\n            } else if (body.sleepCounter > 0) {\n                body.sleepCounter -= 1;\n            }\n        }\n    };\n\n    /**\n     * Given a set of colliding pairs, wakes the sleeping bodies involved.\n     * @method afterCollisions\n     * @param {pair[]} pairs\n     * @param {number} timeScale\n     */\n    Sleeping.afterCollisions = function(pairs, timeScale) {\n        var timeFactor = timeScale * timeScale * timeScale;\n\n        // wake up bodies involved in collisions\n        for (var i = 0; i < pairs.length; i++) {\n            var pair = pairs[i];\n            \n            // don't wake inactive pairs\n            if (!pair.isActive)\n                continue;\n\n            var collision = pair.collision,\n                bodyA = collision.bodyA.parent, \n                bodyB = collision.bodyB.parent;\n        \n            // don't wake if at least one body is static\n            if ((bodyA.isSleeping && bodyB.isSleeping) || bodyA.isStatic || bodyB.isStatic)\n                continue;\n        \n            if (bodyA.isSleeping || bodyB.isSleeping) {\n                var sleepingBody = (bodyA.isSleeping && !bodyA.isStatic) ? bodyA : bodyB,\n                    movingBody = sleepingBody === bodyA ? bodyB : bodyA;\n\n                if (!sleepingBody.isStatic && movingBody.motion > Sleeping._motionWakeThreshold * timeFactor) {\n                    Sleeping.set(sleepingBody, false);\n                }\n            }\n        }\n    };\n  \n    /**\n     * Set a body as sleeping or awake.\n     * @method set\n     * @param {body} body\n     * @param {boolean} isSleeping\n     */\n    Sleeping.set = function(body, isSleeping) {\n        var wasSleeping = body.isSleeping;\n\n        if (isSleeping) {\n            body.isSleeping = true;\n            body.sleepCounter = body.sleepThreshold;\n\n            body.positionImpulse.x = 0;\n            body.positionImpulse.y = 0;\n\n            body.positionPrev.x = body.position.x;\n            body.positionPrev.y = body.position.y;\n\n            body.anglePrev = body.angle;\n            body.speed = 0;\n            body.angularSpeed = 0;\n            body.motion = 0;\n\n            if (!wasSleeping) {\n                Events.trigger(body, 'sleepStart');\n            }\n        } else {\n            body.isSleeping = false;\n            body.sleepCounter = 0;\n\n            if (wasSleeping) {\n                Events.trigger(body, 'sleepEnd');\n            }\n        }\n    };\n\n})();\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Collision` module contains methods for detecting collisions between a given pair of bodies.\n*\n* For efficient detection between a list of bodies, see `Matter.Detector` and `Matter.Query`.\n*\n* See `Matter.Engine` for collision events.\n*\n* @class Collision\n*/\n\nvar Collision = {};\n\nmodule.exports = Collision;\n\nvar Vertices = __webpack_require__(3);\nvar Pair = __webpack_require__(9);\n\n(function() {\n    var _supports = [];\n\n    var _overlapAB = {\n        overlap: 0,\n        axis: null\n    };\n\n    var _overlapBA = {\n        overlap: 0,\n        axis: null\n    };\n\n    /**\n     * Creates a new collision record.\n     * @method create\n     * @param {body} bodyA The first body part represented by the collision record\n     * @param {body} bodyB The second body part represented by the collision record\n     * @return {collision} A new collision record\n     */\n    Collision.create = function(bodyA, bodyB) {\n        return { \n            pair: null,\n            collided: false,\n            bodyA: bodyA,\n            bodyB: bodyB,\n            parentA: bodyA.parent,\n            parentB: bodyB.parent,\n            depth: 0,\n            normal: { x: 0, y: 0 },\n            tangent: { x: 0, y: 0 },\n            penetration: { x: 0, y: 0 },\n            supports: []\n        };\n    };\n\n    /**\n     * Detect collision between two bodies.\n     * @method collides\n     * @param {body} bodyA\n     * @param {body} bodyB\n     * @param {pairs} [pairs] Optionally reuse collision records from existing pairs.\n     * @return {collision|null} A collision record if detected, otherwise null\n     */\n    Collision.collides = function(bodyA, bodyB, pairs) {\n        Collision._overlapAxes(_overlapAB, bodyA.vertices, bodyB.vertices, bodyA.axes);\n\n        if (_overlapAB.overlap <= 0) {\n            return null;\n        }\n\n        Collision._overlapAxes(_overlapBA, bodyB.vertices, bodyA.vertices, bodyB.axes);\n\n        if (_overlapBA.overlap <= 0) {\n            return null;\n        }\n\n        // reuse collision records for gc efficiency\n        var pair = pairs && pairs.table[Pair.id(bodyA, bodyB)],\n            collision;\n\n        if (!pair) {\n            collision = Collision.create(bodyA, bodyB);\n            collision.collided = true;\n            collision.bodyA = bodyA.id < bodyB.id ? bodyA : bodyB;\n            collision.bodyB = bodyA.id < bodyB.id ? bodyB : bodyA;\n            collision.parentA = collision.bodyA.parent;\n            collision.parentB = collision.bodyB.parent;\n        } else {\n            collision = pair.collision;\n        }\n\n        bodyA = collision.bodyA;\n        bodyB = collision.bodyB;\n\n        var minOverlap;\n\n        if (_overlapAB.overlap < _overlapBA.overlap) {\n            minOverlap = _overlapAB;\n        } else {\n            minOverlap = _overlapBA;\n        }\n\n        var normal = collision.normal,\n            supports = collision.supports,\n            minAxis = minOverlap.axis,\n            minAxisX = minAxis.x,\n            minAxisY = minAxis.y;\n\n        // ensure normal is facing away from bodyA\n        if (minAxisX * (bodyB.position.x - bodyA.position.x) + minAxisY * (bodyB.position.y - bodyA.position.y) < 0) {\n            normal.x = minAxisX;\n            normal.y = minAxisY;\n        } else {\n            normal.x = -minAxisX;\n            normal.y = -minAxisY;\n        }\n        \n        collision.tangent.x = -normal.y;\n        collision.tangent.y = normal.x;\n\n        collision.depth = minOverlap.overlap;\n\n        collision.penetration.x = normal.x * collision.depth;\n        collision.penetration.y = normal.y * collision.depth;\n\n        // find support points, there is always either exactly one or two\n        var supportsB = Collision._findSupports(bodyA, bodyB, normal, 1),\n            supportCount = 0;\n\n        // find the supports from bodyB that are inside bodyA\n        if (Vertices.contains(bodyA.vertices, supportsB[0])) {\n            supports[supportCount++] = supportsB[0];\n        }\n\n        if (Vertices.contains(bodyA.vertices, supportsB[1])) {\n            supports[supportCount++] = supportsB[1];\n        }\n\n        // find the supports from bodyA that are inside bodyB\n        if (supportCount < 2) {\n            var supportsA = Collision._findSupports(bodyB, bodyA, normal, -1);\n\n            if (Vertices.contains(bodyB.vertices, supportsA[0])) {\n                supports[supportCount++] = supportsA[0];\n            }\n\n            if (supportCount < 2 && Vertices.contains(bodyB.vertices, supportsA[1])) {\n                supports[supportCount++] = supportsA[1];\n            }\n        }\n\n        // account for the edge case of overlapping but no vertex containment\n        if (supportCount === 0) {\n            supports[supportCount++] = supportsB[0];\n        }\n\n        // update supports array size\n        supports.length = supportCount;\n\n        return collision;\n    };\n\n    /**\n     * Find the overlap between two sets of vertices.\n     * @method _overlapAxes\n     * @private\n     * @param {object} result\n     * @param {vertices} verticesA\n     * @param {vertices} verticesB\n     * @param {axes} axes\n     */\n    Collision._overlapAxes = function(result, verticesA, verticesB, axes) {\n        var verticesALength = verticesA.length,\n            verticesBLength = verticesB.length,\n            verticesAX = verticesA[0].x,\n            verticesAY = verticesA[0].y,\n            verticesBX = verticesB[0].x,\n            verticesBY = verticesB[0].y,\n            axesLength = axes.length,\n            overlapMin = Number.MAX_VALUE,\n            overlapAxisNumber = 0,\n            overlap,\n            overlapAB,\n            overlapBA,\n            dot,\n            i,\n            j;\n\n        for (i = 0; i < axesLength; i++) {\n            var axis = axes[i],\n                axisX = axis.x,\n                axisY = axis.y,\n                minA = verticesAX * axisX + verticesAY * axisY,\n                minB = verticesBX * axisX + verticesBY * axisY,\n                maxA = minA,\n                maxB = minB;\n            \n            for (j = 1; j < verticesALength; j += 1) {\n                dot = verticesA[j].x * axisX + verticesA[j].y * axisY;\n\n                if (dot > maxA) { \n                    maxA = dot;\n                } else if (dot < minA) { \n                    minA = dot;\n                }\n            }\n\n            for (j = 1; j < verticesBLength; j += 1) {\n                dot = verticesB[j].x * axisX + verticesB[j].y * axisY;\n\n                if (dot > maxB) { \n                    maxB = dot;\n                } else if (dot < minB) { \n                    minB = dot;\n                }\n            }\n\n            overlapAB = maxA - minB;\n            overlapBA = maxB - minA;\n            overlap = overlapAB < overlapBA ? overlapAB : overlapBA;\n\n            if (overlap < overlapMin) {\n                overlapMin = overlap;\n                overlapAxisNumber = i;\n\n                if (overlap <= 0) {\n                    // can not be intersecting\n                    break;\n                }\n            } \n        }\n\n        result.axis = axes[overlapAxisNumber];\n        result.overlap = overlapMin;\n    };\n\n    /**\n     * Projects vertices on an axis and returns an interval.\n     * @method _projectToAxis\n     * @private\n     * @param {} projection\n     * @param {} vertices\n     * @param {} axis\n     */\n    Collision._projectToAxis = function(projection, vertices, axis) {\n        var min = vertices[0].x * axis.x + vertices[0].y * axis.y,\n            max = min;\n\n        for (var i = 1; i < vertices.length; i += 1) {\n            var dot = vertices[i].x * axis.x + vertices[i].y * axis.y;\n\n            if (dot > max) { \n                max = dot; \n            } else if (dot < min) { \n                min = dot; \n            }\n        }\n\n        projection.min = min;\n        projection.max = max;\n    };\n\n    /**\n     * Finds supporting vertices given two bodies along a given direction using hill-climbing.\n     * @method _findSupports\n     * @private\n     * @param {body} bodyA\n     * @param {body} bodyB\n     * @param {vector} normal\n     * @param {number} direction\n     * @return [vector]\n     */\n    Collision._findSupports = function(bodyA, bodyB, normal, direction) {\n        var vertices = bodyB.vertices,\n            verticesLength = vertices.length,\n            bodyAPositionX = bodyA.position.x,\n            bodyAPositionY = bodyA.position.y,\n            normalX = normal.x * direction,\n            normalY = normal.y * direction,\n            nearestDistance = Number.MAX_VALUE,\n            vertexA,\n            vertexB,\n            vertexC,\n            distance,\n            j;\n\n        // find deepest vertex relative to the axis\n        for (j = 0; j < verticesLength; j += 1) {\n            vertexB = vertices[j];\n            distance = normalX * (bodyAPositionX - vertexB.x) + normalY * (bodyAPositionY - vertexB.y);\n\n            // convex hill-climbing\n            if (distance < nearestDistance) {\n                nearestDistance = distance;\n                vertexA = vertexB;\n            }\n        }\n\n        // measure next vertex\n        vertexC = vertices[(verticesLength + vertexA.index - 1) % verticesLength];\n        nearestDistance = normalX * (bodyAPositionX - vertexC.x) + normalY * (bodyAPositionY - vertexC.y);\n\n        // compare with previous vertex\n        vertexB = vertices[(vertexA.index + 1) % verticesLength];\n        if (normalX * (bodyAPositionX - vertexB.x) + normalY * (bodyAPositionY - vertexB.y) < nearestDistance) {\n            _supports[0] = vertexA;\n            _supports[1] = vertexB;\n\n            return _supports;\n        }\n\n        _supports[0] = vertexA;\n        _supports[1] = vertexC;\n\n        return _supports;\n    };\n\n    /*\n    *\n    *  Properties Documentation\n    *\n    */\n\n    /**\n     * A reference to the pair using this collision record, if there is one.\n     *\n     * @property pair\n     * @type {pair|null}\n     * @default null\n     */\n\n    /**\n     * A flag that indicates if the bodies were colliding when the collision was last updated.\n     * \n     * @property collided\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * The first body part represented by the collision (see also `collision.parentA`).\n     * \n     * @property bodyA\n     * @type body\n     */\n\n    /**\n     * The second body part represented by the collision (see also `collision.parentB`).\n     * \n     * @property bodyB\n     * @type body\n     */\n\n    /**\n     * The first body represented by the collision (i.e. `collision.bodyA.parent`).\n     * \n     * @property parentA\n     * @type body\n     */\n\n    /**\n     * The second body represented by the collision (i.e. `collision.bodyB.parent`).\n     * \n     * @property parentB\n     * @type body\n     */\n\n    /**\n     * A `Number` that represents the minimum separating distance between the bodies along the collision normal.\n     *\n     * @readOnly\n     * @property depth\n     * @type number\n     * @default 0\n     */\n\n    /**\n     * A normalised `Vector` that represents the direction between the bodies that provides the minimum separating distance.\n     *\n     * @property normal\n     * @type vector\n     * @default { x: 0, y: 0 }\n     */\n\n    /**\n     * A normalised `Vector` that is the tangent direction to the collision normal.\n     *\n     * @property tangent\n     * @type vector\n     * @default { x: 0, y: 0 }\n     */\n\n    /**\n     * A `Vector` that represents the direction and depth of the collision.\n     *\n     * @property penetration\n     * @type vector\n     * @default { x: 0, y: 0 }\n     */\n\n    /**\n     * An array of body vertices that represent the support points in the collision.\n     * These are the deepest vertices (along the collision normal) of each body that are contained by the other body's vertices.\n     *\n     * @property supports\n     * @type vector[]\n     * @default []\n     */\n\n})();\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Pair` module contains methods for creating and manipulating collision pairs.\n*\n* @class Pair\n*/\n\nvar Pair = {};\n\nmodule.exports = Pair;\n\nvar Contact = __webpack_require__(17);\n\n(function() {\n    \n    /**\n     * Creates a pair.\n     * @method create\n     * @param {collision} collision\n     * @param {number} timestamp\n     * @return {pair} A new pair\n     */\n    Pair.create = function(collision, timestamp) {\n        var bodyA = collision.bodyA,\n            bodyB = collision.bodyB;\n\n        var pair = {\n            id: Pair.id(bodyA, bodyB),\n            bodyA: bodyA,\n            bodyB: bodyB,\n            collision: collision,\n            contacts: [],\n            activeContacts: [],\n            separation: 0,\n            isActive: true,\n            confirmedActive: true,\n            isSensor: bodyA.isSensor || bodyB.isSensor,\n            timeCreated: timestamp,\n            timeUpdated: timestamp,\n            inverseMass: 0,\n            friction: 0,\n            frictionStatic: 0,\n            restitution: 0,\n            slop: 0\n        };\n\n        Pair.update(pair, collision, timestamp);\n\n        return pair;\n    };\n\n    /**\n     * Updates a pair given a collision.\n     * @method update\n     * @param {pair} pair\n     * @param {collision} collision\n     * @param {number} timestamp\n     */\n    Pair.update = function(pair, collision, timestamp) {\n        var contacts = pair.contacts,\n            supports = collision.supports,\n            activeContacts = pair.activeContacts,\n            parentA = collision.parentA,\n            parentB = collision.parentB,\n            parentAVerticesLength = parentA.vertices.length;\n        \n        pair.isActive = true;\n        pair.timeUpdated = timestamp;\n        pair.collision = collision;\n        pair.separation = collision.depth;\n        pair.inverseMass = parentA.inverseMass + parentB.inverseMass;\n        pair.friction = parentA.friction < parentB.friction ? parentA.friction : parentB.friction;\n        pair.frictionStatic = parentA.frictionStatic > parentB.frictionStatic ? parentA.frictionStatic : parentB.frictionStatic;\n        pair.restitution = parentA.restitution > parentB.restitution ? parentA.restitution : parentB.restitution;\n        pair.slop = parentA.slop > parentB.slop ? parentA.slop : parentB.slop;\n\n        collision.pair = pair;\n        activeContacts.length = 0;\n        \n        for (var i = 0; i < supports.length; i++) {\n            var support = supports[i],\n                contactId = support.body === parentA ? support.index : parentAVerticesLength + support.index,\n                contact = contacts[contactId];\n\n            if (contact) {\n                activeContacts.push(contact);\n            } else {\n                activeContacts.push(contacts[contactId] = Contact.create(support));\n            }\n        }\n    };\n    \n    /**\n     * Set a pair as active or inactive.\n     * @method setActive\n     * @param {pair} pair\n     * @param {bool} isActive\n     * @param {number} timestamp\n     */\n    Pair.setActive = function(pair, isActive, timestamp) {\n        if (isActive) {\n            pair.isActive = true;\n            pair.timeUpdated = timestamp;\n        } else {\n            pair.isActive = false;\n            pair.activeContacts.length = 0;\n        }\n    };\n\n    /**\n     * Get the id for the given pair.\n     * @method id\n     * @param {body} bodyA\n     * @param {body} bodyB\n     * @return {string} Unique pairId\n     */\n    Pair.id = function(bodyA, bodyB) {\n        if (bodyA.id < bodyB.id) {\n            return 'A' + bodyA.id + 'B' + bodyB.id;\n        } else {\n            return 'A' + bodyB.id + 'B' + bodyA.id;\n        }\n    };\n\n})();\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Constraint` module contains methods for creating and manipulating constraints.\n* Constraints are used for specifying that a fixed distance must be maintained between two bodies (or a body and a fixed world-space position).\n* The stiffness of constraints can be modified to create springs or elastic.\n*\n* See the included usage [examples](https://github.com/liabru/matter-js/tree/master/examples).\n*\n* @class Constraint\n*/\n\nvar Constraint = {};\n\nmodule.exports = Constraint;\n\nvar Vertices = __webpack_require__(3);\nvar Vector = __webpack_require__(2);\nvar Sleeping = __webpack_require__(7);\nvar Bounds = __webpack_require__(1);\nvar Axes = __webpack_require__(11);\nvar Common = __webpack_require__(0);\n\n(function() {\n\n    Constraint._warming = 0.4;\n    Constraint._torqueDampen = 1;\n    Constraint._minLength = 0.000001;\n\n    /**\n     * Creates a new constraint.\n     * All properties have default values, and many are pre-calculated automatically based on other properties.\n     * To simulate a revolute constraint (or pin joint) set `length: 0` and a high `stiffness` value (e.g. `0.7` or above).\n     * If the constraint is unstable, try lowering the `stiffness` value and / or increasing `engine.constraintIterations`.\n     * For compound bodies, constraints must be applied to the parent body (not one of its parts).\n     * See the properties section below for detailed information on what you can pass via the `options` object.\n     * @method create\n     * @param {} options\n     * @return {constraint} constraint\n     */\n    Constraint.create = function(options) {\n        var constraint = options;\n\n        // if bodies defined but no points, use body centre\n        if (constraint.bodyA && !constraint.pointA)\n            constraint.pointA = { x: 0, y: 0 };\n        if (constraint.bodyB && !constraint.pointB)\n            constraint.pointB = { x: 0, y: 0 };\n\n        // calculate static length using initial world space points\n        var initialPointA = constraint.bodyA ? Vector.add(constraint.bodyA.position, constraint.pointA) : constraint.pointA,\n            initialPointB = constraint.bodyB ? Vector.add(constraint.bodyB.position, constraint.pointB) : constraint.pointB,\n            length = Vector.magnitude(Vector.sub(initialPointA, initialPointB));\n    \n        constraint.length = typeof constraint.length !== 'undefined' ? constraint.length : length;\n\n        // option defaults\n        constraint.id = constraint.id || Common.nextId();\n        constraint.label = constraint.label || 'Constraint';\n        constraint.type = 'constraint';\n        constraint.stiffness = constraint.stiffness || (constraint.length > 0 ? 1 : 0.7);\n        constraint.damping = constraint.damping || 0;\n        constraint.angularStiffness = constraint.angularStiffness || 0;\n        constraint.angleA = constraint.bodyA ? constraint.bodyA.angle : constraint.angleA;\n        constraint.angleB = constraint.bodyB ? constraint.bodyB.angle : constraint.angleB;\n        constraint.plugin = {};\n\n        // render\n        var render = {\n            visible: true,\n            lineWidth: 2,\n            strokeStyle: '#ffffff',\n            type: 'line',\n            anchors: true\n        };\n\n        if (constraint.length === 0 && constraint.stiffness > 0.1) {\n            render.type = 'pin';\n            render.anchors = false;\n        } else if (constraint.stiffness < 0.9) {\n            render.type = 'spring';\n        }\n\n        constraint.render = Common.extend(render, constraint.render);\n\n        return constraint;\n    };\n\n    /**\n     * Prepares for solving by constraint warming.\n     * @private\n     * @method preSolveAll\n     * @param {body[]} bodies\n     */\n    Constraint.preSolveAll = function(bodies) {\n        for (var i = 0; i < bodies.length; i += 1) {\n            var body = bodies[i],\n                impulse = body.constraintImpulse;\n\n            if (body.isStatic || (impulse.x === 0 && impulse.y === 0 && impulse.angle === 0)) {\n                continue;\n            }\n\n            body.position.x += impulse.x;\n            body.position.y += impulse.y;\n            body.angle += impulse.angle;\n        }\n    };\n\n    /**\n     * Solves all constraints in a list of collisions.\n     * @private\n     * @method solveAll\n     * @param {constraint[]} constraints\n     * @param {number} timeScale\n     */\n    Constraint.solveAll = function(constraints, timeScale) {\n        // Solve fixed constraints first.\n        for (var i = 0; i < constraints.length; i += 1) {\n            var constraint = constraints[i],\n                fixedA = !constraint.bodyA || (constraint.bodyA && constraint.bodyA.isStatic),\n                fixedB = !constraint.bodyB || (constraint.bodyB && constraint.bodyB.isStatic);\n\n            if (fixedA || fixedB) {\n                Constraint.solve(constraints[i], timeScale);\n            }\n        }\n\n        // Solve free constraints last.\n        for (i = 0; i < constraints.length; i += 1) {\n            constraint = constraints[i];\n            fixedA = !constraint.bodyA || (constraint.bodyA && constraint.bodyA.isStatic);\n            fixedB = !constraint.bodyB || (constraint.bodyB && constraint.bodyB.isStatic);\n\n            if (!fixedA && !fixedB) {\n                Constraint.solve(constraints[i], timeScale);\n            }\n        }\n    };\n\n    /**\n     * Solves a distance constraint with Gauss-Siedel method.\n     * @private\n     * @method solve\n     * @param {constraint} constraint\n     * @param {number} timeScale\n     */\n    Constraint.solve = function(constraint, timeScale) {\n        var bodyA = constraint.bodyA,\n            bodyB = constraint.bodyB,\n            pointA = constraint.pointA,\n            pointB = constraint.pointB;\n\n        if (!bodyA && !bodyB)\n            return;\n\n        // update reference angle\n        if (bodyA && !bodyA.isStatic) {\n            Vector.rotate(pointA, bodyA.angle - constraint.angleA, pointA);\n            constraint.angleA = bodyA.angle;\n        }\n        \n        // update reference angle\n        if (bodyB && !bodyB.isStatic) {\n            Vector.rotate(pointB, bodyB.angle - constraint.angleB, pointB);\n            constraint.angleB = bodyB.angle;\n        }\n\n        var pointAWorld = pointA,\n            pointBWorld = pointB;\n\n        if (bodyA) pointAWorld = Vector.add(bodyA.position, pointA);\n        if (bodyB) pointBWorld = Vector.add(bodyB.position, pointB);\n\n        if (!pointAWorld || !pointBWorld)\n            return;\n\n        var delta = Vector.sub(pointAWorld, pointBWorld),\n            currentLength = Vector.magnitude(delta);\n\n        // prevent singularity\n        if (currentLength < Constraint._minLength) {\n            currentLength = Constraint._minLength;\n        }\n\n        // solve distance constraint with Gauss-Siedel method\n        var difference = (currentLength - constraint.length) / currentLength,\n            stiffness = constraint.stiffness < 1 ? constraint.stiffness * timeScale : constraint.stiffness,\n            force = Vector.mult(delta, difference * stiffness),\n            massTotal = (bodyA ? bodyA.inverseMass : 0) + (bodyB ? bodyB.inverseMass : 0),\n            inertiaTotal = (bodyA ? bodyA.inverseInertia : 0) + (bodyB ? bodyB.inverseInertia : 0),\n            resistanceTotal = massTotal + inertiaTotal,\n            torque,\n            share,\n            normal,\n            normalVelocity,\n            relativeVelocity;\n\n        if (constraint.damping) {\n            var zero = Vector.create();\n            normal = Vector.div(delta, currentLength);\n\n            relativeVelocity = Vector.sub(\n                bodyB && Vector.sub(bodyB.position, bodyB.positionPrev) || zero,\n                bodyA && Vector.sub(bodyA.position, bodyA.positionPrev) || zero\n            );\n\n            normalVelocity = Vector.dot(normal, relativeVelocity);\n        }\n\n        if (bodyA && !bodyA.isStatic) {\n            share = bodyA.inverseMass / massTotal;\n\n            // keep track of applied impulses for post solving\n            bodyA.constraintImpulse.x -= force.x * share;\n            bodyA.constraintImpulse.y -= force.y * share;\n\n            // apply forces\n            bodyA.position.x -= force.x * share;\n            bodyA.position.y -= force.y * share;\n\n            // apply damping\n            if (constraint.damping) {\n                bodyA.positionPrev.x -= constraint.damping * normal.x * normalVelocity * share;\n                bodyA.positionPrev.y -= constraint.damping * normal.y * normalVelocity * share;\n            }\n\n            // apply torque\n            torque = (Vector.cross(pointA, force) / resistanceTotal) * Constraint._torqueDampen * bodyA.inverseInertia * (1 - constraint.angularStiffness);\n            bodyA.constraintImpulse.angle -= torque;\n            bodyA.angle -= torque;\n        }\n\n        if (bodyB && !bodyB.isStatic) {\n            share = bodyB.inverseMass / massTotal;\n\n            // keep track of applied impulses for post solving\n            bodyB.constraintImpulse.x += force.x * share;\n            bodyB.constraintImpulse.y += force.y * share;\n            \n            // apply forces\n            bodyB.position.x += force.x * share;\n            bodyB.position.y += force.y * share;\n\n            // apply damping\n            if (constraint.damping) {\n                bodyB.positionPrev.x += constraint.damping * normal.x * normalVelocity * share;\n                bodyB.positionPrev.y += constraint.damping * normal.y * normalVelocity * share;\n            }\n\n            // apply torque\n            torque = (Vector.cross(pointB, force) / resistanceTotal) * Constraint._torqueDampen * bodyB.inverseInertia * (1 - constraint.angularStiffness);\n            bodyB.constraintImpulse.angle += torque;\n            bodyB.angle += torque;\n        }\n\n    };\n\n    /**\n     * Performs body updates required after solving constraints.\n     * @private\n     * @method postSolveAll\n     * @param {body[]} bodies\n     */\n    Constraint.postSolveAll = function(bodies) {\n        for (var i = 0; i < bodies.length; i++) {\n            var body = bodies[i],\n                impulse = body.constraintImpulse;\n\n            if (body.isStatic || (impulse.x === 0 && impulse.y === 0 && impulse.angle === 0)) {\n                continue;\n            }\n\n            Sleeping.set(body, false);\n\n            // update geometry and reset\n            for (var j = 0; j < body.parts.length; j++) {\n                var part = body.parts[j];\n                \n                Vertices.translate(part.vertices, impulse);\n\n                if (j > 0) {\n                    part.position.x += impulse.x;\n                    part.position.y += impulse.y;\n                }\n\n                if (impulse.angle !== 0) {\n                    Vertices.rotate(part.vertices, impulse.angle, body.position);\n                    Axes.rotate(part.axes, impulse.angle);\n                    if (j > 0) {\n                        Vector.rotateAbout(part.position, impulse.angle, body.position, part.position);\n                    }\n                }\n\n                Bounds.update(part.bounds, part.vertices, body.velocity);\n            }\n\n            // dampen the cached impulse for warming next step\n            impulse.angle *= Constraint._warming;\n            impulse.x *= Constraint._warming;\n            impulse.y *= Constraint._warming;\n        }\n    };\n\n    /**\n     * Returns the world-space position of `constraint.pointA`, accounting for `constraint.bodyA`.\n     * @method pointAWorld\n     * @param {constraint} constraint\n     * @returns {vector} the world-space position\n     */\n    Constraint.pointAWorld = function(constraint) {\n        return {\n            x: (constraint.bodyA ? constraint.bodyA.position.x : 0) + constraint.pointA.x,\n            y: (constraint.bodyA ? constraint.bodyA.position.y : 0) + constraint.pointA.y\n        };\n    };\n\n    /**\n     * Returns the world-space position of `constraint.pointB`, accounting for `constraint.bodyB`.\n     * @method pointBWorld\n     * @param {constraint} constraint\n     * @returns {vector} the world-space position\n     */\n    Constraint.pointBWorld = function(constraint) {\n        return {\n            x: (constraint.bodyB ? constraint.bodyB.position.x : 0) + constraint.pointB.x,\n            y: (constraint.bodyB ? constraint.bodyB.position.y : 0) + constraint.pointB.y\n        };\n    };\n\n    /*\n    *\n    *  Properties Documentation\n    *\n    */\n\n    /**\n     * An integer `Number` uniquely identifying number generated in `Composite.create` by `Common.nextId`.\n     *\n     * @property id\n     * @type number\n     */\n\n    /**\n     * A `String` denoting the type of object.\n     *\n     * @property type\n     * @type string\n     * @default \"constraint\"\n     * @readOnly\n     */\n\n    /**\n     * An arbitrary `String` name to help the user identify and manage bodies.\n     *\n     * @property label\n     * @type string\n     * @default \"Constraint\"\n     */\n\n    /**\n     * An `Object` that defines the rendering properties to be consumed by the module `Matter.Render`.\n     *\n     * @property render\n     * @type object\n     */\n\n    /**\n     * A flag that indicates if the constraint should be rendered.\n     *\n     * @property render.visible\n     * @type boolean\n     * @default true\n     */\n\n    /**\n     * A `Number` that defines the line width to use when rendering the constraint outline.\n     * A value of `0` means no outline will be rendered.\n     *\n     * @property render.lineWidth\n     * @type number\n     * @default 2\n     */\n\n    /**\n     * A `String` that defines the stroke style to use when rendering the constraint outline.\n     * It is the same as when using a canvas, so it accepts CSS style property values.\n     *\n     * @property render.strokeStyle\n     * @type string\n     * @default a random colour\n     */\n\n    /**\n     * A `String` that defines the constraint rendering type. \n     * The possible values are 'line', 'pin', 'spring'.\n     * An appropriate render type will be automatically chosen unless one is given in options.\n     *\n     * @property render.type\n     * @type string\n     * @default 'line'\n     */\n\n    /**\n     * A `Boolean` that defines if the constraint's anchor points should be rendered.\n     *\n     * @property render.anchors\n     * @type boolean\n     * @default true\n     */\n\n    /**\n     * The first possible `Body` that this constraint is attached to.\n     *\n     * @property bodyA\n     * @type body\n     * @default null\n     */\n\n    /**\n     * The second possible `Body` that this constraint is attached to.\n     *\n     * @property bodyB\n     * @type body\n     * @default null\n     */\n\n    /**\n     * A `Vector` that specifies the offset of the constraint from center of the `constraint.bodyA` if defined, otherwise a world-space position.\n     *\n     * @property pointA\n     * @type vector\n     * @default { x: 0, y: 0 }\n     */\n\n    /**\n     * A `Vector` that specifies the offset of the constraint from center of the `constraint.bodyB` if defined, otherwise a world-space position.\n     *\n     * @property pointB\n     * @type vector\n     * @default { x: 0, y: 0 }\n     */\n\n    /**\n     * A `Number` that specifies the stiffness of the constraint, i.e. the rate at which it returns to its resting `constraint.length`.\n     * A value of `1` means the constraint should be very stiff.\n     * A value of `0.2` means the constraint acts like a soft spring.\n     *\n     * @property stiffness\n     * @type number\n     * @default 1\n     */\n\n    /**\n     * A `Number` that specifies the damping of the constraint, \n     * i.e. the amount of resistance applied to each body based on their velocities to limit the amount of oscillation.\n     * Damping will only be apparent when the constraint also has a very low `stiffness`.\n     * A value of `0.1` means the constraint will apply heavy damping, resulting in little to no oscillation.\n     * A value of `0` means the constraint will apply no damping.\n     *\n     * @property damping\n     * @type number\n     * @default 0\n     */\n\n    /**\n     * A `Number` that specifies the target resting length of the constraint. \n     * It is calculated automatically in `Constraint.create` from initial positions of the `constraint.bodyA` and `constraint.bodyB`.\n     *\n     * @property length\n     * @type number\n     */\n\n    /**\n     * An object reserved for storing plugin-specific properties.\n     *\n     * @property plugin\n     * @type {}\n     */\n\n})();\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Axes` module contains methods for creating and manipulating sets of axes.\n*\n* @class Axes\n*/\n\nvar Axes = {};\n\nmodule.exports = Axes;\n\nvar Vector = __webpack_require__(2);\nvar Common = __webpack_require__(0);\n\n(function() {\n\n    /**\n     * Creates a new set of axes from the given vertices.\n     * @method fromVertices\n     * @param {vertices} vertices\n     * @return {axes} A new axes from the given vertices\n     */\n    Axes.fromVertices = function(vertices) {\n        var axes = {};\n\n        // find the unique axes, using edge normal gradients\n        for (var i = 0; i < vertices.length; i++) {\n            var j = (i + 1) % vertices.length, \n                normal = Vector.normalise({ \n                    x: vertices[j].y - vertices[i].y, \n                    y: vertices[i].x - vertices[j].x\n                }),\n                gradient = (normal.y === 0) ? Infinity : (normal.x / normal.y);\n            \n            // limit precision\n            gradient = gradient.toFixed(3).toString();\n            axes[gradient] = normal;\n        }\n\n        return Common.values(axes);\n    };\n\n    /**\n     * Rotates a set of axes by the given angle.\n     * @method rotate\n     * @param {axes} axes\n     * @param {number} angle\n     */\n    Axes.rotate = function(axes, angle) {\n        if (angle === 0)\n            return;\n        \n        var cos = Math.cos(angle),\n            sin = Math.sin(angle);\n\n        for (var i = 0; i < axes.length; i++) {\n            var axis = axes[i],\n                xx;\n            xx = axis.x * cos - axis.y * sin;\n            axis.y = axis.x * sin + axis.y * cos;\n            axis.x = xx;\n        }\n    };\n\n})();\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Bodies` module contains factory methods for creating rigid body models \n* with commonly used body configurations (such as rectangles, circles and other polygons).\n*\n* See the included usage [examples](https://github.com/liabru/matter-js/tree/master/examples).\n*\n* @class Bodies\n*/\n\n// TODO: true circle bodies\n\nvar Bodies = {};\n\nmodule.exports = Bodies;\n\nvar Vertices = __webpack_require__(3);\nvar Common = __webpack_require__(0);\nvar Body = __webpack_require__(6);\nvar Bounds = __webpack_require__(1);\nvar Vector = __webpack_require__(2);\n\n(function() {\n\n    /**\n     * Creates a new rigid body model with a rectangle hull. \n     * The options parameter is an object that specifies any properties you wish to override the defaults.\n     * See the properties section of the `Matter.Body` module for detailed information on what you can pass via the `options` object.\n     * @method rectangle\n     * @param {number} x\n     * @param {number} y\n     * @param {number} width\n     * @param {number} height\n     * @param {object} [options]\n     * @return {body} A new rectangle body\n     */\n    Bodies.rectangle = function(x, y, width, height, options) {\n        options = options || {};\n\n        var rectangle = { \n            label: 'Rectangle Body',\n            position: { x: x, y: y },\n            vertices: Vertices.fromPath('L 0 0 L ' + width + ' 0 L ' + width + ' ' + height + ' L 0 ' + height)\n        };\n\n        if (options.chamfer) {\n            var chamfer = options.chamfer;\n            rectangle.vertices = Vertices.chamfer(rectangle.vertices, chamfer.radius, \n                chamfer.quality, chamfer.qualityMin, chamfer.qualityMax);\n            delete options.chamfer;\n        }\n\n        return Body.create(Common.extend({}, rectangle, options));\n    };\n    \n    /**\n     * Creates a new rigid body model with a trapezoid hull. \n     * The options parameter is an object that specifies any properties you wish to override the defaults.\n     * See the properties section of the `Matter.Body` module for detailed information on what you can pass via the `options` object.\n     * @method trapezoid\n     * @param {number} x\n     * @param {number} y\n     * @param {number} width\n     * @param {number} height\n     * @param {number} slope\n     * @param {object} [options]\n     * @return {body} A new trapezoid body\n     */\n    Bodies.trapezoid = function(x, y, width, height, slope, options) {\n        options = options || {};\n\n        slope *= 0.5;\n        var roof = (1 - (slope * 2)) * width;\n        \n        var x1 = width * slope,\n            x2 = x1 + roof,\n            x3 = x2 + x1,\n            verticesPath;\n\n        if (slope < 0.5) {\n            verticesPath = 'L 0 0 L ' + x1 + ' ' + (-height) + ' L ' + x2 + ' ' + (-height) + ' L ' + x3 + ' 0';\n        } else {\n            verticesPath = 'L 0 0 L ' + x2 + ' ' + (-height) + ' L ' + x3 + ' 0';\n        }\n\n        var trapezoid = { \n            label: 'Trapezoid Body',\n            position: { x: x, y: y },\n            vertices: Vertices.fromPath(verticesPath)\n        };\n\n        if (options.chamfer) {\n            var chamfer = options.chamfer;\n            trapezoid.vertices = Vertices.chamfer(trapezoid.vertices, chamfer.radius, \n                chamfer.quality, chamfer.qualityMin, chamfer.qualityMax);\n            delete options.chamfer;\n        }\n\n        return Body.create(Common.extend({}, trapezoid, options));\n    };\n\n    /**\n     * Creates a new rigid body model with a circle hull. \n     * The options parameter is an object that specifies any properties you wish to override the defaults.\n     * See the properties section of the `Matter.Body` module for detailed information on what you can pass via the `options` object.\n     * @method circle\n     * @param {number} x\n     * @param {number} y\n     * @param {number} radius\n     * @param {object} [options]\n     * @param {number} [maxSides]\n     * @return {body} A new circle body\n     */\n    Bodies.circle = function(x, y, radius, options, maxSides) {\n        options = options || {};\n\n        var circle = {\n            label: 'Circle Body',\n            circleRadius: radius\n        };\n        \n        // approximate circles with polygons until true circles implemented in SAT\n        maxSides = maxSides || 25;\n        var sides = Math.ceil(Math.max(10, Math.min(maxSides, radius)));\n\n        // optimisation: always use even number of sides (half the number of unique axes)\n        if (sides % 2 === 1)\n            sides += 1;\n\n        return Bodies.polygon(x, y, sides, radius, Common.extend({}, circle, options));\n    };\n\n    /**\n     * Creates a new rigid body model with a regular polygon hull with the given number of sides. \n     * The options parameter is an object that specifies any properties you wish to override the defaults.\n     * See the properties section of the `Matter.Body` module for detailed information on what you can pass via the `options` object.\n     * @method polygon\n     * @param {number} x\n     * @param {number} y\n     * @param {number} sides\n     * @param {number} radius\n     * @param {object} [options]\n     * @return {body} A new regular polygon body\n     */\n    Bodies.polygon = function(x, y, sides, radius, options) {\n        options = options || {};\n\n        if (sides < 3)\n            return Bodies.circle(x, y, radius, options);\n\n        var theta = 2 * Math.PI / sides,\n            path = '',\n            offset = theta * 0.5;\n\n        for (var i = 0; i < sides; i += 1) {\n            var angle = offset + (i * theta),\n                xx = Math.cos(angle) * radius,\n                yy = Math.sin(angle) * radius;\n\n            path += 'L ' + xx.toFixed(3) + ' ' + yy.toFixed(3) + ' ';\n        }\n\n        var polygon = { \n            label: 'Polygon Body',\n            position: { x: x, y: y },\n            vertices: Vertices.fromPath(path)\n        };\n\n        if (options.chamfer) {\n            var chamfer = options.chamfer;\n            polygon.vertices = Vertices.chamfer(polygon.vertices, chamfer.radius, \n                chamfer.quality, chamfer.qualityMin, chamfer.qualityMax);\n            delete options.chamfer;\n        }\n\n        return Body.create(Common.extend({}, polygon, options));\n    };\n\n    /**\n     * Utility to create a compound body based on set(s) of vertices.\n     * \n     * _Note:_ To optionally enable automatic concave vertices decomposition the [poly-decomp](https://github.com/schteppe/poly-decomp.js) \n     * package must be first installed and provided see `Common.setDecomp`, otherwise the convex hull of each vertex set will be used.\n     * \n     * The resulting vertices are reorientated about their centre of mass,\n     * and offset such that `body.position` corresponds to this point.\n     * \n     * The resulting offset may be found if needed by subtracting `body.bounds` from the original input bounds.\n     * To later move the centre of mass see `Body.setCentre`.\n     * \n     * Note that automatic conconcave decomposition results are not always optimal. \n     * For best results, simplify the input vertices as much as possible first.\n     * By default this function applies some addtional simplification to help.\n     * \n     * Some outputs may also require further manual processing afterwards to be robust.\n     * In particular some parts may need to be overlapped to avoid collision gaps.\n     * Thin parts and sharp points should be avoided or removed where possible.\n     *\n     * The options parameter object specifies any `Matter.Body` properties you wish to override the defaults.\n     * \n     * See the properties section of the `Matter.Body` module for detailed information on what you can pass via the `options` object.\n     * @method fromVertices\n     * @param {number} x\n     * @param {number} y\n     * @param {array} vertexSets One or more arrays of vertex points e.g. `[[{ x: 0, y: 0 }...], ...]`.\n     * @param {object} [options] The body options.\n     * @param {bool} [flagInternal=false] Optionally marks internal edges with `isInternal`.\n     * @param {number} [removeCollinear=0.01] Threshold when simplifying vertices along the same edge.\n     * @param {number} [minimumArea=10] Threshold when removing small parts.\n     * @param {number} [removeDuplicatePoints=0.01] Threshold when simplifying nearby vertices.\n     * @return {body}\n     */\n    Bodies.fromVertices = function(x, y, vertexSets, options, flagInternal, removeCollinear, minimumArea, removeDuplicatePoints) {\n        var decomp = Common.getDecomp(),\n            canDecomp,\n            body,\n            parts,\n            isConvex,\n            isConcave,\n            vertices,\n            i,\n            j,\n            k,\n            v,\n            z;\n\n        // check decomp is as expected\n        canDecomp = Boolean(decomp && decomp.quickDecomp);\n\n        options = options || {};\n        parts = [];\n\n        flagInternal = typeof flagInternal !== 'undefined' ? flagInternal : false;\n        removeCollinear = typeof removeCollinear !== 'undefined' ? removeCollinear : 0.01;\n        minimumArea = typeof minimumArea !== 'undefined' ? minimumArea : 10;\n        removeDuplicatePoints = typeof removeDuplicatePoints !== 'undefined' ? removeDuplicatePoints : 0.01;\n\n        // ensure vertexSets is an array of arrays\n        if (!Common.isArray(vertexSets[0])) {\n            vertexSets = [vertexSets];\n        }\n\n        for (v = 0; v < vertexSets.length; v += 1) {\n            vertices = vertexSets[v];\n            isConvex = Vertices.isConvex(vertices);\n            isConcave = !isConvex;\n\n            if (isConcave && !canDecomp) {\n                Common.warnOnce(\n                    'Bodies.fromVertices: Install the \\'poly-decomp\\' library and use Common.setDecomp or provide \\'decomp\\' as a global to decompose concave vertices.'\n                );\n            }\n\n            if (isConvex || !canDecomp) {\n                if (isConvex) {\n                    vertices = Vertices.clockwiseSort(vertices);\n                } else {\n                    // fallback to convex hull when decomposition is not possible\n                    vertices = Vertices.hull(vertices);\n                }\n\n                parts.push({\n                    position: { x: x, y: y },\n                    vertices: vertices\n                });\n            } else {\n                // initialise a decomposition\n                var concave = vertices.map(function(vertex) {\n                    return [vertex.x, vertex.y];\n                });\n\n                // vertices are concave and simple, we can decompose into parts\n                decomp.makeCCW(concave);\n                if (removeCollinear !== false)\n                    decomp.removeCollinearPoints(concave, removeCollinear);\n                if (removeDuplicatePoints !== false && decomp.removeDuplicatePoints)\n                    decomp.removeDuplicatePoints(concave, removeDuplicatePoints);\n\n                // use the quick decomposition algorithm (Bayazit)\n                var decomposed = decomp.quickDecomp(concave);\n\n                // for each decomposed chunk\n                for (i = 0; i < decomposed.length; i++) {\n                    var chunk = decomposed[i];\n\n                    // convert vertices into the correct structure\n                    var chunkVertices = chunk.map(function(vertices) {\n                        return {\n                            x: vertices[0],\n                            y: vertices[1]\n                        };\n                    });\n\n                    // skip small chunks\n                    if (minimumArea > 0 && Vertices.area(chunkVertices) < minimumArea)\n                        continue;\n\n                    // create a compound part\n                    parts.push({\n                        position: Vertices.centre(chunkVertices),\n                        vertices: chunkVertices\n                    });\n                }\n            }\n        }\n\n        // create body parts\n        for (i = 0; i < parts.length; i++) {\n            parts[i] = Body.create(Common.extend(parts[i], options));\n        }\n\n        // flag internal edges (coincident part edges)\n        if (flagInternal) {\n            var coincident_max_dist = 5;\n\n            for (i = 0; i < parts.length; i++) {\n                var partA = parts[i];\n\n                for (j = i + 1; j < parts.length; j++) {\n                    var partB = parts[j];\n\n                    if (Bounds.overlaps(partA.bounds, partB.bounds)) {\n                        var pav = partA.vertices,\n                            pbv = partB.vertices;\n\n                        // iterate vertices of both parts\n                        for (k = 0; k < partA.vertices.length; k++) {\n                            for (z = 0; z < partB.vertices.length; z++) {\n                                // find distances between the vertices\n                                var da = Vector.magnitudeSquared(Vector.sub(pav[(k + 1) % pav.length], pbv[z])),\n                                    db = Vector.magnitudeSquared(Vector.sub(pav[k], pbv[(z + 1) % pbv.length]));\n\n                                // if both vertices are very close, consider the edge concident (internal)\n                                if (da < coincident_max_dist && db < coincident_max_dist) {\n                                    pav[k].isInternal = true;\n                                    pbv[z].isInternal = true;\n                                }\n                            }\n                        }\n\n                    }\n                }\n            }\n        }\n\n        if (parts.length > 1) {\n            // create the parent body to be returned, that contains generated compound parts\n            body = Body.create(Common.extend({ parts: parts.slice(0) }, options));\n\n            // offset such that body.position is at the centre off mass\n            Body.setPosition(body, { x: x, y: y });\n\n            return body;\n        } else {\n            return parts[0];\n        }\n    };\n\n})();\n\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Mouse` module contains methods for creating and manipulating mouse inputs.\n*\n* @class Mouse\n*/\n\nvar Mouse = {};\n\nmodule.exports = Mouse;\n\nvar Common = __webpack_require__(0);\n\n(function() {\n\n    /**\n     * Creates a mouse input.\n     * @method create\n     * @param {HTMLElement} element\n     * @return {mouse} A new mouse\n     */\n    Mouse.create = function(element) {\n        var mouse = {};\n\n        if (!element) {\n            Common.log('Mouse.create: element was undefined, defaulting to document.body', 'warn');\n        }\n        \n        mouse.element = element || document.body;\n        mouse.absolute = { x: 0, y: 0 };\n        mouse.position = { x: 0, y: 0 };\n        mouse.mousedownPosition = { x: 0, y: 0 };\n        mouse.mouseupPosition = { x: 0, y: 0 };\n        mouse.offset = { x: 0, y: 0 };\n        mouse.scale = { x: 1, y: 1 };\n        mouse.wheelDelta = 0;\n        mouse.button = -1;\n        mouse.pixelRatio = parseInt(mouse.element.getAttribute('data-pixel-ratio'), 10) || 1;\n\n        mouse.sourceEvents = {\n            mousemove: null,\n            mousedown: null,\n            mouseup: null,\n            mousewheel: null\n        };\n        \n        mouse.mousemove = function(event) { \n            var position = Mouse._getRelativeMousePosition(event, mouse.element, mouse.pixelRatio),\n                touches = event.changedTouches;\n\n            if (touches) {\n                mouse.button = 0;\n                event.preventDefault();\n            }\n\n            mouse.absolute.x = position.x;\n            mouse.absolute.y = position.y;\n            mouse.position.x = mouse.absolute.x * mouse.scale.x + mouse.offset.x;\n            mouse.position.y = mouse.absolute.y * mouse.scale.y + mouse.offset.y;\n            mouse.sourceEvents.mousemove = event;\n        };\n        \n        mouse.mousedown = function(event) {\n            var position = Mouse._getRelativeMousePosition(event, mouse.element, mouse.pixelRatio),\n                touches = event.changedTouches;\n\n            if (touches) {\n                mouse.button = 0;\n                event.preventDefault();\n            } else {\n                mouse.button = event.button;\n            }\n\n            mouse.absolute.x = position.x;\n            mouse.absolute.y = position.y;\n            mouse.position.x = mouse.absolute.x * mouse.scale.x + mouse.offset.x;\n            mouse.position.y = mouse.absolute.y * mouse.scale.y + mouse.offset.y;\n            mouse.mousedownPosition.x = mouse.position.x;\n            mouse.mousedownPosition.y = mouse.position.y;\n            mouse.sourceEvents.mousedown = event;\n        };\n        \n        mouse.mouseup = function(event) {\n            var position = Mouse._getRelativeMousePosition(event, mouse.element, mouse.pixelRatio),\n                touches = event.changedTouches;\n\n            if (touches) {\n                event.preventDefault();\n            }\n            \n            mouse.button = -1;\n            mouse.absolute.x = position.x;\n            mouse.absolute.y = position.y;\n            mouse.position.x = mouse.absolute.x * mouse.scale.x + mouse.offset.x;\n            mouse.position.y = mouse.absolute.y * mouse.scale.y + mouse.offset.y;\n            mouse.mouseupPosition.x = mouse.position.x;\n            mouse.mouseupPosition.y = mouse.position.y;\n            mouse.sourceEvents.mouseup = event;\n        };\n\n        mouse.mousewheel = function(event) {\n            mouse.wheelDelta = Math.max(-1, Math.min(1, event.wheelDelta || -event.detail));\n            event.preventDefault();\n        };\n\n        Mouse.setElement(mouse, mouse.element);\n\n        return mouse;\n    };\n\n    /**\n     * Sets the element the mouse is bound to (and relative to).\n     * @method setElement\n     * @param {mouse} mouse\n     * @param {HTMLElement} element\n     */\n    Mouse.setElement = function(mouse, element) {\n        mouse.element = element;\n\n        element.addEventListener('mousemove', mouse.mousemove);\n        element.addEventListener('mousedown', mouse.mousedown);\n        element.addEventListener('mouseup', mouse.mouseup);\n        \n        element.addEventListener('mousewheel', mouse.mousewheel);\n        element.addEventListener('DOMMouseScroll', mouse.mousewheel);\n\n        element.addEventListener('touchmove', mouse.mousemove);\n        element.addEventListener('touchstart', mouse.mousedown);\n        element.addEventListener('touchend', mouse.mouseup);\n    };\n\n    /**\n     * Clears all captured source events.\n     * @method clearSourceEvents\n     * @param {mouse} mouse\n     */\n    Mouse.clearSourceEvents = function(mouse) {\n        mouse.sourceEvents.mousemove = null;\n        mouse.sourceEvents.mousedown = null;\n        mouse.sourceEvents.mouseup = null;\n        mouse.sourceEvents.mousewheel = null;\n        mouse.wheelDelta = 0;\n    };\n\n    /**\n     * Sets the mouse position offset.\n     * @method setOffset\n     * @param {mouse} mouse\n     * @param {vector} offset\n     */\n    Mouse.setOffset = function(mouse, offset) {\n        mouse.offset.x = offset.x;\n        mouse.offset.y = offset.y;\n        mouse.position.x = mouse.absolute.x * mouse.scale.x + mouse.offset.x;\n        mouse.position.y = mouse.absolute.y * mouse.scale.y + mouse.offset.y;\n    };\n\n    /**\n     * Sets the mouse position scale.\n     * @method setScale\n     * @param {mouse} mouse\n     * @param {vector} scale\n     */\n    Mouse.setScale = function(mouse, scale) {\n        mouse.scale.x = scale.x;\n        mouse.scale.y = scale.y;\n        mouse.position.x = mouse.absolute.x * mouse.scale.x + mouse.offset.x;\n        mouse.position.y = mouse.absolute.y * mouse.scale.y + mouse.offset.y;\n    };\n    \n    /**\n     * Gets the mouse position relative to an element given a screen pixel ratio.\n     * @method _getRelativeMousePosition\n     * @private\n     * @param {} event\n     * @param {} element\n     * @param {number} pixelRatio\n     * @return {}\n     */\n    Mouse._getRelativeMousePosition = function(event, element, pixelRatio) {\n        var elementBounds = element.getBoundingClientRect(),\n            rootNode = (document.documentElement || document.body.parentNode || document.body),\n            scrollX = (window.pageXOffset !== undefined) ? window.pageXOffset : rootNode.scrollLeft,\n            scrollY = (window.pageYOffset !== undefined) ? window.pageYOffset : rootNode.scrollTop,\n            touches = event.changedTouches,\n            x, y;\n        \n        if (touches) {\n            x = touches[0].pageX - elementBounds.left - scrollX;\n            y = touches[0].pageY - elementBounds.top - scrollY;\n        } else {\n            x = event.pageX - elementBounds.left - scrollX;\n            y = event.pageY - elementBounds.top - scrollY;\n        }\n\n        return { \n            x: x / (element.clientWidth / (element.width || element.clientWidth) * pixelRatio),\n            y: y / (element.clientHeight / (element.height || element.clientHeight) * pixelRatio)\n        };\n    };\n\n})();\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Detector` module contains methods for efficiently detecting collisions between a list of bodies using a broadphase algorithm.\n*\n* @class Detector\n*/\n\nvar Detector = {};\n\nmodule.exports = Detector;\n\nvar Common = __webpack_require__(0);\nvar Collision = __webpack_require__(8);\n\n(function() {\n\n    /**\n     * Creates a new collision detector.\n     * @method create\n     * @param {} options\n     * @return {detector} A new collision detector\n     */\n    Detector.create = function(options) {\n        var defaults = {\n            bodies: [],\n            pairs: null\n        };\n\n        return Common.extend(defaults, options);\n    };\n\n    /**\n     * Sets the list of bodies in the detector.\n     * @method setBodies\n     * @param {detector} detector\n     * @param {body[]} bodies\n     */\n    Detector.setBodies = function(detector, bodies) {\n        detector.bodies = bodies.slice(0);\n    };\n\n    /**\n     * Clears the detector including its list of bodies.\n     * @method clear\n     * @param {detector} detector\n     */\n    Detector.clear = function(detector) {\n        detector.bodies = [];\n    };\n\n    /**\n     * Efficiently finds all collisions among all the bodies in `detector.bodies` using a broadphase algorithm.\n     * \n     * _Note:_ The specific ordering of collisions returned is not guaranteed between releases and may change for performance reasons.\n     * If a specific ordering is required then apply a sort to the resulting array.\n     * @method collisions\n     * @param {detector} detector\n     * @return {collision[]} collisions\n     */\n    Detector.collisions = function(detector) {\n        var collisions = [],\n            pairs = detector.pairs,\n            bodies = detector.bodies,\n            bodiesLength = bodies.length,\n            canCollide = Detector.canCollide,\n            collides = Collision.collides,\n            i,\n            j;\n\n        bodies.sort(Detector._compareBoundsX);\n\n        for (i = 0; i < bodiesLength; i++) {\n            var bodyA = bodies[i],\n                boundsA = bodyA.bounds,\n                boundXMax = bodyA.bounds.max.x,\n                boundYMax = bodyA.bounds.max.y,\n                boundYMin = bodyA.bounds.min.y,\n                bodyAStatic = bodyA.isStatic || bodyA.isSleeping,\n                partsALength = bodyA.parts.length,\n                partsASingle = partsALength === 1;\n\n            for (j = i + 1; j < bodiesLength; j++) {\n                var bodyB = bodies[j],\n                    boundsB = bodyB.bounds;\n\n                if (boundsB.min.x > boundXMax) {\n                    break;\n                }\n\n                if (boundYMax < boundsB.min.y || boundYMin > boundsB.max.y) {\n                    continue;\n                }\n\n                if (bodyAStatic && (bodyB.isStatic || bodyB.isSleeping)) {\n                    continue;\n                }\n\n                if (!canCollide(bodyA.collisionFilter, bodyB.collisionFilter)) {\n                    continue;\n                }\n\n                var partsBLength = bodyB.parts.length;\n\n                if (partsASingle && partsBLength === 1) {\n                    var collision = collides(bodyA, bodyB, pairs);\n\n                    if (collision) {\n                        collisions.push(collision);\n                    }\n                } else {\n                    var partsAStart = partsALength > 1 ? 1 : 0,\n                        partsBStart = partsBLength > 1 ? 1 : 0;\n                    \n                    for (var k = partsAStart; k < partsALength; k++) {\n                        var partA = bodyA.parts[k],\n                            boundsA = partA.bounds;\n\n                        for (var z = partsBStart; z < partsBLength; z++) {\n                            var partB = bodyB.parts[z],\n                                boundsB = partB.bounds;\n\n                            if (boundsA.min.x > boundsB.max.x || boundsA.max.x < boundsB.min.x\n                                || boundsA.max.y < boundsB.min.y || boundsA.min.y > boundsB.max.y) {\n                                continue;\n                            }\n\n                            var collision = collides(partA, partB, pairs);\n\n                            if (collision) {\n                                collisions.push(collision);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n\n        return collisions;\n    };\n\n    /**\n     * Returns `true` if both supplied collision filters will allow a collision to occur.\n     * See `body.collisionFilter` for more information.\n     * @method canCollide\n     * @param {} filterA\n     * @param {} filterB\n     * @return {bool} `true` if collision can occur\n     */\n    Detector.canCollide = function(filterA, filterB) {\n        if (filterA.group === filterB.group && filterA.group !== 0)\n            return filterA.group > 0;\n\n        return (filterA.mask & filterB.category) !== 0 && (filterB.mask & filterA.category) !== 0;\n    };\n\n    /**\n     * The comparison function used in the broadphase algorithm.\n     * Returns the signed delta of the bodies bounds on the x-axis.\n     * @private\n     * @method _sortCompare\n     * @param {body} bodyA\n     * @param {body} bodyB\n     * @return {number} The signed delta used for sorting\n     */\n    Detector._compareBoundsX = function(bodyA, bodyB) {\n        return bodyA.bounds.min.x - bodyB.bounds.min.x;\n    };\n\n    /*\n    *\n    *  Properties Documentation\n    *\n    */\n\n    /**\n     * The array of `Matter.Body` between which the detector finds collisions.\n     * \n     * _Note:_ The order of bodies in this array _is not fixed_ and will be continually managed by the detector.\n     * @property bodies\n     * @type body[]\n     * @default []\n     */\n\n    /**\n     * Optional. A `Matter.Pairs` object from which previous collision objects may be reused. Intended for internal `Matter.Engine` usage.\n     * @property pairs\n     * @type {pairs|null}\n     * @default null\n     */\n\n})();\n\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Plugin` module contains functions for registering and installing plugins on modules.\n*\n* @class Plugin\n*/\n\nvar Plugin = {};\n\nmodule.exports = Plugin;\n\nvar Common = __webpack_require__(0);\n\n(function() {\n\n    Plugin._registry = {};\n\n    /**\n     * Registers a plugin object so it can be resolved later by name.\n     * @method register\n     * @param plugin {} The plugin to register.\n     * @return {object} The plugin.\n     */\n    Plugin.register = function(plugin) {\n        if (!Plugin.isPlugin(plugin)) {\n            Common.warn('Plugin.register:', Plugin.toString(plugin), 'does not implement all required fields.');\n        }\n\n        if (plugin.name in Plugin._registry) {\n            var registered = Plugin._registry[plugin.name],\n                pluginVersion = Plugin.versionParse(plugin.version).number,\n                registeredVersion = Plugin.versionParse(registered.version).number;\n\n            if (pluginVersion > registeredVersion) {\n                Common.warn('Plugin.register:', Plugin.toString(registered), 'was upgraded to', Plugin.toString(plugin));\n                Plugin._registry[plugin.name] = plugin;\n            } else if (pluginVersion < registeredVersion) {\n                Common.warn('Plugin.register:', Plugin.toString(registered), 'can not be downgraded to', Plugin.toString(plugin));\n            } else if (plugin !== registered) {\n                Common.warn('Plugin.register:', Plugin.toString(plugin), 'is already registered to different plugin object');\n            }\n        } else {\n            Plugin._registry[plugin.name] = plugin;\n        }\n\n        return plugin;\n    };\n\n    /**\n     * Resolves a dependency to a plugin object from the registry if it exists. \n     * The `dependency` may contain a version, but only the name matters when resolving.\n     * @method resolve\n     * @param dependency {string} The dependency.\n     * @return {object} The plugin if resolved, otherwise `undefined`.\n     */\n    Plugin.resolve = function(dependency) {\n        return Plugin._registry[Plugin.dependencyParse(dependency).name];\n    };\n\n    /**\n     * Returns a pretty printed plugin name and version.\n     * @method toString\n     * @param plugin {} The plugin.\n     * @return {string} Pretty printed plugin name and version.\n     */\n    Plugin.toString = function(plugin) {\n        return typeof plugin === 'string' ? plugin : (plugin.name || 'anonymous') + '@' + (plugin.version || plugin.range || '0.0.0');\n    };\n\n    /**\n     * Returns `true` if the object meets the minimum standard to be considered a plugin.\n     * This means it must define the following properties:\n     * - `name`\n     * - `version`\n     * - `install`\n     * @method isPlugin\n     * @param obj {} The obj to test.\n     * @return {boolean} `true` if the object can be considered a plugin otherwise `false`.\n     */\n    Plugin.isPlugin = function(obj) {\n        return obj && obj.name && obj.version && obj.install;\n    };\n\n    /**\n     * Returns `true` if a plugin with the given `name` been installed on `module`.\n     * @method isUsed\n     * @param module {} The module.\n     * @param name {string} The plugin name.\n     * @return {boolean} `true` if a plugin with the given `name` been installed on `module`, otherwise `false`.\n     */\n    Plugin.isUsed = function(module, name) {\n        return module.used.indexOf(name) > -1;\n    };\n\n    /**\n     * Returns `true` if `plugin.for` is applicable to `module` by comparing against `module.name` and `module.version`.\n     * If `plugin.for` is not specified then it is assumed to be applicable.\n     * The value of `plugin.for` is a string of the format `'module-name'` or `'module-name@version'`.\n     * @method isFor\n     * @param plugin {} The plugin.\n     * @param module {} The module.\n     * @return {boolean} `true` if `plugin.for` is applicable to `module`, otherwise `false`.\n     */\n    Plugin.isFor = function(plugin, module) {\n        var parsed = plugin.for && Plugin.dependencyParse(plugin.for);\n        return !plugin.for || (module.name === parsed.name && Plugin.versionSatisfies(module.version, parsed.range));\n    };\n\n    /**\n     * Installs the plugins by calling `plugin.install` on each plugin specified in `plugins` if passed, otherwise `module.uses`.\n     * For installing plugins on `Matter` see the convenience function `Matter.use`.\n     * Plugins may be specified either by their name or a reference to the plugin object.\n     * Plugins themselves may specify further dependencies, but each plugin is installed only once.\n     * Order is important, a topological sort is performed to find the best resulting order of installation.\n     * This sorting attempts to satisfy every dependency's requested ordering, but may not be exact in all cases.\n     * This function logs the resulting status of each dependency in the console, along with any warnings.\n     * - A green tick  indicates a dependency was resolved and installed.\n     * - An orange diamond  indicates a dependency was resolved but a warning was thrown for it or one if its dependencies.\n     * - A red cross  indicates a dependency could not be resolved.\n     * Avoid calling this function multiple times on the same module unless you intend to manually control installation order.\n     * @method use\n     * @param module {} The module install plugins on.\n     * @param [plugins=module.uses] {} The plugins to install on module (optional, defaults to `module.uses`).\n     */\n    Plugin.use = function(module, plugins) {\n        module.uses = (module.uses || []).concat(plugins || []);\n\n        if (module.uses.length === 0) {\n            Common.warn('Plugin.use:', Plugin.toString(module), 'does not specify any dependencies to install.');\n            return;\n        }\n\n        var dependencies = Plugin.dependencies(module),\n            sortedDependencies = Common.topologicalSort(dependencies),\n            status = [];\n\n        for (var i = 0; i < sortedDependencies.length; i += 1) {\n            if (sortedDependencies[i] === module.name) {\n                continue;\n            }\n\n            var plugin = Plugin.resolve(sortedDependencies[i]);\n\n            if (!plugin) {\n                status.push(' ' + sortedDependencies[i]);\n                continue;\n            }\n\n            if (Plugin.isUsed(module, plugin.name)) {\n                continue;\n            }\n\n            if (!Plugin.isFor(plugin, module)) {\n                Common.warn('Plugin.use:', Plugin.toString(plugin), 'is for', plugin.for, 'but installed on', Plugin.toString(module) + '.');\n                plugin._warned = true;\n            }\n\n            if (plugin.install) {\n                plugin.install(module);\n            } else {\n                Common.warn('Plugin.use:', Plugin.toString(plugin), 'does not specify an install function.');\n                plugin._warned = true;\n            }\n\n            if (plugin._warned) {\n                status.push(' ' + Plugin.toString(plugin));\n                delete plugin._warned;\n            } else {\n                status.push(' ' + Plugin.toString(plugin));\n            }\n\n            module.used.push(plugin.name);\n        }\n\n        if (status.length > 0) {\n            Common.info(status.join('  '));\n        }\n    };\n\n    /**\n     * Recursively finds all of a module's dependencies and returns a flat dependency graph.\n     * @method dependencies\n     * @param module {} The module.\n     * @return {object} A dependency graph.\n     */\n    Plugin.dependencies = function(module, tracked) {\n        var parsedBase = Plugin.dependencyParse(module),\n            name = parsedBase.name;\n\n        tracked = tracked || {};\n\n        if (name in tracked) {\n            return;\n        }\n\n        module = Plugin.resolve(module) || module;\n\n        tracked[name] = Common.map(module.uses || [], function(dependency) {\n            if (Plugin.isPlugin(dependency)) {\n                Plugin.register(dependency);\n            }\n\n            var parsed = Plugin.dependencyParse(dependency),\n                resolved = Plugin.resolve(dependency);\n\n            if (resolved && !Plugin.versionSatisfies(resolved.version, parsed.range)) {\n                Common.warn(\n                    'Plugin.dependencies:', Plugin.toString(resolved), 'does not satisfy',\n                    Plugin.toString(parsed), 'used by', Plugin.toString(parsedBase) + '.'\n                );\n\n                resolved._warned = true;\n                module._warned = true;\n            } else if (!resolved) {\n                Common.warn(\n                    'Plugin.dependencies:', Plugin.toString(dependency), 'used by',\n                    Plugin.toString(parsedBase), 'could not be resolved.'\n                );\n\n                module._warned = true;\n            }\n\n            return parsed.name;\n        });\n\n        for (var i = 0; i < tracked[name].length; i += 1) {\n            Plugin.dependencies(tracked[name][i], tracked);\n        }\n\n        return tracked;\n    };\n\n    /**\n     * Parses a dependency string into its components.\n     * The `dependency` is a string of the format `'module-name'` or `'module-name@version'`.\n     * See documentation for `Plugin.versionParse` for a description of the format.\n     * This function can also handle dependencies that are already resolved (e.g. a module object).\n     * @method dependencyParse\n     * @param dependency {string} The dependency of the format `'module-name'` or `'module-name@version'`.\n     * @return {object} The dependency parsed into its components.\n     */\n    Plugin.dependencyParse = function(dependency) {\n        if (Common.isString(dependency)) {\n            var pattern = /^[\\w-]+(@(\\*|[\\^~]?\\d+\\.\\d+\\.\\d+(-[0-9A-Za-z-+]+)?))?$/;\n\n            if (!pattern.test(dependency)) {\n                Common.warn('Plugin.dependencyParse:', dependency, 'is not a valid dependency string.');\n            }\n\n            return {\n                name: dependency.split('@')[0],\n                range: dependency.split('@')[1] || '*'\n            };\n        }\n\n        return {\n            name: dependency.name,\n            range: dependency.range || dependency.version\n        };\n    };\n\n    /**\n     * Parses a version string into its components.  \n     * Versions are strictly of the format `x.y.z` (as in [semver](http://semver.org/)).\n     * Versions may optionally have a prerelease tag in the format `x.y.z-alpha`.\n     * Ranges are a strict subset of [npm ranges](https://docs.npmjs.com/misc/semver#advanced-range-syntax).\n     * Only the following range types are supported:\n     * - Tilde ranges e.g. `~1.2.3`\n     * - Caret ranges e.g. `^1.2.3`\n     * - Greater than ranges e.g. `>1.2.3`\n     * - Greater than or equal ranges e.g. `>=1.2.3`\n     * - Exact version e.g. `1.2.3`\n     * - Any version `*`\n     * @method versionParse\n     * @param range {string} The version string.\n     * @return {object} The version range parsed into its components.\n     */\n    Plugin.versionParse = function(range) {\n        var pattern = /^(\\*)|(\\^|~|>=|>)?\\s*((\\d+)\\.(\\d+)\\.(\\d+))(-[0-9A-Za-z-+]+)?$/;\n\n        if (!pattern.test(range)) {\n            Common.warn('Plugin.versionParse:', range, 'is not a valid version or range.');\n        }\n\n        var parts = pattern.exec(range);\n        var major = Number(parts[4]);\n        var minor = Number(parts[5]);\n        var patch = Number(parts[6]);\n\n        return {\n            isRange: Boolean(parts[1] || parts[2]),\n            version: parts[3],\n            range: range,\n            operator: parts[1] || parts[2] || '',\n            major: major,\n            minor: minor,\n            patch: patch,\n            parts: [major, minor, patch],\n            prerelease: parts[7],\n            number: major * 1e8 + minor * 1e4 + patch\n        };\n    };\n\n    /**\n     * Returns `true` if `version` satisfies the given `range`.\n     * See documentation for `Plugin.versionParse` for a description of the format.\n     * If a version or range is not specified, then any version (`*`) is assumed to satisfy.\n     * @method versionSatisfies\n     * @param version {string} The version string.\n     * @param range {string} The range string.\n     * @return {boolean} `true` if `version` satisfies `range`, otherwise `false`.\n     */\n    Plugin.versionSatisfies = function(version, range) {\n        range = range || '*';\n\n        var r = Plugin.versionParse(range),\n            v = Plugin.versionParse(version);\n\n        if (r.isRange) {\n            if (r.operator === '*' || version === '*') {\n                return true;\n            }\n\n            if (r.operator === '>') {\n                return v.number > r.number;\n            }\n\n            if (r.operator === '>=') {\n                return v.number >= r.number;\n            }\n\n            if (r.operator === '~') {\n                return v.major === r.major && v.minor === r.minor && v.patch >= r.patch;\n            }\n\n            if (r.operator === '^') {\n                if (r.major > 0) {\n                    return v.major === r.major && v.number >= r.number;\n                }\n\n                if (r.minor > 0) {\n                    return v.minor === r.minor && v.patch >= r.patch;\n                }\n\n                return v.patch === r.patch;\n            }\n        }\n\n        return version === range || version === '*';\n    };\n\n})();\n\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Render` module is a simple canvas based renderer for visualising instances of `Matter.Engine`.\n* It is intended for development and debugging purposes, but may also be suitable for simple games.\n* It includes a number of drawing options including wireframe, vector with support for sprites and viewports.\n*\n* @class Render\n*/\n\nvar Render = {};\n\nmodule.exports = Render;\n\nvar Common = __webpack_require__(0);\nvar Composite = __webpack_require__(5);\nvar Bounds = __webpack_require__(1);\nvar Events = __webpack_require__(4);\nvar Vector = __webpack_require__(2);\nvar Mouse = __webpack_require__(13);\n\n(function() {\n\n    var _requestAnimationFrame,\n        _cancelAnimationFrame;\n\n    if (typeof window !== 'undefined') {\n        _requestAnimationFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame\n                                      || window.mozRequestAnimationFrame || window.msRequestAnimationFrame\n                                      || function(callback){ window.setTimeout(function() { callback(Common.now()); }, 1000 / 60); };\n\n        _cancelAnimationFrame = window.cancelAnimationFrame || window.mozCancelAnimationFrame\n                                      || window.webkitCancelAnimationFrame || window.msCancelAnimationFrame;\n    }\n\n    Render._goodFps = 30;\n    Render._goodDelta = 1000 / 60;\n\n    /**\n     * Creates a new renderer. The options parameter is an object that specifies any properties you wish to override the defaults.\n     * All properties have default values, and many are pre-calculated automatically based on other properties.\n     * See the properties section below for detailed information on what you can pass via the `options` object.\n     * @method create\n     * @param {object} [options]\n     * @return {render} A new renderer\n     */\n    Render.create = function(options) {\n        var defaults = {\n            controller: Render,\n            engine: null,\n            element: null,\n            canvas: null,\n            mouse: null,\n            frameRequestId: null,\n            timing: {\n                historySize: 60,\n                delta: 0,\n                deltaHistory: [],\n                lastTime: 0,\n                lastTimestamp: 0,\n                lastElapsed: 0,\n                timestampElapsed: 0,\n                timestampElapsedHistory: [],\n                engineDeltaHistory: [],\n                engineElapsedHistory: [],\n                elapsedHistory: []\n            },\n            options: {\n                width: 800,\n                height: 600,\n                pixelRatio: 1,\n                background: '#14151f',\n                wireframeBackground: '#14151f',\n                hasBounds: !!options.bounds,\n                enabled: true,\n                wireframes: true,\n                showSleeping: true,\n                showDebug: false,\n                showStats: false,\n                showPerformance: false,\n                showBounds: false,\n                showVelocity: false,\n                showCollisions: false,\n                showSeparations: false,\n                showAxes: false,\n                showPositions: false,\n                showAngleIndicator: false,\n                showIds: false,\n                showVertexNumbers: false,\n                showConvexHulls: false,\n                showInternalEdges: false,\n                showMousePosition: false\n            }\n        };\n\n        var render = Common.extend(defaults, options);\n\n        if (render.canvas) {\n            render.canvas.width = render.options.width || render.canvas.width;\n            render.canvas.height = render.options.height || render.canvas.height;\n        }\n\n        render.mouse = options.mouse;\n        render.engine = options.engine;\n        render.canvas = render.canvas || _createCanvas(render.options.width, render.options.height);\n        render.context = render.canvas.getContext('2d');\n        render.textures = {};\n\n        render.bounds = render.bounds || {\n            min: {\n                x: 0,\n                y: 0\n            },\n            max: {\n                x: render.canvas.width,\n                y: render.canvas.height\n            }\n        };\n\n        // for temporary back compatibility only\n        render.options.showBroadphase = false;\n\n        if (render.options.pixelRatio !== 1) {\n            Render.setPixelRatio(render, render.options.pixelRatio);\n        }\n\n        if (Common.isElement(render.element)) {\n            render.element.appendChild(render.canvas);\n        } else if (!render.canvas.parentNode) {\n            Common.log('Render.create: options.element was undefined, render.canvas was created but not appended', 'warn');\n        }\n\n        return render;\n    };\n\n    /**\n     * Continuously updates the render canvas on the `requestAnimationFrame` event.\n     * @method run\n     * @param {render} render\n     */\n    Render.run = function(render) {\n        (function loop(time){\n            render.frameRequestId = _requestAnimationFrame(loop);\n            \n            _updateTiming(render, time);\n\n            Render.world(render, time);\n\n            if (render.options.showStats || render.options.showDebug) {\n                Render.stats(render, render.context, time);\n            }\n\n            if (render.options.showPerformance || render.options.showDebug) {\n                Render.performance(render, render.context, time);\n            }\n        })();\n    };\n\n    /**\n     * Ends execution of `Render.run` on the given `render`, by canceling the animation frame request event loop.\n     * @method stop\n     * @param {render} render\n     */\n    Render.stop = function(render) {\n        _cancelAnimationFrame(render.frameRequestId);\n    };\n\n    /**\n     * Sets the pixel ratio of the renderer and updates the canvas.\n     * To automatically detect the correct ratio, pass the string `'auto'` for `pixelRatio`.\n     * @method setPixelRatio\n     * @param {render} render\n     * @param {number} pixelRatio\n     */\n    Render.setPixelRatio = function(render, pixelRatio) {\n        var options = render.options,\n            canvas = render.canvas;\n\n        if (pixelRatio === 'auto') {\n            pixelRatio = _getPixelRatio(canvas);\n        }\n\n        options.pixelRatio = pixelRatio;\n        canvas.setAttribute('data-pixel-ratio', pixelRatio);\n        canvas.width = options.width * pixelRatio;\n        canvas.height = options.height * pixelRatio;\n        canvas.style.width = options.width + 'px';\n        canvas.style.height = options.height + 'px';\n    };\n\n    /**\n     * Positions and sizes the viewport around the given object bounds.\n     * Objects must have at least one of the following properties:\n     * - `object.bounds`\n     * - `object.position`\n     * - `object.min` and `object.max`\n     * - `object.x` and `object.y`\n     * @method lookAt\n     * @param {render} render\n     * @param {object[]} objects\n     * @param {vector} [padding]\n     * @param {bool} [center=true]\n     */\n    Render.lookAt = function(render, objects, padding, center) {\n        center = typeof center !== 'undefined' ? center : true;\n        objects = Common.isArray(objects) ? objects : [objects];\n        padding = padding || {\n            x: 0,\n            y: 0\n        };\n\n        // find bounds of all objects\n        var bounds = {\n            min: { x: Infinity, y: Infinity },\n            max: { x: -Infinity, y: -Infinity }\n        };\n\n        for (var i = 0; i < objects.length; i += 1) {\n            var object = objects[i],\n                min = object.bounds ? object.bounds.min : (object.min || object.position || object),\n                max = object.bounds ? object.bounds.max : (object.max || object.position || object);\n\n            if (min && max) {\n                if (min.x < bounds.min.x)\n                    bounds.min.x = min.x;\n\n                if (max.x > bounds.max.x)\n                    bounds.max.x = max.x;\n\n                if (min.y < bounds.min.y)\n                    bounds.min.y = min.y;\n\n                if (max.y > bounds.max.y)\n                    bounds.max.y = max.y;\n            }\n        }\n\n        // find ratios\n        var width = (bounds.max.x - bounds.min.x) + 2 * padding.x,\n            height = (bounds.max.y - bounds.min.y) + 2 * padding.y,\n            viewHeight = render.canvas.height,\n            viewWidth = render.canvas.width,\n            outerRatio = viewWidth / viewHeight,\n            innerRatio = width / height,\n            scaleX = 1,\n            scaleY = 1;\n\n        // find scale factor\n        if (innerRatio > outerRatio) {\n            scaleY = innerRatio / outerRatio;\n        } else {\n            scaleX = outerRatio / innerRatio;\n        }\n\n        // enable bounds\n        render.options.hasBounds = true;\n\n        // position and size\n        render.bounds.min.x = bounds.min.x;\n        render.bounds.max.x = bounds.min.x + width * scaleX;\n        render.bounds.min.y = bounds.min.y;\n        render.bounds.max.y = bounds.min.y + height * scaleY;\n\n        // center\n        if (center) {\n            render.bounds.min.x += width * 0.5 - (width * scaleX) * 0.5;\n            render.bounds.max.x += width * 0.5 - (width * scaleX) * 0.5;\n            render.bounds.min.y += height * 0.5 - (height * scaleY) * 0.5;\n            render.bounds.max.y += height * 0.5 - (height * scaleY) * 0.5;\n        }\n\n        // padding\n        render.bounds.min.x -= padding.x;\n        render.bounds.max.x -= padding.x;\n        render.bounds.min.y -= padding.y;\n        render.bounds.max.y -= padding.y;\n\n        // update mouse\n        if (render.mouse) {\n            Mouse.setScale(render.mouse, {\n                x: (render.bounds.max.x - render.bounds.min.x) / render.canvas.width,\n                y: (render.bounds.max.y - render.bounds.min.y) / render.canvas.height\n            });\n\n            Mouse.setOffset(render.mouse, render.bounds.min);\n        }\n    };\n\n    /**\n     * Applies viewport transforms based on `render.bounds` to a render context.\n     * @method startViewTransform\n     * @param {render} render\n     */\n    Render.startViewTransform = function(render) {\n        var boundsWidth = render.bounds.max.x - render.bounds.min.x,\n            boundsHeight = render.bounds.max.y - render.bounds.min.y,\n            boundsScaleX = boundsWidth / render.options.width,\n            boundsScaleY = boundsHeight / render.options.height;\n\n        render.context.setTransform(\n            render.options.pixelRatio / boundsScaleX, 0, 0, \n            render.options.pixelRatio / boundsScaleY, 0, 0\n        );\n        \n        render.context.translate(-render.bounds.min.x, -render.bounds.min.y);\n    };\n\n    /**\n     * Resets all transforms on the render context.\n     * @method endViewTransform\n     * @param {render} render\n     */\n    Render.endViewTransform = function(render) {\n        render.context.setTransform(render.options.pixelRatio, 0, 0, render.options.pixelRatio, 0, 0);\n    };\n\n    /**\n     * Renders the given `engine`'s `Matter.World` object.\n     * This is the entry point for all rendering and should be called every time the scene changes.\n     * @method world\n     * @param {render} render\n     */\n    Render.world = function(render, time) {\n        var startTime = Common.now(),\n            engine = render.engine,\n            world = engine.world,\n            canvas = render.canvas,\n            context = render.context,\n            options = render.options,\n            timing = render.timing;\n\n        var allBodies = Composite.allBodies(world),\n            allConstraints = Composite.allConstraints(world),\n            background = options.wireframes ? options.wireframeBackground : options.background,\n            bodies = [],\n            constraints = [],\n            i;\n\n        var event = {\n            timestamp: engine.timing.timestamp\n        };\n\n        Events.trigger(render, 'beforeRender', event);\n\n        // apply background if it has changed\n        if (render.currentBackground !== background)\n            _applyBackground(render, background);\n\n        // clear the canvas with a transparent fill, to allow the canvas background to show\n        context.globalCompositeOperation = 'source-in';\n        context.fillStyle = \"transparent\";\n        context.fillRect(0, 0, canvas.width, canvas.height);\n        context.globalCompositeOperation = 'source-over';\n\n        // handle bounds\n        if (options.hasBounds) {\n            // filter out bodies that are not in view\n            for (i = 0; i < allBodies.length; i++) {\n                var body = allBodies[i];\n                if (Bounds.overlaps(body.bounds, render.bounds))\n                    bodies.push(body);\n            }\n\n            // filter out constraints that are not in view\n            for (i = 0; i < allConstraints.length; i++) {\n                var constraint = allConstraints[i],\n                    bodyA = constraint.bodyA,\n                    bodyB = constraint.bodyB,\n                    pointAWorld = constraint.pointA,\n                    pointBWorld = constraint.pointB;\n\n                if (bodyA) pointAWorld = Vector.add(bodyA.position, constraint.pointA);\n                if (bodyB) pointBWorld = Vector.add(bodyB.position, constraint.pointB);\n\n                if (!pointAWorld || !pointBWorld)\n                    continue;\n\n                if (Bounds.contains(render.bounds, pointAWorld) || Bounds.contains(render.bounds, pointBWorld))\n                    constraints.push(constraint);\n            }\n\n            // transform the view\n            Render.startViewTransform(render);\n\n            // update mouse\n            if (render.mouse) {\n                Mouse.setScale(render.mouse, {\n                    x: (render.bounds.max.x - render.bounds.min.x) / render.options.width,\n                    y: (render.bounds.max.y - render.bounds.min.y) / render.options.height\n                });\n\n                Mouse.setOffset(render.mouse, render.bounds.min);\n            }\n        } else {\n            constraints = allConstraints;\n            bodies = allBodies;\n\n            if (render.options.pixelRatio !== 1) {\n                render.context.setTransform(render.options.pixelRatio, 0, 0, render.options.pixelRatio, 0, 0);\n            }\n        }\n\n        if (!options.wireframes || (engine.enableSleeping && options.showSleeping)) {\n            // fully featured rendering of bodies\n            Render.bodies(render, bodies, context);\n        } else {\n            if (options.showConvexHulls)\n                Render.bodyConvexHulls(render, bodies, context);\n\n            // optimised method for wireframes only\n            Render.bodyWireframes(render, bodies, context);\n        }\n\n        if (options.showBounds)\n            Render.bodyBounds(render, bodies, context);\n\n        if (options.showAxes || options.showAngleIndicator)\n            Render.bodyAxes(render, bodies, context);\n\n        if (options.showPositions)\n            Render.bodyPositions(render, bodies, context);\n\n        if (options.showVelocity)\n            Render.bodyVelocity(render, bodies, context);\n\n        if (options.showIds)\n            Render.bodyIds(render, bodies, context);\n\n        if (options.showSeparations)\n            Render.separations(render, engine.pairs.list, context);\n\n        if (options.showCollisions)\n            Render.collisions(render, engine.pairs.list, context);\n\n        if (options.showVertexNumbers)\n            Render.vertexNumbers(render, bodies, context);\n\n        if (options.showMousePosition)\n            Render.mousePosition(render, render.mouse, context);\n\n        Render.constraints(constraints, context);\n\n        if (options.hasBounds) {\n            // revert view transforms\n            Render.endViewTransform(render);\n        }\n\n        Events.trigger(render, 'afterRender', event);\n\n        // log the time elapsed computing this update\n        timing.lastElapsed = Common.now() - startTime;\n    };\n\n    /**\n     * Renders statistics about the engine and world useful for debugging.\n     * @private\n     * @method stats\n     * @param {render} render\n     * @param {RenderingContext} context\n     * @param {Number} time\n     */\n    Render.stats = function(render, context, time) {\n        var engine = render.engine,\n            world = engine.world,\n            bodies = Composite.allBodies(world),\n            parts = 0,\n            width = 55,\n            height = 44,\n            x = 0,\n            y = 0;\n        \n        // count parts\n        for (var i = 0; i < bodies.length; i += 1) {\n            parts += bodies[i].parts.length;\n        }\n\n        // sections\n        var sections = {\n            'Part': parts,\n            'Body': bodies.length,\n            'Cons': Composite.allConstraints(world).length,\n            'Comp': Composite.allComposites(world).length,\n            'Pair': engine.pairs.list.length\n        };\n\n        // background\n        context.fillStyle = '#0e0f19';\n        context.fillRect(x, y, width * 5.5, height);\n\n        context.font = '12px Arial';\n        context.textBaseline = 'top';\n        context.textAlign = 'right';\n\n        // sections\n        for (var key in sections) {\n            var section = sections[key];\n            // label\n            context.fillStyle = '#aaa';\n            context.fillText(key, x + width, y + 8);\n\n            // value\n            context.fillStyle = '#eee';\n            context.fillText(section, x + width, y + 26);\n\n            x += width;\n        }\n    };\n\n    /**\n     * Renders engine and render performance information.\n     * @private\n     * @method performance\n     * @param {render} render\n     * @param {RenderingContext} context\n     */\n    Render.performance = function(render, context) {\n        var engine = render.engine,\n            timing = render.timing,\n            deltaHistory = timing.deltaHistory,\n            elapsedHistory = timing.elapsedHistory,\n            timestampElapsedHistory = timing.timestampElapsedHistory,\n            engineDeltaHistory = timing.engineDeltaHistory,\n            engineElapsedHistory = timing.engineElapsedHistory,\n            lastEngineDelta = engine.timing.lastDelta;\n        \n        var deltaMean = _mean(deltaHistory),\n            elapsedMean = _mean(elapsedHistory),\n            engineDeltaMean = _mean(engineDeltaHistory),\n            engineElapsedMean = _mean(engineElapsedHistory),\n            timestampElapsedMean = _mean(timestampElapsedHistory),\n            rateMean = (timestampElapsedMean / deltaMean) || 0,\n            fps = (1000 / deltaMean) || 0;\n\n        var graphHeight = 4,\n            gap = 12,\n            width = 60,\n            height = 34,\n            x = 10,\n            y = 69;\n\n        // background\n        context.fillStyle = '#0e0f19';\n        context.fillRect(0, 50, gap * 4 + width * 5 + 22, height);\n\n        // show FPS\n        Render.status(\n            context, x, y, width, graphHeight, deltaHistory.length, \n            Math.round(fps) + ' fps', \n            fps / Render._goodFps,\n            function(i) { return (deltaHistory[i] / deltaMean) - 1; }\n        );\n\n        // show engine delta\n        Render.status(\n            context, x + gap + width, y, width, graphHeight, engineDeltaHistory.length,\n            lastEngineDelta.toFixed(2) + ' dt', \n            Render._goodDelta / lastEngineDelta,\n            function(i) { return (engineDeltaHistory[i] / engineDeltaMean) - 1; }\n        );\n\n        // show engine update time\n        Render.status(\n            context, x + (gap + width) * 2, y, width, graphHeight, engineElapsedHistory.length,\n            engineElapsedMean.toFixed(2) + ' ut', \n            1 - (engineElapsedMean / Render._goodFps),\n            function(i) { return (engineElapsedHistory[i] / engineElapsedMean) - 1; }\n        );\n\n        // show render time\n        Render.status(\n            context, x + (gap + width) * 3, y, width, graphHeight, elapsedHistory.length,\n            elapsedMean.toFixed(2) + ' rt', \n            1 - (elapsedMean / Render._goodFps),\n            function(i) { return (elapsedHistory[i] / elapsedMean) - 1; }\n        );\n\n        // show effective speed\n        Render.status(\n            context, x + (gap + width) * 4, y, width, graphHeight, timestampElapsedHistory.length, \n            rateMean.toFixed(2) + ' x', \n            rateMean * rateMean * rateMean,\n            function(i) { return (((timestampElapsedHistory[i] / deltaHistory[i]) / rateMean) || 0) - 1; }\n        );\n    };\n\n    /**\n     * Renders a label, indicator and a chart.\n     * @private\n     * @method status\n     * @param {RenderingContext} context\n     * @param {number} x\n     * @param {number} y\n     * @param {number} width\n     * @param {number} height\n     * @param {number} count\n     * @param {string} label\n     * @param {string} indicator\n     * @param {function} plotY\n     */\n    Render.status = function(context, x, y, width, height, count, label, indicator, plotY) {\n        // background\n        context.strokeStyle = '#888';\n        context.fillStyle = '#444';\n        context.lineWidth = 1;\n        context.fillRect(x, y + 7, width, 1);\n\n        // chart\n        context.beginPath();\n        context.moveTo(x, y + 7 - height * Common.clamp(0.4 * plotY(0), -2, 2));\n        for (var i = 0; i < width; i += 1) {\n            context.lineTo(x + i, y + 7 - (i < count ? height * Common.clamp(0.4 * plotY(i), -2, 2) : 0));\n        }\n        context.stroke();\n\n        // indicator\n        context.fillStyle = 'hsl(' + Common.clamp(25 + 95 * indicator, 0, 120) + ',100%,60%)';\n        context.fillRect(x, y - 7, 4, 4);\n\n        // label\n        context.font = '12px Arial';\n        context.textBaseline = 'middle';\n        context.textAlign = 'right';\n        context.fillStyle = '#eee';\n        context.fillText(label, x + width, y - 5);\n    };\n\n    /**\n     * Description\n     * @private\n     * @method constraints\n     * @param {constraint[]} constraints\n     * @param {RenderingContext} context\n     */\n    Render.constraints = function(constraints, context) {\n        var c = context;\n\n        for (var i = 0; i < constraints.length; i++) {\n            var constraint = constraints[i];\n\n            if (!constraint.render.visible || !constraint.pointA || !constraint.pointB)\n                continue;\n\n            var bodyA = constraint.bodyA,\n                bodyB = constraint.bodyB,\n                start,\n                end;\n\n            if (bodyA) {\n                start = Vector.add(bodyA.position, constraint.pointA);\n            } else {\n                start = constraint.pointA;\n            }\n\n            if (constraint.render.type === 'pin') {\n                c.beginPath();\n                c.arc(start.x, start.y, 3, 0, 2 * Math.PI);\n                c.closePath();\n            } else {\n                if (bodyB) {\n                    end = Vector.add(bodyB.position, constraint.pointB);\n                } else {\n                    end = constraint.pointB;\n                }\n\n                c.beginPath();\n                c.moveTo(start.x, start.y);\n\n                if (constraint.render.type === 'spring') {\n                    var delta = Vector.sub(end, start),\n                        normal = Vector.perp(Vector.normalise(delta)),\n                        coils = Math.ceil(Common.clamp(constraint.length / 5, 12, 20)),\n                        offset;\n\n                    for (var j = 1; j < coils; j += 1) {\n                        offset = j % 2 === 0 ? 1 : -1;\n\n                        c.lineTo(\n                            start.x + delta.x * (j / coils) + normal.x * offset * 4,\n                            start.y + delta.y * (j / coils) + normal.y * offset * 4\n                        );\n                    }\n                }\n\n                c.lineTo(end.x, end.y);\n            }\n\n            if (constraint.render.lineWidth) {\n                c.lineWidth = constraint.render.lineWidth;\n                c.strokeStyle = constraint.render.strokeStyle;\n                c.stroke();\n            }\n\n            if (constraint.render.anchors) {\n                c.fillStyle = constraint.render.strokeStyle;\n                c.beginPath();\n                c.arc(start.x, start.y, 3, 0, 2 * Math.PI);\n                c.arc(end.x, end.y, 3, 0, 2 * Math.PI);\n                c.closePath();\n                c.fill();\n            }\n        }\n    };\n\n    /**\n     * Description\n     * @private\n     * @method bodies\n     * @param {render} render\n     * @param {body[]} bodies\n     * @param {RenderingContext} context\n     */\n    Render.bodies = function(render, bodies, context) {\n        var c = context,\n            engine = render.engine,\n            options = render.options,\n            showInternalEdges = options.showInternalEdges || !options.wireframes,\n            body,\n            part,\n            i,\n            k;\n\n        for (i = 0; i < bodies.length; i++) {\n            body = bodies[i];\n\n            if (!body.render.visible)\n                continue;\n\n            // handle compound parts\n            for (k = body.parts.length > 1 ? 1 : 0; k < body.parts.length; k++) {\n                part = body.parts[k];\n\n                if (!part.render.visible)\n                    continue;\n\n                if (options.showSleeping && body.isSleeping) {\n                    c.globalAlpha = 0.5 * part.render.opacity;\n                } else if (part.render.opacity !== 1) {\n                    c.globalAlpha = part.render.opacity;\n                }\n\n                if (part.render.sprite && part.render.sprite.texture && !options.wireframes) {\n                    // part sprite\n                    var sprite = part.render.sprite,\n                        texture = _getTexture(render, sprite.texture);\n\n                    c.translate(part.position.x, part.position.y);\n                    c.rotate(part.angle);\n\n                    c.drawImage(\n                        texture,\n                        texture.width * -sprite.xOffset * sprite.xScale,\n                        texture.height * -sprite.yOffset * sprite.yScale,\n                        texture.width * sprite.xScale,\n                        texture.height * sprite.yScale\n                    );\n\n                    // revert translation, hopefully faster than save / restore\n                    c.rotate(-part.angle);\n                    c.translate(-part.position.x, -part.position.y);\n                } else {\n                    // part polygon\n                    if (part.circleRadius) {\n                        c.beginPath();\n                        c.arc(part.position.x, part.position.y, part.circleRadius, 0, 2 * Math.PI);\n                    } else {\n                        c.beginPath();\n                        c.moveTo(part.vertices[0].x, part.vertices[0].y);\n\n                        for (var j = 1; j < part.vertices.length; j++) {\n                            if (!part.vertices[j - 1].isInternal || showInternalEdges) {\n                                c.lineTo(part.vertices[j].x, part.vertices[j].y);\n                            } else {\n                                c.moveTo(part.vertices[j].x, part.vertices[j].y);\n                            }\n\n                            if (part.vertices[j].isInternal && !showInternalEdges) {\n                                c.moveTo(part.vertices[(j + 1) % part.vertices.length].x, part.vertices[(j + 1) % part.vertices.length].y);\n                            }\n                        }\n\n                        c.lineTo(part.vertices[0].x, part.vertices[0].y);\n                        c.closePath();\n                    }\n\n                    if (!options.wireframes) {\n                        c.fillStyle = part.render.fillStyle;\n\n                        if (part.render.lineWidth) {\n                            c.lineWidth = part.render.lineWidth;\n                            c.strokeStyle = part.render.strokeStyle;\n                            c.stroke();\n                        }\n\n                        c.fill();\n                    } else {\n                        c.lineWidth = 1;\n                        c.strokeStyle = '#bbb';\n                        c.stroke();\n                    }\n                }\n\n                c.globalAlpha = 1;\n            }\n        }\n    };\n\n    /**\n     * Optimised method for drawing body wireframes in one pass\n     * @private\n     * @method bodyWireframes\n     * @param {render} render\n     * @param {body[]} bodies\n     * @param {RenderingContext} context\n     */\n    Render.bodyWireframes = function(render, bodies, context) {\n        var c = context,\n            showInternalEdges = render.options.showInternalEdges,\n            body,\n            part,\n            i,\n            j,\n            k;\n\n        c.beginPath();\n\n        // render all bodies\n        for (i = 0; i < bodies.length; i++) {\n            body = bodies[i];\n\n            if (!body.render.visible)\n                continue;\n\n            // handle compound parts\n            for (k = body.parts.length > 1 ? 1 : 0; k < body.parts.length; k++) {\n                part = body.parts[k];\n\n                c.moveTo(part.vertices[0].x, part.vertices[0].y);\n\n                for (j = 1; j < part.vertices.length; j++) {\n                    if (!part.vertices[j - 1].isInternal || showInternalEdges) {\n                        c.lineTo(part.vertices[j].x, part.vertices[j].y);\n                    } else {\n                        c.moveTo(part.vertices[j].x, part.vertices[j].y);\n                    }\n\n                    if (part.vertices[j].isInternal && !showInternalEdges) {\n                        c.moveTo(part.vertices[(j + 1) % part.vertices.length].x, part.vertices[(j + 1) % part.vertices.length].y);\n                    }\n                }\n\n                c.lineTo(part.vertices[0].x, part.vertices[0].y);\n            }\n        }\n\n        c.lineWidth = 1;\n        c.strokeStyle = '#bbb';\n        c.stroke();\n    };\n\n    /**\n     * Optimised method for drawing body convex hull wireframes in one pass\n     * @private\n     * @method bodyConvexHulls\n     * @param {render} render\n     * @param {body[]} bodies\n     * @param {RenderingContext} context\n     */\n    Render.bodyConvexHulls = function(render, bodies, context) {\n        var c = context,\n            body,\n            part,\n            i,\n            j,\n            k;\n\n        c.beginPath();\n\n        // render convex hulls\n        for (i = 0; i < bodies.length; i++) {\n            body = bodies[i];\n\n            if (!body.render.visible || body.parts.length === 1)\n                continue;\n\n            c.moveTo(body.vertices[0].x, body.vertices[0].y);\n\n            for (j = 1; j < body.vertices.length; j++) {\n                c.lineTo(body.vertices[j].x, body.vertices[j].y);\n            }\n\n            c.lineTo(body.vertices[0].x, body.vertices[0].y);\n        }\n\n        c.lineWidth = 1;\n        c.strokeStyle = 'rgba(255,255,255,0.2)';\n        c.stroke();\n    };\n\n    /**\n     * Renders body vertex numbers.\n     * @private\n     * @method vertexNumbers\n     * @param {render} render\n     * @param {body[]} bodies\n     * @param {RenderingContext} context\n     */\n    Render.vertexNumbers = function(render, bodies, context) {\n        var c = context,\n            i,\n            j,\n            k;\n\n        for (i = 0; i < bodies.length; i++) {\n            var parts = bodies[i].parts;\n            for (k = parts.length > 1 ? 1 : 0; k < parts.length; k++) {\n                var part = parts[k];\n                for (j = 0; j < part.vertices.length; j++) {\n                    c.fillStyle = 'rgba(255,255,255,0.2)';\n                    c.fillText(i + '_' + j, part.position.x + (part.vertices[j].x - part.position.x) * 0.8, part.position.y + (part.vertices[j].y - part.position.y) * 0.8);\n                }\n            }\n        }\n    };\n\n    /**\n     * Renders mouse position.\n     * @private\n     * @method mousePosition\n     * @param {render} render\n     * @param {mouse} mouse\n     * @param {RenderingContext} context\n     */\n    Render.mousePosition = function(render, mouse, context) {\n        var c = context;\n        c.fillStyle = 'rgba(255,255,255,0.8)';\n        c.fillText(mouse.position.x + '  ' + mouse.position.y, mouse.position.x + 5, mouse.position.y - 5);\n    };\n\n    /**\n     * Draws body bounds\n     * @private\n     * @method bodyBounds\n     * @param {render} render\n     * @param {body[]} bodies\n     * @param {RenderingContext} context\n     */\n    Render.bodyBounds = function(render, bodies, context) {\n        var c = context,\n            engine = render.engine,\n            options = render.options;\n\n        c.beginPath();\n\n        for (var i = 0; i < bodies.length; i++) {\n            var body = bodies[i];\n\n            if (body.render.visible) {\n                var parts = bodies[i].parts;\n                for (var j = parts.length > 1 ? 1 : 0; j < parts.length; j++) {\n                    var part = parts[j];\n                    c.rect(part.bounds.min.x, part.bounds.min.y, part.bounds.max.x - part.bounds.min.x, part.bounds.max.y - part.bounds.min.y);\n                }\n            }\n        }\n\n        if (options.wireframes) {\n            c.strokeStyle = 'rgba(255,255,255,0.08)';\n        } else {\n            c.strokeStyle = 'rgba(0,0,0,0.1)';\n        }\n\n        c.lineWidth = 1;\n        c.stroke();\n    };\n\n    /**\n     * Draws body angle indicators and axes\n     * @private\n     * @method bodyAxes\n     * @param {render} render\n     * @param {body[]} bodies\n     * @param {RenderingContext} context\n     */\n    Render.bodyAxes = function(render, bodies, context) {\n        var c = context,\n            engine = render.engine,\n            options = render.options,\n            part,\n            i,\n            j,\n            k;\n\n        c.beginPath();\n\n        for (i = 0; i < bodies.length; i++) {\n            var body = bodies[i],\n                parts = body.parts;\n\n            if (!body.render.visible)\n                continue;\n\n            if (options.showAxes) {\n                // render all axes\n                for (j = parts.length > 1 ? 1 : 0; j < parts.length; j++) {\n                    part = parts[j];\n                    for (k = 0; k < part.axes.length; k++) {\n                        var axis = part.axes[k];\n                        c.moveTo(part.position.x, part.position.y);\n                        c.lineTo(part.position.x + axis.x * 20, part.position.y + axis.y * 20);\n                    }\n                }\n            } else {\n                for (j = parts.length > 1 ? 1 : 0; j < parts.length; j++) {\n                    part = parts[j];\n                    for (k = 0; k < part.axes.length; k++) {\n                        // render a single axis indicator\n                        c.moveTo(part.position.x, part.position.y);\n                        c.lineTo((part.vertices[0].x + part.vertices[part.vertices.length-1].x) / 2,\n                            (part.vertices[0].y + part.vertices[part.vertices.length-1].y) / 2);\n                    }\n                }\n            }\n        }\n\n        if (options.wireframes) {\n            c.strokeStyle = 'indianred';\n            c.lineWidth = 1;\n        } else {\n            c.strokeStyle = 'rgba(255, 255, 255, 0.4)';\n            c.globalCompositeOperation = 'overlay';\n            c.lineWidth = 2;\n        }\n\n        c.stroke();\n        c.globalCompositeOperation = 'source-over';\n    };\n\n    /**\n     * Draws body positions\n     * @private\n     * @method bodyPositions\n     * @param {render} render\n     * @param {body[]} bodies\n     * @param {RenderingContext} context\n     */\n    Render.bodyPositions = function(render, bodies, context) {\n        var c = context,\n            engine = render.engine,\n            options = render.options,\n            body,\n            part,\n            i,\n            k;\n\n        c.beginPath();\n\n        // render current positions\n        for (i = 0; i < bodies.length; i++) {\n            body = bodies[i];\n\n            if (!body.render.visible)\n                continue;\n\n            // handle compound parts\n            for (k = 0; k < body.parts.length; k++) {\n                part = body.parts[k];\n                c.arc(part.position.x, part.position.y, 3, 0, 2 * Math.PI, false);\n                c.closePath();\n            }\n        }\n\n        if (options.wireframes) {\n            c.fillStyle = 'indianred';\n        } else {\n            c.fillStyle = 'rgba(0,0,0,0.5)';\n        }\n        c.fill();\n\n        c.beginPath();\n\n        // render previous positions\n        for (i = 0; i < bodies.length; i++) {\n            body = bodies[i];\n            if (body.render.visible) {\n                c.arc(body.positionPrev.x, body.positionPrev.y, 2, 0, 2 * Math.PI, false);\n                c.closePath();\n            }\n        }\n\n        c.fillStyle = 'rgba(255,165,0,0.8)';\n        c.fill();\n    };\n\n    /**\n     * Draws body velocity\n     * @private\n     * @method bodyVelocity\n     * @param {render} render\n     * @param {body[]} bodies\n     * @param {RenderingContext} context\n     */\n    Render.bodyVelocity = function(render, bodies, context) {\n        var c = context;\n\n        c.beginPath();\n\n        for (var i = 0; i < bodies.length; i++) {\n            var body = bodies[i];\n\n            if (!body.render.visible)\n                continue;\n\n            c.moveTo(body.position.x, body.position.y);\n            c.lineTo(body.position.x + (body.position.x - body.positionPrev.x) * 2, body.position.y + (body.position.y - body.positionPrev.y) * 2);\n        }\n\n        c.lineWidth = 3;\n        c.strokeStyle = 'cornflowerblue';\n        c.stroke();\n    };\n\n    /**\n     * Draws body ids\n     * @private\n     * @method bodyIds\n     * @param {render} render\n     * @param {body[]} bodies\n     * @param {RenderingContext} context\n     */\n    Render.bodyIds = function(render, bodies, context) {\n        var c = context,\n            i,\n            j;\n\n        for (i = 0; i < bodies.length; i++) {\n            if (!bodies[i].render.visible)\n                continue;\n\n            var parts = bodies[i].parts;\n            for (j = parts.length > 1 ? 1 : 0; j < parts.length; j++) {\n                var part = parts[j];\n                c.font = \"12px Arial\";\n                c.fillStyle = 'rgba(255,255,255,0.5)';\n                c.fillText(part.id, part.position.x + 10, part.position.y - 10);\n            }\n        }\n    };\n\n    /**\n     * Description\n     * @private\n     * @method collisions\n     * @param {render} render\n     * @param {pair[]} pairs\n     * @param {RenderingContext} context\n     */\n    Render.collisions = function(render, pairs, context) {\n        var c = context,\n            options = render.options,\n            pair,\n            collision,\n            corrected,\n            bodyA,\n            bodyB,\n            i,\n            j;\n\n        c.beginPath();\n\n        // render collision positions\n        for (i = 0; i < pairs.length; i++) {\n            pair = pairs[i];\n\n            if (!pair.isActive)\n                continue;\n\n            collision = pair.collision;\n            for (j = 0; j < pair.activeContacts.length; j++) {\n                var contact = pair.activeContacts[j],\n                    vertex = contact.vertex;\n                c.rect(vertex.x - 1.5, vertex.y - 1.5, 3.5, 3.5);\n            }\n        }\n\n        if (options.wireframes) {\n            c.fillStyle = 'rgba(255,255,255,0.7)';\n        } else {\n            c.fillStyle = 'orange';\n        }\n        c.fill();\n\n        c.beginPath();\n\n        // render collision normals\n        for (i = 0; i < pairs.length; i++) {\n            pair = pairs[i];\n\n            if (!pair.isActive)\n                continue;\n\n            collision = pair.collision;\n\n            if (pair.activeContacts.length > 0) {\n                var normalPosX = pair.activeContacts[0].vertex.x,\n                    normalPosY = pair.activeContacts[0].vertex.y;\n\n                if (pair.activeContacts.length === 2) {\n                    normalPosX = (pair.activeContacts[0].vertex.x + pair.activeContacts[1].vertex.x) / 2;\n                    normalPosY = (pair.activeContacts[0].vertex.y + pair.activeContacts[1].vertex.y) / 2;\n                }\n\n                if (collision.bodyB === collision.supports[0].body || collision.bodyA.isStatic === true) {\n                    c.moveTo(normalPosX - collision.normal.x * 8, normalPosY - collision.normal.y * 8);\n                } else {\n                    c.moveTo(normalPosX + collision.normal.x * 8, normalPosY + collision.normal.y * 8);\n                }\n\n                c.lineTo(normalPosX, normalPosY);\n            }\n        }\n\n        if (options.wireframes) {\n            c.strokeStyle = 'rgba(255,165,0,0.7)';\n        } else {\n            c.strokeStyle = 'orange';\n        }\n\n        c.lineWidth = 1;\n        c.stroke();\n    };\n\n    /**\n     * Description\n     * @private\n     * @method separations\n     * @param {render} render\n     * @param {pair[]} pairs\n     * @param {RenderingContext} context\n     */\n    Render.separations = function(render, pairs, context) {\n        var c = context,\n            options = render.options,\n            pair,\n            collision,\n            corrected,\n            bodyA,\n            bodyB,\n            i,\n            j;\n\n        c.beginPath();\n\n        // render separations\n        for (i = 0; i < pairs.length; i++) {\n            pair = pairs[i];\n\n            if (!pair.isActive)\n                continue;\n\n            collision = pair.collision;\n            bodyA = collision.bodyA;\n            bodyB = collision.bodyB;\n\n            var k = 1;\n\n            if (!bodyB.isStatic && !bodyA.isStatic) k = 0.5;\n            if (bodyB.isStatic) k = 0;\n\n            c.moveTo(bodyB.position.x, bodyB.position.y);\n            c.lineTo(bodyB.position.x - collision.penetration.x * k, bodyB.position.y - collision.penetration.y * k);\n\n            k = 1;\n\n            if (!bodyB.isStatic && !bodyA.isStatic) k = 0.5;\n            if (bodyA.isStatic) k = 0;\n\n            c.moveTo(bodyA.position.x, bodyA.position.y);\n            c.lineTo(bodyA.position.x + collision.penetration.x * k, bodyA.position.y + collision.penetration.y * k);\n        }\n\n        if (options.wireframes) {\n            c.strokeStyle = 'rgba(255,165,0,0.5)';\n        } else {\n            c.strokeStyle = 'orange';\n        }\n        c.stroke();\n    };\n\n    /**\n     * Description\n     * @private\n     * @method inspector\n     * @param {inspector} inspector\n     * @param {RenderingContext} context\n     */\n    Render.inspector = function(inspector, context) {\n        var engine = inspector.engine,\n            selected = inspector.selected,\n            render = inspector.render,\n            options = render.options,\n            bounds;\n\n        if (options.hasBounds) {\n            var boundsWidth = render.bounds.max.x - render.bounds.min.x,\n                boundsHeight = render.bounds.max.y - render.bounds.min.y,\n                boundsScaleX = boundsWidth / render.options.width,\n                boundsScaleY = boundsHeight / render.options.height;\n\n            context.scale(1 / boundsScaleX, 1 / boundsScaleY);\n            context.translate(-render.bounds.min.x, -render.bounds.min.y);\n        }\n\n        for (var i = 0; i < selected.length; i++) {\n            var item = selected[i].data;\n\n            context.translate(0.5, 0.5);\n            context.lineWidth = 1;\n            context.strokeStyle = 'rgba(255,165,0,0.9)';\n            context.setLineDash([1,2]);\n\n            switch (item.type) {\n\n            case 'body':\n\n                // render body selections\n                bounds = item.bounds;\n                context.beginPath();\n                context.rect(Math.floor(bounds.min.x - 3), Math.floor(bounds.min.y - 3),\n                    Math.floor(bounds.max.x - bounds.min.x + 6), Math.floor(bounds.max.y - bounds.min.y + 6));\n                context.closePath();\n                context.stroke();\n\n                break;\n\n            case 'constraint':\n\n                // render constraint selections\n                var point = item.pointA;\n                if (item.bodyA)\n                    point = item.pointB;\n                context.beginPath();\n                context.arc(point.x, point.y, 10, 0, 2 * Math.PI);\n                context.closePath();\n                context.stroke();\n\n                break;\n\n            }\n\n            context.setLineDash([]);\n            context.translate(-0.5, -0.5);\n        }\n\n        // render selection region\n        if (inspector.selectStart !== null) {\n            context.translate(0.5, 0.5);\n            context.lineWidth = 1;\n            context.strokeStyle = 'rgba(255,165,0,0.6)';\n            context.fillStyle = 'rgba(255,165,0,0.1)';\n            bounds = inspector.selectBounds;\n            context.beginPath();\n            context.rect(Math.floor(bounds.min.x), Math.floor(bounds.min.y),\n                Math.floor(bounds.max.x - bounds.min.x), Math.floor(bounds.max.y - bounds.min.y));\n            context.closePath();\n            context.stroke();\n            context.fill();\n            context.translate(-0.5, -0.5);\n        }\n\n        if (options.hasBounds)\n            context.setTransform(1, 0, 0, 1, 0, 0);\n    };\n\n    /**\n     * Updates render timing.\n     * @method _updateTiming\n     * @private\n     * @param {render} render\n     * @param {number} time\n     */\n    var _updateTiming = function(render, time) {\n        var engine = render.engine,\n            timing = render.timing,\n            historySize = timing.historySize,\n            timestamp = engine.timing.timestamp;\n\n        timing.delta = time - timing.lastTime || Render._goodDelta;\n        timing.lastTime = time;\n\n        timing.timestampElapsed = timestamp - timing.lastTimestamp || 0;\n        timing.lastTimestamp = timestamp;\n\n        timing.deltaHistory.unshift(timing.delta);\n        timing.deltaHistory.length = Math.min(timing.deltaHistory.length, historySize);\n\n        timing.engineDeltaHistory.unshift(engine.timing.lastDelta);\n        timing.engineDeltaHistory.length = Math.min(timing.engineDeltaHistory.length, historySize);\n\n        timing.timestampElapsedHistory.unshift(timing.timestampElapsed);\n        timing.timestampElapsedHistory.length = Math.min(timing.timestampElapsedHistory.length, historySize);\n\n        timing.engineElapsedHistory.unshift(engine.timing.lastElapsed);\n        timing.engineElapsedHistory.length = Math.min(timing.engineElapsedHistory.length, historySize);\n\n        timing.elapsedHistory.unshift(timing.lastElapsed);\n        timing.elapsedHistory.length = Math.min(timing.elapsedHistory.length, historySize);\n    };\n\n    /**\n     * Returns the mean value of the given numbers.\n     * @method _mean\n     * @private\n     * @param {Number[]} values\n     * @return {Number} the mean of given values\n     */\n    var _mean = function(values) {\n        var result = 0;\n        for (var i = 0; i < values.length; i += 1) {\n            result += values[i];\n        }\n        return (result / values.length) || 0;\n    };\n\n    /**\n     * @method _createCanvas\n     * @private\n     * @param {} width\n     * @param {} height\n     * @return canvas\n     */\n    var _createCanvas = function(width, height) {\n        var canvas = document.createElement('canvas');\n        canvas.width = width;\n        canvas.height = height;\n        canvas.oncontextmenu = function() { return false; };\n        canvas.onselectstart = function() { return false; };\n        return canvas;\n    };\n\n    /**\n     * Gets the pixel ratio of the canvas.\n     * @method _getPixelRatio\n     * @private\n     * @param {HTMLElement} canvas\n     * @return {Number} pixel ratio\n     */\n    var _getPixelRatio = function(canvas) {\n        var context = canvas.getContext('2d'),\n            devicePixelRatio = window.devicePixelRatio || 1,\n            backingStorePixelRatio = context.webkitBackingStorePixelRatio || context.mozBackingStorePixelRatio\n                                      || context.msBackingStorePixelRatio || context.oBackingStorePixelRatio\n                                      || context.backingStorePixelRatio || 1;\n\n        return devicePixelRatio / backingStorePixelRatio;\n    };\n\n    /**\n     * Gets the requested texture (an Image) via its path\n     * @method _getTexture\n     * @private\n     * @param {render} render\n     * @param {string} imagePath\n     * @return {Image} texture\n     */\n    var _getTexture = function(render, imagePath) {\n        var image = render.textures[imagePath];\n\n        if (image)\n            return image;\n\n        image = render.textures[imagePath] = new Image();\n        image.src = imagePath;\n\n        return image;\n    };\n\n    /**\n     * Applies the background to the canvas using CSS.\n     * @method applyBackground\n     * @private\n     * @param {render} render\n     * @param {string} background\n     */\n    var _applyBackground = function(render, background) {\n        var cssBackground = background;\n\n        if (/(jpg|gif|png)$/.test(background))\n            cssBackground = 'url(' + background + ')';\n\n        render.canvas.style.background = cssBackground;\n        render.canvas.style.backgroundSize = \"contain\";\n        render.currentBackground = background;\n    };\n\n    /*\n    *\n    *  Events Documentation\n    *\n    */\n\n    /**\n    * Fired before rendering\n    *\n    * @event beforeRender\n    * @param {} event An event object\n    * @param {number} event.timestamp The engine.timing.timestamp of the event\n    * @param {} event.source The source object of the event\n    * @param {} event.name The name of the event\n    */\n\n    /**\n    * Fired after rendering\n    *\n    * @event afterRender\n    * @param {} event An event object\n    * @param {number} event.timestamp The engine.timing.timestamp of the event\n    * @param {} event.source The source object of the event\n    * @param {} event.name The name of the event\n    */\n\n    /*\n    *\n    *  Properties Documentation\n    *\n    */\n\n    /**\n     * A back-reference to the `Matter.Render` module.\n     *\n     * @property controller\n     * @type render\n     */\n\n    /**\n     * A reference to the `Matter.Engine` instance to be used.\n     *\n     * @property engine\n     * @type engine\n     */\n\n    /**\n     * A reference to the element where the canvas is to be inserted (if `render.canvas` has not been specified)\n     *\n     * @property element\n     * @type HTMLElement\n     * @default null\n     */\n\n    /**\n     * The canvas element to render to. If not specified, one will be created if `render.element` has been specified.\n     *\n     * @property canvas\n     * @type HTMLCanvasElement\n     * @default null\n     */\n\n    /**\n     * A `Bounds` object that specifies the drawing view region.\n     * Rendering will be automatically transformed and scaled to fit within the canvas size (`render.options.width` and `render.options.height`).\n     * This allows for creating views that can pan or zoom around the scene.\n     * You must also set `render.options.hasBounds` to `true` to enable bounded rendering.\n     *\n     * @property bounds\n     * @type bounds\n     */\n\n    /**\n     * The 2d rendering context from the `render.canvas` element.\n     *\n     * @property context\n     * @type CanvasRenderingContext2D\n     */\n\n    /**\n     * The sprite texture cache.\n     *\n     * @property textures\n     * @type {}\n     */\n\n    /**\n     * The mouse to render if `render.options.showMousePosition` is enabled.\n     *\n     * @property mouse\n     * @type mouse\n     * @default null\n     */\n\n    /**\n     * The configuration options of the renderer.\n     *\n     * @property options\n     * @type {}\n     */\n\n    /**\n     * The target width in pixels of the `render.canvas` to be created.\n     * See also the `options.pixelRatio` property to change render quality.\n     *\n     * @property options.width\n     * @type number\n     * @default 800\n     */\n\n    /**\n     * The target height in pixels of the `render.canvas` to be created.\n     * See also the `options.pixelRatio` property to change render quality.\n     *\n     * @property options.height\n     * @type number\n     * @default 600\n     */\n\n    /**\n     * The [pixel ratio](https://developer.mozilla.org/en-US/docs/Web/API/Window/devicePixelRatio) to use when rendering.\n     *\n     * @property options.pixelRatio\n     * @type number\n     * @default 1\n     */\n\n    /**\n     * A CSS background color string to use when `render.options.wireframes` is disabled.\n     * This may be also set to `'transparent'` or equivalent.\n     *\n     * @property options.background\n     * @type string\n     * @default '#14151f'\n     */\n\n    /**\n     * A CSS background color string to use when `render.options.wireframes` is enabled.\n     * This may be also set to `'transparent'` or equivalent.\n     *\n     * @property options.wireframeBackground\n     * @type string\n     * @default '#14151f'\n     */\n\n    /**\n     * A flag that specifies if `render.bounds` should be used when rendering.\n     *\n     * @property options.hasBounds\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag to enable or disable all debug information overlays together.  \n     * This includes and has priority over the values of:\n     *\n     * - `render.options.showStats`\n     * - `render.options.showPerformance`\n     *\n     * @property options.showDebug\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag to enable or disable the engine stats info overlay.  \n     * From left to right, the values shown are:\n     *\n     * - body parts total\n     * - body total\n     * - constraints total\n     * - composites total\n     * - collision pairs total\n     *\n     * @property options.showStats\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag to enable or disable performance charts.  \n     * From left to right, the values shown are:\n     *\n     * - average render frequency (e.g. 60 fps)\n     * - exact engine delta time used for last update (e.g. 16.66ms)\n     * - average engine execution duration (e.g. 5.00ms)\n     * - average render execution duration (e.g. 0.40ms)\n     * - average effective play speed (e.g. '1.00x' is 'real-time')\n     *\n     * Each value is recorded over a fixed sample of past frames (60 frames).\n     *\n     * A chart shown below each value indicates the variance from the average over the sample.\n     * The more stable or fixed the value is the flatter the chart will appear.\n     *\n     * @property options.showPerformance\n     * @type boolean\n     * @default false\n     */\n    \n    /**\n     * A flag to enable or disable rendering entirely.\n     *\n     * @property options.enabled\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag to toggle wireframe rendering otherwise solid fill rendering is used.\n     *\n     * @property options.wireframes\n     * @type boolean\n     * @default true\n     */\n\n    /**\n     * A flag to enable or disable sleeping bodies indicators.\n     *\n     * @property options.showSleeping\n     * @type boolean\n     * @default true\n     */\n\n    /**\n     * A flag to enable or disable the debug information overlay.\n     *\n     * @property options.showDebug\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag to enable or disable the collision broadphase debug overlay.\n     *\n     * @deprecated no longer implemented\n     * @property options.showBroadphase\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag to enable or disable the body bounds debug overlay.\n     *\n     * @property options.showBounds\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag to enable or disable the body velocity debug overlay.\n     *\n     * @property options.showVelocity\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag to enable or disable the body collisions debug overlay.\n     *\n     * @property options.showCollisions\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag to enable or disable the collision resolver separations debug overlay.\n     *\n     * @property options.showSeparations\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag to enable or disable the body axes debug overlay.\n     *\n     * @property options.showAxes\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag to enable or disable the body positions debug overlay.\n     *\n     * @property options.showPositions\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag to enable or disable the body angle debug overlay.\n     *\n     * @property options.showAngleIndicator\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag to enable or disable the body and part ids debug overlay.\n     *\n     * @property options.showIds\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag to enable or disable the body vertex numbers debug overlay.\n     *\n     * @property options.showVertexNumbers\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag to enable or disable the body convex hulls debug overlay.\n     *\n     * @property options.showConvexHulls\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag to enable or disable the body internal edges debug overlay.\n     *\n     * @property options.showInternalEdges\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag to enable or disable the mouse position debug overlay.\n     *\n     * @property options.showMousePosition\n     * @type boolean\n     * @default false\n     */\n\n})();\n\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports) {\n\n/**\n* The `Matter.Contact` module contains methods for creating and manipulating collision contacts.\n*\n* @class Contact\n*/\n\nvar Contact = {};\n\nmodule.exports = Contact;\n\n(function() {\n\n    /**\n     * Creates a new contact.\n     * @method create\n     * @param {vertex} vertex\n     * @return {contact} A new contact\n     */\n    Contact.create = function(vertex) {\n        return {\n            vertex: vertex,\n            normalImpulse: 0,\n            tangentImpulse: 0\n        };\n    };\n\n})();\n\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Engine` module contains methods for creating and manipulating engines.\n* An engine is a controller that manages updating the simulation of the world.\n* See `Matter.Runner` for an optional game loop utility.\n*\n* See the included usage [examples](https://github.com/liabru/matter-js/tree/master/examples).\n*\n* @class Engine\n*/\n\nvar Engine = {};\n\nmodule.exports = Engine;\n\nvar Sleeping = __webpack_require__(7);\nvar Resolver = __webpack_require__(19);\nvar Detector = __webpack_require__(14);\nvar Pairs = __webpack_require__(20);\nvar Events = __webpack_require__(4);\nvar Composite = __webpack_require__(5);\nvar Constraint = __webpack_require__(10);\nvar Common = __webpack_require__(0);\nvar Body = __webpack_require__(6);\n\n(function() {\n\n    /**\n     * Creates a new engine. The options parameter is an object that specifies any properties you wish to override the defaults.\n     * All properties have default values, and many are pre-calculated automatically based on other properties.\n     * See the properties section below for detailed information on what you can pass via the `options` object.\n     * @method create\n     * @param {object} [options]\n     * @return {engine} engine\n     */\n    Engine.create = function(options) {\n        options = options || {};\n\n        var defaults = {\n            positionIterations: 6,\n            velocityIterations: 4,\n            constraintIterations: 2,\n            enableSleeping: false,\n            events: [],\n            plugin: {},\n            gravity: {\n                x: 0,\n                y: 1,\n                scale: 0.001\n            },\n            timing: {\n                timestamp: 0,\n                timeScale: 1,\n                lastDelta: 0,\n                lastElapsed: 0\n            }\n        };\n\n        var engine = Common.extend(defaults, options);\n\n        engine.world = options.world || Composite.create({ label: 'World' });\n        engine.pairs = options.pairs || Pairs.create();\n        engine.detector = options.detector || Detector.create();\n\n        // for temporary back compatibility only\n        engine.grid = { buckets: [] };\n        engine.world.gravity = engine.gravity;\n        engine.broadphase = engine.grid;\n        engine.metrics = {};\n        \n        return engine;\n    };\n\n    /**\n     * Moves the simulation forward in time by `delta` ms.\n     * The `correction` argument is an optional `Number` that specifies the time correction factor to apply to the update.\n     * This can help improve the accuracy of the simulation in cases where `delta` is changing between updates.\n     * The value of `correction` is defined as `delta / lastDelta`, i.e. the percentage change of `delta` over the last step.\n     * Therefore the value is always `1` (no correction) when `delta` constant (or when no correction is desired, which is the default).\n     * See the paper on <a href=\"http://lonesock.net/article/verlet.html\">Time Corrected Verlet</a> for more information.\n     *\n     * Triggers `beforeUpdate` and `afterUpdate` events.\n     * Triggers `collisionStart`, `collisionActive` and `collisionEnd` events.\n     * @method update\n     * @param {engine} engine\n     * @param {number} [delta=16.666]\n     * @param {number} [correction=1]\n     */\n    Engine.update = function(engine, delta, correction) {\n        var startTime = Common.now();\n\n        delta = delta || 1000 / 60;\n        correction = correction || 1;\n\n        var world = engine.world,\n            detector = engine.detector,\n            pairs = engine.pairs,\n            timing = engine.timing,\n            timestamp = timing.timestamp,\n            i;\n\n        // increment timestamp\n        timing.timestamp += delta * timing.timeScale;\n        timing.lastDelta = delta * timing.timeScale;\n\n        // create an event object\n        var event = {\n            timestamp: timing.timestamp\n        };\n\n        Events.trigger(engine, 'beforeUpdate', event);\n\n        // get all bodies and all constraints in the world\n        var allBodies = Composite.allBodies(world),\n            allConstraints = Composite.allConstraints(world);\n\n        // update the detector bodies if they have changed\n        if (world.isModified) {\n            Detector.setBodies(detector, allBodies);\n        }\n\n        // reset all composite modified flags\n        if (world.isModified) {\n            Composite.setModified(world, false, false, true);\n        }\n\n        // update sleeping if enabled\n        if (engine.enableSleeping)\n            Sleeping.update(allBodies, timing.timeScale);\n\n        // apply gravity to all bodies\n        Engine._bodiesApplyGravity(allBodies, engine.gravity);\n\n        // update all body position and rotation by integration\n        Engine._bodiesUpdate(allBodies, delta, timing.timeScale, correction, world.bounds);\n\n        // update all constraints (first pass)\n        Constraint.preSolveAll(allBodies);\n        for (i = 0; i < engine.constraintIterations; i++) {\n            Constraint.solveAll(allConstraints, timing.timeScale);\n        }\n        Constraint.postSolveAll(allBodies);\n\n        // find all collisions\n        detector.pairs = engine.pairs;\n        var collisions = Detector.collisions(detector);\n\n        // update collision pairs\n        Pairs.update(pairs, collisions, timestamp);\n\n        // wake up bodies involved in collisions\n        if (engine.enableSleeping)\n            Sleeping.afterCollisions(pairs.list, timing.timeScale);\n\n        // trigger collision events\n        if (pairs.collisionStart.length > 0)\n            Events.trigger(engine, 'collisionStart', { pairs: pairs.collisionStart });\n\n        // iteratively resolve position between collisions\n        Resolver.preSolvePosition(pairs.list);\n        for (i = 0; i < engine.positionIterations; i++) {\n            Resolver.solvePosition(pairs.list, timing.timeScale);\n        }\n        Resolver.postSolvePosition(allBodies);\n\n        // update all constraints (second pass)\n        Constraint.preSolveAll(allBodies);\n        for (i = 0; i < engine.constraintIterations; i++) {\n            Constraint.solveAll(allConstraints, timing.timeScale);\n        }\n        Constraint.postSolveAll(allBodies);\n\n        // iteratively resolve velocity between collisions\n        Resolver.preSolveVelocity(pairs.list);\n        for (i = 0; i < engine.velocityIterations; i++) {\n            Resolver.solveVelocity(pairs.list, timing.timeScale);\n        }\n\n        // trigger collision events\n        if (pairs.collisionActive.length > 0)\n            Events.trigger(engine, 'collisionActive', { pairs: pairs.collisionActive });\n\n        if (pairs.collisionEnd.length > 0)\n            Events.trigger(engine, 'collisionEnd', { pairs: pairs.collisionEnd });\n\n        // clear force buffers\n        Engine._bodiesClearForces(allBodies);\n\n        Events.trigger(engine, 'afterUpdate', event);\n\n        // log the time elapsed computing this update\n        engine.timing.lastElapsed = Common.now() - startTime;\n\n        return engine;\n    };\n    \n    /**\n     * Merges two engines by keeping the configuration of `engineA` but replacing the world with the one from `engineB`.\n     * @method merge\n     * @param {engine} engineA\n     * @param {engine} engineB\n     */\n    Engine.merge = function(engineA, engineB) {\n        Common.extend(engineA, engineB);\n        \n        if (engineB.world) {\n            engineA.world = engineB.world;\n\n            Engine.clear(engineA);\n\n            var bodies = Composite.allBodies(engineA.world);\n\n            for (var i = 0; i < bodies.length; i++) {\n                var body = bodies[i];\n                Sleeping.set(body, false);\n                body.id = Common.nextId();\n            }\n        }\n    };\n\n    /**\n     * Clears the engine pairs and detector.\n     * @method clear\n     * @param {engine} engine\n     */\n    Engine.clear = function(engine) {\n        Pairs.clear(engine.pairs);\n        Detector.clear(engine.detector);\n    };\n\n    /**\n     * Zeroes the `body.force` and `body.torque` force buffers.\n     * @method _bodiesClearForces\n     * @private\n     * @param {body[]} bodies\n     */\n    Engine._bodiesClearForces = function(bodies) {\n        for (var i = 0; i < bodies.length; i++) {\n            var body = bodies[i];\n\n            // reset force buffers\n            body.force.x = 0;\n            body.force.y = 0;\n            body.torque = 0;\n        }\n    };\n\n    /**\n     * Applys a mass dependant force to all given bodies.\n     * @method _bodiesApplyGravity\n     * @private\n     * @param {body[]} bodies\n     * @param {vector} gravity\n     */\n    Engine._bodiesApplyGravity = function(bodies, gravity) {\n        var gravityScale = typeof gravity.scale !== 'undefined' ? gravity.scale : 0.001;\n\n        if ((gravity.x === 0 && gravity.y === 0) || gravityScale === 0) {\n            return;\n        }\n        \n        for (var i = 0; i < bodies.length; i++) {\n            var body = bodies[i];\n\n            if (body.isStatic || body.isSleeping)\n                continue;\n\n            // apply gravity\n            body.force.y += body.mass * gravity.y * gravityScale;\n            body.force.x += body.mass * gravity.x * gravityScale;\n        }\n    };\n\n    /**\n     * Applys `Body.update` to all given `bodies`.\n     * @method _bodiesUpdate\n     * @private\n     * @param {body[]} bodies\n     * @param {number} deltaTime \n     * The amount of time elapsed between updates\n     * @param {number} timeScale\n     * @param {number} correction \n     * The Verlet correction factor (deltaTime / lastDeltaTime)\n     * @param {bounds} worldBounds\n     */\n    Engine._bodiesUpdate = function(bodies, deltaTime, timeScale, correction, worldBounds) {\n        for (var i = 0; i < bodies.length; i++) {\n            var body = bodies[i];\n\n            if (body.isStatic || body.isSleeping)\n                continue;\n\n            Body.update(body, deltaTime, timeScale, correction);\n        }\n    };\n\n    /**\n     * A deprecated alias for `Runner.run`, use `Matter.Runner.run(engine)` instead and see `Matter.Runner` for more information.\n     * @deprecated use Matter.Runner.run(engine) instead\n     * @method run\n     * @param {engine} engine\n     */\n\n    /**\n    * Fired just before an update\n    *\n    * @event beforeUpdate\n    * @param {object} event An event object\n    * @param {number} event.timestamp The engine.timing.timestamp of the event\n    * @param {engine} event.source The source object of the event\n    * @param {string} event.name The name of the event\n    */\n\n    /**\n    * Fired after engine update and all collision events\n    *\n    * @event afterUpdate\n    * @param {object} event An event object\n    * @param {number} event.timestamp The engine.timing.timestamp of the event\n    * @param {engine} event.source The source object of the event\n    * @param {string} event.name The name of the event\n    */\n\n    /**\n    * Fired after engine update, provides a list of all pairs that have started to collide in the current tick (if any)\n    *\n    * @event collisionStart\n    * @param {object} event An event object\n    * @param {pair[]} event.pairs List of affected pairs\n    * @param {number} event.timestamp The engine.timing.timestamp of the event\n    * @param {engine} event.source The source object of the event\n    * @param {string} event.name The name of the event\n    */\n\n    /**\n    * Fired after engine update, provides a list of all pairs that are colliding in the current tick (if any)\n    *\n    * @event collisionActive\n    * @param {object} event An event object\n    * @param {pair[]} event.pairs List of affected pairs\n    * @param {number} event.timestamp The engine.timing.timestamp of the event\n    * @param {engine} event.source The source object of the event\n    * @param {string} event.name The name of the event\n    */\n\n    /**\n    * Fired after engine update, provides a list of all pairs that have ended collision in the current tick (if any)\n    *\n    * @event collisionEnd\n    * @param {object} event An event object\n    * @param {pair[]} event.pairs List of affected pairs\n    * @param {number} event.timestamp The engine.timing.timestamp of the event\n    * @param {engine} event.source The source object of the event\n    * @param {string} event.name The name of the event\n    */\n\n    /*\n    *\n    *  Properties Documentation\n    *\n    */\n\n    /**\n     * An integer `Number` that specifies the number of position iterations to perform each update.\n     * The higher the value, the higher quality the simulation will be at the expense of performance.\n     *\n     * @property positionIterations\n     * @type number\n     * @default 6\n     */\n\n    /**\n     * An integer `Number` that specifies the number of velocity iterations to perform each update.\n     * The higher the value, the higher quality the simulation will be at the expense of performance.\n     *\n     * @property velocityIterations\n     * @type number\n     * @default 4\n     */\n\n    /**\n     * An integer `Number` that specifies the number of constraint iterations to perform each update.\n     * The higher the value, the higher quality the simulation will be at the expense of performance.\n     * The default value of `2` is usually very adequate.\n     *\n     * @property constraintIterations\n     * @type number\n     * @default 2\n     */\n\n    /**\n     * A flag that specifies whether the engine should allow sleeping via the `Matter.Sleeping` module.\n     * Sleeping can improve stability and performance, but often at the expense of accuracy.\n     *\n     * @property enableSleeping\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * An `Object` containing properties regarding the timing systems of the engine. \n     *\n     * @property timing\n     * @type object\n     */\n\n    /**\n     * A `Number` that specifies the global scaling factor of time for all bodies.\n     * A value of `0` freezes the simulation.\n     * A value of `0.1` gives a slow-motion effect.\n     * A value of `1.2` gives a speed-up effect.\n     *\n     * @property timing.timeScale\n     * @type number\n     * @default 1\n     */\n\n    /**\n     * A `Number` that specifies the current simulation-time in milliseconds starting from `0`. \n     * It is incremented on every `Engine.update` by the given `delta` argument. \n     *\n     * @property timing.timestamp\n     * @type number\n     * @default 0\n     */\n\n    /**\n     * A `Number` that represents the total execution time elapsed during the last `Engine.update` in milliseconds.\n     * It is updated by timing from the start of the last `Engine.update` call until it ends.\n     *\n     * This value will also include the total execution time of all event handlers directly or indirectly triggered by the engine update.\n     *\n     * @property timing.lastElapsed\n     * @type number\n     * @default 0\n     */\n\n    /**\n     * A `Number` that represents the `delta` value used in the last engine update.\n     *\n     * @property timing.lastDelta\n     * @type number\n     * @default 0\n     */\n\n    /**\n     * A `Matter.Detector` instance.\n     *\n     * @property detector\n     * @type detector\n     * @default a Matter.Detector instance\n     */\n\n    /**\n     * A `Matter.Grid` instance.\n     *\n     * @deprecated replaced by `engine.detector`\n     * @property grid\n     * @type grid\n     * @default a Matter.Grid instance\n     */\n\n    /**\n     * Replaced by and now alias for `engine.grid`.\n     *\n     * @deprecated replaced by `engine.detector`\n     * @property broadphase\n     * @type grid\n     * @default a Matter.Grid instance\n     */\n\n    /**\n     * The root `Matter.Composite` instance that will contain all bodies, constraints and other composites to be simulated by this engine.\n     *\n     * @property world\n     * @type composite\n     * @default a Matter.Composite instance\n     */\n\n    /**\n     * An object reserved for storing plugin-specific properties.\n     *\n     * @property plugin\n     * @type {}\n     */\n\n    /**\n     * The gravity to apply on all bodies in `engine.world`.\n     *\n     * @property gravity\n     * @type object\n     */\n\n    /**\n     * The gravity x component.\n     *\n     * @property gravity.x\n     * @type object\n     * @default 0\n     */\n\n    /**\n     * The gravity y component.\n     *\n     * @property gravity.y\n     * @type object\n     * @default 1\n     */\n\n    /**\n     * The gravity scale factor.\n     *\n     * @property gravity.scale\n     * @type object\n     * @default 0.001\n     */\n\n})();\n\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Resolver` module contains methods for resolving collision pairs.\n*\n* @class Resolver\n*/\n\nvar Resolver = {};\n\nmodule.exports = Resolver;\n\nvar Vertices = __webpack_require__(3);\nvar Bounds = __webpack_require__(1);\n\n(function() {\n\n    Resolver._restingThresh = 4;\n    Resolver._restingThreshTangent = 6;\n    Resolver._positionDampen = 0.9;\n    Resolver._positionWarming = 0.8;\n    Resolver._frictionNormalMultiplier = 5;\n\n    /**\n     * Prepare pairs for position solving.\n     * @method preSolvePosition\n     * @param {pair[]} pairs\n     */\n    Resolver.preSolvePosition = function(pairs) {\n        var i,\n            pair,\n            activeCount,\n            pairsLength = pairs.length;\n\n        // find total contacts on each body\n        for (i = 0; i < pairsLength; i++) {\n            pair = pairs[i];\n            \n            if (!pair.isActive)\n                continue;\n            \n            activeCount = pair.activeContacts.length;\n            pair.collision.parentA.totalContacts += activeCount;\n            pair.collision.parentB.totalContacts += activeCount;\n        }\n    };\n\n    /**\n     * Find a solution for pair positions.\n     * @method solvePosition\n     * @param {pair[]} pairs\n     * @param {number} timeScale\n     */\n    Resolver.solvePosition = function(pairs, timeScale) {\n        var i,\n            pair,\n            collision,\n            bodyA,\n            bodyB,\n            normal,\n            contactShare,\n            positionImpulse,\n            positionDampen = Resolver._positionDampen,\n            pairsLength = pairs.length;\n\n        // find impulses required to resolve penetration\n        for (i = 0; i < pairsLength; i++) {\n            pair = pairs[i];\n            \n            if (!pair.isActive || pair.isSensor)\n                continue;\n\n            collision = pair.collision;\n            bodyA = collision.parentA;\n            bodyB = collision.parentB;\n            normal = collision.normal;\n\n            // get current separation between body edges involved in collision\n            pair.separation = \n                normal.x * (bodyB.positionImpulse.x + collision.penetration.x - bodyA.positionImpulse.x)\n                + normal.y * (bodyB.positionImpulse.y + collision.penetration.y - bodyA.positionImpulse.y);\n        }\n        \n        for (i = 0; i < pairsLength; i++) {\n            pair = pairs[i];\n\n            if (!pair.isActive || pair.isSensor)\n                continue;\n            \n            collision = pair.collision;\n            bodyA = collision.parentA;\n            bodyB = collision.parentB;\n            normal = collision.normal;\n            positionImpulse = (pair.separation - pair.slop) * timeScale;\n\n            if (bodyA.isStatic || bodyB.isStatic)\n                positionImpulse *= 2;\n            \n            if (!(bodyA.isStatic || bodyA.isSleeping)) {\n                contactShare = positionDampen / bodyA.totalContacts;\n                bodyA.positionImpulse.x += normal.x * positionImpulse * contactShare;\n                bodyA.positionImpulse.y += normal.y * positionImpulse * contactShare;\n            }\n\n            if (!(bodyB.isStatic || bodyB.isSleeping)) {\n                contactShare = positionDampen / bodyB.totalContacts;\n                bodyB.positionImpulse.x -= normal.x * positionImpulse * contactShare;\n                bodyB.positionImpulse.y -= normal.y * positionImpulse * contactShare;\n            }\n        }\n    };\n\n    /**\n     * Apply position resolution.\n     * @method postSolvePosition\n     * @param {body[]} bodies\n     */\n    Resolver.postSolvePosition = function(bodies) {\n        var positionWarming = Resolver._positionWarming,\n            bodiesLength = bodies.length,\n            verticesTranslate = Vertices.translate,\n            boundsUpdate = Bounds.update;\n\n        for (var i = 0; i < bodiesLength; i++) {\n            var body = bodies[i],\n                positionImpulse = body.positionImpulse,\n                positionImpulseX = positionImpulse.x,\n                positionImpulseY = positionImpulse.y,\n                velocity = body.velocity;\n\n            // reset contact count\n            body.totalContacts = 0;\n\n            if (positionImpulseX !== 0 || positionImpulseY !== 0) {\n                // update body geometry\n                for (var j = 0; j < body.parts.length; j++) {\n                    var part = body.parts[j];\n                    verticesTranslate(part.vertices, positionImpulse);\n                    boundsUpdate(part.bounds, part.vertices, velocity);\n                    part.position.x += positionImpulseX;\n                    part.position.y += positionImpulseY;\n                }\n\n                // move the body without changing velocity\n                body.positionPrev.x += positionImpulseX;\n                body.positionPrev.y += positionImpulseY;\n\n                if (positionImpulseX * velocity.x + positionImpulseY * velocity.y < 0) {\n                    // reset cached impulse if the body has velocity along it\n                    positionImpulse.x = 0;\n                    positionImpulse.y = 0;\n                } else {\n                    // warm the next iteration\n                    positionImpulse.x *= positionWarming;\n                    positionImpulse.y *= positionWarming;\n                }\n            }\n        }\n    };\n\n    /**\n     * Prepare pairs for velocity solving.\n     * @method preSolveVelocity\n     * @param {pair[]} pairs\n     */\n    Resolver.preSolveVelocity = function(pairs) {\n        var pairsLength = pairs.length,\n            i,\n            j;\n        \n        for (i = 0; i < pairsLength; i++) {\n            var pair = pairs[i];\n            \n            if (!pair.isActive || pair.isSensor)\n                continue;\n            \n            var contacts = pair.activeContacts,\n                contactsLength = contacts.length,\n                collision = pair.collision,\n                bodyA = collision.parentA,\n                bodyB = collision.parentB,\n                normal = collision.normal,\n                tangent = collision.tangent;\n    \n            // resolve each contact\n            for (j = 0; j < contactsLength; j++) {\n                var contact = contacts[j],\n                    contactVertex = contact.vertex,\n                    normalImpulse = contact.normalImpulse,\n                    tangentImpulse = contact.tangentImpulse;\n    \n                if (normalImpulse !== 0 || tangentImpulse !== 0) {\n                    // total impulse from contact\n                    var impulseX = normal.x * normalImpulse + tangent.x * tangentImpulse,\n                        impulseY = normal.y * normalImpulse + tangent.y * tangentImpulse;\n                    \n                    // apply impulse from contact\n                    if (!(bodyA.isStatic || bodyA.isSleeping)) {\n                        bodyA.positionPrev.x += impulseX * bodyA.inverseMass;\n                        bodyA.positionPrev.y += impulseY * bodyA.inverseMass;\n                        bodyA.anglePrev += bodyA.inverseInertia * (\n                            (contactVertex.x - bodyA.position.x) * impulseY\n                            - (contactVertex.y - bodyA.position.y) * impulseX\n                        );\n                    }\n    \n                    if (!(bodyB.isStatic || bodyB.isSleeping)) {\n                        bodyB.positionPrev.x -= impulseX * bodyB.inverseMass;\n                        bodyB.positionPrev.y -= impulseY * bodyB.inverseMass;\n                        bodyB.anglePrev -= bodyB.inverseInertia * (\n                            (contactVertex.x - bodyB.position.x) * impulseY \n                            - (contactVertex.y - bodyB.position.y) * impulseX\n                        );\n                    }\n                }\n            }\n        }\n    };\n\n    /**\n     * Find a solution for pair velocities.\n     * @method solveVelocity\n     * @param {pair[]} pairs\n     * @param {number} timeScale\n     */\n    Resolver.solveVelocity = function(pairs, timeScale) {\n        var timeScaleSquared = timeScale * timeScale,\n            restingThresh = Resolver._restingThresh * timeScaleSquared,\n            frictionNormalMultiplier = Resolver._frictionNormalMultiplier,\n            restingThreshTangent = Resolver._restingThreshTangent * timeScaleSquared,\n            NumberMaxValue = Number.MAX_VALUE,\n            pairsLength = pairs.length,\n            tangentImpulse,\n            maxFriction,\n            i,\n            j;\n\n        for (i = 0; i < pairsLength; i++) {\n            var pair = pairs[i];\n            \n            if (!pair.isActive || pair.isSensor)\n                continue;\n            \n            var collision = pair.collision,\n                bodyA = collision.parentA,\n                bodyB = collision.parentB,\n                bodyAVelocity = bodyA.velocity,\n                bodyBVelocity = bodyB.velocity,\n                normalX = collision.normal.x,\n                normalY = collision.normal.y,\n                tangentX = collision.tangent.x,\n                tangentY = collision.tangent.y,\n                contacts = pair.activeContacts,\n                contactsLength = contacts.length,\n                contactShare = 1 / contactsLength,\n                inverseMassTotal = bodyA.inverseMass + bodyB.inverseMass,\n                friction = pair.friction * pair.frictionStatic * frictionNormalMultiplier * timeScaleSquared;\n\n            // update body velocities\n            bodyAVelocity.x = bodyA.position.x - bodyA.positionPrev.x;\n            bodyAVelocity.y = bodyA.position.y - bodyA.positionPrev.y;\n            bodyBVelocity.x = bodyB.position.x - bodyB.positionPrev.x;\n            bodyBVelocity.y = bodyB.position.y - bodyB.positionPrev.y;\n            bodyA.angularVelocity = bodyA.angle - bodyA.anglePrev;\n            bodyB.angularVelocity = bodyB.angle - bodyB.anglePrev;\n\n            // resolve each contact\n            for (j = 0; j < contactsLength; j++) {\n                var contact = contacts[j],\n                    contactVertex = contact.vertex;\n\n                var offsetAX = contactVertex.x - bodyA.position.x,\n                    offsetAY = contactVertex.y - bodyA.position.y,\n                    offsetBX = contactVertex.x - bodyB.position.x,\n                    offsetBY = contactVertex.y - bodyB.position.y;\n \n                var velocityPointAX = bodyAVelocity.x - offsetAY * bodyA.angularVelocity,\n                    velocityPointAY = bodyAVelocity.y + offsetAX * bodyA.angularVelocity,\n                    velocityPointBX = bodyBVelocity.x - offsetBY * bodyB.angularVelocity,\n                    velocityPointBY = bodyBVelocity.y + offsetBX * bodyB.angularVelocity;\n\n                var relativeVelocityX = velocityPointAX - velocityPointBX,\n                    relativeVelocityY = velocityPointAY - velocityPointBY;\n\n                var normalVelocity = normalX * relativeVelocityX + normalY * relativeVelocityY,\n                    tangentVelocity = tangentX * relativeVelocityX + tangentY * relativeVelocityY;\n\n                // coulomb friction\n                var normalOverlap = pair.separation + normalVelocity;\n                var normalForce = Math.min(normalOverlap, 1);\n                normalForce = normalOverlap < 0 ? 0 : normalForce;\n                \n                var frictionLimit = normalForce * friction;\n\n                if (tangentVelocity > frictionLimit || -tangentVelocity > frictionLimit) {\n                    maxFriction = tangentVelocity > 0 ? tangentVelocity : -tangentVelocity;\n                    tangentImpulse = pair.friction * (tangentVelocity > 0 ? 1 : -1) * timeScaleSquared;\n                    \n                    if (tangentImpulse < -maxFriction) {\n                        tangentImpulse = -maxFriction;\n                    } else if (tangentImpulse > maxFriction) {\n                        tangentImpulse = maxFriction;\n                    }\n                } else {\n                    tangentImpulse = tangentVelocity;\n                    maxFriction = NumberMaxValue;\n                }\n\n                // account for mass, inertia and contact offset\n                var oAcN = offsetAX * normalY - offsetAY * normalX,\n                    oBcN = offsetBX * normalY - offsetBY * normalX,\n                    share = contactShare / (inverseMassTotal + bodyA.inverseInertia * oAcN * oAcN + bodyB.inverseInertia * oBcN * oBcN);\n\n                // raw impulses\n                var normalImpulse = (1 + pair.restitution) * normalVelocity * share;\n                tangentImpulse *= share;\n\n                // handle high velocity and resting collisions separately\n                if (normalVelocity * normalVelocity > restingThresh && normalVelocity < 0) {\n                    // high normal velocity so clear cached contact normal impulse\n                    contact.normalImpulse = 0;\n                } else {\n                    // solve resting collision constraints using Erin Catto's method (GDC08)\n                    // impulse constraint tends to 0\n                    var contactNormalImpulse = contact.normalImpulse;\n                    contact.normalImpulse += normalImpulse;\n                    contact.normalImpulse = Math.min(contact.normalImpulse, 0);\n                    normalImpulse = contact.normalImpulse - contactNormalImpulse;\n                }\n\n                // handle high velocity and resting collisions separately\n                if (tangentVelocity * tangentVelocity > restingThreshTangent) {\n                    // high tangent velocity so clear cached contact tangent impulse\n                    contact.tangentImpulse = 0;\n                } else {\n                    // solve resting collision constraints using Erin Catto's method (GDC08)\n                    // tangent impulse tends to -tangentSpeed or +tangentSpeed\n                    var contactTangentImpulse = contact.tangentImpulse;\n                    contact.tangentImpulse += tangentImpulse;\n                    if (contact.tangentImpulse < -maxFriction) contact.tangentImpulse = -maxFriction;\n                    if (contact.tangentImpulse > maxFriction) contact.tangentImpulse = maxFriction;\n                    tangentImpulse = contact.tangentImpulse - contactTangentImpulse;\n                }\n\n                // total impulse from contact\n                var impulseX = normalX * normalImpulse + tangentX * tangentImpulse,\n                    impulseY = normalY * normalImpulse + tangentY * tangentImpulse;\n                \n                // apply impulse from contact\n                if (!(bodyA.isStatic || bodyA.isSleeping)) {\n                    bodyA.positionPrev.x += impulseX * bodyA.inverseMass;\n                    bodyA.positionPrev.y += impulseY * bodyA.inverseMass;\n                    bodyA.anglePrev += (offsetAX * impulseY - offsetAY * impulseX) * bodyA.inverseInertia;\n                }\n\n                if (!(bodyB.isStatic || bodyB.isSleeping)) {\n                    bodyB.positionPrev.x -= impulseX * bodyB.inverseMass;\n                    bodyB.positionPrev.y -= impulseY * bodyB.inverseMass;\n                    bodyB.anglePrev -= (offsetBX * impulseY - offsetBY * impulseX) * bodyB.inverseInertia;\n                }\n            }\n        }\n    };\n\n})();\n\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Pairs` module contains methods for creating and manipulating collision pair sets.\n*\n* @class Pairs\n*/\n\nvar Pairs = {};\n\nmodule.exports = Pairs;\n\nvar Pair = __webpack_require__(9);\nvar Common = __webpack_require__(0);\n\n(function() {\n\n    /**\n     * Creates a new pairs structure.\n     * @method create\n     * @param {object} options\n     * @return {pairs} A new pairs structure\n     */\n    Pairs.create = function(options) {\n        return Common.extend({ \n            table: {},\n            list: [],\n            collisionStart: [],\n            collisionActive: [],\n            collisionEnd: []\n        }, options);\n    };\n\n    /**\n     * Updates pairs given a list of collisions.\n     * @method update\n     * @param {object} pairs\n     * @param {collision[]} collisions\n     * @param {number} timestamp\n     */\n    Pairs.update = function(pairs, collisions, timestamp) {\n        var pairsList = pairs.list,\n            pairsListLength = pairsList.length,\n            pairsTable = pairs.table,\n            collisionsLength = collisions.length,\n            collisionStart = pairs.collisionStart,\n            collisionEnd = pairs.collisionEnd,\n            collisionActive = pairs.collisionActive,\n            collision,\n            pairIndex,\n            pair,\n            i;\n\n        // clear collision state arrays, but maintain old reference\n        collisionStart.length = 0;\n        collisionEnd.length = 0;\n        collisionActive.length = 0;\n\n        for (i = 0; i < pairsListLength; i++) {\n            pairsList[i].confirmedActive = false;\n        }\n\n        for (i = 0; i < collisionsLength; i++) {\n            collision = collisions[i];\n            pair = collision.pair;\n\n            if (pair) {\n                // pair already exists (but may or may not be active)\n                if (pair.isActive) {\n                    // pair exists and is active\n                    collisionActive.push(pair);\n                } else {\n                    // pair exists but was inactive, so a collision has just started again\n                    collisionStart.push(pair);\n                }\n\n                // update the pair\n                Pair.update(pair, collision, timestamp);\n                pair.confirmedActive = true;\n            } else {\n                // pair did not exist, create a new pair\n                pair = Pair.create(collision, timestamp);\n                pairsTable[pair.id] = pair;\n\n                // push the new pair\n                collisionStart.push(pair);\n                pairsList.push(pair);\n            }\n        }\n\n        // find pairs that are no longer active\n        var removePairIndex = [];\n        pairsListLength = pairsList.length;\n\n        for (i = 0; i < pairsListLength; i++) {\n            pair = pairsList[i];\n            \n            if (!pair.confirmedActive) {\n                Pair.setActive(pair, false, timestamp);\n                collisionEnd.push(pair);\n\n                if (!pair.collision.bodyA.isSleeping && !pair.collision.bodyB.isSleeping) {\n                    removePairIndex.push(i);\n                }\n            }\n        }\n\n        // remove inactive pairs\n        for (i = 0; i < removePairIndex.length; i++) {\n            pairIndex = removePairIndex[i] - i;\n            pair = pairsList[pairIndex];\n            pairsList.splice(pairIndex, 1);\n            delete pairsTable[pair.id];\n        }\n    };\n\n    /**\n     * Clears the given pairs structure.\n     * @method clear\n     * @param {pairs} pairs\n     * @return {pairs} pairs\n     */\n    Pairs.clear = function(pairs) {\n        pairs.table = {};\n        pairs.list.length = 0;\n        pairs.collisionStart.length = 0;\n        pairs.collisionActive.length = 0;\n        pairs.collisionEnd.length = 0;\n        return pairs;\n    };\n\n})();\n\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Matter = module.exports = __webpack_require__(22);\r\n\r\nMatter.Axes = __webpack_require__(11);\r\nMatter.Bodies = __webpack_require__(12);\r\nMatter.Body = __webpack_require__(6);\r\nMatter.Bounds = __webpack_require__(1);\r\nMatter.Collision = __webpack_require__(8);\r\nMatter.Common = __webpack_require__(0);\r\nMatter.Composite = __webpack_require__(5);\r\nMatter.Composites = __webpack_require__(23);\r\nMatter.Constraint = __webpack_require__(10);\r\nMatter.Contact = __webpack_require__(17);\r\nMatter.Detector = __webpack_require__(14);\r\nMatter.Engine = __webpack_require__(18);\r\nMatter.Events = __webpack_require__(4);\r\nMatter.Grid = __webpack_require__(24);\r\nMatter.Mouse = __webpack_require__(13);\r\nMatter.MouseConstraint = __webpack_require__(25);\r\nMatter.Pair = __webpack_require__(9);\r\nMatter.Pairs = __webpack_require__(20);\r\nMatter.Plugin = __webpack_require__(15);\r\nMatter.Query = __webpack_require__(26);\r\nMatter.Render = __webpack_require__(16);\r\nMatter.Resolver = __webpack_require__(19);\r\nMatter.Runner = __webpack_require__(27);\r\nMatter.SAT = __webpack_require__(28);\r\nMatter.Sleeping = __webpack_require__(7);\r\nMatter.Svg = __webpack_require__(29);\r\nMatter.Vector = __webpack_require__(2);\r\nMatter.Vertices = __webpack_require__(3);\r\nMatter.World = __webpack_require__(30);\r\n\r\n// temporary back compatibility\r\nMatter.Engine.run = Matter.Runner.run;\r\nMatter.Common.deprecated(Matter.Engine, 'run', 'Engine.run  use Matter.Runner.run(engine) instead');\r\n\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\r\n* The `Matter` module is the top level namespace. It also includes a function for installing plugins on top of the library.\r\n*\r\n* @class Matter\r\n*/\r\n\r\nvar Matter = {};\r\n\r\nmodule.exports = Matter;\r\n\r\nvar Plugin = __webpack_require__(15);\r\nvar Common = __webpack_require__(0);\r\n\r\n(function() {\r\n\r\n    /**\r\n     * The library name.\r\n     * @property name\r\n     * @readOnly\r\n     * @type {String}\r\n     */\r\n    Matter.name = 'matter-js';\r\n\r\n    /**\r\n     * The library version.\r\n     * @property version\r\n     * @readOnly\r\n     * @type {String}\r\n     */\r\n    Matter.version =  true ? \"0.18.0\" : undefined;\r\n\r\n    /**\r\n     * A list of plugin dependencies to be installed. These are normally set and installed through `Matter.use`.\r\n     * Alternatively you may set `Matter.uses` manually and install them by calling `Plugin.use(Matter)`.\r\n     * @property uses\r\n     * @type {Array}\r\n     */\r\n    Matter.uses = [];\r\n\r\n    /**\r\n     * The plugins that have been installed through `Matter.Plugin.install`. Read only.\r\n     * @property used\r\n     * @readOnly\r\n     * @type {Array}\r\n     */\r\n    Matter.used = [];\r\n\r\n    /**\r\n     * Installs the given plugins on the `Matter` namespace.\r\n     * This is a short-hand for `Plugin.use`, see it for more information.\r\n     * Call this function once at the start of your code, with all of the plugins you wish to install as arguments.\r\n     * Avoid calling this function multiple times unless you intend to manually control installation order.\r\n     * @method use\r\n     * @param ...plugin {Function} The plugin(s) to install on `base` (multi-argument).\r\n     */\r\n    Matter.use = function() {\r\n        Plugin.use(Matter, Array.prototype.slice.call(arguments));\r\n    };\r\n\r\n    /**\r\n     * Chains a function to excute before the original function on the given `path` relative to `Matter`.\r\n     * See also docs for `Common.chain`.\r\n     * @method before\r\n     * @param {string} path The path relative to `Matter`\r\n     * @param {function} func The function to chain before the original\r\n     * @return {function} The chained function that replaced the original\r\n     */\r\n    Matter.before = function(path, func) {\r\n        path = path.replace(/^Matter./, '');\r\n        return Common.chainPathBefore(Matter, path, func);\r\n    };\r\n\r\n    /**\r\n     * Chains a function to excute after the original function on the given `path` relative to `Matter`.\r\n     * See also docs for `Common.chain`.\r\n     * @method after\r\n     * @param {string} path The path relative to `Matter`\r\n     * @param {function} func The function to chain after the original\r\n     * @return {function} The chained function that replaced the original\r\n     */\r\n    Matter.after = function(path, func) {\r\n        path = path.replace(/^Matter./, '');\r\n        return Common.chainPathAfter(Matter, path, func);\r\n    };\r\n\r\n})();\r\n\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Composites` module contains factory methods for creating composite bodies\n* with commonly used configurations (such as stacks and chains).\n*\n* See the included usage [examples](https://github.com/liabru/matter-js/tree/master/examples).\n*\n* @class Composites\n*/\n\nvar Composites = {};\n\nmodule.exports = Composites;\n\nvar Composite = __webpack_require__(5);\nvar Constraint = __webpack_require__(10);\nvar Common = __webpack_require__(0);\nvar Body = __webpack_require__(6);\nvar Bodies = __webpack_require__(12);\nvar deprecated = Common.deprecated;\n\n(function() {\n\n    /**\n     * Create a new composite containing bodies created in the callback in a grid arrangement.\n     * This function uses the body's bounds to prevent overlaps.\n     * @method stack\n     * @param {number} xx\n     * @param {number} yy\n     * @param {number} columns\n     * @param {number} rows\n     * @param {number} columnGap\n     * @param {number} rowGap\n     * @param {function} callback\n     * @return {composite} A new composite containing objects created in the callback\n     */\n    Composites.stack = function(xx, yy, columns, rows, columnGap, rowGap, callback) {\n        var stack = Composite.create({ label: 'Stack' }),\n            x = xx,\n            y = yy,\n            lastBody,\n            i = 0;\n\n        for (var row = 0; row < rows; row++) {\n            var maxHeight = 0;\n            \n            for (var column = 0; column < columns; column++) {\n                var body = callback(x, y, column, row, lastBody, i);\n                    \n                if (body) {\n                    var bodyHeight = body.bounds.max.y - body.bounds.min.y,\n                        bodyWidth = body.bounds.max.x - body.bounds.min.x; \n\n                    if (bodyHeight > maxHeight)\n                        maxHeight = bodyHeight;\n                    \n                    Body.translate(body, { x: bodyWidth * 0.5, y: bodyHeight * 0.5 });\n\n                    x = body.bounds.max.x + columnGap;\n\n                    Composite.addBody(stack, body);\n                    \n                    lastBody = body;\n                    i += 1;\n                } else {\n                    x += columnGap;\n                }\n            }\n            \n            y += maxHeight + rowGap;\n            x = xx;\n        }\n\n        return stack;\n    };\n    \n    /**\n     * Chains all bodies in the given composite together using constraints.\n     * @method chain\n     * @param {composite} composite\n     * @param {number} xOffsetA\n     * @param {number} yOffsetA\n     * @param {number} xOffsetB\n     * @param {number} yOffsetB\n     * @param {object} options\n     * @return {composite} A new composite containing objects chained together with constraints\n     */\n    Composites.chain = function(composite, xOffsetA, yOffsetA, xOffsetB, yOffsetB, options) {\n        var bodies = composite.bodies;\n        \n        for (var i = 1; i < bodies.length; i++) {\n            var bodyA = bodies[i - 1],\n                bodyB = bodies[i],\n                bodyAHeight = bodyA.bounds.max.y - bodyA.bounds.min.y,\n                bodyAWidth = bodyA.bounds.max.x - bodyA.bounds.min.x, \n                bodyBHeight = bodyB.bounds.max.y - bodyB.bounds.min.y,\n                bodyBWidth = bodyB.bounds.max.x - bodyB.bounds.min.x;\n        \n            var defaults = {\n                bodyA: bodyA,\n                pointA: { x: bodyAWidth * xOffsetA, y: bodyAHeight * yOffsetA },\n                bodyB: bodyB,\n                pointB: { x: bodyBWidth * xOffsetB, y: bodyBHeight * yOffsetB }\n            };\n            \n            var constraint = Common.extend(defaults, options);\n        \n            Composite.addConstraint(composite, Constraint.create(constraint));\n        }\n\n        composite.label += ' Chain';\n        \n        return composite;\n    };\n\n    /**\n     * Connects bodies in the composite with constraints in a grid pattern, with optional cross braces.\n     * @method mesh\n     * @param {composite} composite\n     * @param {number} columns\n     * @param {number} rows\n     * @param {boolean} crossBrace\n     * @param {object} options\n     * @return {composite} The composite containing objects meshed together with constraints\n     */\n    Composites.mesh = function(composite, columns, rows, crossBrace, options) {\n        var bodies = composite.bodies,\n            row,\n            col,\n            bodyA,\n            bodyB,\n            bodyC;\n        \n        for (row = 0; row < rows; row++) {\n            for (col = 1; col < columns; col++) {\n                bodyA = bodies[(col - 1) + (row * columns)];\n                bodyB = bodies[col + (row * columns)];\n                Composite.addConstraint(composite, Constraint.create(Common.extend({ bodyA: bodyA, bodyB: bodyB }, options)));\n            }\n\n            if (row > 0) {\n                for (col = 0; col < columns; col++) {\n                    bodyA = bodies[col + ((row - 1) * columns)];\n                    bodyB = bodies[col + (row * columns)];\n                    Composite.addConstraint(composite, Constraint.create(Common.extend({ bodyA: bodyA, bodyB: bodyB }, options)));\n\n                    if (crossBrace && col > 0) {\n                        bodyC = bodies[(col - 1) + ((row - 1) * columns)];\n                        Composite.addConstraint(composite, Constraint.create(Common.extend({ bodyA: bodyC, bodyB: bodyB }, options)));\n                    }\n\n                    if (crossBrace && col < columns - 1) {\n                        bodyC = bodies[(col + 1) + ((row - 1) * columns)];\n                        Composite.addConstraint(composite, Constraint.create(Common.extend({ bodyA: bodyC, bodyB: bodyB }, options)));\n                    }\n                }\n            }\n        }\n\n        composite.label += ' Mesh';\n        \n        return composite;\n    };\n    \n    /**\n     * Create a new composite containing bodies created in the callback in a pyramid arrangement.\n     * This function uses the body's bounds to prevent overlaps.\n     * @method pyramid\n     * @param {number} xx\n     * @param {number} yy\n     * @param {number} columns\n     * @param {number} rows\n     * @param {number} columnGap\n     * @param {number} rowGap\n     * @param {function} callback\n     * @return {composite} A new composite containing objects created in the callback\n     */\n    Composites.pyramid = function(xx, yy, columns, rows, columnGap, rowGap, callback) {\n        return Composites.stack(xx, yy, columns, rows, columnGap, rowGap, function(x, y, column, row, lastBody, i) {\n            var actualRows = Math.min(rows, Math.ceil(columns / 2)),\n                lastBodyWidth = lastBody ? lastBody.bounds.max.x - lastBody.bounds.min.x : 0;\n            \n            if (row > actualRows)\n                return;\n            \n            // reverse row order\n            row = actualRows - row;\n            \n            var start = row,\n                end = columns - 1 - row;\n\n            if (column < start || column > end)\n                return;\n            \n            // retroactively fix the first body's position, since width was unknown\n            if (i === 1) {\n                Body.translate(lastBody, { x: (column + (columns % 2 === 1 ? 1 : -1)) * lastBodyWidth, y: 0 });\n            }\n\n            var xOffset = lastBody ? column * lastBodyWidth : 0;\n            \n            return callback(xx + xOffset + column * columnGap, y, column, row, lastBody, i);\n        });\n    };\n\n    /**\n     * This has now moved to the [newtonsCradle example](https://github.com/liabru/matter-js/blob/master/examples/newtonsCradle.js), follow that instead as this function is deprecated here.\n     * @deprecated moved to newtonsCradle example\n     * @method newtonsCradle\n     * @param {number} xx\n     * @param {number} yy\n     * @param {number} number\n     * @param {number} size\n     * @param {number} length\n     * @return {composite} A new composite newtonsCradle body\n     */\n    Composites.newtonsCradle = function(xx, yy, number, size, length) {\n        var newtonsCradle = Composite.create({ label: 'Newtons Cradle' });\n\n        for (var i = 0; i < number; i++) {\n            var separation = 1.9,\n                circle = Bodies.circle(xx + i * (size * separation), yy + length, size, \n                    { inertia: Infinity, restitution: 1, friction: 0, frictionAir: 0.0001, slop: 1 }),\n                constraint = Constraint.create({ pointA: { x: xx + i * (size * separation), y: yy }, bodyB: circle });\n\n            Composite.addBody(newtonsCradle, circle);\n            Composite.addConstraint(newtonsCradle, constraint);\n        }\n\n        return newtonsCradle;\n    };\n\n    deprecated(Composites, 'newtonsCradle', 'Composites.newtonsCradle  moved to newtonsCradle example');\n    \n    /**\n     * This has now moved to the [car example](https://github.com/liabru/matter-js/blob/master/examples/car.js), follow that instead as this function is deprecated here.\n     * @deprecated moved to car example\n     * @method car\n     * @param {number} xx\n     * @param {number} yy\n     * @param {number} width\n     * @param {number} height\n     * @param {number} wheelSize\n     * @return {composite} A new composite car body\n     */\n    Composites.car = function(xx, yy, width, height, wheelSize) {\n        var group = Body.nextGroup(true),\n            wheelBase = 20,\n            wheelAOffset = -width * 0.5 + wheelBase,\n            wheelBOffset = width * 0.5 - wheelBase,\n            wheelYOffset = 0;\n    \n        var car = Composite.create({ label: 'Car' }),\n            body = Bodies.rectangle(xx, yy, width, height, { \n                collisionFilter: {\n                    group: group\n                },\n                chamfer: {\n                    radius: height * 0.5\n                },\n                density: 0.0002\n            });\n    \n        var wheelA = Bodies.circle(xx + wheelAOffset, yy + wheelYOffset, wheelSize, { \n            collisionFilter: {\n                group: group\n            },\n            friction: 0.8\n        });\n                    \n        var wheelB = Bodies.circle(xx + wheelBOffset, yy + wheelYOffset, wheelSize, { \n            collisionFilter: {\n                group: group\n            },\n            friction: 0.8\n        });\n                    \n        var axelA = Constraint.create({\n            bodyB: body,\n            pointB: { x: wheelAOffset, y: wheelYOffset },\n            bodyA: wheelA,\n            stiffness: 1,\n            length: 0\n        });\n                        \n        var axelB = Constraint.create({\n            bodyB: body,\n            pointB: { x: wheelBOffset, y: wheelYOffset },\n            bodyA: wheelB,\n            stiffness: 1,\n            length: 0\n        });\n        \n        Composite.addBody(car, body);\n        Composite.addBody(car, wheelA);\n        Composite.addBody(car, wheelB);\n        Composite.addConstraint(car, axelA);\n        Composite.addConstraint(car, axelB);\n\n        return car;\n    };\n\n    deprecated(Composites, 'car', 'Composites.car  moved to car example');\n\n    /**\n     * This has now moved to the [softBody example](https://github.com/liabru/matter-js/blob/master/examples/softBody.js)\n     * and the [cloth example](https://github.com/liabru/matter-js/blob/master/examples/cloth.js), follow those instead as this function is deprecated here.\n     * @deprecated moved to softBody and cloth examples\n     * @method softBody\n     * @param {number} xx\n     * @param {number} yy\n     * @param {number} columns\n     * @param {number} rows\n     * @param {number} columnGap\n     * @param {number} rowGap\n     * @param {boolean} crossBrace\n     * @param {number} particleRadius\n     * @param {} particleOptions\n     * @param {} constraintOptions\n     * @return {composite} A new composite softBody\n     */\n    Composites.softBody = function(xx, yy, columns, rows, columnGap, rowGap, crossBrace, particleRadius, particleOptions, constraintOptions) {\n        particleOptions = Common.extend({ inertia: Infinity }, particleOptions);\n        constraintOptions = Common.extend({ stiffness: 0.2, render: { type: 'line', anchors: false } }, constraintOptions);\n\n        var softBody = Composites.stack(xx, yy, columns, rows, columnGap, rowGap, function(x, y) {\n            return Bodies.circle(x, y, particleRadius, particleOptions);\n        });\n\n        Composites.mesh(softBody, columns, rows, crossBrace, constraintOptions);\n\n        softBody.label = 'Soft Body';\n\n        return softBody;\n    };\n\n    deprecated(Composites, 'softBody', 'Composites.softBody  moved to softBody and cloth examples');\n})();\n\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* This module has now been replaced by `Matter.Detector`.\n*\n* All usage should be migrated to `Matter.Detector` or another alternative.\n* For back-compatibility purposes this module will remain for a short term and then later removed in a future release.\n*\n* The `Matter.Grid` module contains methods for creating and manipulating collision broadphase grid structures.\n*\n* @class Grid\n* @deprecated\n*/\n\nvar Grid = {};\n\nmodule.exports = Grid;\n\nvar Pair = __webpack_require__(9);\nvar Common = __webpack_require__(0);\nvar deprecated = Common.deprecated;\n\n(function() {\n\n    /**\n     * Creates a new grid.\n     * @deprecated replaced by Matter.Detector\n     * @method create\n     * @param {} options\n     * @return {grid} A new grid\n     */\n    Grid.create = function(options) {\n        var defaults = {\n            buckets: {},\n            pairs: {},\n            pairsList: [],\n            bucketWidth: 48,\n            bucketHeight: 48\n        };\n\n        return Common.extend(defaults, options);\n    };\n\n    /**\n     * The width of a single grid bucket.\n     *\n     * @property bucketWidth\n     * @type number\n     * @default 48\n     */\n\n    /**\n     * The height of a single grid bucket.\n     *\n     * @property bucketHeight\n     * @type number\n     * @default 48\n     */\n\n    /**\n     * Updates the grid.\n     * @deprecated replaced by Matter.Detector\n     * @method update\n     * @param {grid} grid\n     * @param {body[]} bodies\n     * @param {engine} engine\n     * @param {boolean} forceUpdate\n     */\n    Grid.update = function(grid, bodies, engine, forceUpdate) {\n        var i, col, row,\n            world = engine.world,\n            buckets = grid.buckets,\n            bucket,\n            bucketId,\n            gridChanged = false;\n\n        for (i = 0; i < bodies.length; i++) {\n            var body = bodies[i];\n\n            if (body.isSleeping && !forceUpdate)\n                continue;\n\n            // temporary back compatibility bounds check\n            if (world.bounds && (body.bounds.max.x < world.bounds.min.x || body.bounds.min.x > world.bounds.max.x\n                || body.bounds.max.y < world.bounds.min.y || body.bounds.min.y > world.bounds.max.y))\n                continue;\n\n            var newRegion = Grid._getRegion(grid, body);\n\n            // if the body has changed grid region\n            if (!body.region || newRegion.id !== body.region.id || forceUpdate) {\n\n                if (!body.region || forceUpdate)\n                    body.region = newRegion;\n\n                var union = Grid._regionUnion(newRegion, body.region);\n\n                // update grid buckets affected by region change\n                // iterate over the union of both regions\n                for (col = union.startCol; col <= union.endCol; col++) {\n                    for (row = union.startRow; row <= union.endRow; row++) {\n                        bucketId = Grid._getBucketId(col, row);\n                        bucket = buckets[bucketId];\n\n                        var isInsideNewRegion = (col >= newRegion.startCol && col <= newRegion.endCol\n                                                && row >= newRegion.startRow && row <= newRegion.endRow);\n\n                        var isInsideOldRegion = (col >= body.region.startCol && col <= body.region.endCol\n                                                && row >= body.region.startRow && row <= body.region.endRow);\n\n                        // remove from old region buckets\n                        if (!isInsideNewRegion && isInsideOldRegion) {\n                            if (isInsideOldRegion) {\n                                if (bucket)\n                                    Grid._bucketRemoveBody(grid, bucket, body);\n                            }\n                        }\n\n                        // add to new region buckets\n                        if (body.region === newRegion || (isInsideNewRegion && !isInsideOldRegion) || forceUpdate) {\n                            if (!bucket)\n                                bucket = Grid._createBucket(buckets, bucketId);\n                            Grid._bucketAddBody(grid, bucket, body);\n                        }\n                    }\n                }\n\n                // set the new region\n                body.region = newRegion;\n\n                // flag changes so we can update pairs\n                gridChanged = true;\n            }\n        }\n\n        // update pairs list only if pairs changed (i.e. a body changed region)\n        if (gridChanged)\n            grid.pairsList = Grid._createActivePairsList(grid);\n    };\n\n    deprecated(Grid, 'update', 'Grid.update  replaced by Matter.Detector');\n\n    /**\n     * Clears the grid.\n     * @deprecated replaced by Matter.Detector\n     * @method clear\n     * @param {grid} grid\n     */\n    Grid.clear = function(grid) {\n        grid.buckets = {};\n        grid.pairs = {};\n        grid.pairsList = [];\n    };\n\n    deprecated(Grid, 'clear', 'Grid.clear  replaced by Matter.Detector');\n\n    /**\n     * Finds the union of two regions.\n     * @method _regionUnion\n     * @deprecated replaced by Matter.Detector\n     * @private\n     * @param {} regionA\n     * @param {} regionB\n     * @return {} region\n     */\n    Grid._regionUnion = function(regionA, regionB) {\n        var startCol = Math.min(regionA.startCol, regionB.startCol),\n            endCol = Math.max(regionA.endCol, regionB.endCol),\n            startRow = Math.min(regionA.startRow, regionB.startRow),\n            endRow = Math.max(regionA.endRow, regionB.endRow);\n\n        return Grid._createRegion(startCol, endCol, startRow, endRow);\n    };\n\n    /**\n     * Gets the region a given body falls in for a given grid.\n     * @method _getRegion\n     * @deprecated replaced by Matter.Detector\n     * @private\n     * @param {} grid\n     * @param {} body\n     * @return {} region\n     */\n    Grid._getRegion = function(grid, body) {\n        var bounds = body.bounds,\n            startCol = Math.floor(bounds.min.x / grid.bucketWidth),\n            endCol = Math.floor(bounds.max.x / grid.bucketWidth),\n            startRow = Math.floor(bounds.min.y / grid.bucketHeight),\n            endRow = Math.floor(bounds.max.y / grid.bucketHeight);\n\n        return Grid._createRegion(startCol, endCol, startRow, endRow);\n    };\n\n    /**\n     * Creates a region.\n     * @method _createRegion\n     * @deprecated replaced by Matter.Detector\n     * @private\n     * @param {} startCol\n     * @param {} endCol\n     * @param {} startRow\n     * @param {} endRow\n     * @return {} region\n     */\n    Grid._createRegion = function(startCol, endCol, startRow, endRow) {\n        return { \n            id: startCol + ',' + endCol + ',' + startRow + ',' + endRow,\n            startCol: startCol, \n            endCol: endCol, \n            startRow: startRow, \n            endRow: endRow \n        };\n    };\n\n    /**\n     * Gets the bucket id at the given position.\n     * @method _getBucketId\n     * @deprecated replaced by Matter.Detector\n     * @private\n     * @param {} column\n     * @param {} row\n     * @return {string} bucket id\n     */\n    Grid._getBucketId = function(column, row) {\n        return 'C' + column + 'R' + row;\n    };\n\n    /**\n     * Creates a bucket.\n     * @method _createBucket\n     * @deprecated replaced by Matter.Detector\n     * @private\n     * @param {} buckets\n     * @param {} bucketId\n     * @return {} bucket\n     */\n    Grid._createBucket = function(buckets, bucketId) {\n        var bucket = buckets[bucketId] = [];\n        return bucket;\n    };\n\n    /**\n     * Adds a body to a bucket.\n     * @method _bucketAddBody\n     * @deprecated replaced by Matter.Detector\n     * @private\n     * @param {} grid\n     * @param {} bucket\n     * @param {} body\n     */\n    Grid._bucketAddBody = function(grid, bucket, body) {\n        var gridPairs = grid.pairs,\n            pairId = Pair.id,\n            bucketLength = bucket.length,\n            i;\n\n        // add new pairs\n        for (i = 0; i < bucketLength; i++) {\n            var bodyB = bucket[i];\n\n            if (body.id === bodyB.id || (body.isStatic && bodyB.isStatic))\n                continue;\n\n            // keep track of the number of buckets the pair exists in\n            // important for Grid.update to work\n            var id = pairId(body, bodyB),\n                pair = gridPairs[id];\n\n            if (pair) {\n                pair[2] += 1;\n            } else {\n                gridPairs[id] = [body, bodyB, 1];\n            }\n        }\n\n        // add to bodies (after pairs, otherwise pairs with self)\n        bucket.push(body);\n    };\n\n    /**\n     * Removes a body from a bucket.\n     * @method _bucketRemoveBody\n     * @deprecated replaced by Matter.Detector\n     * @private\n     * @param {} grid\n     * @param {} bucket\n     * @param {} body\n     */\n    Grid._bucketRemoveBody = function(grid, bucket, body) {\n        var gridPairs = grid.pairs,\n            pairId = Pair.id,\n            i;\n\n        // remove from bucket\n        bucket.splice(Common.indexOf(bucket, body), 1);\n\n        var bucketLength = bucket.length;\n\n        // update pair counts\n        for (i = 0; i < bucketLength; i++) {\n            // keep track of the number of buckets the pair exists in\n            // important for _createActivePairsList to work\n            var pair = gridPairs[pairId(body, bucket[i])];\n\n            if (pair)\n                pair[2] -= 1;\n        }\n    };\n\n    /**\n     * Generates a list of the active pairs in the grid.\n     * @method _createActivePairsList\n     * @deprecated replaced by Matter.Detector\n     * @private\n     * @param {} grid\n     * @return [] pairs\n     */\n    Grid._createActivePairsList = function(grid) {\n        var pair,\n            gridPairs = grid.pairs,\n            pairKeys = Common.keys(gridPairs),\n            pairKeysLength = pairKeys.length,\n            pairs = [],\n            k;\n\n        // iterate over grid.pairs\n        for (k = 0; k < pairKeysLength; k++) {\n            pair = gridPairs[pairKeys[k]];\n\n            // if pair exists in at least one bucket\n            // it is a pair that needs further collision testing so push it\n            if (pair[2] > 0) {\n                pairs.push(pair);\n            } else {\n                delete gridPairs[pairKeys[k]];\n            }\n        }\n\n        return pairs;\n    };\n    \n})();\n\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.MouseConstraint` module contains methods for creating mouse constraints.\n* Mouse constraints are used for allowing user interaction, providing the ability to move bodies via the mouse or touch.\n*\n* See the included usage [examples](https://github.com/liabru/matter-js/tree/master/examples).\n*\n* @class MouseConstraint\n*/\n\nvar MouseConstraint = {};\n\nmodule.exports = MouseConstraint;\n\nvar Vertices = __webpack_require__(3);\nvar Sleeping = __webpack_require__(7);\nvar Mouse = __webpack_require__(13);\nvar Events = __webpack_require__(4);\nvar Detector = __webpack_require__(14);\nvar Constraint = __webpack_require__(10);\nvar Composite = __webpack_require__(5);\nvar Common = __webpack_require__(0);\nvar Bounds = __webpack_require__(1);\n\n(function() {\n\n    /**\n     * Creates a new mouse constraint.\n     * All properties have default values, and many are pre-calculated automatically based on other properties.\n     * See the properties section below for detailed information on what you can pass via the `options` object.\n     * @method create\n     * @param {engine} engine\n     * @param {} options\n     * @return {MouseConstraint} A new MouseConstraint\n     */\n    MouseConstraint.create = function(engine, options) {\n        var mouse = (engine ? engine.mouse : null) || (options ? options.mouse : null);\n\n        if (!mouse) {\n            if (engine && engine.render && engine.render.canvas) {\n                mouse = Mouse.create(engine.render.canvas);\n            } else if (options && options.element) {\n                mouse = Mouse.create(options.element);\n            } else {\n                mouse = Mouse.create();\n                Common.warn('MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected');\n            }\n        }\n\n        var constraint = Constraint.create({ \n            label: 'Mouse Constraint',\n            pointA: mouse.position,\n            pointB: { x: 0, y: 0 },\n            length: 0.01, \n            stiffness: 0.1,\n            angularStiffness: 1,\n            render: {\n                strokeStyle: '#90EE90',\n                lineWidth: 3\n            }\n        });\n\n        var defaults = {\n            type: 'mouseConstraint',\n            mouse: mouse,\n            element: null,\n            body: null,\n            constraint: constraint,\n            collisionFilter: {\n                category: 0x0001,\n                mask: 0xFFFFFFFF,\n                group: 0\n            }\n        };\n\n        var mouseConstraint = Common.extend(defaults, options);\n\n        Events.on(engine, 'beforeUpdate', function() {\n            var allBodies = Composite.allBodies(engine.world);\n            MouseConstraint.update(mouseConstraint, allBodies);\n            MouseConstraint._triggerEvents(mouseConstraint);\n        });\n\n        return mouseConstraint;\n    };\n\n    /**\n     * Updates the given mouse constraint.\n     * @private\n     * @method update\n     * @param {MouseConstraint} mouseConstraint\n     * @param {body[]} bodies\n     */\n    MouseConstraint.update = function(mouseConstraint, bodies) {\n        var mouse = mouseConstraint.mouse,\n            constraint = mouseConstraint.constraint,\n            body = mouseConstraint.body;\n\n        if (mouse.button === 0) {\n            if (!constraint.bodyB) {\n                for (var i = 0; i < bodies.length; i++) {\n                    body = bodies[i];\n                    if (Bounds.contains(body.bounds, mouse.position) \n                            && Detector.canCollide(body.collisionFilter, mouseConstraint.collisionFilter)) {\n                        for (var j = body.parts.length > 1 ? 1 : 0; j < body.parts.length; j++) {\n                            var part = body.parts[j];\n                            if (Vertices.contains(part.vertices, mouse.position)) {\n                                constraint.pointA = mouse.position;\n                                constraint.bodyB = mouseConstraint.body = body;\n                                constraint.pointB = { x: mouse.position.x - body.position.x, y: mouse.position.y - body.position.y };\n                                constraint.angleB = body.angle;\n\n                                Sleeping.set(body, false);\n                                Events.trigger(mouseConstraint, 'startdrag', { mouse: mouse, body: body });\n\n                                break;\n                            }\n                        }\n                    }\n                }\n            } else {\n                Sleeping.set(constraint.bodyB, false);\n                constraint.pointA = mouse.position;\n            }\n        } else {\n            constraint.bodyB = mouseConstraint.body = null;\n            constraint.pointB = null;\n\n            if (body)\n                Events.trigger(mouseConstraint, 'enddrag', { mouse: mouse, body: body });\n        }\n    };\n\n    /**\n     * Triggers mouse constraint events.\n     * @method _triggerEvents\n     * @private\n     * @param {mouse} mouseConstraint\n     */\n    MouseConstraint._triggerEvents = function(mouseConstraint) {\n        var mouse = mouseConstraint.mouse,\n            mouseEvents = mouse.sourceEvents;\n\n        if (mouseEvents.mousemove)\n            Events.trigger(mouseConstraint, 'mousemove', { mouse: mouse });\n\n        if (mouseEvents.mousedown)\n            Events.trigger(mouseConstraint, 'mousedown', { mouse: mouse });\n\n        if (mouseEvents.mouseup)\n            Events.trigger(mouseConstraint, 'mouseup', { mouse: mouse });\n\n        // reset the mouse state ready for the next step\n        Mouse.clearSourceEvents(mouse);\n    };\n\n    /*\n    *\n    *  Events Documentation\n    *\n    */\n\n    /**\n    * Fired when the mouse has moved (or a touch moves) during the last step\n    *\n    * @event mousemove\n    * @param {} event An event object\n    * @param {mouse} event.mouse The engine's mouse instance\n    * @param {} event.source The source object of the event\n    * @param {} event.name The name of the event\n    */\n\n    /**\n    * Fired when the mouse is down (or a touch has started) during the last step\n    *\n    * @event mousedown\n    * @param {} event An event object\n    * @param {mouse} event.mouse The engine's mouse instance\n    * @param {} event.source The source object of the event\n    * @param {} event.name The name of the event\n    */\n\n    /**\n    * Fired when the mouse is up (or a touch has ended) during the last step\n    *\n    * @event mouseup\n    * @param {} event An event object\n    * @param {mouse} event.mouse The engine's mouse instance\n    * @param {} event.source The source object of the event\n    * @param {} event.name The name of the event\n    */\n\n    /**\n    * Fired when the user starts dragging a body\n    *\n    * @event startdrag\n    * @param {} event An event object\n    * @param {mouse} event.mouse The engine's mouse instance\n    * @param {body} event.body The body being dragged\n    * @param {} event.source The source object of the event\n    * @param {} event.name The name of the event\n    */\n\n    /**\n    * Fired when the user ends dragging a body\n    *\n    * @event enddrag\n    * @param {} event An event object\n    * @param {mouse} event.mouse The engine's mouse instance\n    * @param {body} event.body The body that has stopped being dragged\n    * @param {} event.source The source object of the event\n    * @param {} event.name The name of the event\n    */\n\n    /*\n    *\n    *  Properties Documentation\n    *\n    */\n\n    /**\n     * A `String` denoting the type of object.\n     *\n     * @property type\n     * @type string\n     * @default \"constraint\"\n     * @readOnly\n     */\n\n    /**\n     * The `Mouse` instance in use. If not supplied in `MouseConstraint.create`, one will be created.\n     *\n     * @property mouse\n     * @type mouse\n     * @default mouse\n     */\n\n    /**\n     * The `Body` that is currently being moved by the user, or `null` if no body.\n     *\n     * @property body\n     * @type body\n     * @default null\n     */\n\n    /**\n     * The `Constraint` object that is used to move the body during interaction.\n     *\n     * @property constraint\n     * @type constraint\n     */\n\n    /**\n     * An `Object` that specifies the collision filter properties.\n     * The collision filter allows the user to define which types of body this mouse constraint can interact with.\n     * See `body.collisionFilter` for more information.\n     *\n     * @property collisionFilter\n     * @type object\n     */\n\n})();\n\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Query` module contains methods for performing collision queries.\n*\n* See the included usage [examples](https://github.com/liabru/matter-js/tree/master/examples).\n*\n* @class Query\n*/\n\nvar Query = {};\n\nmodule.exports = Query;\n\nvar Vector = __webpack_require__(2);\nvar Collision = __webpack_require__(8);\nvar Bounds = __webpack_require__(1);\nvar Bodies = __webpack_require__(12);\nvar Vertices = __webpack_require__(3);\n\n(function() {\n\n    /**\n     * Returns a list of collisions between `body` and `bodies`.\n     * @method collides\n     * @param {body} body\n     * @param {body[]} bodies\n     * @return {collision[]} Collisions\n     */\n    Query.collides = function(body, bodies) {\n        var collisions = [],\n            bodiesLength = bodies.length,\n            bounds = body.bounds,\n            collides = Collision.collides,\n            overlaps = Bounds.overlaps;\n\n        for (var i = 0; i < bodiesLength; i++) {\n            var bodyA = bodies[i],\n                partsALength = bodyA.parts.length,\n                partsAStart = partsALength === 1 ? 0 : 1;\n            \n            if (overlaps(bodyA.bounds, bounds)) {\n                for (var j = partsAStart; j < partsALength; j++) {\n                    var part = bodyA.parts[j];\n\n                    if (overlaps(part.bounds, bounds)) {\n                        var collision = collides(part, body);\n\n                        if (collision) {\n                            collisions.push(collision);\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n\n        return collisions;\n    };\n\n    /**\n     * Casts a ray segment against a set of bodies and returns all collisions, ray width is optional. Intersection points are not provided.\n     * @method ray\n     * @param {body[]} bodies\n     * @param {vector} startPoint\n     * @param {vector} endPoint\n     * @param {number} [rayWidth]\n     * @return {collision[]} Collisions\n     */\n    Query.ray = function(bodies, startPoint, endPoint, rayWidth) {\n        rayWidth = rayWidth || 1e-100;\n\n        var rayAngle = Vector.angle(startPoint, endPoint),\n            rayLength = Vector.magnitude(Vector.sub(startPoint, endPoint)),\n            rayX = (endPoint.x + startPoint.x) * 0.5,\n            rayY = (endPoint.y + startPoint.y) * 0.5,\n            ray = Bodies.rectangle(rayX, rayY, rayLength, rayWidth, { angle: rayAngle }),\n            collisions = Query.collides(ray, bodies);\n\n        for (var i = 0; i < collisions.length; i += 1) {\n            var collision = collisions[i];\n            collision.body = collision.bodyB = collision.bodyA;            \n        }\n\n        return collisions;\n    };\n\n    /**\n     * Returns all bodies whose bounds are inside (or outside if set) the given set of bounds, from the given set of bodies.\n     * @method region\n     * @param {body[]} bodies\n     * @param {bounds} bounds\n     * @param {bool} [outside=false]\n     * @return {body[]} The bodies matching the query\n     */\n    Query.region = function(bodies, bounds, outside) {\n        var result = [];\n\n        for (var i = 0; i < bodies.length; i++) {\n            var body = bodies[i],\n                overlaps = Bounds.overlaps(body.bounds, bounds);\n            if ((overlaps && !outside) || (!overlaps && outside))\n                result.push(body);\n        }\n\n        return result;\n    };\n\n    /**\n     * Returns all bodies whose vertices contain the given point, from the given set of bodies.\n     * @method point\n     * @param {body[]} bodies\n     * @param {vector} point\n     * @return {body[]} The bodies matching the query\n     */\n    Query.point = function(bodies, point) {\n        var result = [];\n\n        for (var i = 0; i < bodies.length; i++) {\n            var body = bodies[i];\n            \n            if (Bounds.contains(body.bounds, point)) {\n                for (var j = body.parts.length === 1 ? 0 : 1; j < body.parts.length; j++) {\n                    var part = body.parts[j];\n\n                    if (Bounds.contains(part.bounds, point)\n                        && Vertices.contains(part.vertices, point)) {\n                        result.push(body);\n                        break;\n                    }\n                }\n            }\n        }\n\n        return result;\n    };\n\n})();\n\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Runner` module is an optional utility which provides a game loop, \n* that handles continuously updating a `Matter.Engine` for you within a browser.\n* It is intended for development and debugging purposes, but may also be suitable for simple games.\n* If you are using your own game loop instead, then you do not need the `Matter.Runner` module.\n* Instead just call `Engine.update(engine, delta)` in your own loop.\n*\n* See the included usage [examples](https://github.com/liabru/matter-js/tree/master/examples).\n*\n* @class Runner\n*/\n\nvar Runner = {};\n\nmodule.exports = Runner;\n\nvar Events = __webpack_require__(4);\nvar Engine = __webpack_require__(18);\nvar Common = __webpack_require__(0);\n\n(function() {\n\n    var _requestAnimationFrame,\n        _cancelAnimationFrame;\n\n    if (typeof window !== 'undefined') {\n        _requestAnimationFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame\n                                      || window.mozRequestAnimationFrame || window.msRequestAnimationFrame;\n   \n        _cancelAnimationFrame = window.cancelAnimationFrame || window.mozCancelAnimationFrame \n                                      || window.webkitCancelAnimationFrame || window.msCancelAnimationFrame;\n    }\n\n    if (!_requestAnimationFrame) {\n        var _frameTimeout;\n\n        _requestAnimationFrame = function(callback){ \n            _frameTimeout = setTimeout(function() { \n                callback(Common.now()); \n            }, 1000 / 60);\n        };\n\n        _cancelAnimationFrame = function() {\n            clearTimeout(_frameTimeout);\n        };\n    }\n\n    /**\n     * Creates a new Runner. The options parameter is an object that specifies any properties you wish to override the defaults.\n     * @method create\n     * @param {} options\n     */\n    Runner.create = function(options) {\n        var defaults = {\n            fps: 60,\n            correction: 1,\n            deltaSampleSize: 60,\n            counterTimestamp: 0,\n            frameCounter: 0,\n            deltaHistory: [],\n            timePrev: null,\n            timeScalePrev: 1,\n            frameRequestId: null,\n            isFixed: false,\n            enabled: true\n        };\n\n        var runner = Common.extend(defaults, options);\n\n        runner.delta = runner.delta || 1000 / runner.fps;\n        runner.deltaMin = runner.deltaMin || 1000 / runner.fps;\n        runner.deltaMax = runner.deltaMax || 1000 / (runner.fps * 0.5);\n        runner.fps = 1000 / runner.delta;\n\n        return runner;\n    };\n\n    /**\n     * Continuously ticks a `Matter.Engine` by calling `Runner.tick` on the `requestAnimationFrame` event.\n     * @method run\n     * @param {engine} engine\n     */\n    Runner.run = function(runner, engine) {\n        // create runner if engine is first argument\n        if (typeof runner.positionIterations !== 'undefined') {\n            engine = runner;\n            runner = Runner.create();\n        }\n\n        (function render(time){\n            runner.frameRequestId = _requestAnimationFrame(render);\n\n            if (time && runner.enabled) {\n                Runner.tick(runner, engine, time);\n            }\n        })();\n\n        return runner;\n    };\n\n    /**\n     * A game loop utility that updates the engine and renderer by one step (a 'tick').\n     * Features delta smoothing, time correction and fixed or dynamic timing.\n     * Consider just `Engine.update(engine, delta)` if you're using your own loop.\n     * @method tick\n     * @param {runner} runner\n     * @param {engine} engine\n     * @param {number} time\n     */\n    Runner.tick = function(runner, engine, time) {\n        var timing = engine.timing,\n            correction = 1,\n            delta;\n\n        // create an event object\n        var event = {\n            timestamp: timing.timestamp\n        };\n\n        Events.trigger(runner, 'beforeTick', event);\n\n        if (runner.isFixed) {\n            // fixed timestep\n            delta = runner.delta;\n        } else {\n            // dynamic timestep based on wall clock between calls\n            delta = (time - runner.timePrev) || runner.delta;\n            runner.timePrev = time;\n\n            // optimistically filter delta over a few frames, to improve stability\n            runner.deltaHistory.push(delta);\n            runner.deltaHistory = runner.deltaHistory.slice(-runner.deltaSampleSize);\n            delta = Math.min.apply(null, runner.deltaHistory);\n            \n            // limit delta\n            delta = delta < runner.deltaMin ? runner.deltaMin : delta;\n            delta = delta > runner.deltaMax ? runner.deltaMax : delta;\n\n            // correction for delta\n            correction = delta / runner.delta;\n\n            // update engine timing object\n            runner.delta = delta;\n        }\n\n        // time correction for time scaling\n        if (runner.timeScalePrev !== 0)\n            correction *= timing.timeScale / runner.timeScalePrev;\n\n        if (timing.timeScale === 0)\n            correction = 0;\n\n        runner.timeScalePrev = timing.timeScale;\n        runner.correction = correction;\n\n        // fps counter\n        runner.frameCounter += 1;\n        if (time - runner.counterTimestamp >= 1000) {\n            runner.fps = runner.frameCounter * ((time - runner.counterTimestamp) / 1000);\n            runner.counterTimestamp = time;\n            runner.frameCounter = 0;\n        }\n\n        Events.trigger(runner, 'tick', event);\n\n        // update\n        Events.trigger(runner, 'beforeUpdate', event);\n        Engine.update(engine, delta, correction);\n        Events.trigger(runner, 'afterUpdate', event);\n\n        Events.trigger(runner, 'afterTick', event);\n    };\n\n    /**\n     * Ends execution of `Runner.run` on the given `runner`, by canceling the animation frame request event loop.\n     * If you wish to only temporarily pause the engine, see `engine.enabled` instead.\n     * @method stop\n     * @param {runner} runner\n     */\n    Runner.stop = function(runner) {\n        _cancelAnimationFrame(runner.frameRequestId);\n    };\n\n    /**\n     * Alias for `Runner.run`.\n     * @method start\n     * @param {runner} runner\n     * @param {engine} engine\n     */\n    Runner.start = function(runner, engine) {\n        Runner.run(runner, engine);\n    };\n\n    /*\n    *\n    *  Events Documentation\n    *\n    */\n\n    /**\n    * Fired at the start of a tick, before any updates to the engine or timing\n    *\n    * @event beforeTick\n    * @param {} event An event object\n    * @param {number} event.timestamp The engine.timing.timestamp of the event\n    * @param {} event.source The source object of the event\n    * @param {} event.name The name of the event\n    */\n\n    /**\n    * Fired after engine timing updated, but just before update\n    *\n    * @event tick\n    * @param {} event An event object\n    * @param {number} event.timestamp The engine.timing.timestamp of the event\n    * @param {} event.source The source object of the event\n    * @param {} event.name The name of the event\n    */\n\n    /**\n    * Fired at the end of a tick, after engine update and after rendering\n    *\n    * @event afterTick\n    * @param {} event An event object\n    * @param {number} event.timestamp The engine.timing.timestamp of the event\n    * @param {} event.source The source object of the event\n    * @param {} event.name The name of the event\n    */\n\n    /**\n    * Fired before update\n    *\n    * @event beforeUpdate\n    * @param {} event An event object\n    * @param {number} event.timestamp The engine.timing.timestamp of the event\n    * @param {} event.source The source object of the event\n    * @param {} event.name The name of the event\n    */\n\n    /**\n    * Fired after update\n    *\n    * @event afterUpdate\n    * @param {} event An event object\n    * @param {number} event.timestamp The engine.timing.timestamp of the event\n    * @param {} event.source The source object of the event\n    * @param {} event.name The name of the event\n    */\n\n    /*\n    *\n    *  Properties Documentation\n    *\n    */\n\n    /**\n     * A flag that specifies whether the runner is running or not.\n     *\n     * @property enabled\n     * @type boolean\n     * @default true\n     */\n\n    /**\n     * A `Boolean` that specifies if the runner should use a fixed timestep (otherwise it is variable).\n     * If timing is fixed, then the apparent simulation speed will change depending on the frame rate (but behaviour will be deterministic).\n     * If the timing is variable, then the apparent simulation speed will be constant (approximately, but at the cost of determininism).\n     *\n     * @property isFixed\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A `Number` that specifies the time step between updates in milliseconds.\n     * If `engine.timing.isFixed` is set to `true`, then `delta` is fixed.\n     * If it is `false`, then `delta` can dynamically change to maintain the correct apparent simulation speed.\n     *\n     * @property delta\n     * @type number\n     * @default 1000 / 60\n     */\n\n})();\n\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* This module has now been replaced by `Matter.Collision`.\n*\n* All usage should be migrated to `Matter.Collision`.\n* For back-compatibility purposes this module will remain for a short term and then later removed in a future release.\n*\n* The `Matter.SAT` module contains methods for detecting collisions using the Separating Axis Theorem.\n*\n* @class SAT\n* @deprecated\n*/\n\nvar SAT = {};\n\nmodule.exports = SAT;\n\nvar Collision = __webpack_require__(8);\nvar Common = __webpack_require__(0);\nvar deprecated = Common.deprecated;\n\n(function() {\n\n    /**\n     * Detect collision between two bodies using the Separating Axis Theorem.\n     * @deprecated replaced by Collision.collides\n     * @method collides\n     * @param {body} bodyA\n     * @param {body} bodyB\n     * @return {collision} collision\n     */\n    SAT.collides = function(bodyA, bodyB) {\n        return Collision.collides(bodyA, bodyB);\n    };\n\n    deprecated(SAT, 'collides', 'SAT.collides  replaced by Collision.collides');\n\n})();\n\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Svg` module contains methods for converting SVG images into an array of vector points.\n*\n* To use this module you also need the SVGPathSeg polyfill: https://github.com/progers/pathseg\n*\n* See the included usage [examples](https://github.com/liabru/matter-js/tree/master/examples).\n*\n* @class Svg\n*/\n\nvar Svg = {};\n\nmodule.exports = Svg;\n\nvar Bounds = __webpack_require__(1);\nvar Common = __webpack_require__(0);\n\n(function() {\n\n    /**\n     * Converts an SVG path into an array of vector points.\n     * If the input path forms a concave shape, you must decompose the result into convex parts before use.\n     * See `Bodies.fromVertices` which provides support for this.\n     * Note that this function is not guaranteed to support complex paths (such as those with holes).\n     * You must load the `pathseg.js` polyfill on newer browsers.\n     * @method pathToVertices\n     * @param {SVGPathElement} path\n     * @param {Number} [sampleLength=15]\n     * @return {Vector[]} points\n     */\n    Svg.pathToVertices = function(path, sampleLength) {\n        if (typeof window !== 'undefined' && !('SVGPathSeg' in window)) {\n            Common.warn('Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.');\n        }\n\n        // https://github.com/wout/svg.topoly.js/blob/master/svg.topoly.js\n        var i, il, total, point, segment, segments, \n            segmentsQueue, lastSegment, \n            lastPoint, segmentIndex, points = [],\n            lx, ly, length = 0, x = 0, y = 0;\n\n        sampleLength = sampleLength || 15;\n\n        var addPoint = function(px, py, pathSegType) {\n            // all odd-numbered path types are relative except PATHSEG_CLOSEPATH (1)\n            var isRelative = pathSegType % 2 === 1 && pathSegType > 1;\n\n            // when the last point doesn't equal the current point add the current point\n            if (!lastPoint || px != lastPoint.x || py != lastPoint.y) {\n                if (lastPoint && isRelative) {\n                    lx = lastPoint.x;\n                    ly = lastPoint.y;\n                } else {\n                    lx = 0;\n                    ly = 0;\n                }\n\n                var point = {\n                    x: lx + px,\n                    y: ly + py\n                };\n\n                // set last point\n                if (isRelative || !lastPoint) {\n                    lastPoint = point;\n                }\n\n                points.push(point);\n\n                x = lx + px;\n                y = ly + py;\n            }\n        };\n\n        var addSegmentPoint = function(segment) {\n            var segType = segment.pathSegTypeAsLetter.toUpperCase();\n\n            // skip path ends\n            if (segType === 'Z') \n                return;\n\n            // map segment to x and y\n            switch (segType) {\n\n            case 'M':\n            case 'L':\n            case 'T':\n            case 'C':\n            case 'S':\n            case 'Q':\n                x = segment.x;\n                y = segment.y;\n                break;\n            case 'H':\n                x = segment.x;\n                break;\n            case 'V':\n                y = segment.y;\n                break;\n            }\n\n            addPoint(x, y, segment.pathSegType);\n        };\n\n        // ensure path is absolute\n        Svg._svgPathToAbsolute(path);\n\n        // get total length\n        total = path.getTotalLength();\n\n        // queue segments\n        segments = [];\n        for (i = 0; i < path.pathSegList.numberOfItems; i += 1)\n            segments.push(path.pathSegList.getItem(i));\n\n        segmentsQueue = segments.concat();\n\n        // sample through path\n        while (length < total) {\n            // get segment at position\n            segmentIndex = path.getPathSegAtLength(length);\n            segment = segments[segmentIndex];\n\n            // new segment\n            if (segment != lastSegment) {\n                while (segmentsQueue.length && segmentsQueue[0] != segment)\n                    addSegmentPoint(segmentsQueue.shift());\n\n                lastSegment = segment;\n            }\n\n            // add points in between when curving\n            // TODO: adaptive sampling\n            switch (segment.pathSegTypeAsLetter.toUpperCase()) {\n\n            case 'C':\n            case 'T':\n            case 'S':\n            case 'Q':\n            case 'A':\n                point = path.getPointAtLength(length);\n                addPoint(point.x, point.y, 0);\n                break;\n\n            }\n\n            // increment by sample value\n            length += sampleLength;\n        }\n\n        // add remaining segments not passed by sampling\n        for (i = 0, il = segmentsQueue.length; i < il; ++i)\n            addSegmentPoint(segmentsQueue[i]);\n\n        return points;\n    };\n\n    Svg._svgPathToAbsolute = function(path) {\n        // http://phrogz.net/convert-svg-path-to-all-absolute-commands\n        // Copyright (c) Gavin Kistner\n        // http://phrogz.net/js/_ReuseLicense.txt\n        // Modifications: tidy formatting and naming\n        var x0, y0, x1, y1, x2, y2, segs = path.pathSegList,\n            x = 0, y = 0, len = segs.numberOfItems;\n\n        for (var i = 0; i < len; ++i) {\n            var seg = segs.getItem(i),\n                segType = seg.pathSegTypeAsLetter;\n\n            if (/[MLHVCSQTA]/.test(segType)) {\n                if ('x' in seg) x = seg.x;\n                if ('y' in seg) y = seg.y;\n            } else {\n                if ('x1' in seg) x1 = x + seg.x1;\n                if ('x2' in seg) x2 = x + seg.x2;\n                if ('y1' in seg) y1 = y + seg.y1;\n                if ('y2' in seg) y2 = y + seg.y2;\n                if ('x' in seg) x += seg.x;\n                if ('y' in seg) y += seg.y;\n\n                switch (segType) {\n\n                case 'm':\n                    segs.replaceItem(path.createSVGPathSegMovetoAbs(x, y), i);\n                    break;\n                case 'l':\n                    segs.replaceItem(path.createSVGPathSegLinetoAbs(x, y), i);\n                    break;\n                case 'h':\n                    segs.replaceItem(path.createSVGPathSegLinetoHorizontalAbs(x), i);\n                    break;\n                case 'v':\n                    segs.replaceItem(path.createSVGPathSegLinetoVerticalAbs(y), i);\n                    break;\n                case 'c':\n                    segs.replaceItem(path.createSVGPathSegCurvetoCubicAbs(x, y, x1, y1, x2, y2), i);\n                    break;\n                case 's':\n                    segs.replaceItem(path.createSVGPathSegCurvetoCubicSmoothAbs(x, y, x2, y2), i);\n                    break;\n                case 'q':\n                    segs.replaceItem(path.createSVGPathSegCurvetoQuadraticAbs(x, y, x1, y1), i);\n                    break;\n                case 't':\n                    segs.replaceItem(path.createSVGPathSegCurvetoQuadraticSmoothAbs(x, y), i);\n                    break;\n                case 'a':\n                    segs.replaceItem(path.createSVGPathSegArcAbs(x, y, seg.r1, seg.r2, seg.angle, seg.largeArcFlag, seg.sweepFlag), i);\n                    break;\n                case 'z':\n                case 'Z':\n                    x = x0;\n                    y = y0;\n                    break;\n\n                }\n            }\n\n            if (segType == 'M' || segType == 'm') {\n                x0 = x;\n                y0 = y;\n            }\n        }\n    };\n\n})();\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* This module has now been replaced by `Matter.Composite`.\n*\n* All usage should be migrated to the equivalent functions found on `Matter.Composite`.\n* For example `World.add(world, body)` now becomes `Composite.add(world, body)`.\n*\n* The property `world.gravity` has been moved to `engine.gravity`.\n*\n* For back-compatibility purposes this module will remain as a direct alias to `Matter.Composite` in the short term during migration.\n* Eventually this alias module will be marked as deprecated and then later removed in a future release.\n*\n* @class World\n*/\n\nvar World = {};\n\nmodule.exports = World;\n\nvar Composite = __webpack_require__(5);\nvar Common = __webpack_require__(0);\n\n(function() {\n\n    /**\n     * See above, aliases for back compatibility only\n     */\n    World.create = Composite.create;\n    World.add = Composite.add;\n    World.remove = Composite.remove;\n    World.clear = Composite.clear;\n    World.addComposite = Composite.addComposite;\n    World.addBody = Composite.addBody;\n    World.addConstraint = Composite.addConstraint;\n\n})();\n\n\n/***/ })\n/******/ ]);\n});",null,null,"/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || from);\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","import {Context} from '../../core/context';\n\nexport class Bounds {\n    constructor(readonly left: number, readonly top: number, readonly width: number, readonly height: number) {}\n\n    add(x: number, y: number, w: number, h: number): Bounds {\n        return new Bounds(this.left + x, this.top + y, this.width + w, this.height + h);\n    }\n\n    static fromClientRect(context: Context, clientRect: ClientRect): Bounds {\n        return new Bounds(\n            clientRect.left + context.windowBounds.left,\n            clientRect.top + context.windowBounds.top,\n            clientRect.width,\n            clientRect.height\n        );\n    }\n\n    static fromDOMRectList(context: Context, domRectList: DOMRectList): Bounds {\n        const domRect = Array.from(domRectList).find((rect) => rect.width !== 0);\n        return domRect\n            ? new Bounds(\n                  domRect.left + context.windowBounds.left,\n                  domRect.top + context.windowBounds.top,\n                  domRect.width,\n                  domRect.height\n              )\n            : Bounds.EMPTY;\n    }\n\n    static EMPTY = new Bounds(0, 0, 0, 0);\n}\n\nexport const parseBounds = (context: Context, node: Element): Bounds => {\n    return Bounds.fromClientRect(context, node.getBoundingClientRect());\n};\n\nexport const parseDocumentSize = (document: Document): Bounds => {\n    const body = document.body;\n    const documentElement = document.documentElement;\n\n    if (!body || !documentElement) {\n        throw new Error(`Unable to get document size`);\n    }\n    const width = Math.max(\n        Math.max(body.scrollWidth, documentElement.scrollWidth),\n        Math.max(body.offsetWidth, documentElement.offsetWidth),\n        Math.max(body.clientWidth, documentElement.clientWidth)\n    );\n\n    const height = Math.max(\n        Math.max(body.scrollHeight, documentElement.scrollHeight),\n        Math.max(body.offsetHeight, documentElement.offsetHeight),\n        Math.max(body.clientHeight, documentElement.clientHeight)\n    );\n\n    return new Bounds(0, 0, width, height);\n};\n","export const toCodePoints = (str: string): number[] => {\n    const codePoints = [];\n    let i = 0;\n    const length = str.length;\n    while (i < length) {\n        const value = str.charCodeAt(i++);\n        if (value >= 0xd800 && value <= 0xdbff && i < length) {\n            const extra = str.charCodeAt(i++);\n            if ((extra & 0xfc00) === 0xdc00) {\n                codePoints.push(((value & 0x3ff) << 10) + (extra & 0x3ff) + 0x10000);\n            } else {\n                codePoints.push(value);\n                i--;\n            }\n        } else {\n            codePoints.push(value);\n        }\n    }\n    return codePoints;\n};\n\nexport const fromCodePoint = (...codePoints: number[]): string => {\n    if (String.fromCodePoint) {\n        return String.fromCodePoint(...codePoints);\n    }\n\n    const length = codePoints.length;\n    if (!length) {\n        return '';\n    }\n\n    const codeUnits = [];\n\n    let index = -1;\n    let result = '';\n    while (++index < length) {\n        let codePoint = codePoints[index];\n        if (codePoint <= 0xffff) {\n            codeUnits.push(codePoint);\n        } else {\n            codePoint -= 0x10000;\n            codeUnits.push((codePoint >> 10) + 0xd800, (codePoint % 0x400) + 0xdc00);\n        }\n        if (index + 1 === length || codeUnits.length > 0x4000) {\n            result += String.fromCharCode(...codeUnits);\n            codeUnits.length = 0;\n        }\n    }\n    return result;\n};\n\nconst chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n// Use a lookup table to find the index.\nconst lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\nfor (let i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n}\n\nexport const decode = (base64: string): ArrayBuffer | number[] => {\n    let bufferLength = base64.length * 0.75,\n        len = base64.length,\n        i,\n        p = 0,\n        encoded1,\n        encoded2,\n        encoded3,\n        encoded4;\n\n    if (base64[base64.length - 1] === '=') {\n        bufferLength--;\n        if (base64[base64.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n\n    const buffer =\n        typeof ArrayBuffer !== 'undefined' &&\n        typeof Uint8Array !== 'undefined' &&\n        typeof Uint8Array.prototype.slice !== 'undefined'\n            ? new ArrayBuffer(bufferLength)\n            : new Array(bufferLength);\n    const bytes = Array.isArray(buffer) ? buffer : new Uint8Array(buffer);\n\n    for (i = 0; i < len; i += 4) {\n        encoded1 = lookup[base64.charCodeAt(i)];\n        encoded2 = lookup[base64.charCodeAt(i + 1)];\n        encoded3 = lookup[base64.charCodeAt(i + 2)];\n        encoded4 = lookup[base64.charCodeAt(i + 3)];\n\n        bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n        bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n        bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n\n    return buffer;\n};\n\nexport const polyUint16Array = (buffer: number[]): number[] => {\n    const length = buffer.length;\n    const bytes = [];\n    for (let i = 0; i < length; i += 2) {\n        bytes.push((buffer[i + 1] << 8) | buffer[i]);\n    }\n    return bytes;\n};\n\nexport const polyUint32Array = (buffer: number[]): number[] => {\n    const length = buffer.length;\n    const bytes = [];\n    for (let i = 0; i < length; i += 4) {\n        bytes.push((buffer[i + 3] << 24) | (buffer[i + 2] << 16) | (buffer[i + 1] << 8) | buffer[i]);\n    }\n    return bytes;\n};\n","const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n// Use a lookup table to find the index.\nconst lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\nfor (let i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n}\n\nexport const decode = (base64: string): ArrayBuffer | number[] => {\n    let bufferLength = base64.length * 0.75,\n        len = base64.length,\n        i,\n        p = 0,\n        encoded1,\n        encoded2,\n        encoded3,\n        encoded4;\n\n    if (base64[base64.length - 1] === '=') {\n        bufferLength--;\n        if (base64[base64.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n\n    const buffer =\n        typeof ArrayBuffer !== 'undefined' &&\n        typeof Uint8Array !== 'undefined' &&\n        typeof Uint8Array.prototype.slice !== 'undefined'\n            ? new ArrayBuffer(bufferLength)\n            : new Array(bufferLength);\n    const bytes = Array.isArray(buffer) ? buffer : new Uint8Array(buffer);\n\n    for (i = 0; i < len; i += 4) {\n        encoded1 = lookup[base64.charCodeAt(i)];\n        encoded2 = lookup[base64.charCodeAt(i + 1)];\n        encoded3 = lookup[base64.charCodeAt(i + 2)];\n        encoded4 = lookup[base64.charCodeAt(i + 3)];\n\n        bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n        bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n        bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n\n    return buffer;\n};\n\nexport const polyUint16Array = (buffer: number[]): number[] => {\n    const length = buffer.length;\n    const bytes = [];\n    for (let i = 0; i < length; i += 2) {\n        bytes.push((buffer[i + 1] << 8) | buffer[i]);\n    }\n    return bytes;\n};\n\nexport const polyUint32Array = (buffer: number[]): number[] => {\n    const length = buffer.length;\n    const bytes = [];\n    for (let i = 0; i < length; i += 4) {\n        bytes.push((buffer[i + 3] << 24) | (buffer[i + 2] << 16) | (buffer[i + 1] << 8) | buffer[i]);\n    }\n    return bytes;\n};\n","'use strict';\n\nimport {createTrieFromBase64} from 'utrie';\nimport {base64, byteLength} from './linebreak-trie';\nimport {fromCodePoint, toCodePoints} from './Util';\n\nexport const LETTER_NUMBER_MODIFIER = 50;\n\n// Non-tailorable Line Breaking Classes\nconst BK = 1; //  Cause a line break (after)\nconst CR = 2; //  Cause a line break (after), except between CR and LF\nconst LF = 3; //  Cause a line break (after)\nconst CM = 4; //  Prohibit a line break between the character and the preceding character\nconst NL = 5; //  Cause a line break (after)\nconst SG = 6; //  Do not occur in well-formed text\nconst WJ = 7; //  Prohibit line breaks before and after\nconst ZW = 8; //  Provide a break opportunity\nconst GL = 9; //  Prohibit line breaks before and after\nconst SP = 10; // Enable indirect line breaks\nconst ZWJ = 11; // Prohibit line breaks within joiner sequences\n// Break Opportunities\nconst B2 = 12; //  Provide a line break opportunity before and after the character\nconst BA = 13; //  Generally provide a line break opportunity after the character\nconst BB = 14; //  Generally provide a line break opportunity before the character\nconst HY = 15; //  Provide a line break opportunity after the character, except in numeric context\nconst CB = 16; //   Provide a line break opportunity contingent on additional information\n// Characters Prohibiting Certain Breaks\nconst CL = 17; //  Prohibit line breaks before\nconst CP = 18; //  Prohibit line breaks before\nconst EX = 19; //  Prohibit line breaks before\nconst IN = 20; //  Allow only indirect line breaks between pairs\nconst NS = 21; //  Allow only indirect line breaks before\nconst OP = 22; //  Prohibit line breaks after\nconst QU = 23; //  Act like they are both opening and closing\n// Numeric Context\nconst IS = 24; //  Prevent breaks after any and before numeric\nconst NU = 25; //  Form numeric expressions for line breaking purposes\nconst PO = 26; //  Do not break following a numeric expression\nconst PR = 27; //  Do not break in front of a numeric expression\nconst SY = 28; //  Prevent a break before; and allow a break after\n// Other Characters\nconst AI = 29; //  Act like AL when the resolvedEAW is N; otherwise; act as ID\nconst AL = 30; //  Are alphabetic characters or symbols that are used with alphabetic characters\nconst CJ = 31; //  Treat as NS or ID for strict or normal breaking.\nconst EB = 32; //  Do not break from following Emoji Modifier\nconst EM = 33; //  Do not break from preceding Emoji Base\nconst H2 = 34; //  Form Korean syllable blocks\nconst H3 = 35; //  Form Korean syllable blocks\nconst HL = 36; //  Do not break around a following hyphen; otherwise act as Alphabetic\nconst ID = 37; //  Break before or after; except in some numeric context\nconst JL = 38; //  Form Korean syllable blocks\nconst JV = 39; //  Form Korean syllable blocks\nconst JT = 40; //  Form Korean syllable blocks\nconst RI = 41; //  Keep pairs together. For pairs; break before and after other classes\nconst SA = 42; //  Provide a line break opportunity contingent on additional, language-specific context analysis\nconst XX = 43; //  Have as yet unknown line breaking behavior or unassigned code positions\n\nconst ea_OP = [0x2329, 0xff08];\n\nexport const classes: {[key: string]: number} = {\n    BK,\n    CR,\n    LF,\n    CM,\n    NL,\n    SG,\n    WJ,\n    ZW,\n    GL,\n    SP,\n    ZWJ,\n    B2,\n    BA,\n    BB,\n    HY,\n    CB,\n    CL,\n    CP,\n    EX,\n    IN,\n    NS,\n    OP,\n    QU,\n    IS,\n    NU,\n    PO,\n    PR,\n    SY,\n    AI,\n    AL,\n    CJ,\n    EB,\n    EM,\n    H2,\n    H3,\n    HL,\n    ID,\n    JL,\n    JV,\n    JT,\n    RI,\n    SA,\n    XX,\n};\n\nexport const BREAK_MANDATORY = '!';\nexport const BREAK_NOT_ALLOWED = '';\nexport const BREAK_ALLOWED = '';\nexport const UnicodeTrie = createTrieFromBase64(base64, byteLength);\n\nconst ALPHABETICS = [AL, HL];\nconst HARD_LINE_BREAKS = [BK, CR, LF, NL];\nconst SPACE = [SP, ZW];\nconst PREFIX_POSTFIX = [PR, PO];\nconst LINE_BREAKS = HARD_LINE_BREAKS.concat(SPACE);\nconst KOREAN_SYLLABLE_BLOCK = [JL, JV, JT, H2, H3];\nconst HYPHEN = [HY, BA];\n\nexport const codePointsToCharacterClasses = (\n    codePoints: number[],\n    lineBreak: string = 'strict'\n): [number[], number[], boolean[]] => {\n    const types: number[] = [];\n    const indices: number[] = [];\n    const categories: boolean[] = [];\n    codePoints.forEach((codePoint, index) => {\n        let classType = UnicodeTrie.get(codePoint);\n        if (classType > LETTER_NUMBER_MODIFIER) {\n            categories.push(true);\n            classType -= LETTER_NUMBER_MODIFIER;\n        } else {\n            categories.push(false);\n        }\n\n        if (['normal', 'auto', 'loose'].indexOf(lineBreak) !== -1) {\n            // U+2010,  U+2013,  U+301C,  U+30A0\n            if ([0x2010, 0x2013, 0x301c, 0x30a0].indexOf(codePoint) !== -1) {\n                indices.push(index);\n                return types.push(CB);\n            }\n        }\n\n        if (classType === CM || classType === ZWJ) {\n            // LB10 Treat any remaining combining mark or ZWJ as AL.\n            if (index === 0) {\n                indices.push(index);\n                return types.push(AL);\n            }\n\n            // LB9 Do not break a combining character sequence; treat it as if it has the line breaking class of\n            // the base character in all of the following rules. Treat ZWJ as if it were CM.\n            const prev = types[index - 1];\n            if (LINE_BREAKS.indexOf(prev) === -1) {\n                indices.push(indices[index - 1]);\n                return types.push(prev);\n            }\n            indices.push(index);\n            return types.push(AL);\n        }\n\n        indices.push(index);\n\n        if (classType === CJ) {\n            return types.push(lineBreak === 'strict' ? NS : ID);\n        }\n\n        if (classType === SA) {\n            return types.push(AL);\n        }\n\n        if (classType === AI) {\n            return types.push(AL);\n        }\n\n        // For supplementary characters, a useful default is to treat characters in the range 10000..1FFFD as AL\n        // and characters in the ranges 20000..2FFFD and 30000..3FFFD as ID, until the implementation can be revised\n        // to take into account the actual line breaking properties for these characters.\n        if (classType === XX) {\n            if ((codePoint >= 0x20000 && codePoint <= 0x2fffd) || (codePoint >= 0x30000 && codePoint <= 0x3fffd)) {\n                return types.push(ID);\n            } else {\n                return types.push(AL);\n            }\n        }\n\n        types.push(classType);\n    });\n\n    return [indices, types, categories];\n};\n\nconst isAdjacentWithSpaceIgnored = (\n    a: number[] | number,\n    b: number,\n    currentIndex: number,\n    classTypes: number[]\n): boolean => {\n    const current = classTypes[currentIndex];\n    if (Array.isArray(a) ? a.indexOf(current) !== -1 : a === current) {\n        let i = currentIndex;\n        while (i <= classTypes.length) {\n            i++;\n            let next = classTypes[i];\n\n            if (next === b) {\n                return true;\n            }\n\n            if (next !== SP) {\n                break;\n            }\n        }\n    }\n\n    if (current === SP) {\n        let i = currentIndex;\n\n        while (i > 0) {\n            i--;\n            const prev = classTypes[i];\n\n            if (Array.isArray(a) ? a.indexOf(prev) !== -1 : a === prev) {\n                let n = currentIndex;\n                while (n <= classTypes.length) {\n                    n++;\n                    let next = classTypes[n];\n\n                    if (next === b) {\n                        return true;\n                    }\n\n                    if (next !== SP) {\n                        break;\n                    }\n                }\n            }\n\n            if (prev !== SP) {\n                break;\n            }\n        }\n    }\n    return false;\n};\n\nconst previousNonSpaceClassType = (currentIndex: number, classTypes: number[]): number => {\n    let i = currentIndex;\n    while (i >= 0) {\n        let type = classTypes[i];\n        if (type === SP) {\n            i--;\n        } else {\n            return type;\n        }\n    }\n    return 0;\n};\n\nexport type BREAK_OPPORTUNITIES = typeof BREAK_NOT_ALLOWED | typeof BREAK_ALLOWED | typeof BREAK_MANDATORY;\n\nconst _lineBreakAtIndex = (\n    codePoints: number[],\n    classTypes: number[],\n    indicies: number[],\n    index: number,\n    forbiddenBreaks?: boolean[]\n): BREAK_OPPORTUNITIES => {\n    if (indicies[index] === 0) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    let currentIndex = index - 1;\n    if (Array.isArray(forbiddenBreaks) && forbiddenBreaks[currentIndex] === true) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    let beforeIndex = currentIndex - 1;\n    let afterIndex = currentIndex + 1;\n    let current = classTypes[currentIndex];\n\n    // LB4 Always break after hard line breaks.\n    // LB5 Treat CR followed by LF, as well as CR, LF, and NL as hard line breaks.\n    let before = beforeIndex >= 0 ? classTypes[beforeIndex] : 0;\n    let next = classTypes[afterIndex];\n\n    if (current === CR && next === LF) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    if (HARD_LINE_BREAKS.indexOf(current) !== -1) {\n        return BREAK_MANDATORY;\n    }\n\n    // LB6 Do not break before hard line breaks.\n    if (HARD_LINE_BREAKS.indexOf(next) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB7 Do not break before spaces or zero width space.\n    if (SPACE.indexOf(next) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB8 Break before any character following a zero-width space, even if one or more spaces intervene.\n    if (previousNonSpaceClassType(currentIndex, classTypes) === ZW) {\n        return BREAK_ALLOWED;\n    }\n\n    // LB8a Do not break after a zero width joiner.\n    if (UnicodeTrie.get(codePoints[currentIndex]) === ZWJ) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // zwj emojis\n    if ((current === EB || current === EM) && UnicodeTrie.get(codePoints[afterIndex]) === ZWJ) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB11 Do not break before or after Word joiner and related characters.\n    if (current === WJ || next === WJ) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB12 Do not break after NBSP and related characters.\n    if (current === GL) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB12a Do not break before NBSP and related characters, except after spaces and hyphens.\n    if ([SP, BA, HY].indexOf(current) === -1 && next === GL) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB13 Do not break before ] or ! or ; or /, even after spaces.\n    if ([CL, CP, EX, IS, SY].indexOf(next) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB14 Do not break after [, even after spaces.\n    if (previousNonSpaceClassType(currentIndex, classTypes) === OP) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB15 Do not break within [, even with intervening spaces.\n    if (isAdjacentWithSpaceIgnored(QU, OP, currentIndex, classTypes)) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB16 Do not break between closing punctuation and a nonstarter (lb=NS), even with intervening spaces.\n    if (isAdjacentWithSpaceIgnored([CL, CP], NS, currentIndex, classTypes)) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB17 Do not break within , even with intervening spaces.\n    if (isAdjacentWithSpaceIgnored(B2, B2, currentIndex, classTypes)) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB18 Break after spaces.\n    if (current === SP) {\n        return BREAK_ALLOWED;\n    }\n\n    // LB19 Do not break before or after quotation marks, such as   .\n    if (current === QU || next === QU) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB20 Break before and after unresolved CB.\n    if (next === CB || current === CB) {\n        return BREAK_ALLOWED;\n    }\n\n    // LB21 Do not break before hyphen-minus, other hyphens, fixed-width spaces, small kana, and other non-starters, or after acute accents.\n    if ([BA, HY, NS].indexOf(next) !== -1 || current === BB) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB21a Don't break after Hebrew + Hyphen.\n    if (before === HL && HYPHEN.indexOf(current) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB21b Dont break between Solidus and Hebrew letters.\n    if (current === SY && next === HL) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB22 Do not break before ellipsis.\n    if (next === IN) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB23 Do not break between digits and letters.\n    if ((ALPHABETICS.indexOf(next) !== -1 && current === NU) || (ALPHABETICS.indexOf(current) !== -1 && next === NU)) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB23a Do not break between numeric prefixes and ideographs, or between ideographs and numeric postfixes.\n    if (\n        (current === PR && [ID, EB, EM].indexOf(next) !== -1) ||\n        ([ID, EB, EM].indexOf(current) !== -1 && next === PO)\n    ) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB24 Do not break between numeric prefix/postfix and letters, or between letters and prefix/postfix.\n    if (\n        (ALPHABETICS.indexOf(current) !== -1 && PREFIX_POSTFIX.indexOf(next) !== -1) ||\n        (PREFIX_POSTFIX.indexOf(current) !== -1 && ALPHABETICS.indexOf(next) !== -1)\n    ) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB25 Do not break between the following pairs of classes relevant to numbers:\n    if (\n        // (PR | PO)  ( OP | HY )? NU\n        ([PR, PO].indexOf(current) !== -1 &&\n            (next === NU || ([OP, HY].indexOf(next) !== -1 && classTypes[afterIndex + 1] === NU))) ||\n        // ( OP | HY )  NU\n        ([OP, HY].indexOf(current) !== -1 && next === NU) ||\n        // NU \t(NU | SY | IS)\n        (current === NU && [NU, SY, IS].indexOf(next) !== -1)\n    ) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // NU (NU | SY | IS)*  (NU | SY | IS | CL | CP)\n    if ([NU, SY, IS, CL, CP].indexOf(next) !== -1) {\n        let prevIndex = currentIndex;\n        while (prevIndex >= 0) {\n            let type = classTypes[prevIndex];\n            if (type === NU) {\n                return BREAK_NOT_ALLOWED;\n            } else if ([SY, IS].indexOf(type) !== -1) {\n                prevIndex--;\n            } else {\n                break;\n            }\n        }\n    }\n\n    // NU (NU | SY | IS)* (CL | CP)?  (PO | PR))\n    if ([PR, PO].indexOf(next) !== -1) {\n        let prevIndex = [CL, CP].indexOf(current) !== -1 ? beforeIndex : currentIndex;\n        while (prevIndex >= 0) {\n            let type = classTypes[prevIndex];\n            if (type === NU) {\n                return BREAK_NOT_ALLOWED;\n            } else if ([SY, IS].indexOf(type) !== -1) {\n                prevIndex--;\n            } else {\n                break;\n            }\n        }\n    }\n\n    // LB26 Do not break a Korean syllable.\n    if (\n        (JL === current && [JL, JV, H2, H3].indexOf(next) !== -1) ||\n        ([JV, H2].indexOf(current) !== -1 && [JV, JT].indexOf(next) !== -1) ||\n        ([JT, H3].indexOf(current) !== -1 && next === JT)\n    ) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB27 Treat a Korean Syllable Block the same as ID.\n    if (\n        (KOREAN_SYLLABLE_BLOCK.indexOf(current) !== -1 && [IN, PO].indexOf(next) !== -1) ||\n        (KOREAN_SYLLABLE_BLOCK.indexOf(next) !== -1 && current === PR)\n    ) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB28 Do not break between alphabetics (at).\n    if (ALPHABETICS.indexOf(current) !== -1 && ALPHABETICS.indexOf(next) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB29 Do not break between numeric punctuation and alphabetics (e.g.).\n    if (current === IS && ALPHABETICS.indexOf(next) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB30 Do not break between letters, numbers, or ordinary symbols and opening or closing parentheses.\n    if (\n        (ALPHABETICS.concat(NU).indexOf(current) !== -1 &&\n            next === OP &&\n            ea_OP.indexOf(codePoints[afterIndex]) === -1) ||\n        (ALPHABETICS.concat(NU).indexOf(next) !== -1 && current === CP)\n    ) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB30a Break between two regional indicator symbols if and only if there are an even number of regional\n    // indicators preceding the position of the break.\n    if (current === RI && next === RI) {\n        let i = indicies[currentIndex];\n        let count = 1;\n        while (i > 0) {\n            i--;\n            if (classTypes[i] === RI) {\n                count++;\n            } else {\n                break;\n            }\n        }\n        if (count % 2 !== 0) {\n            return BREAK_NOT_ALLOWED;\n        }\n    }\n\n    // LB30b Do not break between an emoji base and an emoji modifier.\n    if (current === EB && next === EM) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    return BREAK_ALLOWED;\n};\n\nexport const lineBreakAtIndex = (codePoints: number[], index: number): BREAK_OPPORTUNITIES => {\n    // LB2 Never break at the start of text.\n    if (index === 0) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB3 Always break at the end of text.\n    if (index >= codePoints.length) {\n        return BREAK_MANDATORY;\n    }\n\n    const [indices, classTypes] = codePointsToCharacterClasses(codePoints);\n\n    return _lineBreakAtIndex(codePoints, classTypes, indices, index);\n};\n\nexport type LINE_BREAK = 'auto' | 'normal' | 'strict';\nexport type WORD_BREAK = 'normal' | 'break-all' | 'break-word' | 'keep-all';\n\ninterface IOptions {\n    lineBreak?: LINE_BREAK;\n    wordBreak?: WORD_BREAK;\n}\n\nconst cssFormattedClasses = (codePoints: number[], options?: IOptions): [number[], number[], boolean[] | undefined] => {\n    if (!options) {\n        options = {lineBreak: 'normal', wordBreak: 'normal'};\n    }\n    let [indicies, classTypes, isLetterNumber] = codePointsToCharacterClasses(codePoints, options.lineBreak);\n\n    if (options.wordBreak === 'break-all' || options.wordBreak === 'break-word') {\n        classTypes = classTypes.map((type) => ([NU, AL, SA].indexOf(type) !== -1 ? ID : type));\n    }\n\n    const forbiddenBreakpoints =\n        options.wordBreak === 'keep-all'\n            ? isLetterNumber.map((letterNumber, i) => {\n                  return letterNumber && codePoints[i] >= 0x4e00 && codePoints[i] <= 0x9fff;\n              })\n            : undefined;\n\n    return [indicies, classTypes, forbiddenBreakpoints];\n};\n\nexport const inlineBreakOpportunities = (str: string, options?: IOptions): string => {\n    const codePoints = toCodePoints(str);\n    let output = BREAK_NOT_ALLOWED;\n    const [indicies, classTypes, forbiddenBreakpoints] = cssFormattedClasses(codePoints, options);\n\n    codePoints.forEach((codePoint, i) => {\n        output +=\n            fromCodePoint(codePoint) +\n            (i >= codePoints.length - 1\n                ? BREAK_MANDATORY\n                : _lineBreakAtIndex(codePoints, classTypes, indicies, i + 1, forbiddenBreakpoints));\n    });\n\n    return output;\n};\n\nclass Break {\n    private readonly codePoints: number[];\n    readonly required: boolean;\n    readonly start: number;\n    readonly end: number;\n\n    constructor(codePoints: number[], lineBreak: string, start: number, end: number) {\n        this.codePoints = codePoints;\n        this.required = lineBreak === BREAK_MANDATORY;\n        this.start = start;\n        this.end = end;\n    }\n\n    slice(): string {\n        return fromCodePoint(...this.codePoints.slice(this.start, this.end));\n    }\n}\n\nexport type LineBreak =\n    | {\n          done: true;\n          value: null;\n      }\n    | {\n          done: false;\n          value: Break;\n      };\n\ninterface ILineBreakIterator {\n    next: () => LineBreak;\n}\n\nexport const LineBreaker = (str: string, options?: IOptions): ILineBreakIterator => {\n    const codePoints = toCodePoints(str);\n    const [indicies, classTypes, forbiddenBreakpoints] = cssFormattedClasses(codePoints, options);\n    const length = codePoints.length;\n    let lastEnd = 0;\n    let nextIndex = 0;\n\n    return {\n        next: () => {\n            if (nextIndex >= length) {\n                return {done: true, value: null};\n            }\n            let lineBreak = BREAK_NOT_ALLOWED;\n            while (\n                nextIndex < length &&\n                (lineBreak = _lineBreakAtIndex(codePoints, classTypes, indicies, ++nextIndex, forbiddenBreakpoints)) ===\n                    BREAK_NOT_ALLOWED\n            ) {}\n\n            if (lineBreak !== BREAK_NOT_ALLOWED || nextIndex === length) {\n                const value = new Break(codePoints, lineBreak, lastEnd, nextIndex);\n                lastEnd = nextIndex;\n                return {value, done: false};\n            }\n\n            return {done: true, value: null};\n        },\n    };\n};\n","import {decode, polyUint16Array, polyUint32Array} from './Util';\n\nexport type int = number;\n\n/** Shift size for getting the index-2 table offset. */\nexport const UTRIE2_SHIFT_2 = 5;\n\n/** Shift size for getting the index-1 table offset. */\nexport const UTRIE2_SHIFT_1 = 6 + 5;\n\n/**\n * Shift size for shifting left the index array values.\n * Increases possible data size with 16-bit index values at the cost\n * of compactability.\n * This requires data blocks to be aligned by UTRIE2_DATA_GRANULARITY.\n */\nexport const UTRIE2_INDEX_SHIFT = 2;\n\n/**\n * Difference between the two shift sizes,\n * for getting an index-1 offset from an index-2 offset. 6=11-5\n */\nexport const UTRIE2_SHIFT_1_2 = UTRIE2_SHIFT_1 - UTRIE2_SHIFT_2;\n\n/**\n * The part of the index-2 table for U+D800..U+DBFF stores values for\n * lead surrogate code _units_ not code _points_.\n * Values for lead surrogate code _points_ are indexed with this portion of the table.\n * Length=32=0x20=0x400>>UTRIE2_SHIFT_2. (There are 1024=0x400 lead surrogates.)\n */\nexport const UTRIE2_LSCP_INDEX_2_OFFSET = 0x10000 >> UTRIE2_SHIFT_2;\n\n/** Number of entries in a data block. 32=0x20 */\nexport const UTRIE2_DATA_BLOCK_LENGTH = 1 << UTRIE2_SHIFT_2;\n/** Mask for getting the lower bits for the in-data-block offset. */\nexport const UTRIE2_DATA_MASK = UTRIE2_DATA_BLOCK_LENGTH - 1;\n\nexport const UTRIE2_LSCP_INDEX_2_LENGTH = 0x400 >> UTRIE2_SHIFT_2;\n/** Count the lengths of both BMP pieces. 2080=0x820 */\nexport const UTRIE2_INDEX_2_BMP_LENGTH = UTRIE2_LSCP_INDEX_2_OFFSET + UTRIE2_LSCP_INDEX_2_LENGTH;\n/**\n * The 2-byte UTF-8 version of the index-2 table follows at offset 2080=0x820.\n * Length 32=0x20 for lead bytes C0..DF, regardless of UTRIE2_SHIFT_2.\n */\nexport const UTRIE2_UTF8_2B_INDEX_2_OFFSET = UTRIE2_INDEX_2_BMP_LENGTH;\nexport const UTRIE2_UTF8_2B_INDEX_2_LENGTH = 0x800 >> 6; /* U+0800 is the first code point after 2-byte UTF-8 */\n/**\n * The index-1 table, only used for supplementary code points, at offset 2112=0x840.\n * Variable length, for code points up to highStart, where the last single-value range starts.\n * Maximum length 512=0x200=0x100000>>UTRIE2_SHIFT_1.\n * (For 0x100000 supplementary code points U+10000..U+10ffff.)\n *\n * The part of the index-2 table for supplementary code points starts\n * after this index-1 table.\n *\n * Both the index-1 table and the following part of the index-2 table\n * are omitted completely if there is only BMP data.\n */\nexport const UTRIE2_INDEX_1_OFFSET = UTRIE2_UTF8_2B_INDEX_2_OFFSET + UTRIE2_UTF8_2B_INDEX_2_LENGTH;\n\n/**\n * Number of index-1 entries for the BMP. 32=0x20\n * This part of the index-1 table is omitted from the serialized form.\n */\nexport const UTRIE2_OMITTED_BMP_INDEX_1_LENGTH = 0x10000 >> UTRIE2_SHIFT_1;\n\n/** Number of entries in an index-2 block. 64=0x40 */\nexport const UTRIE2_INDEX_2_BLOCK_LENGTH = 1 << UTRIE2_SHIFT_1_2;\n/** Mask for getting the lower bits for the in-index-2-block offset. */\nexport const UTRIE2_INDEX_2_MASK = UTRIE2_INDEX_2_BLOCK_LENGTH - 1;\n\nconst slice16 = (view: number[] | Uint16Array, start: number, end?: number) => {\n    if (view.slice) {\n        return view.slice(start, end);\n    }\n\n    return new Uint16Array(Array.prototype.slice.call(view, start, end));\n};\n\nconst slice32 = (view: number[] | Uint32Array, start: number, end?: number) => {\n    if (view.slice) {\n        return view.slice(start, end);\n    }\n\n    return new Uint32Array(Array.prototype.slice.call(view, start, end));\n};\n\nexport const createTrieFromBase64 = (base64: string, _byteLength: number): Trie => {\n    const buffer = decode(base64);\n    const view32 = Array.isArray(buffer) ? polyUint32Array(buffer) : new Uint32Array(buffer);\n    const view16 = Array.isArray(buffer) ? polyUint16Array(buffer) : new Uint16Array(buffer);\n    const headerLength = 24;\n\n    const index = slice16(view16, headerLength / 2, view32[4] / 2);\n    const data =\n        view32[5] === 2\n            ? slice16(view16, (headerLength + view32[4]) / 2)\n            : slice32(view32, Math.ceil((headerLength + view32[4]) / 4));\n\n    return new Trie(view32[0], view32[1], view32[2], view32[3], index, data);\n};\n\nexport class Trie {\n    initialValue: int;\n    errorValue: int;\n    highStart: int;\n    highValueIndex: int;\n    index: Uint16Array | number[];\n    data: Uint32Array | Uint16Array | number[];\n\n    constructor(\n        initialValue: int,\n        errorValue: int,\n        highStart: int,\n        highValueIndex: int,\n        index: Uint16Array | number[],\n        data: Uint32Array | Uint16Array | number[]\n    ) {\n        this.initialValue = initialValue;\n        this.errorValue = errorValue;\n        this.highStart = highStart;\n        this.highValueIndex = highValueIndex;\n        this.index = index;\n        this.data = data;\n    }\n\n    /**\n     * Get the value for a code point as stored in the Trie.\n     *\n     * @param codePoint the code point\n     * @return the value\n     */\n    get(codePoint: number): number {\n        let ix;\n        if (codePoint >= 0) {\n            if (codePoint < 0x0d800 || (codePoint > 0x0dbff && codePoint <= 0x0ffff)) {\n                // Ordinary BMP code point, excluding leading surrogates.\n                // BMP uses a single level lookup.  BMP index starts at offset 0 in the Trie2 index.\n                // 16 bit data is stored in the index array itself.\n                ix = this.index[codePoint >> UTRIE2_SHIFT_2];\n                ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);\n                return this.data[ix];\n            }\n\n            if (codePoint <= 0xffff) {\n                // Lead Surrogate Code Point.  A Separate index section is stored for\n                // lead surrogate code units and code points.\n                //   The main index has the code unit data.\n                //   For this function, we need the code point data.\n                // Note: this expression could be refactored for slightly improved efficiency, but\n                //       surrogate code points will be so rare in practice that it's not worth it.\n                ix = this.index[UTRIE2_LSCP_INDEX_2_OFFSET + ((codePoint - 0xd800) >> UTRIE2_SHIFT_2)];\n                ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);\n                return this.data[ix];\n            }\n\n            if (codePoint < this.highStart) {\n                // Supplemental code point, use two-level lookup.\n                ix = UTRIE2_INDEX_1_OFFSET - UTRIE2_OMITTED_BMP_INDEX_1_LENGTH + (codePoint >> UTRIE2_SHIFT_1);\n                ix = this.index[ix];\n                ix += (codePoint >> UTRIE2_SHIFT_2) & UTRIE2_INDEX_2_MASK;\n                ix = this.index[ix];\n                ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);\n                return this.data[ix];\n            }\n            if (codePoint <= 0x10ffff) {\n                return this.data[this.highValueIndex];\n            }\n        }\n\n        // Fall through.  The code point is outside of the legal range of 0..0x10ffff.\n        return this.errorValue;\n    }\n}\n","const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n// Use a lookup table to find the index.\nconst lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\nfor (let i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n}\n\nexport const encode = (arraybuffer: ArrayBuffer): string => {\n    let bytes = new Uint8Array(arraybuffer),\n        i,\n        len = bytes.length,\n        base64 = '';\n\n    for (i = 0; i < len; i += 3) {\n        base64 += chars[bytes[i] >> 2];\n        base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n        base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n        base64 += chars[bytes[i + 2] & 63];\n    }\n\n    if (len % 3 === 2) {\n        base64 = base64.substring(0, base64.length - 1) + '=';\n    } else if (len % 3 === 1) {\n        base64 = base64.substring(0, base64.length - 2) + '==';\n    }\n\n    return base64;\n};\n\nexport const decode = (base64: string): ArrayBuffer => {\n    let bufferLength = base64.length * 0.75,\n        len = base64.length,\n        i,\n        p = 0,\n        encoded1,\n        encoded2,\n        encoded3,\n        encoded4;\n\n    if (base64[base64.length - 1] === '=') {\n        bufferLength--;\n        if (base64[base64.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n\n    const arraybuffer = new ArrayBuffer(bufferLength),\n        bytes = new Uint8Array(arraybuffer);\n\n    for (i = 0; i < len; i += 4) {\n        encoded1 = lookup[base64.charCodeAt(i)];\n        encoded2 = lookup[base64.charCodeAt(i + 1)];\n        encoded3 = lookup[base64.charCodeAt(i + 2)];\n        encoded4 = lookup[base64.charCodeAt(i + 3)];\n\n        bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n        bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n        bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n\n    return arraybuffer;\n};\n","// https://www.w3.org/TR/css-syntax-3\n\nimport {fromCodePoint, toCodePoints} from 'css-line-break';\n\nexport const enum TokenType {\n    STRING_TOKEN,\n    BAD_STRING_TOKEN,\n    LEFT_PARENTHESIS_TOKEN,\n    RIGHT_PARENTHESIS_TOKEN,\n    COMMA_TOKEN,\n    HASH_TOKEN,\n    DELIM_TOKEN,\n    AT_KEYWORD_TOKEN,\n    PREFIX_MATCH_TOKEN,\n    DASH_MATCH_TOKEN,\n    INCLUDE_MATCH_TOKEN,\n    LEFT_CURLY_BRACKET_TOKEN,\n    RIGHT_CURLY_BRACKET_TOKEN,\n    SUFFIX_MATCH_TOKEN,\n    SUBSTRING_MATCH_TOKEN,\n    DIMENSION_TOKEN,\n    PERCENTAGE_TOKEN,\n    NUMBER_TOKEN,\n    FUNCTION,\n    FUNCTION_TOKEN,\n    IDENT_TOKEN,\n    COLUMN_TOKEN,\n    URL_TOKEN,\n    BAD_URL_TOKEN,\n    CDC_TOKEN,\n    CDO_TOKEN,\n    COLON_TOKEN,\n    SEMICOLON_TOKEN,\n    LEFT_SQUARE_BRACKET_TOKEN,\n    RIGHT_SQUARE_BRACKET_TOKEN,\n    UNICODE_RANGE_TOKEN,\n    WHITESPACE_TOKEN,\n    EOF_TOKEN\n}\n\ninterface IToken {\n    type: TokenType;\n}\n\nexport interface Token extends IToken {\n    type:\n        | TokenType.BAD_URL_TOKEN\n        | TokenType.BAD_STRING_TOKEN\n        | TokenType.LEFT_PARENTHESIS_TOKEN\n        | TokenType.RIGHT_PARENTHESIS_TOKEN\n        | TokenType.COMMA_TOKEN\n        | TokenType.SUBSTRING_MATCH_TOKEN\n        | TokenType.PREFIX_MATCH_TOKEN\n        | TokenType.SUFFIX_MATCH_TOKEN\n        | TokenType.COLON_TOKEN\n        | TokenType.SEMICOLON_TOKEN\n        | TokenType.LEFT_SQUARE_BRACKET_TOKEN\n        | TokenType.RIGHT_SQUARE_BRACKET_TOKEN\n        | TokenType.LEFT_CURLY_BRACKET_TOKEN\n        | TokenType.RIGHT_CURLY_BRACKET_TOKEN\n        | TokenType.DASH_MATCH_TOKEN\n        | TokenType.INCLUDE_MATCH_TOKEN\n        | TokenType.COLUMN_TOKEN\n        | TokenType.WHITESPACE_TOKEN\n        | TokenType.CDC_TOKEN\n        | TokenType.CDO_TOKEN\n        | TokenType.EOF_TOKEN;\n}\n\nexport interface StringValueToken extends IToken {\n    type:\n        | TokenType.STRING_TOKEN\n        | TokenType.DELIM_TOKEN\n        | TokenType.FUNCTION_TOKEN\n        | TokenType.IDENT_TOKEN\n        | TokenType.URL_TOKEN\n        | TokenType.AT_KEYWORD_TOKEN;\n    value: string;\n}\n\nexport interface HashToken extends IToken {\n    type: TokenType.HASH_TOKEN;\n    flags: number;\n    value: string;\n}\n\nexport interface NumberValueToken extends IToken {\n    type: TokenType.PERCENTAGE_TOKEN | TokenType.NUMBER_TOKEN;\n    flags: number;\n    number: number;\n}\n\nexport interface DimensionToken extends IToken {\n    type: TokenType.DIMENSION_TOKEN;\n    flags: number;\n    unit: string;\n    number: number;\n}\n\nexport interface UnicodeRangeToken extends IToken {\n    type: TokenType.UNICODE_RANGE_TOKEN;\n    start: number;\n    end: number;\n}\n\nexport type CSSToken = Token | StringValueToken | NumberValueToken | DimensionToken | UnicodeRangeToken | HashToken;\n\nexport const FLAG_UNRESTRICTED = 1 << 0;\nexport const FLAG_ID = 1 << 1;\nexport const FLAG_INTEGER = 1 << 2;\nexport const FLAG_NUMBER = 1 << 3;\n\nconst LINE_FEED = 0x000a;\nconst SOLIDUS = 0x002f;\nconst REVERSE_SOLIDUS = 0x005c;\nconst CHARACTER_TABULATION = 0x0009;\nconst SPACE = 0x0020;\nconst QUOTATION_MARK = 0x0022;\nconst EQUALS_SIGN = 0x003d;\nconst NUMBER_SIGN = 0x0023;\nconst DOLLAR_SIGN = 0x0024;\nconst PERCENTAGE_SIGN = 0x0025;\nconst APOSTROPHE = 0x0027;\nconst LEFT_PARENTHESIS = 0x0028;\nconst RIGHT_PARENTHESIS = 0x0029;\nconst LOW_LINE = 0x005f;\nconst HYPHEN_MINUS = 0x002d;\nconst EXCLAMATION_MARK = 0x0021;\nconst LESS_THAN_SIGN = 0x003c;\nconst GREATER_THAN_SIGN = 0x003e;\nconst COMMERCIAL_AT = 0x0040;\nconst LEFT_SQUARE_BRACKET = 0x005b;\nconst RIGHT_SQUARE_BRACKET = 0x005d;\nconst CIRCUMFLEX_ACCENT = 0x003d;\nconst LEFT_CURLY_BRACKET = 0x007b;\nconst QUESTION_MARK = 0x003f;\nconst RIGHT_CURLY_BRACKET = 0x007d;\nconst VERTICAL_LINE = 0x007c;\nconst TILDE = 0x007e;\nconst CONTROL = 0x0080;\nconst REPLACEMENT_CHARACTER = 0xfffd;\nconst ASTERISK = 0x002a;\nconst PLUS_SIGN = 0x002b;\nconst COMMA = 0x002c;\nconst COLON = 0x003a;\nconst SEMICOLON = 0x003b;\nconst FULL_STOP = 0x002e;\nconst NULL = 0x0000;\nconst BACKSPACE = 0x0008;\nconst LINE_TABULATION = 0x000b;\nconst SHIFT_OUT = 0x000e;\nconst INFORMATION_SEPARATOR_ONE = 0x001f;\nconst DELETE = 0x007f;\nconst EOF = -1;\nconst ZERO = 0x0030;\nconst a = 0x0061;\nconst e = 0x0065;\nconst f = 0x0066;\nconst u = 0x0075;\nconst z = 0x007a;\nconst A = 0x0041;\nconst E = 0x0045;\nconst F = 0x0046;\nconst U = 0x0055;\nconst Z = 0x005a;\n\nconst isDigit = (codePoint: number) => codePoint >= ZERO && codePoint <= 0x0039;\nconst isSurrogateCodePoint = (codePoint: number) => codePoint >= 0xd800 && codePoint <= 0xdfff;\nconst isHex = (codePoint: number) =>\n    isDigit(codePoint) || (codePoint >= A && codePoint <= F) || (codePoint >= a && codePoint <= f);\nconst isLowerCaseLetter = (codePoint: number) => codePoint >= a && codePoint <= z;\nconst isUpperCaseLetter = (codePoint: number) => codePoint >= A && codePoint <= Z;\nconst isLetter = (codePoint: number) => isLowerCaseLetter(codePoint) || isUpperCaseLetter(codePoint);\nconst isNonASCIICodePoint = (codePoint: number) => codePoint >= CONTROL;\nconst isWhiteSpace = (codePoint: number): boolean =>\n    codePoint === LINE_FEED || codePoint === CHARACTER_TABULATION || codePoint === SPACE;\nconst isNameStartCodePoint = (codePoint: number): boolean =>\n    isLetter(codePoint) || isNonASCIICodePoint(codePoint) || codePoint === LOW_LINE;\nconst isNameCodePoint = (codePoint: number): boolean =>\n    isNameStartCodePoint(codePoint) || isDigit(codePoint) || codePoint === HYPHEN_MINUS;\nconst isNonPrintableCodePoint = (codePoint: number): boolean => {\n    return (\n        (codePoint >= NULL && codePoint <= BACKSPACE) ||\n        codePoint === LINE_TABULATION ||\n        (codePoint >= SHIFT_OUT && codePoint <= INFORMATION_SEPARATOR_ONE) ||\n        codePoint === DELETE\n    );\n};\nconst isValidEscape = (c1: number, c2: number): boolean => {\n    if (c1 !== REVERSE_SOLIDUS) {\n        return false;\n    }\n\n    return c2 !== LINE_FEED;\n};\nconst isIdentifierStart = (c1: number, c2: number, c3: number): boolean => {\n    if (c1 === HYPHEN_MINUS) {\n        return isNameStartCodePoint(c2) || isValidEscape(c2, c3);\n    } else if (isNameStartCodePoint(c1)) {\n        return true;\n    } else if (c1 === REVERSE_SOLIDUS && isValidEscape(c1, c2)) {\n        return true;\n    }\n    return false;\n};\n\nconst isNumberStart = (c1: number, c2: number, c3: number): boolean => {\n    if (c1 === PLUS_SIGN || c1 === HYPHEN_MINUS) {\n        if (isDigit(c2)) {\n            return true;\n        }\n\n        return c2 === FULL_STOP && isDigit(c3);\n    }\n\n    if (c1 === FULL_STOP) {\n        return isDigit(c2);\n    }\n\n    return isDigit(c1);\n};\n\nconst stringToNumber = (codePoints: number[]): number => {\n    let c = 0;\n    let sign = 1;\n    if (codePoints[c] === PLUS_SIGN || codePoints[c] === HYPHEN_MINUS) {\n        if (codePoints[c] === HYPHEN_MINUS) {\n            sign = -1;\n        }\n        c++;\n    }\n\n    const integers = [];\n\n    while (isDigit(codePoints[c])) {\n        integers.push(codePoints[c++]);\n    }\n\n    const int = integers.length ? parseInt(fromCodePoint(...integers), 10) : 0;\n\n    if (codePoints[c] === FULL_STOP) {\n        c++;\n    }\n\n    const fraction = [];\n    while (isDigit(codePoints[c])) {\n        fraction.push(codePoints[c++]);\n    }\n\n    const fracd = fraction.length;\n    const frac = fracd ? parseInt(fromCodePoint(...fraction), 10) : 0;\n\n    if (codePoints[c] === E || codePoints[c] === e) {\n        c++;\n    }\n\n    let expsign = 1;\n\n    if (codePoints[c] === PLUS_SIGN || codePoints[c] === HYPHEN_MINUS) {\n        if (codePoints[c] === HYPHEN_MINUS) {\n            expsign = -1;\n        }\n        c++;\n    }\n\n    const exponent = [];\n\n    while (isDigit(codePoints[c])) {\n        exponent.push(codePoints[c++]);\n    }\n\n    const exp = exponent.length ? parseInt(fromCodePoint(...exponent), 10) : 0;\n\n    return sign * (int + frac * Math.pow(10, -fracd)) * Math.pow(10, expsign * exp);\n};\n\nconst LEFT_PARENTHESIS_TOKEN: Token = {\n    type: TokenType.LEFT_PARENTHESIS_TOKEN\n};\nconst RIGHT_PARENTHESIS_TOKEN: Token = {\n    type: TokenType.RIGHT_PARENTHESIS_TOKEN\n};\nconst COMMA_TOKEN: Token = {type: TokenType.COMMA_TOKEN};\nconst SUFFIX_MATCH_TOKEN: Token = {type: TokenType.SUFFIX_MATCH_TOKEN};\nconst PREFIX_MATCH_TOKEN: Token = {type: TokenType.PREFIX_MATCH_TOKEN};\nconst COLUMN_TOKEN: Token = {type: TokenType.COLUMN_TOKEN};\nconst DASH_MATCH_TOKEN: Token = {type: TokenType.DASH_MATCH_TOKEN};\nconst INCLUDE_MATCH_TOKEN: Token = {type: TokenType.INCLUDE_MATCH_TOKEN};\nconst LEFT_CURLY_BRACKET_TOKEN: Token = {\n    type: TokenType.LEFT_CURLY_BRACKET_TOKEN\n};\nconst RIGHT_CURLY_BRACKET_TOKEN: Token = {\n    type: TokenType.RIGHT_CURLY_BRACKET_TOKEN\n};\nconst SUBSTRING_MATCH_TOKEN: Token = {type: TokenType.SUBSTRING_MATCH_TOKEN};\nconst BAD_URL_TOKEN: Token = {type: TokenType.BAD_URL_TOKEN};\nconst BAD_STRING_TOKEN: Token = {type: TokenType.BAD_STRING_TOKEN};\nconst CDO_TOKEN: Token = {type: TokenType.CDO_TOKEN};\nconst CDC_TOKEN: Token = {type: TokenType.CDC_TOKEN};\nconst COLON_TOKEN: Token = {type: TokenType.COLON_TOKEN};\nconst SEMICOLON_TOKEN: Token = {type: TokenType.SEMICOLON_TOKEN};\nconst LEFT_SQUARE_BRACKET_TOKEN: Token = {\n    type: TokenType.LEFT_SQUARE_BRACKET_TOKEN\n};\nconst RIGHT_SQUARE_BRACKET_TOKEN: Token = {\n    type: TokenType.RIGHT_SQUARE_BRACKET_TOKEN\n};\nconst WHITESPACE_TOKEN: Token = {type: TokenType.WHITESPACE_TOKEN};\nexport const EOF_TOKEN: Token = {type: TokenType.EOF_TOKEN};\n\nexport class Tokenizer {\n    private _value: number[];\n\n    constructor() {\n        this._value = [];\n    }\n\n    write(chunk: string): void {\n        this._value = this._value.concat(toCodePoints(chunk));\n    }\n\n    read(): CSSToken[] {\n        const tokens = [];\n        let token = this.consumeToken();\n        while (token !== EOF_TOKEN) {\n            tokens.push(token);\n            token = this.consumeToken();\n        }\n        return tokens;\n    }\n\n    private consumeToken(): CSSToken {\n        const codePoint = this.consumeCodePoint();\n\n        switch (codePoint) {\n            case QUOTATION_MARK:\n                return this.consumeStringToken(QUOTATION_MARK);\n            case NUMBER_SIGN:\n                const c1 = this.peekCodePoint(0);\n                const c2 = this.peekCodePoint(1);\n                const c3 = this.peekCodePoint(2);\n                if (isNameCodePoint(c1) || isValidEscape(c2, c3)) {\n                    const flags = isIdentifierStart(c1, c2, c3) ? FLAG_ID : FLAG_UNRESTRICTED;\n                    const value = this.consumeName();\n\n                    return {type: TokenType.HASH_TOKEN, value, flags};\n                }\n                break;\n            case DOLLAR_SIGN:\n                if (this.peekCodePoint(0) === EQUALS_SIGN) {\n                    this.consumeCodePoint();\n                    return SUFFIX_MATCH_TOKEN;\n                }\n                break;\n            case APOSTROPHE:\n                return this.consumeStringToken(APOSTROPHE);\n            case LEFT_PARENTHESIS:\n                return LEFT_PARENTHESIS_TOKEN;\n            case RIGHT_PARENTHESIS:\n                return RIGHT_PARENTHESIS_TOKEN;\n            case ASTERISK:\n                if (this.peekCodePoint(0) === EQUALS_SIGN) {\n                    this.consumeCodePoint();\n                    return SUBSTRING_MATCH_TOKEN;\n                }\n                break;\n            case PLUS_SIGN:\n                if (isNumberStart(codePoint, this.peekCodePoint(0), this.peekCodePoint(1))) {\n                    this.reconsumeCodePoint(codePoint);\n                    return this.consumeNumericToken();\n                }\n                break;\n            case COMMA:\n                return COMMA_TOKEN;\n            case HYPHEN_MINUS:\n                const e1 = codePoint;\n                const e2 = this.peekCodePoint(0);\n                const e3 = this.peekCodePoint(1);\n\n                if (isNumberStart(e1, e2, e3)) {\n                    this.reconsumeCodePoint(codePoint);\n                    return this.consumeNumericToken();\n                }\n\n                if (isIdentifierStart(e1, e2, e3)) {\n                    this.reconsumeCodePoint(codePoint);\n                    return this.consumeIdentLikeToken();\n                }\n\n                if (e2 === HYPHEN_MINUS && e3 === GREATER_THAN_SIGN) {\n                    this.consumeCodePoint();\n                    this.consumeCodePoint();\n                    return CDC_TOKEN;\n                }\n                break;\n\n            case FULL_STOP:\n                if (isNumberStart(codePoint, this.peekCodePoint(0), this.peekCodePoint(1))) {\n                    this.reconsumeCodePoint(codePoint);\n                    return this.consumeNumericToken();\n                }\n                break;\n            case SOLIDUS:\n                if (this.peekCodePoint(0) === ASTERISK) {\n                    this.consumeCodePoint();\n                    while (true) {\n                        let c = this.consumeCodePoint();\n                        if (c === ASTERISK) {\n                            c = this.consumeCodePoint();\n                            if (c === SOLIDUS) {\n                                return this.consumeToken();\n                            }\n                        }\n                        if (c === EOF) {\n                            return this.consumeToken();\n                        }\n                    }\n                }\n                break;\n            case COLON:\n                return COLON_TOKEN;\n            case SEMICOLON:\n                return SEMICOLON_TOKEN;\n            case LESS_THAN_SIGN:\n                if (\n                    this.peekCodePoint(0) === EXCLAMATION_MARK &&\n                    this.peekCodePoint(1) === HYPHEN_MINUS &&\n                    this.peekCodePoint(2) === HYPHEN_MINUS\n                ) {\n                    this.consumeCodePoint();\n                    this.consumeCodePoint();\n                    return CDO_TOKEN;\n                }\n                break;\n            case COMMERCIAL_AT:\n                const a1 = this.peekCodePoint(0);\n                const a2 = this.peekCodePoint(1);\n                const a3 = this.peekCodePoint(2);\n                if (isIdentifierStart(a1, a2, a3)) {\n                    const value = this.consumeName();\n                    return {type: TokenType.AT_KEYWORD_TOKEN, value};\n                }\n                break;\n            case LEFT_SQUARE_BRACKET:\n                return LEFT_SQUARE_BRACKET_TOKEN;\n            case REVERSE_SOLIDUS:\n                if (isValidEscape(codePoint, this.peekCodePoint(0))) {\n                    this.reconsumeCodePoint(codePoint);\n                    return this.consumeIdentLikeToken();\n                }\n                break;\n            case RIGHT_SQUARE_BRACKET:\n                return RIGHT_SQUARE_BRACKET_TOKEN;\n            case CIRCUMFLEX_ACCENT:\n                if (this.peekCodePoint(0) === EQUALS_SIGN) {\n                    this.consumeCodePoint();\n                    return PREFIX_MATCH_TOKEN;\n                }\n                break;\n            case LEFT_CURLY_BRACKET:\n                return LEFT_CURLY_BRACKET_TOKEN;\n            case RIGHT_CURLY_BRACKET:\n                return RIGHT_CURLY_BRACKET_TOKEN;\n            case u:\n            case U:\n                const u1 = this.peekCodePoint(0);\n                const u2 = this.peekCodePoint(1);\n                if (u1 === PLUS_SIGN && (isHex(u2) || u2 === QUESTION_MARK)) {\n                    this.consumeCodePoint();\n                    this.consumeUnicodeRangeToken();\n                }\n                this.reconsumeCodePoint(codePoint);\n                return this.consumeIdentLikeToken();\n            case VERTICAL_LINE:\n                if (this.peekCodePoint(0) === EQUALS_SIGN) {\n                    this.consumeCodePoint();\n                    return DASH_MATCH_TOKEN;\n                }\n                if (this.peekCodePoint(0) === VERTICAL_LINE) {\n                    this.consumeCodePoint();\n                    return COLUMN_TOKEN;\n                }\n                break;\n            case TILDE:\n                if (this.peekCodePoint(0) === EQUALS_SIGN) {\n                    this.consumeCodePoint();\n                    return INCLUDE_MATCH_TOKEN;\n                }\n                break;\n            case EOF:\n                return EOF_TOKEN;\n        }\n\n        if (isWhiteSpace(codePoint)) {\n            this.consumeWhiteSpace();\n            return WHITESPACE_TOKEN;\n        }\n\n        if (isDigit(codePoint)) {\n            this.reconsumeCodePoint(codePoint);\n            return this.consumeNumericToken();\n        }\n\n        if (isNameStartCodePoint(codePoint)) {\n            this.reconsumeCodePoint(codePoint);\n            return this.consumeIdentLikeToken();\n        }\n\n        return {type: TokenType.DELIM_TOKEN, value: fromCodePoint(codePoint)};\n    }\n\n    private consumeCodePoint(): number {\n        const value = this._value.shift();\n\n        return typeof value === 'undefined' ? -1 : value;\n    }\n\n    private reconsumeCodePoint(codePoint: number) {\n        this._value.unshift(codePoint);\n    }\n\n    private peekCodePoint(delta: number): number {\n        if (delta >= this._value.length) {\n            return -1;\n        }\n\n        return this._value[delta];\n    }\n\n    private consumeUnicodeRangeToken(): UnicodeRangeToken {\n        const digits = [];\n        let codePoint = this.consumeCodePoint();\n        while (isHex(codePoint) && digits.length < 6) {\n            digits.push(codePoint);\n            codePoint = this.consumeCodePoint();\n        }\n        let questionMarks = false;\n        while (codePoint === QUESTION_MARK && digits.length < 6) {\n            digits.push(codePoint);\n            codePoint = this.consumeCodePoint();\n            questionMarks = true;\n        }\n\n        if (questionMarks) {\n            const start = parseInt(\n                fromCodePoint(...digits.map((digit) => (digit === QUESTION_MARK ? ZERO : digit))),\n                16\n            );\n            const end = parseInt(fromCodePoint(...digits.map((digit) => (digit === QUESTION_MARK ? F : digit))), 16);\n            return {type: TokenType.UNICODE_RANGE_TOKEN, start, end};\n        }\n\n        const start = parseInt(fromCodePoint(...digits), 16);\n        if (this.peekCodePoint(0) === HYPHEN_MINUS && isHex(this.peekCodePoint(1))) {\n            this.consumeCodePoint();\n            codePoint = this.consumeCodePoint();\n            const endDigits = [];\n            while (isHex(codePoint) && endDigits.length < 6) {\n                endDigits.push(codePoint);\n                codePoint = this.consumeCodePoint();\n            }\n            const end = parseInt(fromCodePoint(...endDigits), 16);\n\n            return {type: TokenType.UNICODE_RANGE_TOKEN, start, end};\n        } else {\n            return {type: TokenType.UNICODE_RANGE_TOKEN, start, end: start};\n        }\n    }\n\n    private consumeIdentLikeToken(): StringValueToken | Token {\n        const value = this.consumeName();\n        if (value.toLowerCase() === 'url' && this.peekCodePoint(0) === LEFT_PARENTHESIS) {\n            this.consumeCodePoint();\n            return this.consumeUrlToken();\n        } else if (this.peekCodePoint(0) === LEFT_PARENTHESIS) {\n            this.consumeCodePoint();\n            return {type: TokenType.FUNCTION_TOKEN, value};\n        }\n\n        return {type: TokenType.IDENT_TOKEN, value};\n    }\n\n    private consumeUrlToken(): StringValueToken | Token {\n        const value = [];\n        this.consumeWhiteSpace();\n\n        if (this.peekCodePoint(0) === EOF) {\n            return {type: TokenType.URL_TOKEN, value: ''};\n        }\n\n        const next = this.peekCodePoint(0);\n        if (next === APOSTROPHE || next === QUOTATION_MARK) {\n            const stringToken = this.consumeStringToken(this.consumeCodePoint());\n            if (stringToken.type === TokenType.STRING_TOKEN) {\n                this.consumeWhiteSpace();\n\n                if (this.peekCodePoint(0) === EOF || this.peekCodePoint(0) === RIGHT_PARENTHESIS) {\n                    this.consumeCodePoint();\n                    return {type: TokenType.URL_TOKEN, value: stringToken.value};\n                }\n            }\n\n            this.consumeBadUrlRemnants();\n            return BAD_URL_TOKEN;\n        }\n\n        while (true) {\n            const codePoint = this.consumeCodePoint();\n            if (codePoint === EOF || codePoint === RIGHT_PARENTHESIS) {\n                return {type: TokenType.URL_TOKEN, value: fromCodePoint(...value)};\n            } else if (isWhiteSpace(codePoint)) {\n                this.consumeWhiteSpace();\n                if (this.peekCodePoint(0) === EOF || this.peekCodePoint(0) === RIGHT_PARENTHESIS) {\n                    this.consumeCodePoint();\n                    return {type: TokenType.URL_TOKEN, value: fromCodePoint(...value)};\n                }\n                this.consumeBadUrlRemnants();\n                return BAD_URL_TOKEN;\n            } else if (\n                codePoint === QUOTATION_MARK ||\n                codePoint === APOSTROPHE ||\n                codePoint === LEFT_PARENTHESIS ||\n                isNonPrintableCodePoint(codePoint)\n            ) {\n                this.consumeBadUrlRemnants();\n                return BAD_URL_TOKEN;\n            } else if (codePoint === REVERSE_SOLIDUS) {\n                if (isValidEscape(codePoint, this.peekCodePoint(0))) {\n                    value.push(this.consumeEscapedCodePoint());\n                } else {\n                    this.consumeBadUrlRemnants();\n                    return BAD_URL_TOKEN;\n                }\n            } else {\n                value.push(codePoint);\n            }\n        }\n    }\n\n    private consumeWhiteSpace(): void {\n        while (isWhiteSpace(this.peekCodePoint(0))) {\n            this.consumeCodePoint();\n        }\n    }\n\n    private consumeBadUrlRemnants(): void {\n        while (true) {\n            const codePoint = this.consumeCodePoint();\n            if (codePoint === RIGHT_PARENTHESIS || codePoint === EOF) {\n                return;\n            }\n\n            if (isValidEscape(codePoint, this.peekCodePoint(0))) {\n                this.consumeEscapedCodePoint();\n            }\n        }\n    }\n\n    private consumeStringSlice(count: number): string {\n        const SLICE_STACK_SIZE = 50000;\n        let value = '';\n        while (count > 0) {\n            const amount = Math.min(SLICE_STACK_SIZE, count);\n            value += fromCodePoint(...this._value.splice(0, amount));\n            count -= amount;\n        }\n        this._value.shift();\n\n        return value;\n    }\n\n    private consumeStringToken(endingCodePoint: number): StringValueToken | Token {\n        let value = '';\n        let i = 0;\n\n        do {\n            const codePoint = this._value[i];\n            if (codePoint === EOF || codePoint === undefined || codePoint === endingCodePoint) {\n                value += this.consumeStringSlice(i);\n                return {type: TokenType.STRING_TOKEN, value};\n            }\n\n            if (codePoint === LINE_FEED) {\n                this._value.splice(0, i);\n                return BAD_STRING_TOKEN;\n            }\n\n            if (codePoint === REVERSE_SOLIDUS) {\n                const next = this._value[i + 1];\n                if (next !== EOF && next !== undefined) {\n                    if (next === LINE_FEED) {\n                        value += this.consumeStringSlice(i);\n                        i = -1;\n                        this._value.shift();\n                    } else if (isValidEscape(codePoint, next)) {\n                        value += this.consumeStringSlice(i);\n                        value += fromCodePoint(this.consumeEscapedCodePoint());\n                        i = -1;\n                    }\n                }\n            }\n\n            i++;\n        } while (true);\n    }\n\n    private consumeNumber() {\n        const repr = [];\n        let type = FLAG_INTEGER;\n        let c1 = this.peekCodePoint(0);\n        if (c1 === PLUS_SIGN || c1 === HYPHEN_MINUS) {\n            repr.push(this.consumeCodePoint());\n        }\n\n        while (isDigit(this.peekCodePoint(0))) {\n            repr.push(this.consumeCodePoint());\n        }\n        c1 = this.peekCodePoint(0);\n        let c2 = this.peekCodePoint(1);\n        if (c1 === FULL_STOP && isDigit(c2)) {\n            repr.push(this.consumeCodePoint(), this.consumeCodePoint());\n            type = FLAG_NUMBER;\n            while (isDigit(this.peekCodePoint(0))) {\n                repr.push(this.consumeCodePoint());\n            }\n        }\n\n        c1 = this.peekCodePoint(0);\n        c2 = this.peekCodePoint(1);\n        const c3 = this.peekCodePoint(2);\n        if ((c1 === E || c1 === e) && (((c2 === PLUS_SIGN || c2 === HYPHEN_MINUS) && isDigit(c3)) || isDigit(c2))) {\n            repr.push(this.consumeCodePoint(), this.consumeCodePoint());\n            type = FLAG_NUMBER;\n            while (isDigit(this.peekCodePoint(0))) {\n                repr.push(this.consumeCodePoint());\n            }\n        }\n\n        return [stringToNumber(repr), type];\n    }\n\n    private consumeNumericToken(): NumberValueToken | DimensionToken {\n        const [number, flags] = this.consumeNumber();\n        const c1 = this.peekCodePoint(0);\n        const c2 = this.peekCodePoint(1);\n        const c3 = this.peekCodePoint(2);\n\n        if (isIdentifierStart(c1, c2, c3)) {\n            const unit = this.consumeName();\n            return {type: TokenType.DIMENSION_TOKEN, number, flags, unit};\n        }\n\n        if (c1 === PERCENTAGE_SIGN) {\n            this.consumeCodePoint();\n            return {type: TokenType.PERCENTAGE_TOKEN, number, flags};\n        }\n\n        return {type: TokenType.NUMBER_TOKEN, number, flags};\n    }\n\n    private consumeEscapedCodePoint(): number {\n        const codePoint = this.consumeCodePoint();\n\n        if (isHex(codePoint)) {\n            let hex = fromCodePoint(codePoint);\n            while (isHex(this.peekCodePoint(0)) && hex.length < 6) {\n                hex += fromCodePoint(this.consumeCodePoint());\n            }\n\n            if (isWhiteSpace(this.peekCodePoint(0))) {\n                this.consumeCodePoint();\n            }\n\n            const hexCodePoint = parseInt(hex, 16);\n\n            if (hexCodePoint === 0 || isSurrogateCodePoint(hexCodePoint) || hexCodePoint > 0x10ffff) {\n                return REPLACEMENT_CHARACTER;\n            }\n\n            return hexCodePoint;\n        }\n\n        if (codePoint === EOF) {\n            return REPLACEMENT_CHARACTER;\n        }\n\n        return codePoint;\n    }\n\n    private consumeName(): string {\n        let result = '';\n        while (true) {\n            const codePoint = this.consumeCodePoint();\n            if (isNameCodePoint(codePoint)) {\n                result += fromCodePoint(codePoint);\n            } else if (isValidEscape(codePoint, this.peekCodePoint(0))) {\n                result += fromCodePoint(this.consumeEscapedCodePoint());\n            } else {\n                this.reconsumeCodePoint(codePoint);\n                return result;\n            }\n        }\n    }\n}\n","import {\n    CSSToken,\n    DimensionToken,\n    EOF_TOKEN,\n    NumberValueToken,\n    StringValueToken,\n    Tokenizer,\n    TokenType\n} from './tokenizer';\n\nexport type CSSBlockType =\n    | TokenType.LEFT_PARENTHESIS_TOKEN\n    | TokenType.LEFT_SQUARE_BRACKET_TOKEN\n    | TokenType.LEFT_CURLY_BRACKET_TOKEN;\n\nexport interface CSSBlock {\n    type: CSSBlockType;\n    values: CSSValue[];\n}\n\nexport interface CSSFunction {\n    type: TokenType.FUNCTION;\n    name: string;\n    values: CSSValue[];\n}\n\nexport type CSSValue = CSSFunction | CSSToken | CSSBlock;\n\nexport class Parser {\n    private _tokens: CSSToken[];\n\n    constructor(tokens: CSSToken[]) {\n        this._tokens = tokens;\n    }\n\n    static create(value: string): Parser {\n        const tokenizer = new Tokenizer();\n        tokenizer.write(value);\n        return new Parser(tokenizer.read());\n    }\n\n    static parseValue(value: string): CSSValue {\n        return Parser.create(value).parseComponentValue();\n    }\n\n    static parseValues(value: string): CSSValue[] {\n        return Parser.create(value).parseComponentValues();\n    }\n\n    parseComponentValue(): CSSValue {\n        let token = this.consumeToken();\n        while (token.type === TokenType.WHITESPACE_TOKEN) {\n            token = this.consumeToken();\n        }\n\n        if (token.type === TokenType.EOF_TOKEN) {\n            throw new SyntaxError(`Error parsing CSS component value, unexpected EOF`);\n        }\n\n        this.reconsumeToken(token);\n        const value = this.consumeComponentValue();\n\n        do {\n            token = this.consumeToken();\n        } while (token.type === TokenType.WHITESPACE_TOKEN);\n\n        if (token.type === TokenType.EOF_TOKEN) {\n            return value;\n        }\n\n        throw new SyntaxError(`Error parsing CSS component value, multiple values found when expecting only one`);\n    }\n\n    parseComponentValues(): CSSValue[] {\n        const values = [];\n        while (true) {\n            const value = this.consumeComponentValue();\n            if (value.type === TokenType.EOF_TOKEN) {\n                return values;\n            }\n            values.push(value);\n            values.push();\n        }\n    }\n\n    private consumeComponentValue(): CSSValue {\n        const token = this.consumeToken();\n\n        switch (token.type) {\n            case TokenType.LEFT_CURLY_BRACKET_TOKEN:\n            case TokenType.LEFT_SQUARE_BRACKET_TOKEN:\n            case TokenType.LEFT_PARENTHESIS_TOKEN:\n                return this.consumeSimpleBlock(token.type);\n            case TokenType.FUNCTION_TOKEN:\n                return this.consumeFunction(token);\n        }\n\n        return token;\n    }\n\n    private consumeSimpleBlock(type: CSSBlockType): CSSBlock {\n        const block: CSSBlock = {type, values: []};\n\n        let token = this.consumeToken();\n        while (true) {\n            if (token.type === TokenType.EOF_TOKEN || isEndingTokenFor(token, type)) {\n                return block;\n            }\n\n            this.reconsumeToken(token);\n            block.values.push(this.consumeComponentValue());\n            token = this.consumeToken();\n        }\n    }\n\n    private consumeFunction(functionToken: StringValueToken): CSSFunction {\n        const cssFunction: CSSFunction = {\n            name: functionToken.value,\n            values: [],\n            type: TokenType.FUNCTION\n        };\n\n        while (true) {\n            const token = this.consumeToken();\n            if (token.type === TokenType.EOF_TOKEN || token.type === TokenType.RIGHT_PARENTHESIS_TOKEN) {\n                return cssFunction;\n            }\n\n            this.reconsumeToken(token);\n            cssFunction.values.push(this.consumeComponentValue());\n        }\n    }\n\n    private consumeToken(): CSSToken {\n        const token = this._tokens.shift();\n        return typeof token === 'undefined' ? EOF_TOKEN : token;\n    }\n\n    private reconsumeToken(token: CSSToken): void {\n        this._tokens.unshift(token);\n    }\n}\n\nexport const isDimensionToken = (token: CSSValue): token is DimensionToken => token.type === TokenType.DIMENSION_TOKEN;\nexport const isNumberToken = (token: CSSValue): token is NumberValueToken => token.type === TokenType.NUMBER_TOKEN;\nexport const isIdentToken = (token: CSSValue): token is StringValueToken => token.type === TokenType.IDENT_TOKEN;\nexport const isStringToken = (token: CSSValue): token is StringValueToken => token.type === TokenType.STRING_TOKEN;\nexport const isIdentWithValue = (token: CSSValue, value: string): boolean =>\n    isIdentToken(token) && token.value === value;\n\nexport const nonWhiteSpace = (token: CSSValue): boolean => token.type !== TokenType.WHITESPACE_TOKEN;\nexport const nonFunctionArgSeparator = (token: CSSValue): boolean =>\n    token.type !== TokenType.WHITESPACE_TOKEN && token.type !== TokenType.COMMA_TOKEN;\n\nexport const parseFunctionArgs = (tokens: CSSValue[]): CSSValue[][] => {\n    const args: CSSValue[][] = [];\n    let arg: CSSValue[] = [];\n    tokens.forEach((token) => {\n        if (token.type === TokenType.COMMA_TOKEN) {\n            if (arg.length === 0) {\n                throw new Error(`Error parsing function args, zero tokens for arg`);\n            }\n            args.push(arg);\n            arg = [];\n            return;\n        }\n\n        if (token.type !== TokenType.WHITESPACE_TOKEN) {\n            arg.push(token);\n        }\n    });\n    if (arg.length) {\n        args.push(arg);\n    }\n\n    return args;\n};\n\nconst isEndingTokenFor = (token: CSSToken, type: CSSBlockType): boolean => {\n    if (type === TokenType.LEFT_CURLY_BRACKET_TOKEN && token.type === TokenType.RIGHT_CURLY_BRACKET_TOKEN) {\n        return true;\n    }\n    if (type === TokenType.LEFT_SQUARE_BRACKET_TOKEN && token.type === TokenType.RIGHT_SQUARE_BRACKET_TOKEN) {\n        return true;\n    }\n\n    return type === TokenType.LEFT_PARENTHESIS_TOKEN && token.type === TokenType.RIGHT_PARENTHESIS_TOKEN;\n};\n","import {DimensionToken, FLAG_INTEGER, NumberValueToken, TokenType} from '../syntax/tokenizer';\nimport {CSSValue, isDimensionToken} from '../syntax/parser';\nimport {isLength} from './length';\nexport type LengthPercentage = DimensionToken | NumberValueToken;\nexport type LengthPercentageTuple = [LengthPercentage] | [LengthPercentage, LengthPercentage];\n\nexport const isLengthPercentage = (token: CSSValue): token is LengthPercentage =>\n    token.type === TokenType.PERCENTAGE_TOKEN || isLength(token);\nexport const parseLengthPercentageTuple = (tokens: LengthPercentage[]): LengthPercentageTuple =>\n    tokens.length > 1 ? [tokens[0], tokens[1]] : [tokens[0]];\nexport const ZERO_LENGTH: NumberValueToken = {\n    type: TokenType.NUMBER_TOKEN,\n    number: 0,\n    flags: FLAG_INTEGER\n};\n\nexport const FIFTY_PERCENT: NumberValueToken = {\n    type: TokenType.PERCENTAGE_TOKEN,\n    number: 50,\n    flags: FLAG_INTEGER\n};\n\nexport const HUNDRED_PERCENT: NumberValueToken = {\n    type: TokenType.PERCENTAGE_TOKEN,\n    number: 100,\n    flags: FLAG_INTEGER\n};\n\nexport const getAbsoluteValueForTuple = (\n    tuple: LengthPercentageTuple,\n    width: number,\n    height: number\n): [number, number] => {\n    const [x, y] = tuple;\n    return [getAbsoluteValue(x, width), getAbsoluteValue(typeof y !== 'undefined' ? y : x, height)];\n};\nexport const getAbsoluteValue = (token: LengthPercentage, parent: number): number => {\n    if (token.type === TokenType.PERCENTAGE_TOKEN) {\n        return (token.number / 100) * parent;\n    }\n\n    if (isDimensionToken(token)) {\n        switch (token.unit) {\n            case 'rem':\n            case 'em':\n                return 16 * token.number; // TODO use correct font-size\n            case 'px':\n            default:\n                return token.number;\n        }\n    }\n\n    return token.number;\n};\n","import {CSSValue} from '../syntax/parser';\nimport {DimensionToken, NumberValueToken, TokenType} from '../syntax/tokenizer';\n\nexport type Length = DimensionToken | NumberValueToken;\n\nexport const isLength = (token: CSSValue): token is Length =>\n    token.type === TokenType.NUMBER_TOKEN || token.type === TokenType.DIMENSION_TOKEN;\n","import {CSSValue, isIdentToken} from '../syntax/parser';\nimport {TokenType} from '../syntax/tokenizer';\nimport {ITypeDescriptor} from '../ITypeDescriptor';\nimport {HUNDRED_PERCENT, ZERO_LENGTH} from './length-percentage';\nimport {GradientCorner} from './image';\nimport {Context} from '../../core/context';\n\nconst DEG = 'deg';\nconst GRAD = 'grad';\nconst RAD = 'rad';\nconst TURN = 'turn';\n\nexport const angle: ITypeDescriptor<number> = {\n    name: 'angle',\n    parse: (_context: Context, value: CSSValue): number => {\n        if (value.type === TokenType.DIMENSION_TOKEN) {\n            switch (value.unit) {\n                case DEG:\n                    return (Math.PI * value.number) / 180;\n                case GRAD:\n                    return (Math.PI / 200) * value.number;\n                case RAD:\n                    return value.number;\n                case TURN:\n                    return Math.PI * 2 * value.number;\n            }\n        }\n\n        throw new Error(`Unsupported angle type`);\n    }\n};\n\nexport const isAngle = (value: CSSValue): boolean => {\n    if (value.type === TokenType.DIMENSION_TOKEN) {\n        if (value.unit === DEG || value.unit === GRAD || value.unit === RAD || value.unit === TURN) {\n            return true;\n        }\n    }\n    return false;\n};\n\nexport const parseNamedSide = (tokens: CSSValue[]): number | GradientCorner => {\n    const sideOrCorner = tokens\n        .filter(isIdentToken)\n        .map((ident) => ident.value)\n        .join(' ');\n\n    switch (sideOrCorner) {\n        case 'to bottom right':\n        case 'to right bottom':\n        case 'left top':\n        case 'top left':\n            return [ZERO_LENGTH, ZERO_LENGTH];\n        case 'to top':\n        case 'bottom':\n            return deg(0);\n        case 'to bottom left':\n        case 'to left bottom':\n        case 'right top':\n        case 'top right':\n            return [ZERO_LENGTH, HUNDRED_PERCENT];\n        case 'to right':\n        case 'left':\n            return deg(90);\n        case 'to top left':\n        case 'to left top':\n        case 'right bottom':\n        case 'bottom right':\n            return [HUNDRED_PERCENT, HUNDRED_PERCENT];\n        case 'to bottom':\n        case 'top':\n            return deg(180);\n        case 'to top right':\n        case 'to right top':\n        case 'left bottom':\n        case 'bottom left':\n            return [HUNDRED_PERCENT, ZERO_LENGTH];\n        case 'to left':\n        case 'right':\n            return deg(270);\n    }\n\n    return 0;\n};\n\nexport const deg = (deg: number): number => (Math.PI * deg) / 180;\n","import {CSSValue, nonFunctionArgSeparator, Parser} from '../syntax/parser';\nimport {TokenType} from '../syntax/tokenizer';\nimport {ITypeDescriptor} from '../ITypeDescriptor';\nimport {angle, deg} from './angle';\nimport {getAbsoluteValue, isLengthPercentage} from './length-percentage';\nimport {Context} from '../../core/context';\nexport type Color = number;\n\nexport const color: ITypeDescriptor<Color> = {\n    name: 'color',\n    parse: (context: Context, value: CSSValue): Color => {\n        if (value.type === TokenType.FUNCTION) {\n            const colorFunction = SUPPORTED_COLOR_FUNCTIONS[value.name];\n            if (typeof colorFunction === 'undefined') {\n                throw new Error(`Attempting to parse an unsupported color function \"${value.name}\"`);\n            }\n            return colorFunction(context, value.values);\n        }\n\n        if (value.type === TokenType.HASH_TOKEN) {\n            if (value.value.length === 3) {\n                const r = value.value.substring(0, 1);\n                const g = value.value.substring(1, 2);\n                const b = value.value.substring(2, 3);\n                return pack(parseInt(r + r, 16), parseInt(g + g, 16), parseInt(b + b, 16), 1);\n            }\n\n            if (value.value.length === 4) {\n                const r = value.value.substring(0, 1);\n                const g = value.value.substring(1, 2);\n                const b = value.value.substring(2, 3);\n                const a = value.value.substring(3, 4);\n                return pack(parseInt(r + r, 16), parseInt(g + g, 16), parseInt(b + b, 16), parseInt(a + a, 16) / 255);\n            }\n\n            if (value.value.length === 6) {\n                const r = value.value.substring(0, 2);\n                const g = value.value.substring(2, 4);\n                const b = value.value.substring(4, 6);\n                return pack(parseInt(r, 16), parseInt(g, 16), parseInt(b, 16), 1);\n            }\n\n            if (value.value.length === 8) {\n                const r = value.value.substring(0, 2);\n                const g = value.value.substring(2, 4);\n                const b = value.value.substring(4, 6);\n                const a = value.value.substring(6, 8);\n                return pack(parseInt(r, 16), parseInt(g, 16), parseInt(b, 16), parseInt(a, 16) / 255);\n            }\n        }\n\n        if (value.type === TokenType.IDENT_TOKEN) {\n            const namedColor = COLORS[value.value.toUpperCase()];\n            if (typeof namedColor !== 'undefined') {\n                return namedColor;\n            }\n        }\n\n        return COLORS.TRANSPARENT;\n    }\n};\n\nexport const isTransparent = (color: Color): boolean => (0xff & color) === 0;\n\nexport const asString = (color: Color): string => {\n    const alpha = 0xff & color;\n    const blue = 0xff & (color >> 8);\n    const green = 0xff & (color >> 16);\n    const red = 0xff & (color >> 24);\n    return alpha < 255 ? `rgba(${red},${green},${blue},${alpha / 255})` : `rgb(${red},${green},${blue})`;\n};\n\nexport const pack = (r: number, g: number, b: number, a: number): Color =>\n    ((r << 24) | (g << 16) | (b << 8) | (Math.round(a * 255) << 0)) >>> 0;\n\nconst getTokenColorValue = (token: CSSValue, i: number): number => {\n    if (token.type === TokenType.NUMBER_TOKEN) {\n        return token.number;\n    }\n\n    if (token.type === TokenType.PERCENTAGE_TOKEN) {\n        const max = i === 3 ? 1 : 255;\n        return i === 3 ? (token.number / 100) * max : Math.round((token.number / 100) * max);\n    }\n\n    return 0;\n};\n\nconst rgb = (_context: Context, args: CSSValue[]): number => {\n    const tokens = args.filter(nonFunctionArgSeparator);\n\n    if (tokens.length === 3) {\n        const [r, g, b] = tokens.map(getTokenColorValue);\n        return pack(r, g, b, 1);\n    }\n\n    if (tokens.length === 4) {\n        const [r, g, b, a] = tokens.map(getTokenColorValue);\n        return pack(r, g, b, a);\n    }\n\n    return 0;\n};\n\nfunction hue2rgb(t1: number, t2: number, hue: number): number {\n    if (hue < 0) {\n        hue += 1;\n    }\n    if (hue >= 1) {\n        hue -= 1;\n    }\n\n    if (hue < 1 / 6) {\n        return (t2 - t1) * hue * 6 + t1;\n    } else if (hue < 1 / 2) {\n        return t2;\n    } else if (hue < 2 / 3) {\n        return (t2 - t1) * 6 * (2 / 3 - hue) + t1;\n    } else {\n        return t1;\n    }\n}\n\nconst hsl = (context: Context, args: CSSValue[]): number => {\n    const tokens = args.filter(nonFunctionArgSeparator);\n    const [hue, saturation, lightness, alpha] = tokens;\n\n    const h = (hue.type === TokenType.NUMBER_TOKEN ? deg(hue.number) : angle.parse(context, hue)) / (Math.PI * 2);\n    const s = isLengthPercentage(saturation) ? saturation.number / 100 : 0;\n    const l = isLengthPercentage(lightness) ? lightness.number / 100 : 0;\n    const a = typeof alpha !== 'undefined' && isLengthPercentage(alpha) ? getAbsoluteValue(alpha, 1) : 1;\n\n    if (s === 0) {\n        return pack(l * 255, l * 255, l * 255, 1);\n    }\n\n    const t2 = l <= 0.5 ? l * (s + 1) : l + s - l * s;\n\n    const t1 = l * 2 - t2;\n    const r = hue2rgb(t1, t2, h + 1 / 3);\n    const g = hue2rgb(t1, t2, h);\n    const b = hue2rgb(t1, t2, h - 1 / 3);\n    return pack(r * 255, g * 255, b * 255, a);\n};\n\nconst SUPPORTED_COLOR_FUNCTIONS: {\n    [key: string]: (context: Context, args: CSSValue[]) => number;\n} = {\n    hsl: hsl,\n    hsla: hsl,\n    rgb: rgb,\n    rgba: rgb\n};\n\nexport const parseColor = (context: Context, value: string): Color =>\n    color.parse(context, Parser.create(value).parseComponentValue());\n\nexport const COLORS: {[key: string]: Color} = {\n    ALICEBLUE: 0xf0f8ffff,\n    ANTIQUEWHITE: 0xfaebd7ff,\n    AQUA: 0x00ffffff,\n    AQUAMARINE: 0x7fffd4ff,\n    AZURE: 0xf0ffffff,\n    BEIGE: 0xf5f5dcff,\n    BISQUE: 0xffe4c4ff,\n    BLACK: 0x000000ff,\n    BLANCHEDALMOND: 0xffebcdff,\n    BLUE: 0x0000ffff,\n    BLUEVIOLET: 0x8a2be2ff,\n    BROWN: 0xa52a2aff,\n    BURLYWOOD: 0xdeb887ff,\n    CADETBLUE: 0x5f9ea0ff,\n    CHARTREUSE: 0x7fff00ff,\n    CHOCOLATE: 0xd2691eff,\n    CORAL: 0xff7f50ff,\n    CORNFLOWERBLUE: 0x6495edff,\n    CORNSILK: 0xfff8dcff,\n    CRIMSON: 0xdc143cff,\n    CYAN: 0x00ffffff,\n    DARKBLUE: 0x00008bff,\n    DARKCYAN: 0x008b8bff,\n    DARKGOLDENROD: 0xb886bbff,\n    DARKGRAY: 0xa9a9a9ff,\n    DARKGREEN: 0x006400ff,\n    DARKGREY: 0xa9a9a9ff,\n    DARKKHAKI: 0xbdb76bff,\n    DARKMAGENTA: 0x8b008bff,\n    DARKOLIVEGREEN: 0x556b2fff,\n    DARKORANGE: 0xff8c00ff,\n    DARKORCHID: 0x9932ccff,\n    DARKRED: 0x8b0000ff,\n    DARKSALMON: 0xe9967aff,\n    DARKSEAGREEN: 0x8fbc8fff,\n    DARKSLATEBLUE: 0x483d8bff,\n    DARKSLATEGRAY: 0x2f4f4fff,\n    DARKSLATEGREY: 0x2f4f4fff,\n    DARKTURQUOISE: 0x00ced1ff,\n    DARKVIOLET: 0x9400d3ff,\n    DEEPPINK: 0xff1493ff,\n    DEEPSKYBLUE: 0x00bfffff,\n    DIMGRAY: 0x696969ff,\n    DIMGREY: 0x696969ff,\n    DODGERBLUE: 0x1e90ffff,\n    FIREBRICK: 0xb22222ff,\n    FLORALWHITE: 0xfffaf0ff,\n    FORESTGREEN: 0x228b22ff,\n    FUCHSIA: 0xff00ffff,\n    GAINSBORO: 0xdcdcdcff,\n    GHOSTWHITE: 0xf8f8ffff,\n    GOLD: 0xffd700ff,\n    GOLDENROD: 0xdaa520ff,\n    GRAY: 0x808080ff,\n    GREEN: 0x008000ff,\n    GREENYELLOW: 0xadff2fff,\n    GREY: 0x808080ff,\n    HONEYDEW: 0xf0fff0ff,\n    HOTPINK: 0xff69b4ff,\n    INDIANRED: 0xcd5c5cff,\n    INDIGO: 0x4b0082ff,\n    IVORY: 0xfffff0ff,\n    KHAKI: 0xf0e68cff,\n    LAVENDER: 0xe6e6faff,\n    LAVENDERBLUSH: 0xfff0f5ff,\n    LAWNGREEN: 0x7cfc00ff,\n    LEMONCHIFFON: 0xfffacdff,\n    LIGHTBLUE: 0xadd8e6ff,\n    LIGHTCORAL: 0xf08080ff,\n    LIGHTCYAN: 0xe0ffffff,\n    LIGHTGOLDENRODYELLOW: 0xfafad2ff,\n    LIGHTGRAY: 0xd3d3d3ff,\n    LIGHTGREEN: 0x90ee90ff,\n    LIGHTGREY: 0xd3d3d3ff,\n    LIGHTPINK: 0xffb6c1ff,\n    LIGHTSALMON: 0xffa07aff,\n    LIGHTSEAGREEN: 0x20b2aaff,\n    LIGHTSKYBLUE: 0x87cefaff,\n    LIGHTSLATEGRAY: 0x778899ff,\n    LIGHTSLATEGREY: 0x778899ff,\n    LIGHTSTEELBLUE: 0xb0c4deff,\n    LIGHTYELLOW: 0xffffe0ff,\n    LIME: 0x00ff00ff,\n    LIMEGREEN: 0x32cd32ff,\n    LINEN: 0xfaf0e6ff,\n    MAGENTA: 0xff00ffff,\n    MAROON: 0x800000ff,\n    MEDIUMAQUAMARINE: 0x66cdaaff,\n    MEDIUMBLUE: 0x0000cdff,\n    MEDIUMORCHID: 0xba55d3ff,\n    MEDIUMPURPLE: 0x9370dbff,\n    MEDIUMSEAGREEN: 0x3cb371ff,\n    MEDIUMSLATEBLUE: 0x7b68eeff,\n    MEDIUMSPRINGGREEN: 0x00fa9aff,\n    MEDIUMTURQUOISE: 0x48d1ccff,\n    MEDIUMVIOLETRED: 0xc71585ff,\n    MIDNIGHTBLUE: 0x191970ff,\n    MINTCREAM: 0xf5fffaff,\n    MISTYROSE: 0xffe4e1ff,\n    MOCCASIN: 0xffe4b5ff,\n    NAVAJOWHITE: 0xffdeadff,\n    NAVY: 0x000080ff,\n    OLDLACE: 0xfdf5e6ff,\n    OLIVE: 0x808000ff,\n    OLIVEDRAB: 0x6b8e23ff,\n    ORANGE: 0xffa500ff,\n    ORANGERED: 0xff4500ff,\n    ORCHID: 0xda70d6ff,\n    PALEGOLDENROD: 0xeee8aaff,\n    PALEGREEN: 0x98fb98ff,\n    PALETURQUOISE: 0xafeeeeff,\n    PALEVIOLETRED: 0xdb7093ff,\n    PAPAYAWHIP: 0xffefd5ff,\n    PEACHPUFF: 0xffdab9ff,\n    PERU: 0xcd853fff,\n    PINK: 0xffc0cbff,\n    PLUM: 0xdda0ddff,\n    POWDERBLUE: 0xb0e0e6ff,\n    PURPLE: 0x800080ff,\n    REBECCAPURPLE: 0x663399ff,\n    RED: 0xff0000ff,\n    ROSYBROWN: 0xbc8f8fff,\n    ROYALBLUE: 0x4169e1ff,\n    SADDLEBROWN: 0x8b4513ff,\n    SALMON: 0xfa8072ff,\n    SANDYBROWN: 0xf4a460ff,\n    SEAGREEN: 0x2e8b57ff,\n    SEASHELL: 0xfff5eeff,\n    SIENNA: 0xa0522dff,\n    SILVER: 0xc0c0c0ff,\n    SKYBLUE: 0x87ceebff,\n    SLATEBLUE: 0x6a5acdff,\n    SLATEGRAY: 0x708090ff,\n    SLATEGREY: 0x708090ff,\n    SNOW: 0xfffafaff,\n    SPRINGGREEN: 0x00ff7fff,\n    STEELBLUE: 0x4682b4ff,\n    TAN: 0xd2b48cff,\n    TEAL: 0x008080ff,\n    THISTLE: 0xd8bfd8ff,\n    TOMATO: 0xff6347ff,\n    TRANSPARENT: 0x00000000,\n    TURQUOISE: 0x40e0d0ff,\n    VIOLET: 0xee82eeff,\n    WHEAT: 0xf5deb3ff,\n    WHITE: 0xffffffff,\n    WHITESMOKE: 0xf5f5f5ff,\n    YELLOW: 0xffff00ff,\n    YELLOWGREEN: 0x9acd32ff\n};\n","import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentToken} from '../syntax/parser';\nimport {Context} from '../../core/context';\nexport const enum BACKGROUND_CLIP {\n    BORDER_BOX = 0,\n    PADDING_BOX = 1,\n    CONTENT_BOX = 2\n}\n\nexport type BackgroundClip = BACKGROUND_CLIP[];\n\nexport const backgroundClip: IPropertyListDescriptor<BackgroundClip> = {\n    name: 'background-clip',\n    initialValue: 'border-box',\n    prefix: false,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (_context: Context, tokens: CSSValue[]): BackgroundClip => {\n        return tokens.map((token) => {\n            if (isIdentToken(token)) {\n                switch (token.value) {\n                    case 'padding-box':\n                        return BACKGROUND_CLIP.PADDING_BOX;\n                    case 'content-box':\n                        return BACKGROUND_CLIP.CONTENT_BOX;\n                }\n            }\n            return BACKGROUND_CLIP.BORDER_BOX;\n        });\n    }\n};\n","import {IPropertyTypeValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\n\nexport const backgroundColor: IPropertyTypeValueDescriptor = {\n    name: `background-color`,\n    initialValue: 'transparent',\n    prefix: false,\n    type: PropertyDescriptorParsingType.TYPE_VALUE,\n    format: 'color'\n};\n","import {CSSValue} from '../../syntax/parser';\nimport {\n    CSSRadialExtent,\n    CSSRadialGradientImage,\n    CSSRadialShape,\n    GradientColorStop,\n    GradientCorner,\n    UnprocessedGradientColorStop\n} from '../image';\nimport {color as colorType} from '../color';\nimport {getAbsoluteValue, HUNDRED_PERCENT, isLengthPercentage, ZERO_LENGTH} from '../length-percentage';\nimport {Context} from '../../../core/context';\n\nexport const parseColorStop = (context: Context, args: CSSValue[]): UnprocessedGradientColorStop => {\n    const color = colorType.parse(context, args[0]);\n    const stop = args[1];\n    return stop && isLengthPercentage(stop) ? {color, stop} : {color, stop: null};\n};\n\nexport const processColorStops = (stops: UnprocessedGradientColorStop[], lineLength: number): GradientColorStop[] => {\n    const first = stops[0];\n    const last = stops[stops.length - 1];\n    if (first.stop === null) {\n        first.stop = ZERO_LENGTH;\n    }\n\n    if (last.stop === null) {\n        last.stop = HUNDRED_PERCENT;\n    }\n\n    const processStops: (number | null)[] = [];\n    let previous = 0;\n    for (let i = 0; i < stops.length; i++) {\n        const stop = stops[i].stop;\n        if (stop !== null) {\n            const absoluteValue = getAbsoluteValue(stop, lineLength);\n            if (absoluteValue > previous) {\n                processStops.push(absoluteValue);\n            } else {\n                processStops.push(previous);\n            }\n            previous = absoluteValue;\n        } else {\n            processStops.push(null);\n        }\n    }\n\n    let gapBegin = null;\n    for (let i = 0; i < processStops.length; i++) {\n        const stop = processStops[i];\n        if (stop === null) {\n            if (gapBegin === null) {\n                gapBegin = i;\n            }\n        } else if (gapBegin !== null) {\n            const gapLength = i - gapBegin;\n            const beforeGap = processStops[gapBegin - 1] as number;\n            const gapValue = (stop - beforeGap) / (gapLength + 1);\n            for (let g = 1; g <= gapLength; g++) {\n                processStops[gapBegin + g - 1] = gapValue * g;\n            }\n            gapBegin = null;\n        }\n    }\n\n    return stops.map(({color}, i) => {\n        return {color, stop: Math.max(Math.min(1, (processStops[i] as number) / lineLength), 0)};\n    });\n};\n\nconst getAngleFromCorner = (corner: GradientCorner, width: number, height: number): number => {\n    const centerX = width / 2;\n    const centerY = height / 2;\n    const x = getAbsoluteValue(corner[0], width) - centerX;\n    const y = centerY - getAbsoluteValue(corner[1], height);\n\n    return (Math.atan2(y, x) + Math.PI * 2) % (Math.PI * 2);\n};\n\nexport const calculateGradientDirection = (\n    angle: number | GradientCorner,\n    width: number,\n    height: number\n): [number, number, number, number, number] => {\n    const radian = typeof angle === 'number' ? angle : getAngleFromCorner(angle, width, height);\n\n    const lineLength = Math.abs(width * Math.sin(radian)) + Math.abs(height * Math.cos(radian));\n\n    const halfWidth = width / 2;\n    const halfHeight = height / 2;\n    const halfLineLength = lineLength / 2;\n\n    const yDiff = Math.sin(radian - Math.PI / 2) * halfLineLength;\n    const xDiff = Math.cos(radian - Math.PI / 2) * halfLineLength;\n\n    return [lineLength, halfWidth - xDiff, halfWidth + xDiff, halfHeight - yDiff, halfHeight + yDiff];\n};\n\nconst distance = (a: number, b: number): number => Math.sqrt(a * a + b * b);\n\nconst findCorner = (width: number, height: number, x: number, y: number, closest: boolean): [number, number] => {\n    const corners = [\n        [0, 0],\n        [0, height],\n        [width, 0],\n        [width, height]\n    ];\n\n    return corners.reduce(\n        (stat, corner) => {\n            const [cx, cy] = corner;\n            const d = distance(x - cx, y - cy);\n            if (closest ? d < stat.optimumDistance : d > stat.optimumDistance) {\n                return {\n                    optimumCorner: corner,\n                    optimumDistance: d\n                };\n            }\n\n            return stat;\n        },\n        {\n            optimumDistance: closest ? Infinity : -Infinity,\n            optimumCorner: null\n        }\n    ).optimumCorner as [number, number];\n};\n\nexport const calculateRadius = (\n    gradient: CSSRadialGradientImage,\n    x: number,\n    y: number,\n    width: number,\n    height: number\n): [number, number] => {\n    let rx = 0;\n    let ry = 0;\n\n    switch (gradient.size) {\n        case CSSRadialExtent.CLOSEST_SIDE:\n            // The ending shape is sized so that that it exactly meets the side of the gradient box closest to the gradients center.\n            // If the shape is an ellipse, it exactly meets the closest side in each dimension.\n            if (gradient.shape === CSSRadialShape.CIRCLE) {\n                rx = ry = Math.min(Math.abs(x), Math.abs(x - width), Math.abs(y), Math.abs(y - height));\n            } else if (gradient.shape === CSSRadialShape.ELLIPSE) {\n                rx = Math.min(Math.abs(x), Math.abs(x - width));\n                ry = Math.min(Math.abs(y), Math.abs(y - height));\n            }\n            break;\n\n        case CSSRadialExtent.CLOSEST_CORNER:\n            // The ending shape is sized so that that it passes through the corner of the gradient box closest to the gradients center.\n            // If the shape is an ellipse, the ending shape is given the same aspect-ratio it would have if closest-side were specified.\n            if (gradient.shape === CSSRadialShape.CIRCLE) {\n                rx = ry = Math.min(\n                    distance(x, y),\n                    distance(x, y - height),\n                    distance(x - width, y),\n                    distance(x - width, y - height)\n                );\n            } else if (gradient.shape === CSSRadialShape.ELLIPSE) {\n                // Compute the ratio ry/rx (which is to be the same as for \"closest-side\")\n                const c = Math.min(Math.abs(y), Math.abs(y - height)) / Math.min(Math.abs(x), Math.abs(x - width));\n                const [cx, cy] = findCorner(width, height, x, y, true);\n                rx = distance(cx - x, (cy - y) / c);\n                ry = c * rx;\n            }\n            break;\n\n        case CSSRadialExtent.FARTHEST_SIDE:\n            // Same as closest-side, except the ending shape is sized based on the farthest side(s)\n            if (gradient.shape === CSSRadialShape.CIRCLE) {\n                rx = ry = Math.max(Math.abs(x), Math.abs(x - width), Math.abs(y), Math.abs(y - height));\n            } else if (gradient.shape === CSSRadialShape.ELLIPSE) {\n                rx = Math.max(Math.abs(x), Math.abs(x - width));\n                ry = Math.max(Math.abs(y), Math.abs(y - height));\n            }\n            break;\n\n        case CSSRadialExtent.FARTHEST_CORNER:\n            // Same as closest-corner, except the ending shape is sized based on the farthest corner.\n            // If the shape is an ellipse, the ending shape is given the same aspect ratio it would have if farthest-side were specified.\n            if (gradient.shape === CSSRadialShape.CIRCLE) {\n                rx = ry = Math.max(\n                    distance(x, y),\n                    distance(x, y - height),\n                    distance(x - width, y),\n                    distance(x - width, y - height)\n                );\n            } else if (gradient.shape === CSSRadialShape.ELLIPSE) {\n                // Compute the ratio ry/rx (which is to be the same as for \"farthest-side\")\n                const c = Math.max(Math.abs(y), Math.abs(y - height)) / Math.max(Math.abs(x), Math.abs(x - width));\n                const [cx, cy] = findCorner(width, height, x, y, false);\n                rx = distance(cx - x, (cy - y) / c);\n                ry = c * rx;\n            }\n            break;\n    }\n\n    if (Array.isArray(gradient.size)) {\n        rx = getAbsoluteValue(gradient.size[0], width);\n        ry = gradient.size.length === 2 ? getAbsoluteValue(gradient.size[1], height) : rx;\n    }\n\n    return [rx, ry];\n};\n","import {CSSValue, parseFunctionArgs} from '../../syntax/parser';\nimport {TokenType} from '../../syntax/tokenizer';\nimport {isAngle, angle as angleType, parseNamedSide, deg} from '../angle';\nimport {CSSImageType, CSSLinearGradientImage, GradientCorner, UnprocessedGradientColorStop} from '../image';\nimport {parseColorStop} from './gradient';\nimport {Context} from '../../../core/context';\n\nexport const linearGradient = (context: Context, tokens: CSSValue[]): CSSLinearGradientImage => {\n    let angle: number | GradientCorner = deg(180);\n    const stops: UnprocessedGradientColorStop[] = [];\n\n    parseFunctionArgs(tokens).forEach((arg, i) => {\n        if (i === 0) {\n            const firstToken = arg[0];\n            if (firstToken.type === TokenType.IDENT_TOKEN && firstToken.value === 'to') {\n                angle = parseNamedSide(arg);\n                return;\n            } else if (isAngle(firstToken)) {\n                angle = angleType.parse(context, firstToken);\n                return;\n            }\n        }\n        const colorStop = parseColorStop(context, arg);\n        stops.push(colorStop);\n    });\n\n    return {angle, stops, type: CSSImageType.LINEAR_GRADIENT};\n};\n","import {CSSValue, parseFunctionArgs} from '../../syntax/parser';\nimport {CSSImageType, CSSLinearGradientImage, GradientCorner, UnprocessedGradientColorStop} from '../image';\nimport {TokenType} from '../../syntax/tokenizer';\nimport {isAngle, angle as angleType, parseNamedSide, deg} from '../angle';\nimport {parseColorStop} from './gradient';\nimport {Context} from '../../../core/context';\n\nexport const prefixLinearGradient = (context: Context, tokens: CSSValue[]): CSSLinearGradientImage => {\n    let angle: number | GradientCorner = deg(180);\n    const stops: UnprocessedGradientColorStop[] = [];\n\n    parseFunctionArgs(tokens).forEach((arg, i) => {\n        if (i === 0) {\n            const firstToken = arg[0];\n            if (\n                firstToken.type === TokenType.IDENT_TOKEN &&\n                ['top', 'left', 'right', 'bottom'].indexOf(firstToken.value) !== -1\n            ) {\n                angle = parseNamedSide(arg);\n                return;\n            } else if (isAngle(firstToken)) {\n                angle = (angleType.parse(context, firstToken) + deg(270)) % deg(360);\n                return;\n            }\n        }\n        const colorStop = parseColorStop(context, arg);\n        stops.push(colorStop);\n    });\n\n    return {\n        angle,\n        stops,\n        type: CSSImageType.LINEAR_GRADIENT\n    };\n};\n","import {CSSValue, isIdentToken, isNumberToken, nonFunctionArgSeparator, parseFunctionArgs} from '../../syntax/parser';\nimport {\n    CSSImageType,\n    CSSLinearGradientImage,\n    CSSRadialExtent,\n    CSSRadialGradientImage,\n    CSSRadialShape,\n    CSSRadialSize,\n    UnprocessedGradientColorStop\n} from '../image';\nimport {deg} from '../angle';\nimport {TokenType} from '../../syntax/tokenizer';\nimport {color as colorType} from '../color';\nimport {HUNDRED_PERCENT, LengthPercentage, ZERO_LENGTH} from '../length-percentage';\nimport {Context} from '../../../core/context';\n\nexport const webkitGradient = (\n    context: Context,\n    tokens: CSSValue[]\n): CSSLinearGradientImage | CSSRadialGradientImage => {\n    const angle = deg(180);\n    const stops: UnprocessedGradientColorStop[] = [];\n    let type = CSSImageType.LINEAR_GRADIENT;\n    const shape: CSSRadialShape = CSSRadialShape.CIRCLE;\n    const size: CSSRadialSize = CSSRadialExtent.FARTHEST_CORNER;\n    const position: LengthPercentage[] = [];\n    parseFunctionArgs(tokens).forEach((arg, i) => {\n        const firstToken = arg[0];\n        if (i === 0) {\n            if (isIdentToken(firstToken) && firstToken.value === 'linear') {\n                type = CSSImageType.LINEAR_GRADIENT;\n                return;\n            } else if (isIdentToken(firstToken) && firstToken.value === 'radial') {\n                type = CSSImageType.RADIAL_GRADIENT;\n                return;\n            }\n        }\n\n        if (firstToken.type === TokenType.FUNCTION) {\n            if (firstToken.name === 'from') {\n                const color = colorType.parse(context, firstToken.values[0]);\n                stops.push({stop: ZERO_LENGTH, color});\n            } else if (firstToken.name === 'to') {\n                const color = colorType.parse(context, firstToken.values[0]);\n                stops.push({stop: HUNDRED_PERCENT, color});\n            } else if (firstToken.name === 'color-stop') {\n                const values = firstToken.values.filter(nonFunctionArgSeparator);\n                if (values.length === 2) {\n                    const color = colorType.parse(context, values[1]);\n                    const stop = values[0];\n                    if (isNumberToken(stop)) {\n                        stops.push({\n                            stop: {type: TokenType.PERCENTAGE_TOKEN, number: stop.number * 100, flags: stop.flags},\n                            color\n                        });\n                    }\n                }\n            }\n        }\n    });\n\n    return type === CSSImageType.LINEAR_GRADIENT\n        ? {\n              angle: (angle + deg(180)) % deg(360),\n              stops,\n              type\n          }\n        : {size, shape, stops, position, type};\n};\n","import {CSSValue, isIdentToken, parseFunctionArgs} from '../../syntax/parser';\nimport {\n    CSSImageType,\n    CSSRadialExtent,\n    CSSRadialGradientImage,\n    CSSRadialShape,\n    CSSRadialSize,\n    UnprocessedGradientColorStop\n} from '../image';\nimport {parseColorStop} from './gradient';\nimport {FIFTY_PERCENT, HUNDRED_PERCENT, isLengthPercentage, LengthPercentage, ZERO_LENGTH} from '../length-percentage';\nimport {isLength} from '../length';\nimport {Context} from '../../../core/context';\nexport const CLOSEST_SIDE = 'closest-side';\nexport const FARTHEST_SIDE = 'farthest-side';\nexport const CLOSEST_CORNER = 'closest-corner';\nexport const FARTHEST_CORNER = 'farthest-corner';\nexport const CIRCLE = 'circle';\nexport const ELLIPSE = 'ellipse';\nexport const COVER = 'cover';\nexport const CONTAIN = 'contain';\n\nexport const radialGradient = (context: Context, tokens: CSSValue[]): CSSRadialGradientImage => {\n    let shape: CSSRadialShape = CSSRadialShape.CIRCLE;\n    let size: CSSRadialSize = CSSRadialExtent.FARTHEST_CORNER;\n    const stops: UnprocessedGradientColorStop[] = [];\n    const position: LengthPercentage[] = [];\n    parseFunctionArgs(tokens).forEach((arg, i) => {\n        let isColorStop = true;\n        if (i === 0) {\n            let isAtPosition = false;\n            isColorStop = arg.reduce((acc, token) => {\n                if (isAtPosition) {\n                    if (isIdentToken(token)) {\n                        switch (token.value) {\n                            case 'center':\n                                position.push(FIFTY_PERCENT);\n                                return acc;\n                            case 'top':\n                            case 'left':\n                                position.push(ZERO_LENGTH);\n                                return acc;\n                            case 'right':\n                            case 'bottom':\n                                position.push(HUNDRED_PERCENT);\n                                return acc;\n                        }\n                    } else if (isLengthPercentage(token) || isLength(token)) {\n                        position.push(token);\n                    }\n                } else if (isIdentToken(token)) {\n                    switch (token.value) {\n                        case CIRCLE:\n                            shape = CSSRadialShape.CIRCLE;\n                            return false;\n                        case ELLIPSE:\n                            shape = CSSRadialShape.ELLIPSE;\n                            return false;\n                        case 'at':\n                            isAtPosition = true;\n                            return false;\n                        case CLOSEST_SIDE:\n                            size = CSSRadialExtent.CLOSEST_SIDE;\n                            return false;\n                        case COVER:\n                        case FARTHEST_SIDE:\n                            size = CSSRadialExtent.FARTHEST_SIDE;\n                            return false;\n                        case CONTAIN:\n                        case CLOSEST_CORNER:\n                            size = CSSRadialExtent.CLOSEST_CORNER;\n                            return false;\n                        case FARTHEST_CORNER:\n                            size = CSSRadialExtent.FARTHEST_CORNER;\n                            return false;\n                    }\n                } else if (isLength(token) || isLengthPercentage(token)) {\n                    if (!Array.isArray(size)) {\n                        size = [];\n                    }\n                    size.push(token);\n                    return false;\n                }\n                return acc;\n            }, isColorStop);\n        }\n\n        if (isColorStop) {\n            const colorStop = parseColorStop(context, arg);\n            stops.push(colorStop);\n        }\n    });\n\n    return {size, shape, stops, position, type: CSSImageType.RADIAL_GRADIENT};\n};\n","import {CSSValue, isIdentToken, parseFunctionArgs} from '../../syntax/parser';\nimport {\n    CSSImageType,\n    CSSRadialExtent,\n    CSSRadialGradientImage,\n    CSSRadialShape,\n    CSSRadialSize,\n    UnprocessedGradientColorStop\n} from '../image';\nimport {parseColorStop} from './gradient';\nimport {FIFTY_PERCENT, HUNDRED_PERCENT, isLengthPercentage, LengthPercentage, ZERO_LENGTH} from '../length-percentage';\nimport {isLength} from '../length';\nimport {\n    CIRCLE,\n    CLOSEST_CORNER,\n    CLOSEST_SIDE,\n    CONTAIN,\n    COVER,\n    ELLIPSE,\n    FARTHEST_CORNER,\n    FARTHEST_SIDE\n} from './radial-gradient';\nimport {Context} from '../../../core/context';\n\nexport const prefixRadialGradient = (context: Context, tokens: CSSValue[]): CSSRadialGradientImage => {\n    let shape: CSSRadialShape = CSSRadialShape.CIRCLE;\n    let size: CSSRadialSize = CSSRadialExtent.FARTHEST_CORNER;\n    const stops: UnprocessedGradientColorStop[] = [];\n    const position: LengthPercentage[] = [];\n\n    parseFunctionArgs(tokens).forEach((arg, i) => {\n        let isColorStop = true;\n        if (i === 0) {\n            isColorStop = arg.reduce((acc, token) => {\n                if (isIdentToken(token)) {\n                    switch (token.value) {\n                        case 'center':\n                            position.push(FIFTY_PERCENT);\n                            return false;\n                        case 'top':\n                        case 'left':\n                            position.push(ZERO_LENGTH);\n                            return false;\n                        case 'right':\n                        case 'bottom':\n                            position.push(HUNDRED_PERCENT);\n                            return false;\n                    }\n                } else if (isLengthPercentage(token) || isLength(token)) {\n                    position.push(token);\n                    return false;\n                }\n\n                return acc;\n            }, isColorStop);\n        } else if (i === 1) {\n            isColorStop = arg.reduce((acc, token) => {\n                if (isIdentToken(token)) {\n                    switch (token.value) {\n                        case CIRCLE:\n                            shape = CSSRadialShape.CIRCLE;\n                            return false;\n                        case ELLIPSE:\n                            shape = CSSRadialShape.ELLIPSE;\n                            return false;\n                        case CONTAIN:\n                        case CLOSEST_SIDE:\n                            size = CSSRadialExtent.CLOSEST_SIDE;\n                            return false;\n                        case FARTHEST_SIDE:\n                            size = CSSRadialExtent.FARTHEST_SIDE;\n                            return false;\n                        case CLOSEST_CORNER:\n                            size = CSSRadialExtent.CLOSEST_CORNER;\n                            return false;\n                        case COVER:\n                        case FARTHEST_CORNER:\n                            size = CSSRadialExtent.FARTHEST_CORNER;\n                            return false;\n                    }\n                } else if (isLength(token) || isLengthPercentage(token)) {\n                    if (!Array.isArray(size)) {\n                        size = [];\n                    }\n                    size.push(token);\n                    return false;\n                }\n\n                return acc;\n            }, isColorStop);\n        }\n\n        if (isColorStop) {\n            const colorStop = parseColorStop(context, arg);\n            stops.push(colorStop);\n        }\n    });\n\n    return {size, shape, stops, position, type: CSSImageType.RADIAL_GRADIENT};\n};\n","import {CSSValue} from '../syntax/parser';\nimport {TokenType} from '../syntax/tokenizer';\nimport {Color} from './color';\nimport {linearGradient} from './functions/linear-gradient';\nimport {prefixLinearGradient} from './functions/-prefix-linear-gradient';\nimport {ITypeDescriptor} from '../ITypeDescriptor';\nimport {LengthPercentage} from './length-percentage';\nimport {webkitGradient} from './functions/-webkit-gradient';\nimport {radialGradient} from './functions/radial-gradient';\nimport {prefixRadialGradient} from './functions/-prefix-radial-gradient';\nimport {Context} from '../../core/context';\n\nexport const enum CSSImageType {\n    URL,\n    LINEAR_GRADIENT,\n    RADIAL_GRADIENT\n}\n\nexport const isLinearGradient = (background: ICSSImage): background is CSSLinearGradientImage => {\n    return background.type === CSSImageType.LINEAR_GRADIENT;\n};\n\nexport const isRadialGradient = (background: ICSSImage): background is CSSRadialGradientImage => {\n    return background.type === CSSImageType.RADIAL_GRADIENT;\n};\n\nexport interface UnprocessedGradientColorStop {\n    color: Color;\n    stop: LengthPercentage | null;\n}\n\nexport interface GradientColorStop {\n    color: Color;\n    stop: number;\n}\n\nexport interface ICSSImage {\n    type: CSSImageType;\n}\n\nexport interface CSSURLImage extends ICSSImage {\n    url: string;\n    type: CSSImageType.URL;\n}\n\n// interface ICSSGeneratedImage extends ICSSImage {}\n\nexport type GradientCorner = [LengthPercentage, LengthPercentage];\n\ninterface ICSSGradientImage extends ICSSImage {\n    stops: UnprocessedGradientColorStop[];\n}\n\nexport interface CSSLinearGradientImage extends ICSSGradientImage {\n    angle: number | GradientCorner;\n    type: CSSImageType.LINEAR_GRADIENT;\n}\n\nexport const enum CSSRadialShape {\n    CIRCLE,\n    ELLIPSE\n}\n\nexport const enum CSSRadialExtent {\n    CLOSEST_SIDE,\n    FARTHEST_SIDE,\n    CLOSEST_CORNER,\n    FARTHEST_CORNER\n}\n\nexport type CSSRadialSize = CSSRadialExtent | LengthPercentage[];\n\nexport interface CSSRadialGradientImage extends ICSSGradientImage {\n    type: CSSImageType.RADIAL_GRADIENT;\n    shape: CSSRadialShape;\n    size: CSSRadialSize;\n    position: LengthPercentage[];\n}\n\nexport const image: ITypeDescriptor<ICSSImage> = {\n    name: 'image',\n    parse: (context: Context, value: CSSValue): ICSSImage => {\n        if (value.type === TokenType.URL_TOKEN) {\n            const image: CSSURLImage = {url: value.value, type: CSSImageType.URL};\n            context.cache.addImage(value.value);\n            return image;\n        }\n\n        if (value.type === TokenType.FUNCTION) {\n            const imageFunction = SUPPORTED_IMAGE_FUNCTIONS[value.name];\n            if (typeof imageFunction === 'undefined') {\n                throw new Error(`Attempting to parse an unsupported image function \"${value.name}\"`);\n            }\n            return imageFunction(context, value.values);\n        }\n\n        throw new Error(`Unsupported image type ${value.type}`);\n    }\n};\n\nexport function isSupportedImage(value: CSSValue): boolean {\n    return (\n        !(value.type === TokenType.IDENT_TOKEN && value.value === 'none') &&\n        (value.type !== TokenType.FUNCTION || !!SUPPORTED_IMAGE_FUNCTIONS[value.name])\n    );\n}\n\nconst SUPPORTED_IMAGE_FUNCTIONS: Record<string, (context: Context, args: CSSValue[]) => ICSSImage> = {\n    'linear-gradient': linearGradient,\n    '-moz-linear-gradient': prefixLinearGradient,\n    '-ms-linear-gradient': prefixLinearGradient,\n    '-o-linear-gradient': prefixLinearGradient,\n    '-webkit-linear-gradient': prefixLinearGradient,\n    'radial-gradient': radialGradient,\n    '-moz-radial-gradient': prefixRadialGradient,\n    '-ms-radial-gradient': prefixRadialGradient,\n    '-o-radial-gradient': prefixRadialGradient,\n    '-webkit-radial-gradient': prefixRadialGradient,\n    '-webkit-gradient': webkitGradient\n};\n","import {TokenType} from '../syntax/tokenizer';\nimport {ICSSImage, image, isSupportedImage} from '../types/image';\nimport {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, nonFunctionArgSeparator} from '../syntax/parser';\nimport {Context} from '../../core/context';\n\nexport const backgroundImage: IPropertyListDescriptor<ICSSImage[]> = {\n    name: 'background-image',\n    initialValue: 'none',\n    type: PropertyDescriptorParsingType.LIST,\n    prefix: false,\n    parse: (context: Context, tokens: CSSValue[]) => {\n        if (tokens.length === 0) {\n            return [];\n        }\n\n        const first = tokens[0];\n\n        if (first.type === TokenType.IDENT_TOKEN && first.value === 'none') {\n            return [];\n        }\n\n        return tokens\n            .filter((value) => nonFunctionArgSeparator(value) && isSupportedImage(value))\n            .map((value) => image.parse(context, value));\n    }\n};\n","import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentToken, parseFunctionArgs} from '../syntax/parser';\nimport {isLengthPercentage, LengthPercentage} from '../types/length-percentage';\nimport {StringValueToken} from '../syntax/tokenizer';\nimport {Context} from '../../core/context';\n\nexport enum BACKGROUND_SIZE {\n    AUTO = 'auto',\n    CONTAIN = 'contain',\n    COVER = 'cover'\n}\n\nexport type BackgroundSizeInfo = LengthPercentage | StringValueToken;\nexport type BackgroundSize = BackgroundSizeInfo[][];\n\nexport const backgroundSize: IPropertyListDescriptor<BackgroundSize> = {\n    name: 'background-size',\n    initialValue: '0',\n    prefix: false,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (_context: Context, tokens: CSSValue[]): BackgroundSize => {\n        return parseFunctionArgs(tokens).map((values) => values.filter(isBackgroundSizeInfoToken));\n    }\n};\n\nconst isBackgroundSizeInfoToken = (value: CSSValue): value is BackgroundSizeInfo =>\n    isIdentToken(value) || isLengthPercentage(value);\n","import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentToken} from '../syntax/parser';\nimport {Context} from '../../core/context';\n\nexport const enum BACKGROUND_ORIGIN {\n    BORDER_BOX = 0,\n    PADDING_BOX = 1,\n    CONTENT_BOX = 2\n}\n\nexport type BackgroundOrigin = BACKGROUND_ORIGIN[];\n\nexport const backgroundOrigin: IPropertyListDescriptor<BackgroundOrigin> = {\n    name: 'background-origin',\n    initialValue: 'border-box',\n    prefix: false,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (_context: Context, tokens: CSSValue[]): BackgroundOrigin => {\n        return tokens.map((token) => {\n            if (isIdentToken(token)) {\n                switch (token.value) {\n                    case 'padding-box':\n                        return BACKGROUND_ORIGIN.PADDING_BOX;\n                    case 'content-box':\n                        return BACKGROUND_ORIGIN.CONTENT_BOX;\n                }\n            }\n            return BACKGROUND_ORIGIN.BORDER_BOX;\n        });\n    }\n};\n","import {PropertyDescriptorParsingType, IPropertyListDescriptor} from '../IPropertyDescriptor';\nimport {CSSValue, parseFunctionArgs} from '../syntax/parser';\nimport {isLengthPercentage, LengthPercentageTuple, parseLengthPercentageTuple} from '../types/length-percentage';\nimport {Context} from '../../core/context';\nexport type BackgroundPosition = BackgroundImagePosition[];\n\nexport type BackgroundImagePosition = LengthPercentageTuple;\n\nexport const backgroundPosition: IPropertyListDescriptor<BackgroundPosition> = {\n    name: 'background-position',\n    initialValue: '0% 0%',\n    type: PropertyDescriptorParsingType.LIST,\n    prefix: false,\n    parse: (_context: Context, tokens: CSSValue[]): BackgroundPosition => {\n        return parseFunctionArgs(tokens)\n            .map((values: CSSValue[]) => values.filter(isLengthPercentage))\n            .map(parseLengthPercentageTuple);\n    }\n};\n","import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentToken, parseFunctionArgs} from '../syntax/parser';\nimport {Context} from '../../core/context';\nexport type BackgroundRepeat = BACKGROUND_REPEAT[];\n\nexport const enum BACKGROUND_REPEAT {\n    REPEAT = 0,\n    NO_REPEAT = 1,\n    REPEAT_X = 2,\n    REPEAT_Y = 3\n}\n\nexport const backgroundRepeat: IPropertyListDescriptor<BackgroundRepeat> = {\n    name: 'background-repeat',\n    initialValue: 'repeat',\n    prefix: false,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (_context: Context, tokens: CSSValue[]): BackgroundRepeat => {\n        return parseFunctionArgs(tokens)\n            .map((values) =>\n                values\n                    .filter(isIdentToken)\n                    .map((token) => token.value)\n                    .join(' ')\n            )\n            .map(parseBackgroundRepeat);\n    }\n};\n\nconst parseBackgroundRepeat = (value: string): BACKGROUND_REPEAT => {\n    switch (value) {\n        case 'no-repeat':\n            return BACKGROUND_REPEAT.NO_REPEAT;\n        case 'repeat-x':\n        case 'repeat no-repeat':\n            return BACKGROUND_REPEAT.REPEAT_X;\n        case 'repeat-y':\n        case 'no-repeat repeat':\n            return BACKGROUND_REPEAT.REPEAT_Y;\n        case 'repeat':\n        default:\n            return BACKGROUND_REPEAT.REPEAT;\n    }\n};\n","import {IPropertyTypeValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nconst borderColorForSide = (side: string): IPropertyTypeValueDescriptor => ({\n    name: `border-${side}-color`,\n    initialValue: 'transparent',\n    prefix: false,\n    type: PropertyDescriptorParsingType.TYPE_VALUE,\n    format: 'color'\n});\n\nexport const borderTopColor: IPropertyTypeValueDescriptor = borderColorForSide('top');\nexport const borderRightColor: IPropertyTypeValueDescriptor = borderColorForSide('right');\nexport const borderBottomColor: IPropertyTypeValueDescriptor = borderColorForSide('bottom');\nexport const borderLeftColor: IPropertyTypeValueDescriptor = borderColorForSide('left');\n","import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue} from '../syntax/parser';\nimport {isLengthPercentage, LengthPercentageTuple, parseLengthPercentageTuple} from '../types/length-percentage';\nimport {Context} from '../../core/context';\nexport type BorderRadius = LengthPercentageTuple;\n\nconst borderRadiusForSide = (side: string): IPropertyListDescriptor<BorderRadius> => ({\n    name: `border-radius-${side}`,\n    initialValue: '0 0',\n    prefix: false,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (_context: Context, tokens: CSSValue[]): BorderRadius =>\n        parseLengthPercentageTuple(tokens.filter(isLengthPercentage))\n});\n\nexport const borderTopLeftRadius: IPropertyListDescriptor<BorderRadius> = borderRadiusForSide('top-left');\nexport const borderTopRightRadius: IPropertyListDescriptor<BorderRadius> = borderRadiusForSide('top-right');\nexport const borderBottomRightRadius: IPropertyListDescriptor<BorderRadius> = borderRadiusForSide('bottom-right');\nexport const borderBottomLeftRadius: IPropertyListDescriptor<BorderRadius> = borderRadiusForSide('bottom-left');\n","import {IPropertyIdentValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {Context} from '../../core/context';\nexport const enum BORDER_STYLE {\n    NONE = 0,\n    SOLID = 1,\n    DASHED = 2,\n    DOTTED = 3,\n    DOUBLE = 4\n}\n\nconst borderStyleForSide = (side: string): IPropertyIdentValueDescriptor<BORDER_STYLE> => ({\n    name: `border-${side}-style`,\n    initialValue: 'solid',\n    prefix: false,\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\n    parse: (_context: Context, style: string): BORDER_STYLE => {\n        switch (style) {\n            case 'none':\n                return BORDER_STYLE.NONE;\n            case 'dashed':\n                return BORDER_STYLE.DASHED;\n            case 'dotted':\n                return BORDER_STYLE.DOTTED;\n            case 'double':\n                return BORDER_STYLE.DOUBLE;\n        }\n        return BORDER_STYLE.SOLID;\n    }\n});\n\nexport const borderTopStyle: IPropertyIdentValueDescriptor<BORDER_STYLE> = borderStyleForSide('top');\nexport const borderRightStyle: IPropertyIdentValueDescriptor<BORDER_STYLE> = borderStyleForSide('right');\nexport const borderBottomStyle: IPropertyIdentValueDescriptor<BORDER_STYLE> = borderStyleForSide('bottom');\nexport const borderLeftStyle: IPropertyIdentValueDescriptor<BORDER_STYLE> = borderStyleForSide('left');\n","import {IPropertyValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isDimensionToken} from '../syntax/parser';\nimport {Context} from '../../core/context';\nconst borderWidthForSide = (side: string): IPropertyValueDescriptor<number> => ({\n    name: `border-${side}-width`,\n    initialValue: '0',\n    type: PropertyDescriptorParsingType.VALUE,\n    prefix: false,\n    parse: (_context: Context, token: CSSValue): number => {\n        if (isDimensionToken(token)) {\n            return token.number;\n        }\n        return 0;\n    }\n});\n\nexport const borderTopWidth: IPropertyValueDescriptor<number> = borderWidthForSide('top');\nexport const borderRightWidth: IPropertyValueDescriptor<number> = borderWidthForSide('right');\nexport const borderBottomWidth: IPropertyValueDescriptor<number> = borderWidthForSide('bottom');\nexport const borderLeftWidth: IPropertyValueDescriptor<number> = borderWidthForSide('left');\n","import {IPropertyTypeValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\n\nexport const color: IPropertyTypeValueDescriptor = {\n    name: `color`,\n    initialValue: 'transparent',\n    prefix: false,\n    type: PropertyDescriptorParsingType.TYPE_VALUE,\n    format: 'color'\n};\n","import {IPropertyIdentValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {Context} from '../../core/context';\n\nexport const enum DIRECTION {\n    LTR = 0,\n    RTL = 1\n}\n\nexport const direction: IPropertyIdentValueDescriptor<DIRECTION> = {\n    name: 'direction',\n    initialValue: 'ltr',\n    prefix: false,\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\n    parse: (_context: Context, direction: string) => {\n        switch (direction) {\n            case 'rtl':\n                return DIRECTION.RTL;\n            case 'ltr':\n            default:\n                return DIRECTION.LTR;\n        }\n    }\n};\n","import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentToken} from '../syntax/parser';\nimport {Context} from '../../core/context';\nexport const enum DISPLAY {\n    NONE = 0,\n    BLOCK = 1 << 1,\n    INLINE = 1 << 2,\n    RUN_IN = 1 << 3,\n    FLOW = 1 << 4,\n    FLOW_ROOT = 1 << 5,\n    TABLE = 1 << 6,\n    FLEX = 1 << 7,\n    GRID = 1 << 8,\n    RUBY = 1 << 9,\n    SUBGRID = 1 << 10,\n    LIST_ITEM = 1 << 11,\n    TABLE_ROW_GROUP = 1 << 12,\n    TABLE_HEADER_GROUP = 1 << 13,\n    TABLE_FOOTER_GROUP = 1 << 14,\n    TABLE_ROW = 1 << 15,\n    TABLE_CELL = 1 << 16,\n    TABLE_COLUMN_GROUP = 1 << 17,\n    TABLE_COLUMN = 1 << 18,\n    TABLE_CAPTION = 1 << 19,\n    RUBY_BASE = 1 << 20,\n    RUBY_TEXT = 1 << 21,\n    RUBY_BASE_CONTAINER = 1 << 22,\n    RUBY_TEXT_CONTAINER = 1 << 23,\n    CONTENTS = 1 << 24,\n    INLINE_BLOCK = 1 << 25,\n    INLINE_LIST_ITEM = 1 << 26,\n    INLINE_TABLE = 1 << 27,\n    INLINE_FLEX = 1 << 28,\n    INLINE_GRID = 1 << 29\n}\n\nexport type Display = number;\n\nexport const display: IPropertyListDescriptor<Display> = {\n    name: 'display',\n    initialValue: 'inline-block',\n    prefix: false,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (_context: Context, tokens: CSSValue[]): Display => {\n        return tokens.filter(isIdentToken).reduce((bit, token) => {\n            return bit | parseDisplayValue(token.value);\n        }, DISPLAY.NONE);\n    }\n};\n\nconst parseDisplayValue = (display: string): Display => {\n    switch (display) {\n        case 'block':\n        case '-webkit-box':\n            return DISPLAY.BLOCK;\n        case 'inline':\n            return DISPLAY.INLINE;\n        case 'run-in':\n            return DISPLAY.RUN_IN;\n        case 'flow':\n            return DISPLAY.FLOW;\n        case 'flow-root':\n            return DISPLAY.FLOW_ROOT;\n        case 'table':\n            return DISPLAY.TABLE;\n        case 'flex':\n        case '-webkit-flex':\n            return DISPLAY.FLEX;\n        case 'grid':\n        case '-ms-grid':\n            return DISPLAY.GRID;\n        case 'ruby':\n            return DISPLAY.RUBY;\n        case 'subgrid':\n            return DISPLAY.SUBGRID;\n        case 'list-item':\n            return DISPLAY.LIST_ITEM;\n        case 'table-row-group':\n            return DISPLAY.TABLE_ROW_GROUP;\n        case 'table-header-group':\n            return DISPLAY.TABLE_HEADER_GROUP;\n        case 'table-footer-group':\n            return DISPLAY.TABLE_FOOTER_GROUP;\n        case 'table-row':\n            return DISPLAY.TABLE_ROW;\n        case 'table-cell':\n            return DISPLAY.TABLE_CELL;\n        case 'table-column-group':\n            return DISPLAY.TABLE_COLUMN_GROUP;\n        case 'table-column':\n            return DISPLAY.TABLE_COLUMN;\n        case 'table-caption':\n            return DISPLAY.TABLE_CAPTION;\n        case 'ruby-base':\n            return DISPLAY.RUBY_BASE;\n        case 'ruby-text':\n            return DISPLAY.RUBY_TEXT;\n        case 'ruby-base-container':\n            return DISPLAY.RUBY_BASE_CONTAINER;\n        case 'ruby-text-container':\n            return DISPLAY.RUBY_TEXT_CONTAINER;\n        case 'contents':\n            return DISPLAY.CONTENTS;\n        case 'inline-block':\n            return DISPLAY.INLINE_BLOCK;\n        case 'inline-list-item':\n            return DISPLAY.INLINE_LIST_ITEM;\n        case 'inline-table':\n            return DISPLAY.INLINE_TABLE;\n        case 'inline-flex':\n            return DISPLAY.INLINE_FLEX;\n        case 'inline-grid':\n            return DISPLAY.INLINE_GRID;\n    }\n\n    return DISPLAY.NONE;\n};\n","import {IPropertyIdentValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {Context} from '../../core/context';\nexport const enum FLOAT {\n    NONE = 0,\n    LEFT = 1,\n    RIGHT = 2,\n    INLINE_START = 3,\n    INLINE_END = 4\n}\n\nexport const float: IPropertyIdentValueDescriptor<FLOAT> = {\n    name: 'float',\n    initialValue: 'none',\n    prefix: false,\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\n    parse: (_context: Context, float: string) => {\n        switch (float) {\n            case 'left':\n                return FLOAT.LEFT;\n            case 'right':\n                return FLOAT.RIGHT;\n            case 'inline-start':\n                return FLOAT.INLINE_START;\n            case 'inline-end':\n                return FLOAT.INLINE_END;\n        }\n        return FLOAT.NONE;\n    }\n};\n","import {IPropertyValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue} from '../syntax/parser';\nimport {TokenType} from '../syntax/tokenizer';\nimport {Context} from '../../core/context';\nexport const letterSpacing: IPropertyValueDescriptor<number> = {\n    name: 'letter-spacing',\n    initialValue: '0',\n    prefix: false,\n    type: PropertyDescriptorParsingType.VALUE,\n    parse: (_context: Context, token: CSSValue) => {\n        if (token.type === TokenType.IDENT_TOKEN && token.value === 'normal') {\n            return 0;\n        }\n\n        if (token.type === TokenType.NUMBER_TOKEN) {\n            return token.number;\n        }\n\n        if (token.type === TokenType.DIMENSION_TOKEN) {\n            return token.number;\n        }\n\n        return 0;\n    }\n};\n","import {IPropertyIdentValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {Context} from '../../core/context';\nexport enum LINE_BREAK {\n    NORMAL = 'normal',\n    STRICT = 'strict'\n}\n\nexport const lineBreak: IPropertyIdentValueDescriptor<LINE_BREAK> = {\n    name: 'line-break',\n    initialValue: 'normal',\n    prefix: false,\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\n    parse: (_context: Context, lineBreak: string): LINE_BREAK => {\n        switch (lineBreak) {\n            case 'strict':\n                return LINE_BREAK.STRICT;\n            case 'normal':\n            default:\n                return LINE_BREAK.NORMAL;\n        }\n    }\n};\n","import {IPropertyTokenValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentToken} from '../syntax/parser';\nimport {TokenType} from '../syntax/tokenizer';\nimport {getAbsoluteValue, isLengthPercentage} from '../types/length-percentage';\nexport const lineHeight: IPropertyTokenValueDescriptor = {\n    name: 'line-height',\n    initialValue: 'normal',\n    prefix: false,\n    type: PropertyDescriptorParsingType.TOKEN_VALUE\n};\n\nexport const computeLineHeight = (token: CSSValue, fontSize: number): number => {\n    if (isIdentToken(token) && token.value === 'normal') {\n        return 1.2 * fontSize;\n    } else if (token.type === TokenType.NUMBER_TOKEN) {\n        return fontSize * token.number;\n    } else if (isLengthPercentage(token)) {\n        return getAbsoluteValue(token, fontSize);\n    }\n\n    return fontSize;\n};\n","import {TokenType} from '../syntax/tokenizer';\nimport {ICSSImage, image} from '../types/image';\nimport {IPropertyValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue} from '../syntax/parser';\nimport {Context} from '../../core/context';\n\nexport const listStyleImage: IPropertyValueDescriptor<ICSSImage | null> = {\n    name: 'list-style-image',\n    initialValue: 'none',\n    type: PropertyDescriptorParsingType.VALUE,\n    prefix: false,\n    parse: (context: Context, token: CSSValue) => {\n        if (token.type === TokenType.IDENT_TOKEN && token.value === 'none') {\n            return null;\n        }\n\n        return image.parse(context, token);\n    }\n};\n","import {IPropertyIdentValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {Context} from '../../core/context';\nexport const enum LIST_STYLE_POSITION {\n    INSIDE = 0,\n    OUTSIDE = 1\n}\n\nexport const listStylePosition: IPropertyIdentValueDescriptor<LIST_STYLE_POSITION> = {\n    name: 'list-style-position',\n    initialValue: 'outside',\n    prefix: false,\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\n    parse: (_context: Context, position: string) => {\n        switch (position) {\n            case 'inside':\n                return LIST_STYLE_POSITION.INSIDE;\n            case 'outside':\n            default:\n                return LIST_STYLE_POSITION.OUTSIDE;\n        }\n    }\n};\n","import {IPropertyIdentValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {Context} from '../../core/context';\nexport const enum LIST_STYLE_TYPE {\n    NONE = -1,\n    DISC = 0,\n    CIRCLE = 1,\n    SQUARE = 2,\n    DECIMAL = 3,\n    CJK_DECIMAL = 4,\n    DECIMAL_LEADING_ZERO = 5,\n    LOWER_ROMAN = 6,\n    UPPER_ROMAN = 7,\n    LOWER_GREEK = 8,\n    LOWER_ALPHA = 9,\n    UPPER_ALPHA = 10,\n    ARABIC_INDIC = 11,\n    ARMENIAN = 12,\n    BENGALI = 13,\n    CAMBODIAN = 14,\n    CJK_EARTHLY_BRANCH = 15,\n    CJK_HEAVENLY_STEM = 16,\n    CJK_IDEOGRAPHIC = 17,\n    DEVANAGARI = 18,\n    ETHIOPIC_NUMERIC = 19,\n    GEORGIAN = 20,\n    GUJARATI = 21,\n    GURMUKHI = 22,\n    HEBREW = 22,\n    HIRAGANA = 23,\n    HIRAGANA_IROHA = 24,\n    JAPANESE_FORMAL = 25,\n    JAPANESE_INFORMAL = 26,\n    KANNADA = 27,\n    KATAKANA = 28,\n    KATAKANA_IROHA = 29,\n    KHMER = 30,\n    KOREAN_HANGUL_FORMAL = 31,\n    KOREAN_HANJA_FORMAL = 32,\n    KOREAN_HANJA_INFORMAL = 33,\n    LAO = 34,\n    LOWER_ARMENIAN = 35,\n    MALAYALAM = 36,\n    MONGOLIAN = 37,\n    MYANMAR = 38,\n    ORIYA = 39,\n    PERSIAN = 40,\n    SIMP_CHINESE_FORMAL = 41,\n    SIMP_CHINESE_INFORMAL = 42,\n    TAMIL = 43,\n    TELUGU = 44,\n    THAI = 45,\n    TIBETAN = 46,\n    TRAD_CHINESE_FORMAL = 47,\n    TRAD_CHINESE_INFORMAL = 48,\n    UPPER_ARMENIAN = 49,\n    DISCLOSURE_OPEN = 50,\n    DISCLOSURE_CLOSED = 51\n}\n\nexport const listStyleType: IPropertyIdentValueDescriptor<LIST_STYLE_TYPE> = {\n    name: 'list-style-type',\n    initialValue: 'none',\n    prefix: false,\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\n    parse: (_context: Context, type: string) => {\n        switch (type) {\n            case 'disc':\n                return LIST_STYLE_TYPE.DISC;\n            case 'circle':\n                return LIST_STYLE_TYPE.CIRCLE;\n            case 'square':\n                return LIST_STYLE_TYPE.SQUARE;\n            case 'decimal':\n                return LIST_STYLE_TYPE.DECIMAL;\n            case 'cjk-decimal':\n                return LIST_STYLE_TYPE.CJK_DECIMAL;\n            case 'decimal-leading-zero':\n                return LIST_STYLE_TYPE.DECIMAL_LEADING_ZERO;\n            case 'lower-roman':\n                return LIST_STYLE_TYPE.LOWER_ROMAN;\n            case 'upper-roman':\n                return LIST_STYLE_TYPE.UPPER_ROMAN;\n            case 'lower-greek':\n                return LIST_STYLE_TYPE.LOWER_GREEK;\n            case 'lower-alpha':\n                return LIST_STYLE_TYPE.LOWER_ALPHA;\n            case 'upper-alpha':\n                return LIST_STYLE_TYPE.UPPER_ALPHA;\n            case 'arabic-indic':\n                return LIST_STYLE_TYPE.ARABIC_INDIC;\n            case 'armenian':\n                return LIST_STYLE_TYPE.ARMENIAN;\n            case 'bengali':\n                return LIST_STYLE_TYPE.BENGALI;\n            case 'cambodian':\n                return LIST_STYLE_TYPE.CAMBODIAN;\n            case 'cjk-earthly-branch':\n                return LIST_STYLE_TYPE.CJK_EARTHLY_BRANCH;\n            case 'cjk-heavenly-stem':\n                return LIST_STYLE_TYPE.CJK_HEAVENLY_STEM;\n            case 'cjk-ideographic':\n                return LIST_STYLE_TYPE.CJK_IDEOGRAPHIC;\n            case 'devanagari':\n                return LIST_STYLE_TYPE.DEVANAGARI;\n            case 'ethiopic-numeric':\n                return LIST_STYLE_TYPE.ETHIOPIC_NUMERIC;\n            case 'georgian':\n                return LIST_STYLE_TYPE.GEORGIAN;\n            case 'gujarati':\n                return LIST_STYLE_TYPE.GUJARATI;\n            case 'gurmukhi':\n                return LIST_STYLE_TYPE.GURMUKHI;\n            case 'hebrew':\n                return LIST_STYLE_TYPE.HEBREW;\n            case 'hiragana':\n                return LIST_STYLE_TYPE.HIRAGANA;\n            case 'hiragana-iroha':\n                return LIST_STYLE_TYPE.HIRAGANA_IROHA;\n            case 'japanese-formal':\n                return LIST_STYLE_TYPE.JAPANESE_FORMAL;\n            case 'japanese-informal':\n                return LIST_STYLE_TYPE.JAPANESE_INFORMAL;\n            case 'kannada':\n                return LIST_STYLE_TYPE.KANNADA;\n            case 'katakana':\n                return LIST_STYLE_TYPE.KATAKANA;\n            case 'katakana-iroha':\n                return LIST_STYLE_TYPE.KATAKANA_IROHA;\n            case 'khmer':\n                return LIST_STYLE_TYPE.KHMER;\n            case 'korean-hangul-formal':\n                return LIST_STYLE_TYPE.KOREAN_HANGUL_FORMAL;\n            case 'korean-hanja-formal':\n                return LIST_STYLE_TYPE.KOREAN_HANJA_FORMAL;\n            case 'korean-hanja-informal':\n                return LIST_STYLE_TYPE.KOREAN_HANJA_INFORMAL;\n            case 'lao':\n                return LIST_STYLE_TYPE.LAO;\n            case 'lower-armenian':\n                return LIST_STYLE_TYPE.LOWER_ARMENIAN;\n            case 'malayalam':\n                return LIST_STYLE_TYPE.MALAYALAM;\n            case 'mongolian':\n                return LIST_STYLE_TYPE.MONGOLIAN;\n            case 'myanmar':\n                return LIST_STYLE_TYPE.MYANMAR;\n            case 'oriya':\n                return LIST_STYLE_TYPE.ORIYA;\n            case 'persian':\n                return LIST_STYLE_TYPE.PERSIAN;\n            case 'simp-chinese-formal':\n                return LIST_STYLE_TYPE.SIMP_CHINESE_FORMAL;\n            case 'simp-chinese-informal':\n                return LIST_STYLE_TYPE.SIMP_CHINESE_INFORMAL;\n            case 'tamil':\n                return LIST_STYLE_TYPE.TAMIL;\n            case 'telugu':\n                return LIST_STYLE_TYPE.TELUGU;\n            case 'thai':\n                return LIST_STYLE_TYPE.THAI;\n            case 'tibetan':\n                return LIST_STYLE_TYPE.TIBETAN;\n            case 'trad-chinese-formal':\n                return LIST_STYLE_TYPE.TRAD_CHINESE_FORMAL;\n            case 'trad-chinese-informal':\n                return LIST_STYLE_TYPE.TRAD_CHINESE_INFORMAL;\n            case 'upper-armenian':\n                return LIST_STYLE_TYPE.UPPER_ARMENIAN;\n            case 'disclosure-open':\n                return LIST_STYLE_TYPE.DISCLOSURE_OPEN;\n            case 'disclosure-closed':\n                return LIST_STYLE_TYPE.DISCLOSURE_CLOSED;\n            case 'none':\n            default:\n                return LIST_STYLE_TYPE.NONE;\n        }\n    }\n};\n","import {IPropertyTokenValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\n\nconst marginForSide = (side: string): IPropertyTokenValueDescriptor => ({\n    name: `margin-${side}`,\n    initialValue: '0',\n    prefix: false,\n    type: PropertyDescriptorParsingType.TOKEN_VALUE\n});\n\nexport const marginTop: IPropertyTokenValueDescriptor = marginForSide('top');\nexport const marginRight: IPropertyTokenValueDescriptor = marginForSide('right');\nexport const marginBottom: IPropertyTokenValueDescriptor = marginForSide('bottom');\nexport const marginLeft: IPropertyTokenValueDescriptor = marginForSide('left');\n","import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentToken} from '../syntax/parser';\nimport {Context} from '../../core/context';\nexport const enum OVERFLOW {\n    VISIBLE = 0,\n    HIDDEN = 1,\n    SCROLL = 2,\n    CLIP = 3,\n    AUTO = 4\n}\n\nexport const overflow: IPropertyListDescriptor<OVERFLOW[]> = {\n    name: 'overflow',\n    initialValue: 'visible',\n    prefix: false,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (_context: Context, tokens: CSSValue[]): OVERFLOW[] => {\n        return tokens.filter(isIdentToken).map((overflow) => {\n            switch (overflow.value) {\n                case 'hidden':\n                    return OVERFLOW.HIDDEN;\n                case 'scroll':\n                    return OVERFLOW.SCROLL;\n                case 'clip':\n                    return OVERFLOW.CLIP;\n                case 'auto':\n                    return OVERFLOW.AUTO;\n                case 'visible':\n                default:\n                    return OVERFLOW.VISIBLE;\n            }\n        });\n    }\n};\n","import {IPropertyIdentValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {Context} from '../../core/context';\nexport const enum OVERFLOW_WRAP {\n    NORMAL = 'normal',\n    BREAK_WORD = 'break-word'\n}\n\nexport const overflowWrap: IPropertyIdentValueDescriptor<OVERFLOW_WRAP> = {\n    name: 'overflow-wrap',\n    initialValue: 'normal',\n    prefix: false,\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\n    parse: (_context: Context, overflow: string) => {\n        switch (overflow) {\n            case 'break-word':\n                return OVERFLOW_WRAP.BREAK_WORD;\n            case 'normal':\n            default:\n                return OVERFLOW_WRAP.NORMAL;\n        }\n    }\n};\n","import {IPropertyTypeValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\n\nconst paddingForSide = (side: string): IPropertyTypeValueDescriptor => ({\n    name: `padding-${side}`,\n    initialValue: '0',\n    prefix: false,\n    type: PropertyDescriptorParsingType.TYPE_VALUE,\n    format: 'length-percentage'\n});\n\nexport const paddingTop: IPropertyTypeValueDescriptor = paddingForSide('top');\nexport const paddingRight: IPropertyTypeValueDescriptor = paddingForSide('right');\nexport const paddingBottom: IPropertyTypeValueDescriptor = paddingForSide('bottom');\nexport const paddingLeft: IPropertyTypeValueDescriptor = paddingForSide('left');\n","import {IPropertyIdentValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {Context} from '../../core/context';\nexport const enum TEXT_ALIGN {\n    LEFT = 0,\n    CENTER = 1,\n    RIGHT = 2\n}\n\nexport const textAlign: IPropertyIdentValueDescriptor<TEXT_ALIGN> = {\n    name: 'text-align',\n    initialValue: 'left',\n    prefix: false,\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\n    parse: (_context: Context, textAlign: string) => {\n        switch (textAlign) {\n            case 'right':\n                return TEXT_ALIGN.RIGHT;\n            case 'center':\n            case 'justify':\n                return TEXT_ALIGN.CENTER;\n            case 'left':\n            default:\n                return TEXT_ALIGN.LEFT;\n        }\n    }\n};\n","import {IPropertyIdentValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {Context} from '../../core/context';\nexport const enum POSITION {\n    STATIC = 0,\n    RELATIVE = 1,\n    ABSOLUTE = 2,\n    FIXED = 3,\n    STICKY = 4\n}\n\nexport const position: IPropertyIdentValueDescriptor<POSITION> = {\n    name: 'position',\n    initialValue: 'static',\n    prefix: false,\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\n    parse: (_context: Context, position: string) => {\n        switch (position) {\n            case 'relative':\n                return POSITION.RELATIVE;\n            case 'absolute':\n                return POSITION.ABSOLUTE;\n            case 'fixed':\n                return POSITION.FIXED;\n            case 'sticky':\n                return POSITION.STICKY;\n        }\n\n        return POSITION.STATIC;\n    }\n};\n","import {PropertyDescriptorParsingType, IPropertyListDescriptor} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentWithValue, parseFunctionArgs} from '../syntax/parser';\nimport {ZERO_LENGTH} from '../types/length-percentage';\nimport {color, Color, COLORS} from '../types/color';\nimport {isLength, Length} from '../types/length';\nimport {Context} from '../../core/context';\n\nexport type TextShadow = TextShadowItem[];\ninterface TextShadowItem {\n    color: Color;\n    offsetX: Length;\n    offsetY: Length;\n    blur: Length;\n}\n\nexport const textShadow: IPropertyListDescriptor<TextShadow> = {\n    name: 'text-shadow',\n    initialValue: 'none',\n    type: PropertyDescriptorParsingType.LIST,\n    prefix: false,\n    parse: (context: Context, tokens: CSSValue[]): TextShadow => {\n        if (tokens.length === 1 && isIdentWithValue(tokens[0], 'none')) {\n            return [];\n        }\n\n        return parseFunctionArgs(tokens).map((values: CSSValue[]) => {\n            const shadow: TextShadowItem = {\n                color: COLORS.TRANSPARENT,\n                offsetX: ZERO_LENGTH,\n                offsetY: ZERO_LENGTH,\n                blur: ZERO_LENGTH\n            };\n            let c = 0;\n            for (let i = 0; i < values.length; i++) {\n                const token = values[i];\n                if (isLength(token)) {\n                    if (c === 0) {\n                        shadow.offsetX = token;\n                    } else if (c === 1) {\n                        shadow.offsetY = token;\n                    } else {\n                        shadow.blur = token;\n                    }\n                    c++;\n                } else {\n                    shadow.color = color.parse(context, token);\n                }\n            }\n            return shadow;\n        });\n    }\n};\n","import {IPropertyIdentValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {Context} from '../../core/context';\nexport const enum TEXT_TRANSFORM {\n    NONE = 0,\n    LOWERCASE = 1,\n    UPPERCASE = 2,\n    CAPITALIZE = 3\n}\n\nexport const textTransform: IPropertyIdentValueDescriptor<TEXT_TRANSFORM> = {\n    name: 'text-transform',\n    initialValue: 'none',\n    prefix: false,\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\n    parse: (_context: Context, textTransform: string) => {\n        switch (textTransform) {\n            case 'uppercase':\n                return TEXT_TRANSFORM.UPPERCASE;\n            case 'lowercase':\n                return TEXT_TRANSFORM.LOWERCASE;\n            case 'capitalize':\n                return TEXT_TRANSFORM.CAPITALIZE;\n        }\n\n        return TEXT_TRANSFORM.NONE;\n    }\n};\n","import {IPropertyValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue} from '../syntax/parser';\nimport {NumberValueToken, TokenType} from '../syntax/tokenizer';\nimport {Context} from '../../core/context';\nexport type Matrix = [number, number, number, number, number, number];\nexport type Transform = Matrix | null;\n\nexport const transform: IPropertyValueDescriptor<Transform> = {\n    name: 'transform',\n    initialValue: 'none',\n    prefix: true,\n    type: PropertyDescriptorParsingType.VALUE,\n    parse: (_context: Context, token: CSSValue) => {\n        if (token.type === TokenType.IDENT_TOKEN && token.value === 'none') {\n            return null;\n        }\n\n        if (token.type === TokenType.FUNCTION) {\n            const transformFunction = SUPPORTED_TRANSFORM_FUNCTIONS[token.name];\n            if (typeof transformFunction === 'undefined') {\n                throw new Error(`Attempting to parse an unsupported transform function \"${token.name}\"`);\n            }\n            return transformFunction(token.values);\n        }\n\n        return null;\n    }\n};\n\nconst matrix = (args: CSSValue[]): Transform => {\n    const values = args.filter((arg) => arg.type === TokenType.NUMBER_TOKEN).map((arg: NumberValueToken) => arg.number);\n\n    return values.length === 6 ? (values as Matrix) : null;\n};\n\n// doesn't support 3D transforms at the moment\nconst matrix3d = (args: CSSValue[]): Transform => {\n    const values = args.filter((arg) => arg.type === TokenType.NUMBER_TOKEN).map((arg: NumberValueToken) => arg.number);\n\n    const [a1, b1, {}, {}, a2, b2, {}, {}, {}, {}, {}, {}, a4, b4, {}, {}] = values;\n\n    return values.length === 16 ? [a1, b1, a2, b2, a4, b4] : null;\n};\n\nconst SUPPORTED_TRANSFORM_FUNCTIONS: {\n    [key: string]: (args: CSSValue[]) => Transform;\n} = {\n    matrix: matrix,\n    matrix3d: matrix3d\n};\n","import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue} from '../syntax/parser';\nimport {isLengthPercentage, LengthPercentage} from '../types/length-percentage';\nimport {FLAG_INTEGER, TokenType} from '../syntax/tokenizer';\nimport {Context} from '../../core/context';\nexport type TransformOrigin = [LengthPercentage, LengthPercentage];\n\nconst DEFAULT_VALUE: LengthPercentage = {\n    type: TokenType.PERCENTAGE_TOKEN,\n    number: 50,\n    flags: FLAG_INTEGER\n};\nconst DEFAULT: TransformOrigin = [DEFAULT_VALUE, DEFAULT_VALUE];\n\nexport const transformOrigin: IPropertyListDescriptor<TransformOrigin> = {\n    name: 'transform-origin',\n    initialValue: '50% 50%',\n    prefix: true,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (_context: Context, tokens: CSSValue[]) => {\n        const origins: LengthPercentage[] = tokens.filter(isLengthPercentage);\n\n        if (origins.length !== 2) {\n            return DEFAULT;\n        }\n\n        return [origins[0], origins[1]];\n    }\n};\n","import {IPropertyIdentValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {Context} from '../../core/context';\nexport const enum VISIBILITY {\n    VISIBLE = 0,\n    HIDDEN = 1,\n    COLLAPSE = 2\n}\n\nexport const visibility: IPropertyIdentValueDescriptor<VISIBILITY> = {\n    name: 'visible',\n    initialValue: 'none',\n    prefix: false,\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\n    parse: (_context: Context, visibility: string) => {\n        switch (visibility) {\n            case 'hidden':\n                return VISIBILITY.HIDDEN;\n            case 'collapse':\n                return VISIBILITY.COLLAPSE;\n            case 'visible':\n            default:\n                return VISIBILITY.VISIBLE;\n        }\n    }\n};\n","import {IPropertyIdentValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {Context} from '../../core/context';\nexport enum WORD_BREAK {\n    NORMAL = 'normal',\n    BREAK_ALL = 'break-all',\n    KEEP_ALL = 'keep-all'\n}\n\nexport const wordBreak: IPropertyIdentValueDescriptor<WORD_BREAK> = {\n    name: 'word-break',\n    initialValue: 'normal',\n    prefix: false,\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\n    parse: (_context: Context, wordBreak: string): WORD_BREAK => {\n        switch (wordBreak) {\n            case 'break-all':\n                return WORD_BREAK.BREAK_ALL;\n            case 'keep-all':\n                return WORD_BREAK.KEEP_ALL;\n            case 'normal':\n            default:\n                return WORD_BREAK.NORMAL;\n        }\n    }\n};\n","import {IPropertyValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isNumberToken} from '../syntax/parser';\nimport {TokenType} from '../syntax/tokenizer';\nimport {Context} from '../../core/context';\n\ninterface zIndex {\n    order: number;\n    auto: boolean;\n}\n\nexport const zIndex: IPropertyValueDescriptor<zIndex> = {\n    name: 'z-index',\n    initialValue: 'auto',\n    prefix: false,\n    type: PropertyDescriptorParsingType.VALUE,\n    parse: (_context: Context, token: CSSValue): zIndex => {\n        if (token.type === TokenType.IDENT_TOKEN) {\n            return {auto: true, order: 0};\n        }\n\n        if (isNumberToken(token)) {\n            return {auto: false, order: token.number};\n        }\n\n        throw new Error(`Invalid z-index number parsed`);\n    }\n};\n","import {CSSValue} from '../syntax/parser';\nimport {TokenType} from '../syntax/tokenizer';\nimport {ITypeDescriptor} from '../ITypeDescriptor';\nimport {Context} from '../../core/context';\n\nexport const time: ITypeDescriptor<number> = {\n    name: 'time',\n    parse: (_context: Context, value: CSSValue): number => {\n        if (value.type === TokenType.DIMENSION_TOKEN) {\n            switch (value.unit.toLowerCase()) {\n                case 's':\n                    return 1000 * value.number;\n                case 'ms':\n                    return value.number;\n            }\n        }\n\n        throw new Error(`Unsupported time type`);\n    }\n};\n","import {IPropertyValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isNumberToken} from '../syntax/parser';\nimport {Context} from '../../core/context';\nexport const opacity: IPropertyValueDescriptor<number> = {\n    name: 'opacity',\n    initialValue: '1',\n    type: PropertyDescriptorParsingType.VALUE,\n    prefix: false,\n    parse: (_context: Context, token: CSSValue): number => {\n        if (isNumberToken(token)) {\n            return token.number;\n        }\n        return 1;\n    }\n};\n","import {IPropertyTypeValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\n\nexport const textDecorationColor: IPropertyTypeValueDescriptor = {\n    name: `text-decoration-color`,\n    initialValue: 'transparent',\n    prefix: false,\n    type: PropertyDescriptorParsingType.TYPE_VALUE,\n    format: 'color'\n};\n","import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentToken} from '../syntax/parser';\nimport {Context} from '../../core/context';\n\nexport const enum TEXT_DECORATION_LINE {\n    NONE = 0,\n    UNDERLINE = 1,\n    OVERLINE = 2,\n    LINE_THROUGH = 3,\n    BLINK = 4\n}\n\nexport type TextDecorationLine = TEXT_DECORATION_LINE[];\n\nexport const textDecorationLine: IPropertyListDescriptor<TextDecorationLine> = {\n    name: 'text-decoration-line',\n    initialValue: 'none',\n    prefix: false,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (_context: Context, tokens: CSSValue[]): TextDecorationLine => {\n        return tokens\n            .filter(isIdentToken)\n            .map((token) => {\n                switch (token.value) {\n                    case 'underline':\n                        return TEXT_DECORATION_LINE.UNDERLINE;\n                    case 'overline':\n                        return TEXT_DECORATION_LINE.OVERLINE;\n                    case 'line-through':\n                        return TEXT_DECORATION_LINE.LINE_THROUGH;\n                    case 'none':\n                        return TEXT_DECORATION_LINE.BLINK;\n                }\n                return TEXT_DECORATION_LINE.NONE;\n            })\n            .filter((line) => line !== TEXT_DECORATION_LINE.NONE);\n    }\n};\n","import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue} from '../syntax/parser';\nimport {TokenType} from '../syntax/tokenizer';\nimport {Context} from '../../core/context';\n\nexport type FONT_FAMILY = string;\n\nexport type FontFamily = FONT_FAMILY[];\n\nexport const fontFamily: IPropertyListDescriptor<FontFamily> = {\n    name: `font-family`,\n    initialValue: '',\n    prefix: false,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (_context: Context, tokens: CSSValue[]) => {\n        const accumulator: string[] = [];\n        const results: string[] = [];\n        tokens.forEach((token) => {\n            switch (token.type) {\n                case TokenType.IDENT_TOKEN:\n                case TokenType.STRING_TOKEN:\n                    accumulator.push(token.value);\n                    break;\n                case TokenType.NUMBER_TOKEN:\n                    accumulator.push(token.number.toString());\n                    break;\n                case TokenType.COMMA_TOKEN:\n                    results.push(accumulator.join(' '));\n                    accumulator.length = 0;\n                    break;\n            }\n        });\n        if (accumulator.length) {\n            results.push(accumulator.join(' '));\n        }\n        return results.map((result) => (result.indexOf(' ') === -1 ? result : `'${result}'`));\n    }\n};\n","import {IPropertyValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentToken, isNumberToken} from '../syntax/parser';\nimport {Context} from '../../core/context';\nexport const fontWeight: IPropertyValueDescriptor<number> = {\n    name: 'font-weight',\n    initialValue: 'normal',\n    type: PropertyDescriptorParsingType.VALUE,\n    prefix: false,\n    parse: (_context: Context, token: CSSValue): number => {\n        if (isNumberToken(token)) {\n            return token.number;\n        }\n\n        if (isIdentToken(token)) {\n            switch (token.value) {\n                case 'bold':\n                    return 700;\n                case 'normal':\n                default:\n                    return 400;\n            }\n        }\n\n        return 400;\n    }\n};\n","import {IPropertyTypeValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\n\nexport const fontSize: IPropertyTypeValueDescriptor = {\n    name: `font-size`,\n    initialValue: '0',\n    prefix: false,\n    type: PropertyDescriptorParsingType.TYPE_VALUE,\n    format: 'length'\n};\n","import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentToken} from '../syntax/parser';\nimport {Context} from '../../core/context';\nexport const fontVariant: IPropertyListDescriptor<string[]> = {\n    name: 'font-variant',\n    initialValue: 'none',\n    type: PropertyDescriptorParsingType.LIST,\n    prefix: false,\n    parse: (_context: Context, tokens: CSSValue[]): string[] => {\n        return tokens.filter(isIdentToken).map((token) => token.value);\n    }\n};\n","import {IPropertyIdentValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {Context} from '../../core/context';\nexport const enum FONT_STYLE {\n    NORMAL = 'normal',\n    ITALIC = 'italic',\n    OBLIQUE = 'oblique'\n}\n\nexport const fontStyle: IPropertyIdentValueDescriptor<FONT_STYLE> = {\n    name: 'font-style',\n    initialValue: 'normal',\n    prefix: false,\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\n    parse: (_context: Context, overflow: string) => {\n        switch (overflow) {\n            case 'oblique':\n                return FONT_STYLE.OBLIQUE;\n            case 'italic':\n                return FONT_STYLE.ITALIC;\n            case 'normal':\n            default:\n                return FONT_STYLE.NORMAL;\n        }\n    }\n};\n","export const contains = (bit: number, value: number): boolean => (bit & value) !== 0;\n","import {TokenType} from '../syntax/tokenizer';\nimport {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue} from '../syntax/parser';\nimport {Context} from '../../core/context';\n\nexport type Content = CSSValue[];\n\nexport const content: IPropertyListDescriptor<Content> = {\n    name: 'content',\n    initialValue: 'none',\n    type: PropertyDescriptorParsingType.LIST,\n    prefix: false,\n    parse: (_context: Context, tokens: CSSValue[]) => {\n        if (tokens.length === 0) {\n            return [];\n        }\n\n        const first = tokens[0];\n\n        if (first.type === TokenType.IDENT_TOKEN && first.value === 'none') {\n            return [];\n        }\n\n        return tokens;\n    }\n};\n","import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isNumberToken, nonWhiteSpace} from '../syntax/parser';\nimport {TokenType} from '../syntax/tokenizer';\nimport {Context} from '../../core/context';\n\nexport interface COUNTER_INCREMENT {\n    counter: string;\n    increment: number;\n}\n\nexport type CounterIncrement = COUNTER_INCREMENT[] | null;\n\nexport const counterIncrement: IPropertyListDescriptor<CounterIncrement> = {\n    name: 'counter-increment',\n    initialValue: 'none',\n    prefix: true,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (_context: Context, tokens: CSSValue[]) => {\n        if (tokens.length === 0) {\n            return null;\n        }\n\n        const first = tokens[0];\n\n        if (first.type === TokenType.IDENT_TOKEN && first.value === 'none') {\n            return null;\n        }\n\n        const increments = [];\n        const filtered = tokens.filter(nonWhiteSpace);\n\n        for (let i = 0; i < filtered.length; i++) {\n            const counter = filtered[i];\n            const next = filtered[i + 1];\n            if (counter.type === TokenType.IDENT_TOKEN) {\n                const increment = next && isNumberToken(next) ? next.number : 1;\n                increments.push({counter: counter.value, increment});\n            }\n        }\n\n        return increments;\n    }\n};\n","import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentToken, isNumberToken, nonWhiteSpace} from '../syntax/parser';\nimport {Context} from '../../core/context';\n\nexport interface COUNTER_RESET {\n    counter: string;\n    reset: number;\n}\n\nexport type CounterReset = COUNTER_RESET[];\n\nexport const counterReset: IPropertyListDescriptor<CounterReset> = {\n    name: 'counter-reset',\n    initialValue: 'none',\n    prefix: true,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (_context: Context, tokens: CSSValue[]) => {\n        if (tokens.length === 0) {\n            return [];\n        }\n\n        const resets = [];\n        const filtered = tokens.filter(nonWhiteSpace);\n\n        for (let i = 0; i < filtered.length; i++) {\n            const counter = filtered[i];\n            const next = filtered[i + 1];\n            if (isIdentToken(counter) && counter.value !== 'none') {\n                const reset = next && isNumberToken(next) ? next.number : 0;\n                resets.push({counter: counter.value, reset});\n            }\n        }\n\n        return resets;\n    }\n};\n","import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {Context} from '../../core/context';\nimport {CSSValue, isDimensionToken} from '../syntax/parser';\nimport {time} from '../types/time';\n\nexport const duration: IPropertyListDescriptor<number[]> = {\n    name: 'duration',\n    initialValue: '0s',\n    prefix: false,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (context: Context, tokens: CSSValue[]) => {\n        return tokens.filter(isDimensionToken).map((token) => time.parse(context, token));\n    }\n};\n","import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isStringToken} from '../syntax/parser';\nimport {TokenType} from '../syntax/tokenizer';\nimport {Context} from '../../core/context';\n\nexport interface QUOTE {\n    open: string;\n    close: string;\n}\n\nexport type Quotes = QUOTE[] | null;\n\nexport const quotes: IPropertyListDescriptor<Quotes> = {\n    name: 'quotes',\n    initialValue: 'none',\n    prefix: true,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (_context: Context, tokens: CSSValue[]) => {\n        if (tokens.length === 0) {\n            return null;\n        }\n\n        const first = tokens[0];\n\n        if (first.type === TokenType.IDENT_TOKEN && first.value === 'none') {\n            return null;\n        }\n\n        const quotes = [];\n        const filtered = tokens.filter(isStringToken);\n\n        if (filtered.length % 2 !== 0) {\n            return null;\n        }\n\n        for (let i = 0; i < filtered.length; i += 2) {\n            const open = filtered[i].value;\n            const close = filtered[i + 1].value;\n            quotes.push({open, close});\n        }\n\n        return quotes;\n    }\n};\n\nexport const getQuote = (quotes: Quotes, depth: number, open: boolean): string => {\n    if (!quotes) {\n        return '';\n    }\n\n    const quote = quotes[Math.min(depth, quotes.length - 1)];\n    if (!quote) {\n        return '';\n    }\n\n    return open ? quote.open : quote.close;\n};\n","import {PropertyDescriptorParsingType, IPropertyListDescriptor} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentWithValue, parseFunctionArgs} from '../syntax/parser';\nimport {ZERO_LENGTH} from '../types/length-percentage';\nimport {color, Color} from '../types/color';\nimport {isLength, Length} from '../types/length';\nimport {Context} from '../../core/context';\n\nexport type BoxShadow = BoxShadowItem[];\ninterface BoxShadowItem {\n    inset: boolean;\n    color: Color;\n    offsetX: Length;\n    offsetY: Length;\n    blur: Length;\n    spread: Length;\n}\n\nexport const boxShadow: IPropertyListDescriptor<BoxShadow> = {\n    name: 'box-shadow',\n    initialValue: 'none',\n    type: PropertyDescriptorParsingType.LIST,\n    prefix: false,\n    parse: (context: Context, tokens: CSSValue[]): BoxShadow => {\n        if (tokens.length === 1 && isIdentWithValue(tokens[0], 'none')) {\n            return [];\n        }\n\n        return parseFunctionArgs(tokens).map((values: CSSValue[]) => {\n            const shadow: BoxShadowItem = {\n                color: 0x000000ff,\n                offsetX: ZERO_LENGTH,\n                offsetY: ZERO_LENGTH,\n                blur: ZERO_LENGTH,\n                spread: ZERO_LENGTH,\n                inset: false\n            };\n            let c = 0;\n            for (let i = 0; i < values.length; i++) {\n                const token = values[i];\n                if (isIdentWithValue(token, 'inset')) {\n                    shadow.inset = true;\n                } else if (isLength(token)) {\n                    if (c === 0) {\n                        shadow.offsetX = token;\n                    } else if (c === 1) {\n                        shadow.offsetY = token;\n                    } else if (c === 2) {\n                        shadow.blur = token;\n                    } else {\n                        shadow.spread = token;\n                    }\n                    c++;\n                } else {\n                    shadow.color = color.parse(context, token);\n                }\n            }\n            return shadow;\n        });\n    }\n};\n","import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentToken} from '../syntax/parser';\nimport {Context} from '../../core/context';\nexport const enum PAINT_ORDER_LAYER {\n    FILL,\n    STROKE,\n    MARKERS\n}\n\nexport type PaintOrder = PAINT_ORDER_LAYER[];\n\nexport const paintOrder: IPropertyListDescriptor<PaintOrder> = {\n    name: 'paint-order',\n    initialValue: 'normal',\n    prefix: false,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (_context: Context, tokens: CSSValue[]): PaintOrder => {\n        const DEFAULT_VALUE = [PAINT_ORDER_LAYER.FILL, PAINT_ORDER_LAYER.STROKE, PAINT_ORDER_LAYER.MARKERS];\n        const layers: PaintOrder = [];\n\n        tokens.filter(isIdentToken).forEach((token) => {\n            switch (token.value) {\n                case 'stroke':\n                    layers.push(PAINT_ORDER_LAYER.STROKE);\n                    break;\n                case 'fill':\n                    layers.push(PAINT_ORDER_LAYER.FILL);\n                    break;\n                case 'markers':\n                    layers.push(PAINT_ORDER_LAYER.MARKERS);\n                    break;\n            }\n        });\n        DEFAULT_VALUE.forEach((value) => {\n            if (layers.indexOf(value) === -1) {\n                layers.push(value);\n            }\n        });\n\n        return layers;\n    }\n};\n","import {CSSValue, isDimensionToken} from '../syntax/parser';\nimport {IPropertyValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {Context} from '../../core/context';\nexport const webkitTextStrokeWidth: IPropertyValueDescriptor<number> = {\n    name: `-webkit-text-stroke-width`,\n    initialValue: '0',\n    type: PropertyDescriptorParsingType.VALUE,\n    prefix: false,\n    parse: (_context: Context, token: CSSValue): number => {\n        if (isDimensionToken(token)) {\n            return token.number;\n        }\n        return 0;\n    }\n};\n","import {IPropertyTypeValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nexport const webkitTextStrokeColor: IPropertyTypeValueDescriptor = {\n    name: `-webkit-text-stroke-color`,\n    initialValue: 'currentcolor',\n    prefix: false,\n    type: PropertyDescriptorParsingType.TYPE_VALUE,\n    format: 'color'\n};\n","import {CSSPropertyDescriptor, PropertyDescriptorParsingType} from './IPropertyDescriptor';\nimport {backgroundClip} from './property-descriptors/background-clip';\nimport {backgroundColor} from './property-descriptors/background-color';\nimport {backgroundImage} from './property-descriptors/background-image';\nimport {backgroundOrigin} from './property-descriptors/background-origin';\nimport {backgroundPosition} from './property-descriptors/background-position';\nimport {backgroundRepeat} from './property-descriptors/background-repeat';\nimport {backgroundSize} from './property-descriptors/background-size';\nimport {\n    borderBottomColor,\n    borderLeftColor,\n    borderRightColor,\n    borderTopColor\n} from './property-descriptors/border-color';\nimport {\n    borderBottomLeftRadius,\n    borderBottomRightRadius,\n    borderTopLeftRadius,\n    borderTopRightRadius\n} from './property-descriptors/border-radius';\nimport {\n    borderBottomStyle,\n    borderLeftStyle,\n    borderRightStyle,\n    borderTopStyle\n} from './property-descriptors/border-style';\nimport {\n    borderBottomWidth,\n    borderLeftWidth,\n    borderRightWidth,\n    borderTopWidth\n} from './property-descriptors/border-width';\nimport {color} from './property-descriptors/color';\nimport {direction} from './property-descriptors/direction';\nimport {display, DISPLAY} from './property-descriptors/display';\nimport {float, FLOAT} from './property-descriptors/float';\nimport {letterSpacing} from './property-descriptors/letter-spacing';\nimport {lineBreak} from './property-descriptors/line-break';\nimport {lineHeight} from './property-descriptors/line-height';\nimport {listStyleImage} from './property-descriptors/list-style-image';\nimport {listStylePosition} from './property-descriptors/list-style-position';\nimport {listStyleType} from './property-descriptors/list-style-type';\nimport {marginBottom, marginLeft, marginRight, marginTop} from './property-descriptors/margin';\nimport {overflow, OVERFLOW} from './property-descriptors/overflow';\nimport {overflowWrap} from './property-descriptors/overflow-wrap';\nimport {paddingBottom, paddingLeft, paddingRight, paddingTop} from './property-descriptors/padding';\nimport {textAlign} from './property-descriptors/text-align';\nimport {position, POSITION} from './property-descriptors/position';\nimport {textShadow} from './property-descriptors/text-shadow';\nimport {textTransform} from './property-descriptors/text-transform';\nimport {transform} from './property-descriptors/transform';\nimport {transformOrigin} from './property-descriptors/transform-origin';\nimport {visibility, VISIBILITY} from './property-descriptors/visibility';\nimport {wordBreak} from './property-descriptors/word-break';\nimport {zIndex} from './property-descriptors/z-index';\nimport {CSSValue, isIdentToken, Parser} from './syntax/parser';\nimport {Tokenizer} from './syntax/tokenizer';\nimport {Color, color as colorType, isTransparent} from './types/color';\nimport {angle} from './types/angle';\nimport {image} from './types/image';\nimport {time} from './types/time';\nimport {opacity} from './property-descriptors/opacity';\nimport {textDecorationColor} from './property-descriptors/text-decoration-color';\nimport {textDecorationLine} from './property-descriptors/text-decoration-line';\nimport {isLengthPercentage, LengthPercentage, ZERO_LENGTH} from './types/length-percentage';\nimport {fontFamily} from './property-descriptors/font-family';\nimport {fontSize} from './property-descriptors/font-size';\nimport {isLength} from './types/length';\nimport {fontWeight} from './property-descriptors/font-weight';\nimport {fontVariant} from './property-descriptors/font-variant';\nimport {fontStyle} from './property-descriptors/font-style';\nimport {contains} from '../core/bitwise';\nimport {content} from './property-descriptors/content';\nimport {counterIncrement} from './property-descriptors/counter-increment';\nimport {counterReset} from './property-descriptors/counter-reset';\nimport {duration} from './property-descriptors/duration';\nimport {quotes} from './property-descriptors/quotes';\nimport {boxShadow} from './property-descriptors/box-shadow';\nimport {paintOrder} from './property-descriptors/paint-order';\nimport {webkitTextStrokeColor} from './property-descriptors/webkit-text-stroke-color';\nimport {webkitTextStrokeWidth} from './property-descriptors/webkit-text-stroke-width';\nimport {Context} from '../core/context';\n\nexport class CSSParsedDeclaration {\n    animationDuration: ReturnType<typeof duration.parse>;\n    backgroundClip: ReturnType<typeof backgroundClip.parse>;\n    backgroundColor: Color;\n    backgroundImage: ReturnType<typeof backgroundImage.parse>;\n    backgroundOrigin: ReturnType<typeof backgroundOrigin.parse>;\n    backgroundPosition: ReturnType<typeof backgroundPosition.parse>;\n    backgroundRepeat: ReturnType<typeof backgroundRepeat.parse>;\n    backgroundSize: ReturnType<typeof backgroundSize.parse>;\n    borderTopColor: Color;\n    borderRightColor: Color;\n    borderBottomColor: Color;\n    borderLeftColor: Color;\n    borderTopLeftRadius: ReturnType<typeof borderTopLeftRadius.parse>;\n    borderTopRightRadius: ReturnType<typeof borderTopRightRadius.parse>;\n    borderBottomRightRadius: ReturnType<typeof borderBottomRightRadius.parse>;\n    borderBottomLeftRadius: ReturnType<typeof borderBottomLeftRadius.parse>;\n    borderTopStyle: ReturnType<typeof borderTopStyle.parse>;\n    borderRightStyle: ReturnType<typeof borderRightStyle.parse>;\n    borderBottomStyle: ReturnType<typeof borderBottomStyle.parse>;\n    borderLeftStyle: ReturnType<typeof borderLeftStyle.parse>;\n    borderTopWidth: ReturnType<typeof borderTopWidth.parse>;\n    borderRightWidth: ReturnType<typeof borderRightWidth.parse>;\n    borderBottomWidth: ReturnType<typeof borderBottomWidth.parse>;\n    borderLeftWidth: ReturnType<typeof borderLeftWidth.parse>;\n    boxShadow: ReturnType<typeof boxShadow.parse>;\n    color: Color;\n    direction: ReturnType<typeof direction.parse>;\n    display: ReturnType<typeof display.parse>;\n    float: ReturnType<typeof float.parse>;\n    fontFamily: ReturnType<typeof fontFamily.parse>;\n    fontSize: LengthPercentage;\n    fontStyle: ReturnType<typeof fontStyle.parse>;\n    fontVariant: ReturnType<typeof fontVariant.parse>;\n    fontWeight: ReturnType<typeof fontWeight.parse>;\n    letterSpacing: ReturnType<typeof letterSpacing.parse>;\n    lineBreak: ReturnType<typeof lineBreak.parse>;\n    lineHeight: CSSValue;\n    listStyleImage: ReturnType<typeof listStyleImage.parse>;\n    listStylePosition: ReturnType<typeof listStylePosition.parse>;\n    listStyleType: ReturnType<typeof listStyleType.parse>;\n    marginTop: CSSValue;\n    marginRight: CSSValue;\n    marginBottom: CSSValue;\n    marginLeft: CSSValue;\n    opacity: ReturnType<typeof opacity.parse>;\n    overflowX: OVERFLOW;\n    overflowY: OVERFLOW;\n    overflowWrap: ReturnType<typeof overflowWrap.parse>;\n    paddingTop: LengthPercentage;\n    paddingRight: LengthPercentage;\n    paddingBottom: LengthPercentage;\n    paddingLeft: LengthPercentage;\n    paintOrder: ReturnType<typeof paintOrder.parse>;\n    position: ReturnType<typeof position.parse>;\n    textAlign: ReturnType<typeof textAlign.parse>;\n    textDecorationColor: Color;\n    textDecorationLine: ReturnType<typeof textDecorationLine.parse>;\n    textShadow: ReturnType<typeof textShadow.parse>;\n    textTransform: ReturnType<typeof textTransform.parse>;\n    transform: ReturnType<typeof transform.parse>;\n    transformOrigin: ReturnType<typeof transformOrigin.parse>;\n    visibility: ReturnType<typeof visibility.parse>;\n    webkitTextStrokeColor: Color;\n    webkitTextStrokeWidth: ReturnType<typeof webkitTextStrokeWidth.parse>;\n    wordBreak: ReturnType<typeof wordBreak.parse>;\n    zIndex: ReturnType<typeof zIndex.parse>;\n\n    constructor(context: Context, declaration: CSSStyleDeclaration) {\n        this.animationDuration = parse(context, duration, declaration.animationDuration);\n        this.backgroundClip = parse(context, backgroundClip, declaration.backgroundClip);\n        this.backgroundColor = parse(context, backgroundColor, declaration.backgroundColor);\n        this.backgroundImage = parse(context, backgroundImage, declaration.backgroundImage);\n        this.backgroundOrigin = parse(context, backgroundOrigin, declaration.backgroundOrigin);\n        this.backgroundPosition = parse(context, backgroundPosition, declaration.backgroundPosition);\n        this.backgroundRepeat = parse(context, backgroundRepeat, declaration.backgroundRepeat);\n        this.backgroundSize = parse(context, backgroundSize, declaration.backgroundSize);\n        this.borderTopColor = parse(context, borderTopColor, declaration.borderTopColor);\n        this.borderRightColor = parse(context, borderRightColor, declaration.borderRightColor);\n        this.borderBottomColor = parse(context, borderBottomColor, declaration.borderBottomColor);\n        this.borderLeftColor = parse(context, borderLeftColor, declaration.borderLeftColor);\n        this.borderTopLeftRadius = parse(context, borderTopLeftRadius, declaration.borderTopLeftRadius);\n        this.borderTopRightRadius = parse(context, borderTopRightRadius, declaration.borderTopRightRadius);\n        this.borderBottomRightRadius = parse(context, borderBottomRightRadius, declaration.borderBottomRightRadius);\n        this.borderBottomLeftRadius = parse(context, borderBottomLeftRadius, declaration.borderBottomLeftRadius);\n        this.borderTopStyle = parse(context, borderTopStyle, declaration.borderTopStyle);\n        this.borderRightStyle = parse(context, borderRightStyle, declaration.borderRightStyle);\n        this.borderBottomStyle = parse(context, borderBottomStyle, declaration.borderBottomStyle);\n        this.borderLeftStyle = parse(context, borderLeftStyle, declaration.borderLeftStyle);\n        this.borderTopWidth = parse(context, borderTopWidth, declaration.borderTopWidth);\n        this.borderRightWidth = parse(context, borderRightWidth, declaration.borderRightWidth);\n        this.borderBottomWidth = parse(context, borderBottomWidth, declaration.borderBottomWidth);\n        this.borderLeftWidth = parse(context, borderLeftWidth, declaration.borderLeftWidth);\n        this.boxShadow = parse(context, boxShadow, declaration.boxShadow);\n        this.color = parse(context, color, declaration.color);\n        this.direction = parse(context, direction, declaration.direction);\n        this.display = parse(context, display, declaration.display);\n        this.float = parse(context, float, declaration.cssFloat);\n        this.fontFamily = parse(context, fontFamily, declaration.fontFamily);\n        this.fontSize = parse(context, fontSize, declaration.fontSize);\n        this.fontStyle = parse(context, fontStyle, declaration.fontStyle);\n        this.fontVariant = parse(context, fontVariant, declaration.fontVariant);\n        this.fontWeight = parse(context, fontWeight, declaration.fontWeight);\n        this.letterSpacing = parse(context, letterSpacing, declaration.letterSpacing);\n        this.lineBreak = parse(context, lineBreak, declaration.lineBreak);\n        this.lineHeight = parse(context, lineHeight, declaration.lineHeight);\n        this.listStyleImage = parse(context, listStyleImage, declaration.listStyleImage);\n        this.listStylePosition = parse(context, listStylePosition, declaration.listStylePosition);\n        this.listStyleType = parse(context, listStyleType, declaration.listStyleType);\n        this.marginTop = parse(context, marginTop, declaration.marginTop);\n        this.marginRight = parse(context, marginRight, declaration.marginRight);\n        this.marginBottom = parse(context, marginBottom, declaration.marginBottom);\n        this.marginLeft = parse(context, marginLeft, declaration.marginLeft);\n        this.opacity = parse(context, opacity, declaration.opacity);\n        const overflowTuple = parse(context, overflow, declaration.overflow);\n        this.overflowX = overflowTuple[0];\n        this.overflowY = overflowTuple[overflowTuple.length > 1 ? 1 : 0];\n        this.overflowWrap = parse(context, overflowWrap, declaration.overflowWrap);\n        this.paddingTop = parse(context, paddingTop, declaration.paddingTop);\n        this.paddingRight = parse(context, paddingRight, declaration.paddingRight);\n        this.paddingBottom = parse(context, paddingBottom, declaration.paddingBottom);\n        this.paddingLeft = parse(context, paddingLeft, declaration.paddingLeft);\n        this.paintOrder = parse(context, paintOrder, declaration.paintOrder);\n        this.position = parse(context, position, declaration.position);\n        this.textAlign = parse(context, textAlign, declaration.textAlign);\n        this.textDecorationColor = parse(\n            context,\n            textDecorationColor,\n            declaration.textDecorationColor ?? declaration.color\n        );\n        this.textDecorationLine = parse(\n            context,\n            textDecorationLine,\n            declaration.textDecorationLine ?? declaration.textDecoration\n        );\n        this.textShadow = parse(context, textShadow, declaration.textShadow);\n        this.textTransform = parse(context, textTransform, declaration.textTransform);\n        this.transform = parse(context, transform, declaration.transform);\n        this.transformOrigin = parse(context, transformOrigin, declaration.transformOrigin);\n        this.visibility = parse(context, visibility, declaration.visibility);\n        this.webkitTextStrokeColor = parse(context, webkitTextStrokeColor, declaration.webkitTextStrokeColor);\n        this.webkitTextStrokeWidth = parse(context, webkitTextStrokeWidth, declaration.webkitTextStrokeWidth);\n        this.wordBreak = parse(context, wordBreak, declaration.wordBreak);\n        this.zIndex = parse(context, zIndex, declaration.zIndex);\n    }\n\n    isVisible(): boolean {\n        return this.display > 0 && this.opacity > 0 && this.visibility === VISIBILITY.VISIBLE;\n    }\n\n    isTransparent(): boolean {\n        return isTransparent(this.backgroundColor);\n    }\n\n    isTransformed(): boolean {\n        return this.transform !== null;\n    }\n\n    isPositioned(): boolean {\n        return this.position !== POSITION.STATIC;\n    }\n\n    isPositionedWithZIndex(): boolean {\n        return this.isPositioned() && !this.zIndex.auto;\n    }\n\n    isFloating(): boolean {\n        return this.float !== FLOAT.NONE;\n    }\n\n    isInlineLevel(): boolean {\n        return (\n            contains(this.display, DISPLAY.INLINE) ||\n            contains(this.display, DISPLAY.INLINE_BLOCK) ||\n            contains(this.display, DISPLAY.INLINE_FLEX) ||\n            contains(this.display, DISPLAY.INLINE_GRID) ||\n            contains(this.display, DISPLAY.INLINE_LIST_ITEM) ||\n            contains(this.display, DISPLAY.INLINE_TABLE)\n        );\n    }\n}\n\nexport class CSSParsedPseudoDeclaration {\n    content: ReturnType<typeof content.parse>;\n    quotes: ReturnType<typeof quotes.parse>;\n\n    constructor(context: Context, declaration: CSSStyleDeclaration) {\n        this.content = parse(context, content, declaration.content);\n        this.quotes = parse(context, quotes, declaration.quotes);\n    }\n}\n\nexport class CSSParsedCounterDeclaration {\n    counterIncrement: ReturnType<typeof counterIncrement.parse>;\n    counterReset: ReturnType<typeof counterReset.parse>;\n\n    constructor(context: Context, declaration: CSSStyleDeclaration) {\n        this.counterIncrement = parse(context, counterIncrement, declaration.counterIncrement);\n        this.counterReset = parse(context, counterReset, declaration.counterReset);\n    }\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst parse = (context: Context, descriptor: CSSPropertyDescriptor<any>, style?: string | null) => {\n    const tokenizer = new Tokenizer();\n    const value = style !== null && typeof style !== 'undefined' ? style.toString() : descriptor.initialValue;\n    tokenizer.write(value);\n    const parser = new Parser(tokenizer.read());\n    switch (descriptor.type) {\n        case PropertyDescriptorParsingType.IDENT_VALUE:\n            const token = parser.parseComponentValue();\n            return descriptor.parse(context, isIdentToken(token) ? token.value : descriptor.initialValue);\n        case PropertyDescriptorParsingType.VALUE:\n            return descriptor.parse(context, parser.parseComponentValue());\n        case PropertyDescriptorParsingType.LIST:\n            return descriptor.parse(context, parser.parseComponentValues());\n        case PropertyDescriptorParsingType.TOKEN_VALUE:\n            return parser.parseComponentValue();\n        case PropertyDescriptorParsingType.TYPE_VALUE:\n            switch (descriptor.format) {\n                case 'angle':\n                    return angle.parse(context, parser.parseComponentValue());\n                case 'color':\n                    return colorType.parse(context, parser.parseComponentValue());\n                case 'image':\n                    return image.parse(context, parser.parseComponentValue());\n                case 'length':\n                    const length = parser.parseComponentValue();\n                    return isLength(length) ? length : ZERO_LENGTH;\n                case 'length-percentage':\n                    const value = parser.parseComponentValue();\n                    return isLengthPercentage(value) ? value : ZERO_LENGTH;\n                case 'time':\n                    return time.parse(context, parser.parseComponentValue());\n            }\n            break;\n    }\n};\n","const elementDebuggerAttribute = 'data-html2canvas-debug';\nexport const enum DebuggerType {\n    NONE,\n    ALL,\n    CLONE,\n    PARSE,\n    RENDER\n}\n\nconst getElementDebugType = (element: Element): DebuggerType => {\n    const attribute = element.getAttribute(elementDebuggerAttribute);\n    switch (attribute) {\n        case 'all':\n            return DebuggerType.ALL;\n        case 'clone':\n            return DebuggerType.CLONE;\n        case 'parse':\n            return DebuggerType.PARSE;\n        case 'render':\n            return DebuggerType.RENDER;\n        default:\n            return DebuggerType.NONE;\n    }\n};\n\nexport const isDebugging = (element: Element, type: Omit<DebuggerType, DebuggerType.NONE>): boolean => {\n    const elementType = getElementDebugType(element);\n    return elementType === DebuggerType.ALL || type === elementType;\n};\n","import {CSSParsedDeclaration} from '../css/index';\nimport {TextContainer} from './text-container';\nimport {Bounds, parseBounds} from '../css/layout/bounds';\nimport {isHTMLElementNode} from './node-parser';\nimport {Context} from '../core/context';\nimport {DebuggerType, isDebugging} from '../core/debugger';\n\nexport const enum FLAGS {\n    CREATES_STACKING_CONTEXT = 1 << 1,\n    CREATES_REAL_STACKING_CONTEXT = 1 << 2,\n    IS_LIST_OWNER = 1 << 3,\n    DEBUG_RENDER = 1 << 4\n}\n\nexport class ElementContainer {\n    readonly styles: CSSParsedDeclaration;\n    readonly textNodes: TextContainer[] = [];\n    readonly elements: ElementContainer[] = [];\n    bounds: Bounds;\n    flags = 0;\n\n    constructor(protected readonly context: Context, element: Element) {\n        if (isDebugging(element, DebuggerType.PARSE)) {\n            debugger;\n        }\n\n        this.styles = new CSSParsedDeclaration(context, window.getComputedStyle(element, null));\n\n        if (isHTMLElementNode(element)) {\n            if (this.styles.animationDuration.some((duration) => duration > 0)) {\n                element.style.animationDuration = '0s';\n            }\n\n            if (this.styles.transform !== null) {\n                // getBoundingClientRect takes transforms into account\n                element.style.transform = 'none';\n            }\n        }\n\n        this.bounds = parseBounds(this.context, element);\n\n        if (isDebugging(element, DebuggerType.RENDER)) {\n            this.flags |= FLAGS.DEBUG_RENDER;\n        }\n    }\n}\n","export const base64 =\n    'AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=';\nexport const byteLength = 19616;\n","const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n// Use a lookup table to find the index.\nconst lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\nfor (let i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n}\n\nexport const decode = (base64: string): ArrayBuffer | number[] => {\n    let bufferLength = base64.length * 0.75,\n        len = base64.length,\n        i,\n        p = 0,\n        encoded1,\n        encoded2,\n        encoded3,\n        encoded4;\n\n    if (base64[base64.length - 1] === '=') {\n        bufferLength--;\n        if (base64[base64.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n\n    const buffer =\n        typeof ArrayBuffer !== 'undefined' &&\n        typeof Uint8Array !== 'undefined' &&\n        typeof Uint8Array.prototype.slice !== 'undefined'\n            ? new ArrayBuffer(bufferLength)\n            : new Array(bufferLength);\n    const bytes = Array.isArray(buffer) ? buffer : new Uint8Array(buffer);\n\n    for (i = 0; i < len; i += 4) {\n        encoded1 = lookup[base64.charCodeAt(i)];\n        encoded2 = lookup[base64.charCodeAt(i + 1)];\n        encoded3 = lookup[base64.charCodeAt(i + 2)];\n        encoded4 = lookup[base64.charCodeAt(i + 3)];\n\n        bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n        bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n        bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n\n    return buffer;\n};\n\nexport const polyUint16Array = (buffer: number[]): number[] => {\n    const length = buffer.length;\n    const bytes = [];\n    for (let i = 0; i < length; i += 2) {\n        bytes.push((buffer[i + 1] << 8) | buffer[i]);\n    }\n    return bytes;\n};\n\nexport const polyUint32Array = (buffer: number[]): number[] => {\n    const length = buffer.length;\n    const bytes = [];\n    for (let i = 0; i < length; i += 4) {\n        bytes.push((buffer[i + 3] << 24) | (buffer[i + 2] << 16) | (buffer[i + 1] << 8) | buffer[i]);\n    }\n    return bytes;\n};\n","import {base64, byteLength} from './grapheme-break-trie';\nimport {createTrieFromBase64} from 'utrie';\n\nconst Other = 0;\nconst Prepend = 1;\nconst CR = 2;\nconst LF = 3;\nconst Control = 4;\nconst Extend = 5;\nconst Regional_Indicator = 6;\nconst SpacingMark = 7;\nconst L = 8;\nconst V = 9;\nconst T = 10;\nconst LV = 11;\nconst LVT = 12;\nconst ZWJ = 13;\nconst Extended_Pictographic = 14;\nconst RI = 15;\n\nexport const classes: {[key: string]: number} = {\n    Other,\n    Prepend,\n    CR,\n    LF,\n    Control,\n    Extend,\n    Regional_Indicator,\n    SpacingMark,\n    L,\n    V,\n    T,\n    LV,\n    LVT,\n    ZWJ,\n    Extended_Pictographic,\n    RI,\n};\n\nexport const toCodePoints = (str: string): number[] => {\n    const codePoints = [];\n    let i = 0;\n    const length = str.length;\n    while (i < length) {\n        const value = str.charCodeAt(i++);\n        if (value >= 0xd800 && value <= 0xdbff && i < length) {\n            const extra = str.charCodeAt(i++);\n            if ((extra & 0xfc00) === 0xdc00) {\n                codePoints.push(((value & 0x3ff) << 10) + (extra & 0x3ff) + 0x10000);\n            } else {\n                codePoints.push(value);\n                i--;\n            }\n        } else {\n            codePoints.push(value);\n        }\n    }\n    return codePoints;\n};\n\nexport const fromCodePoint = (...codePoints: number[]): string => {\n    if (String.fromCodePoint) {\n        return String.fromCodePoint(...codePoints);\n    }\n\n    const length = codePoints.length;\n    if (!length) {\n        return '';\n    }\n\n    const codeUnits = [];\n\n    let index = -1;\n    let result = '';\n    while (++index < length) {\n        let codePoint = codePoints[index];\n        if (codePoint <= 0xffff) {\n            codeUnits.push(codePoint);\n        } else {\n            codePoint -= 0x10000;\n            codeUnits.push((codePoint >> 10) + 0xd800, (codePoint % 0x400) + 0xdc00);\n        }\n        if (index + 1 === length || codeUnits.length > 0x4000) {\n            result += String.fromCharCode(...codeUnits);\n            codeUnits.length = 0;\n        }\n    }\n    return result;\n};\n\nexport const UnicodeTrie = createTrieFromBase64(base64, byteLength);\n\nexport const BREAK_NOT_ALLOWED = '';\nexport const BREAK_ALLOWED = '';\n\nexport type BREAK_OPPORTUNITIES = typeof BREAK_NOT_ALLOWED | typeof BREAK_ALLOWED;\n\nexport const codePointToClass = (codePoint: number): number => UnicodeTrie.get(codePoint);\n\nconst _graphemeBreakAtIndex = (_codePoints: number[], classTypes: number[], index: number): BREAK_OPPORTUNITIES => {\n    let prevIndex = index - 2;\n    let prev = classTypes[prevIndex];\n    const current = classTypes[index - 1];\n    const next = classTypes[index];\n    // GB3 Do not break between a CR and LF\n    if (current === CR && next === LF) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // GB4 Otherwise, break before and after controls.\n    if (current === CR || current === LF || current === Control) {\n        return BREAK_ALLOWED;\n    }\n\n    // GB5\n    if (next === CR || next === LF || next === Control) {\n        return BREAK_ALLOWED;\n    }\n\n    // Do not break Hangul syllable sequences.\n    // GB6\n    if (current === L && [L, V, LV, LVT].indexOf(next) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // GB7\n    if ((current === LV || current === V) && (next === V || next === T)) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // GB8\n    if ((current === LVT || current === T) && next === T) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // GB9 Do not break before extending characters or ZWJ.\n    if (next === ZWJ || next === Extend) {\n        return BREAK_NOT_ALLOWED;\n    }\n    // Do not break before SpacingMarks, or after Prepend characters.\n    // GB9a\n    if (next === SpacingMark) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // GB9a\n    if (current === Prepend) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // GB11 Do not break within emoji modifier sequences or emoji zwj sequences.\n    if (current === ZWJ && next === Extended_Pictographic) {\n        while (prev === Extend) {\n            prev = classTypes[--prevIndex];\n        }\n        if (prev === Extended_Pictographic) {\n            return BREAK_NOT_ALLOWED;\n        }\n    }\n\n    // GB12 Do not break within emoji flag sequences.\n    // That is, do not break between regional indicator (RI) symbols\n    // if there is an odd number of RI characters before the break point.\n    if (current === RI && next === RI) {\n        let countRI = 0;\n        while (prev === RI) {\n            countRI++;\n            prev = classTypes[--prevIndex];\n        }\n        if (countRI % 2 === 0) {\n            return BREAK_NOT_ALLOWED;\n        }\n    }\n\n    return BREAK_ALLOWED;\n};\n\nexport const graphemeBreakAtIndex = (codePoints: number[], index: number): BREAK_OPPORTUNITIES => {\n    // GB1 Break at the start and end of text, unless the text is empty.\n    if (index === 0) {\n        return BREAK_ALLOWED;\n    }\n\n    // GB2\n    if (index >= codePoints.length) {\n        return BREAK_ALLOWED;\n    }\n\n    const classTypes = codePoints.map(codePointToClass);\n    return _graphemeBreakAtIndex(codePoints, classTypes, index);\n};\n\nexport const GraphemeBreaker = (str: string) => {\n    const codePoints = toCodePoints(str);\n    const length = codePoints.length;\n    let index = 0;\n    let lastEnd = 0;\n    const classTypes = codePoints.map(codePointToClass);\n\n    return {\n        next: () => {\n            if (index >= length) {\n                return {done: true, value: null};\n            }\n\n            let graphemeBreak = BREAK_NOT_ALLOWED;\n            while (\n                index < length &&\n                (graphemeBreak = _graphemeBreakAtIndex(codePoints, classTypes, ++index)) === BREAK_NOT_ALLOWED\n            ) {}\n\n            if (graphemeBreak !== BREAK_NOT_ALLOWED || index === length) {\n                const value = fromCodePoint.apply(null, codePoints.slice(lastEnd, index));\n                lastEnd = index;\n                return {value, done: false};\n            }\n\n            return {done: true, value: null};\n            while (index < length) {}\n\n            return {done: true, value: null};\n        },\n    };\n};\n\nexport const splitGraphemes = (str: string): string[] => {\n    const breaker = GraphemeBreaker(str);\n\n    const graphemes = [];\n    let bk;\n\n    while (!(bk = breaker.next()).done) {\n        if (bk.value) {\n            graphemes.push(bk.value.slice());\n        }\n    }\n\n    return graphemes;\n};\n","import {decode, polyUint16Array, polyUint32Array} from './Util';\n\nexport type int = number;\n\n/** Shift size for getting the index-2 table offset. */\nexport const UTRIE2_SHIFT_2 = 5;\n\n/** Shift size for getting the index-1 table offset. */\nexport const UTRIE2_SHIFT_1 = 6 + 5;\n\n/**\n * Shift size for shifting left the index array values.\n * Increases possible data size with 16-bit index values at the cost\n * of compactability.\n * This requires data blocks to be aligned by UTRIE2_DATA_GRANULARITY.\n */\nexport const UTRIE2_INDEX_SHIFT = 2;\n\n/**\n * Difference between the two shift sizes,\n * for getting an index-1 offset from an index-2 offset. 6=11-5\n */\nexport const UTRIE2_SHIFT_1_2 = UTRIE2_SHIFT_1 - UTRIE2_SHIFT_2;\n\n/**\n * The part of the index-2 table for U+D800..U+DBFF stores values for\n * lead surrogate code _units_ not code _points_.\n * Values for lead surrogate code _points_ are indexed with this portion of the table.\n * Length=32=0x20=0x400>>UTRIE2_SHIFT_2. (There are 1024=0x400 lead surrogates.)\n */\nexport const UTRIE2_LSCP_INDEX_2_OFFSET = 0x10000 >> UTRIE2_SHIFT_2;\n\n/** Number of entries in a data block. 32=0x20 */\nexport const UTRIE2_DATA_BLOCK_LENGTH = 1 << UTRIE2_SHIFT_2;\n/** Mask for getting the lower bits for the in-data-block offset. */\nexport const UTRIE2_DATA_MASK = UTRIE2_DATA_BLOCK_LENGTH - 1;\n\nexport const UTRIE2_LSCP_INDEX_2_LENGTH = 0x400 >> UTRIE2_SHIFT_2;\n/** Count the lengths of both BMP pieces. 2080=0x820 */\nexport const UTRIE2_INDEX_2_BMP_LENGTH = UTRIE2_LSCP_INDEX_2_OFFSET + UTRIE2_LSCP_INDEX_2_LENGTH;\n/**\n * The 2-byte UTF-8 version of the index-2 table follows at offset 2080=0x820.\n * Length 32=0x20 for lead bytes C0..DF, regardless of UTRIE2_SHIFT_2.\n */\nexport const UTRIE2_UTF8_2B_INDEX_2_OFFSET = UTRIE2_INDEX_2_BMP_LENGTH;\nexport const UTRIE2_UTF8_2B_INDEX_2_LENGTH = 0x800 >> 6; /* U+0800 is the first code point after 2-byte UTF-8 */\n/**\n * The index-1 table, only used for supplementary code points, at offset 2112=0x840.\n * Variable length, for code points up to highStart, where the last single-value range starts.\n * Maximum length 512=0x200=0x100000>>UTRIE2_SHIFT_1.\n * (For 0x100000 supplementary code points U+10000..U+10ffff.)\n *\n * The part of the index-2 table for supplementary code points starts\n * after this index-1 table.\n *\n * Both the index-1 table and the following part of the index-2 table\n * are omitted completely if there is only BMP data.\n */\nexport const UTRIE2_INDEX_1_OFFSET = UTRIE2_UTF8_2B_INDEX_2_OFFSET + UTRIE2_UTF8_2B_INDEX_2_LENGTH;\n\n/**\n * Number of index-1 entries for the BMP. 32=0x20\n * This part of the index-1 table is omitted from the serialized form.\n */\nexport const UTRIE2_OMITTED_BMP_INDEX_1_LENGTH = 0x10000 >> UTRIE2_SHIFT_1;\n\n/** Number of entries in an index-2 block. 64=0x40 */\nexport const UTRIE2_INDEX_2_BLOCK_LENGTH = 1 << UTRIE2_SHIFT_1_2;\n/** Mask for getting the lower bits for the in-index-2-block offset. */\nexport const UTRIE2_INDEX_2_MASK = UTRIE2_INDEX_2_BLOCK_LENGTH - 1;\n\nconst slice16 = (view: number[] | Uint16Array, start: number, end?: number) => {\n    if (view.slice) {\n        return view.slice(start, end);\n    }\n\n    return new Uint16Array(Array.prototype.slice.call(view, start, end));\n};\n\nconst slice32 = (view: number[] | Uint32Array, start: number, end?: number) => {\n    if (view.slice) {\n        return view.slice(start, end);\n    }\n\n    return new Uint32Array(Array.prototype.slice.call(view, start, end));\n};\n\nexport const createTrieFromBase64 = (base64: string, _byteLength: number): Trie => {\n    const buffer = decode(base64);\n    const view32 = Array.isArray(buffer) ? polyUint32Array(buffer) : new Uint32Array(buffer);\n    const view16 = Array.isArray(buffer) ? polyUint16Array(buffer) : new Uint16Array(buffer);\n    const headerLength = 24;\n\n    const index = slice16(view16, headerLength / 2, view32[4] / 2);\n    const data =\n        view32[5] === 2\n            ? slice16(view16, (headerLength + view32[4]) / 2)\n            : slice32(view32, Math.ceil((headerLength + view32[4]) / 4));\n\n    return new Trie(view32[0], view32[1], view32[2], view32[3], index, data);\n};\n\nexport class Trie {\n    initialValue: int;\n    errorValue: int;\n    highStart: int;\n    highValueIndex: int;\n    index: Uint16Array | number[];\n    data: Uint32Array | Uint16Array | number[];\n\n    constructor(\n        initialValue: int,\n        errorValue: int,\n        highStart: int,\n        highValueIndex: int,\n        index: Uint16Array | number[],\n        data: Uint32Array | Uint16Array | number[]\n    ) {\n        this.initialValue = initialValue;\n        this.errorValue = errorValue;\n        this.highStart = highStart;\n        this.highValueIndex = highValueIndex;\n        this.index = index;\n        this.data = data;\n    }\n\n    /**\n     * Get the value for a code point as stored in the Trie.\n     *\n     * @param codePoint the code point\n     * @return the value\n     */\n    get(codePoint: number): number {\n        let ix;\n        if (codePoint >= 0) {\n            if (codePoint < 0x0d800 || (codePoint > 0x0dbff && codePoint <= 0x0ffff)) {\n                // Ordinary BMP code point, excluding leading surrogates.\n                // BMP uses a single level lookup.  BMP index starts at offset 0 in the Trie2 index.\n                // 16 bit data is stored in the index array itself.\n                ix = this.index[codePoint >> UTRIE2_SHIFT_2];\n                ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);\n                return this.data[ix];\n            }\n\n            if (codePoint <= 0xffff) {\n                // Lead Surrogate Code Point.  A Separate index section is stored for\n                // lead surrogate code units and code points.\n                //   The main index has the code unit data.\n                //   For this function, we need the code point data.\n                // Note: this expression could be refactored for slightly improved efficiency, but\n                //       surrogate code points will be so rare in practice that it's not worth it.\n                ix = this.index[UTRIE2_LSCP_INDEX_2_OFFSET + ((codePoint - 0xd800) >> UTRIE2_SHIFT_2)];\n                ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);\n                return this.data[ix];\n            }\n\n            if (codePoint < this.highStart) {\n                // Supplemental code point, use two-level lookup.\n                ix = UTRIE2_INDEX_1_OFFSET - UTRIE2_OMITTED_BMP_INDEX_1_LENGTH + (codePoint >> UTRIE2_SHIFT_1);\n                ix = this.index[ix];\n                ix += (codePoint >> UTRIE2_SHIFT_2) & UTRIE2_INDEX_2_MASK;\n                ix = this.index[ix];\n                ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);\n                return this.data[ix];\n            }\n            if (codePoint <= 0x10ffff) {\n                return this.data[this.highValueIndex];\n            }\n        }\n\n        // Fall through.  The code point is outside of the legal range of 0..0x10ffff.\n        return this.errorValue;\n    }\n}\n","const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n// Use a lookup table to find the index.\nconst lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\nfor (let i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n}\n\nexport const encode = (arraybuffer: ArrayBuffer): string => {\n    let bytes = new Uint8Array(arraybuffer),\n        i,\n        len = bytes.length,\n        base64 = '';\n\n    for (i = 0; i < len; i += 3) {\n        base64 += chars[bytes[i] >> 2];\n        base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n        base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n        base64 += chars[bytes[i + 2] & 63];\n    }\n\n    if (len % 3 === 2) {\n        base64 = base64.substring(0, base64.length - 1) + '=';\n    } else if (len % 3 === 1) {\n        base64 = base64.substring(0, base64.length - 2) + '==';\n    }\n\n    return base64;\n};\n\nexport const decode = (base64: string): ArrayBuffer => {\n    let bufferLength = base64.length * 0.75,\n        len = base64.length,\n        i,\n        p = 0,\n        encoded1,\n        encoded2,\n        encoded3,\n        encoded4;\n\n    if (base64[base64.length - 1] === '=') {\n        bufferLength--;\n        if (base64[base64.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n\n    const arraybuffer = new ArrayBuffer(bufferLength),\n        bytes = new Uint8Array(arraybuffer);\n\n    for (i = 0; i < len; i += 4) {\n        encoded1 = lookup[base64.charCodeAt(i)];\n        encoded2 = lookup[base64.charCodeAt(i + 1)];\n        encoded3 = lookup[base64.charCodeAt(i + 2)];\n        encoded4 = lookup[base64.charCodeAt(i + 3)];\n\n        bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n        bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n        bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n\n    return arraybuffer;\n};\n","import {Bounds} from '../css/layout/bounds';\nimport {\n    isBodyElement,\n    isCanvasElement,\n    isCustomElement,\n    isElementNode,\n    isHTMLElementNode,\n    isIFrameElement,\n    isImageElement,\n    isScriptElement,\n    isSelectElement,\n    isSlotElement,\n    isStyleElement,\n    isSVGElementNode,\n    isTextareaElement,\n    isTextNode,\n    isVideoElement\n} from './node-parser';\nimport {isIdentToken, nonFunctionArgSeparator} from '../css/syntax/parser';\nimport {TokenType} from '../css/syntax/tokenizer';\nimport {CounterState, createCounterText} from '../css/types/functions/counter';\nimport {LIST_STYLE_TYPE, listStyleType} from '../css/property-descriptors/list-style-type';\nimport {CSSParsedCounterDeclaration, CSSParsedPseudoDeclaration} from '../css/index';\nimport {getQuote} from '../css/property-descriptors/quotes';\nimport {Context} from '../core/context';\nimport {DebuggerType, isDebugging} from '../core/debugger';\n\nexport interface CloneOptions {\n    ignoreElements?: (element: Element) => boolean;\n    onclone?: (document: Document, element: HTMLElement) => void;\n    allowTaint?: boolean;\n}\n\nexport interface WindowOptions {\n    scrollX: number;\n    scrollY: number;\n    windowWidth: number;\n    windowHeight: number;\n}\n\nexport type CloneConfigurations = CloneOptions & {\n    inlineImages: boolean;\n    copyStyles: boolean;\n};\n\nconst IGNORE_ATTRIBUTE = 'data-html2canvas-ignore';\n\nexport class DocumentCloner {\n    private readonly scrolledElements: [Element, number, number][];\n    private readonly referenceElement: HTMLElement;\n    clonedReferenceElement?: HTMLElement;\n    private readonly documentElement: HTMLElement;\n    private readonly counters: CounterState;\n    private quoteDepth: number;\n\n    constructor(\n        private readonly context: Context,\n        element: HTMLElement,\n        private readonly options: CloneConfigurations\n    ) {\n        this.scrolledElements = [];\n        this.referenceElement = element;\n        this.counters = new CounterState();\n        this.quoteDepth = 0;\n        if (!element.ownerDocument) {\n            throw new Error('Cloned element does not have an owner document');\n        }\n\n        this.documentElement = this.cloneNode(element.ownerDocument.documentElement, false) as HTMLElement;\n    }\n\n    toIFrame(ownerDocument: Document, windowSize: Bounds): Promise<HTMLIFrameElement> {\n        const iframe: HTMLIFrameElement = createIFrameContainer(ownerDocument, windowSize);\n\n        if (!iframe.contentWindow) {\n            return Promise.reject(`Unable to find iframe window`);\n        }\n\n        const scrollX = (ownerDocument.defaultView as Window).pageXOffset;\n        const scrollY = (ownerDocument.defaultView as Window).pageYOffset;\n\n        const cloneWindow = iframe.contentWindow;\n        const documentClone: Document = cloneWindow.document;\n\n        /* Chrome doesn't detect relative background-images assigned in inline <style> sheets when fetched through getComputedStyle\n         if window url is about:blank, we can assign the url to current by writing onto the document\n         */\n\n        const iframeLoad = iframeLoader(iframe).then(async () => {\n            this.scrolledElements.forEach(restoreNodeScroll);\n            if (cloneWindow) {\n                cloneWindow.scrollTo(windowSize.left, windowSize.top);\n                if (\n                    /(iPad|iPhone|iPod)/g.test(navigator.userAgent) &&\n                    (cloneWindow.scrollY !== windowSize.top || cloneWindow.scrollX !== windowSize.left)\n                ) {\n                    this.context.logger.warn('Unable to restore scroll position for cloned document');\n                    this.context.windowBounds = this.context.windowBounds.add(\n                        cloneWindow.scrollX - windowSize.left,\n                        cloneWindow.scrollY - windowSize.top,\n                        0,\n                        0\n                    );\n                }\n            }\n\n            const onclone = this.options.onclone;\n\n            const referenceElement = this.clonedReferenceElement;\n\n            if (typeof referenceElement === 'undefined') {\n                return Promise.reject(`Error finding the ${this.referenceElement.nodeName} in the cloned document`);\n            }\n\n            if (documentClone.fonts && documentClone.fonts.ready) {\n                await documentClone.fonts.ready;\n            }\n\n            if (/(AppleWebKit)/g.test(navigator.userAgent)) {\n                await imagesReady(documentClone);\n            }\n\n            if (typeof onclone === 'function') {\n                return Promise.resolve()\n                    .then(() => onclone(documentClone, referenceElement))\n                    .then(() => iframe);\n            }\n\n            return iframe;\n        });\n\n        documentClone.open();\n        documentClone.write(`${serializeDoctype(document.doctype)}<html></html>`);\n        // Chrome scrolls the parent document for some reason after the write to the cloned window???\n        restoreOwnerScroll(this.referenceElement.ownerDocument, scrollX, scrollY);\n        documentClone.replaceChild(documentClone.adoptNode(this.documentElement), documentClone.documentElement);\n        documentClone.close();\n\n        return iframeLoad;\n    }\n\n    createElementClone<T extends HTMLElement | SVGElement>(node: T): HTMLElement | SVGElement {\n        if (isDebugging(node, DebuggerType.CLONE)) {\n            debugger;\n        }\n        if (isCanvasElement(node)) {\n            return this.createCanvasClone(node);\n        }\n        if (isVideoElement(node)) {\n            return this.createVideoClone(node);\n        }\n        if (isStyleElement(node)) {\n            return this.createStyleClone(node);\n        }\n\n        const clone = node.cloneNode(false) as T;\n        if (isImageElement(clone)) {\n            if (isImageElement(node) && node.currentSrc && node.currentSrc !== node.src) {\n                clone.src = node.currentSrc;\n                clone.srcset = '';\n            }\n\n            if (clone.loading === 'lazy') {\n                clone.loading = 'eager';\n            }\n        }\n\n        if (isCustomElement(clone)) {\n            return this.createCustomElementClone(clone);\n        }\n\n        return clone;\n    }\n\n    createCustomElementClone(node: HTMLElement): HTMLElement {\n        const clone = document.createElement('html2canvascustomelement');\n        copyCSSStyles(node.style, clone);\n\n        return clone;\n    }\n\n    createStyleClone(node: HTMLStyleElement): HTMLStyleElement {\n        try {\n            const sheet = node.sheet as CSSStyleSheet | undefined;\n            if (sheet && sheet.cssRules) {\n                const css: string = [].slice.call(sheet.cssRules, 0).reduce((css: string, rule: CSSRule) => {\n                    if (rule && typeof rule.cssText === 'string') {\n                        return css + rule.cssText;\n                    }\n                    return css;\n                }, '');\n                const style = node.cloneNode(false) as HTMLStyleElement;\n                style.textContent = css;\n                return style;\n            }\n        } catch (e) {\n            // accessing node.sheet.cssRules throws a DOMException\n            this.context.logger.error('Unable to access cssRules property', e);\n            if (e.name !== 'SecurityError') {\n                throw e;\n            }\n        }\n        return node.cloneNode(false) as HTMLStyleElement;\n    }\n\n    createCanvasClone(canvas: HTMLCanvasElement): HTMLImageElement | HTMLCanvasElement {\n        if (this.options.inlineImages && canvas.ownerDocument) {\n            const img = canvas.ownerDocument.createElement('img');\n            try {\n                img.src = canvas.toDataURL();\n                return img;\n            } catch (e) {\n                this.context.logger.info(`Unable to inline canvas contents, canvas is tainted`, canvas);\n            }\n        }\n\n        const clonedCanvas = canvas.cloneNode(false) as HTMLCanvasElement;\n\n        try {\n            clonedCanvas.width = canvas.width;\n            clonedCanvas.height = canvas.height;\n            const ctx = canvas.getContext('2d');\n            const clonedCtx = clonedCanvas.getContext('2d');\n            if (clonedCtx) {\n                if (!this.options.allowTaint && ctx) {\n                    clonedCtx.putImageData(ctx.getImageData(0, 0, canvas.width, canvas.height), 0, 0);\n                } else {\n                    const gl = canvas.getContext('webgl2') ?? canvas.getContext('webgl');\n                    if (gl) {\n                        const attribs = gl.getContextAttributes();\n                        if (attribs?.preserveDrawingBuffer === false) {\n                            this.context.logger.warn(\n                                'Unable to clone WebGL context as it has preserveDrawingBuffer=false',\n                                canvas\n                            );\n                        }\n                    }\n\n                    clonedCtx.drawImage(canvas, 0, 0);\n                }\n            }\n            return clonedCanvas;\n        } catch (e) {\n            this.context.logger.info(`Unable to clone canvas as it is tainted`, canvas);\n        }\n\n        return clonedCanvas;\n    }\n\n    createVideoClone(video: HTMLVideoElement): HTMLCanvasElement {\n        const canvas = video.ownerDocument.createElement('canvas');\n\n        canvas.width = video.offsetWidth;\n        canvas.height = video.offsetHeight;\n        const ctx = canvas.getContext('2d');\n\n        try {\n            if (ctx) {\n                ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\n                if (!this.options.allowTaint) {\n                    ctx.getImageData(0, 0, canvas.width, canvas.height);\n                }\n            }\n            return canvas;\n        } catch (e) {\n            this.context.logger.info(`Unable to clone video as it is tainted`, video);\n        }\n\n        const blankCanvas = video.ownerDocument.createElement('canvas');\n\n        blankCanvas.width = video.offsetWidth;\n        blankCanvas.height = video.offsetHeight;\n        return blankCanvas;\n    }\n\n    appendChildNode(clone: HTMLElement | SVGElement, child: Node, copyStyles: boolean): void {\n        if (\n            !isElementNode(child) ||\n            (!isScriptElement(child) &&\n                !child.hasAttribute(IGNORE_ATTRIBUTE) &&\n                (typeof this.options.ignoreElements !== 'function' || !this.options.ignoreElements(child)))\n        ) {\n            if (!this.options.copyStyles || !isElementNode(child) || !isStyleElement(child)) {\n                clone.appendChild(this.cloneNode(child, copyStyles));\n            }\n        }\n    }\n\n    cloneChildNodes(node: Element, clone: HTMLElement | SVGElement, copyStyles: boolean): void {\n        for (\n            let child = node.shadowRoot ? node.shadowRoot.firstChild : node.firstChild;\n            child;\n            child = child.nextSibling\n        ) {\n            if (isElementNode(child) && isSlotElement(child) && typeof child.assignedNodes === 'function') {\n                const assignedNodes = child.assignedNodes() as ChildNode[];\n                if (assignedNodes.length) {\n                    assignedNodes.forEach((assignedNode) => this.appendChildNode(clone, assignedNode, copyStyles));\n                }\n            } else {\n                this.appendChildNode(clone, child, copyStyles);\n            }\n        }\n    }\n\n    cloneNode(node: Node, copyStyles: boolean): Node {\n        if (isTextNode(node)) {\n            return document.createTextNode(node.data);\n        }\n\n        if (!node.ownerDocument) {\n            return node.cloneNode(false);\n        }\n\n        const window = node.ownerDocument.defaultView;\n\n        if (window && isElementNode(node) && (isHTMLElementNode(node) || isSVGElementNode(node))) {\n            const clone = this.createElementClone(node);\n            clone.style.transitionProperty = 'none';\n\n            const style = window.getComputedStyle(node);\n            const styleBefore = window.getComputedStyle(node, ':before');\n            const styleAfter = window.getComputedStyle(node, ':after');\n\n            if (this.referenceElement === node && isHTMLElementNode(clone)) {\n                this.clonedReferenceElement = clone;\n            }\n            if (isBodyElement(clone)) {\n                createPseudoHideStyles(clone);\n            }\n\n            const counters = this.counters.parse(new CSSParsedCounterDeclaration(this.context, style));\n            const before = this.resolvePseudoContent(node, clone, styleBefore, PseudoElementType.BEFORE);\n\n            if (isCustomElement(node)) {\n                copyStyles = true;\n            }\n\n            if (!isVideoElement(node)) {\n                this.cloneChildNodes(node, clone, copyStyles);\n            }\n\n            if (before) {\n                clone.insertBefore(before, clone.firstChild);\n            }\n\n            const after = this.resolvePseudoContent(node, clone, styleAfter, PseudoElementType.AFTER);\n            if (after) {\n                clone.appendChild(after);\n            }\n\n            this.counters.pop(counters);\n\n            if (\n                (style && (this.options.copyStyles || isSVGElementNode(node)) && !isIFrameElement(node)) ||\n                copyStyles\n            ) {\n                copyCSSStyles(style, clone);\n            }\n\n            if (node.scrollTop !== 0 || node.scrollLeft !== 0) {\n                this.scrolledElements.push([clone, node.scrollLeft, node.scrollTop]);\n            }\n\n            if (\n                (isTextareaElement(node) || isSelectElement(node)) &&\n                (isTextareaElement(clone) || isSelectElement(clone))\n            ) {\n                clone.value = node.value;\n            }\n\n            return clone;\n        }\n\n        return node.cloneNode(false);\n    }\n\n    resolvePseudoContent(\n        node: Element,\n        clone: Element,\n        style: CSSStyleDeclaration,\n        pseudoElt: PseudoElementType\n    ): HTMLElement | void {\n        if (!style) {\n            return;\n        }\n\n        const value = style.content;\n        const document = clone.ownerDocument;\n        if (!document || !value || value === 'none' || value === '-moz-alt-content' || style.display === 'none') {\n            return;\n        }\n\n        this.counters.parse(new CSSParsedCounterDeclaration(this.context, style));\n        const declaration = new CSSParsedPseudoDeclaration(this.context, style);\n\n        const anonymousReplacedElement = document.createElement('html2canvaspseudoelement');\n        copyCSSStyles(style, anonymousReplacedElement);\n\n        declaration.content.forEach((token) => {\n            if (token.type === TokenType.STRING_TOKEN) {\n                anonymousReplacedElement.appendChild(document.createTextNode(token.value));\n            } else if (token.type === TokenType.URL_TOKEN) {\n                const img = document.createElement('img');\n                img.src = token.value;\n                img.style.opacity = '1';\n                anonymousReplacedElement.appendChild(img);\n            } else if (token.type === TokenType.FUNCTION) {\n                if (token.name === 'attr') {\n                    const attr = token.values.filter(isIdentToken);\n                    if (attr.length) {\n                        anonymousReplacedElement.appendChild(\n                            document.createTextNode(node.getAttribute(attr[0].value) || '')\n                        );\n                    }\n                } else if (token.name === 'counter') {\n                    const [counter, counterStyle] = token.values.filter(nonFunctionArgSeparator);\n                    if (counter && isIdentToken(counter)) {\n                        const counterState = this.counters.getCounterValue(counter.value);\n                        const counterType =\n                            counterStyle && isIdentToken(counterStyle)\n                                ? listStyleType.parse(this.context, counterStyle.value)\n                                : LIST_STYLE_TYPE.DECIMAL;\n\n                        anonymousReplacedElement.appendChild(\n                            document.createTextNode(createCounterText(counterState, counterType, false))\n                        );\n                    }\n                } else if (token.name === 'counters') {\n                    const [counter, delim, counterStyle] = token.values.filter(nonFunctionArgSeparator);\n                    if (counter && isIdentToken(counter)) {\n                        const counterStates = this.counters.getCounterValues(counter.value);\n                        const counterType =\n                            counterStyle && isIdentToken(counterStyle)\n                                ? listStyleType.parse(this.context, counterStyle.value)\n                                : LIST_STYLE_TYPE.DECIMAL;\n                        const separator = delim && delim.type === TokenType.STRING_TOKEN ? delim.value : '';\n                        const text = counterStates\n                            .map((value) => createCounterText(value, counterType, false))\n                            .join(separator);\n\n                        anonymousReplacedElement.appendChild(document.createTextNode(text));\n                    }\n                } else {\n                    //   console.log('FUNCTION_TOKEN', token);\n                }\n            } else if (token.type === TokenType.IDENT_TOKEN) {\n                switch (token.value) {\n                    case 'open-quote':\n                        anonymousReplacedElement.appendChild(\n                            document.createTextNode(getQuote(declaration.quotes, this.quoteDepth++, true))\n                        );\n                        break;\n                    case 'close-quote':\n                        anonymousReplacedElement.appendChild(\n                            document.createTextNode(getQuote(declaration.quotes, --this.quoteDepth, false))\n                        );\n                        break;\n                    default:\n                        // safari doesn't parse string tokens correctly because of lack of quotes\n                        anonymousReplacedElement.appendChild(document.createTextNode(token.value));\n                }\n            }\n        });\n\n        anonymousReplacedElement.className = `${PSEUDO_HIDE_ELEMENT_CLASS_BEFORE} ${PSEUDO_HIDE_ELEMENT_CLASS_AFTER}`;\n        const newClassName =\n            pseudoElt === PseudoElementType.BEFORE\n                ? ` ${PSEUDO_HIDE_ELEMENT_CLASS_BEFORE}`\n                : ` ${PSEUDO_HIDE_ELEMENT_CLASS_AFTER}`;\n\n        if (isSVGElementNode(clone)) {\n            clone.className.baseValue += newClassName;\n        } else {\n            clone.className += newClassName;\n        }\n\n        return anonymousReplacedElement;\n    }\n\n    static destroy(container: HTMLIFrameElement): boolean {\n        if (container.parentNode) {\n            container.parentNode.removeChild(container);\n            return true;\n        }\n        return false;\n    }\n}\n\nenum PseudoElementType {\n    BEFORE,\n    AFTER\n}\n\nconst createIFrameContainer = (ownerDocument: Document, bounds: Bounds): HTMLIFrameElement => {\n    const cloneIframeContainer = ownerDocument.createElement('iframe');\n\n    cloneIframeContainer.className = 'html2canvas-container';\n    cloneIframeContainer.style.visibility = 'hidden';\n    cloneIframeContainer.style.position = 'fixed';\n    cloneIframeContainer.style.left = '-10000px';\n    cloneIframeContainer.style.top = '0px';\n    cloneIframeContainer.style.border = '0';\n    cloneIframeContainer.width = bounds.width.toString();\n    cloneIframeContainer.height = bounds.height.toString();\n    cloneIframeContainer.scrolling = 'no'; // ios won't scroll without it\n    cloneIframeContainer.setAttribute(IGNORE_ATTRIBUTE, 'true');\n    ownerDocument.body.appendChild(cloneIframeContainer);\n\n    return cloneIframeContainer;\n};\n\nconst imageReady = (img: HTMLImageElement): Promise<Event | void | string> => {\n    return new Promise((resolve) => {\n        if (img.complete) {\n            resolve();\n            return;\n        }\n        if (!img.src) {\n            resolve();\n            return;\n        }\n        img.onload = resolve;\n        img.onerror = resolve;\n    });\n};\n\nconst imagesReady = (document: HTMLDocument): Promise<unknown[]> => {\n    return Promise.all([].slice.call(document.images, 0).map(imageReady));\n};\n\nconst iframeLoader = (iframe: HTMLIFrameElement): Promise<HTMLIFrameElement> => {\n    return new Promise((resolve, reject) => {\n        const cloneWindow = iframe.contentWindow;\n\n        if (!cloneWindow) {\n            return reject(`No window assigned for iframe`);\n        }\n\n        const documentClone = cloneWindow.document;\n\n        cloneWindow.onload = iframe.onload = () => {\n            cloneWindow.onload = iframe.onload = null;\n            const interval = setInterval(() => {\n                if (documentClone.body.childNodes.length > 0 && documentClone.readyState === 'complete') {\n                    clearInterval(interval);\n                    resolve(iframe);\n                }\n            }, 50);\n        };\n    });\n};\n\nconst ignoredStyleProperties = [\n    'all', // #2476\n    'd', // #2483\n    'content' // Safari shows pseudoelements if content is set\n];\n\nexport const copyCSSStyles = <T extends HTMLElement | SVGElement>(style: CSSStyleDeclaration, target: T): T => {\n    // Edge does not provide value for cssText\n    for (let i = style.length - 1; i >= 0; i--) {\n        const property = style.item(i);\n        if (ignoredStyleProperties.indexOf(property) === -1) {\n            target.style.setProperty(property, style.getPropertyValue(property));\n        }\n    }\n    return target;\n};\n\nconst serializeDoctype = (doctype?: DocumentType | null): string => {\n    let str = '';\n    if (doctype) {\n        str += '<!DOCTYPE ';\n        if (doctype.name) {\n            str += doctype.name;\n        }\n\n        if (doctype.internalSubset) {\n            str += doctype.internalSubset;\n        }\n\n        if (doctype.publicId) {\n            str += `\"${doctype.publicId}\"`;\n        }\n\n        if (doctype.systemId) {\n            str += `\"${doctype.systemId}\"`;\n        }\n\n        str += '>';\n    }\n\n    return str;\n};\n\nconst restoreOwnerScroll = (ownerDocument: Document | null, x: number, y: number) => {\n    if (\n        ownerDocument &&\n        ownerDocument.defaultView &&\n        (x !== ownerDocument.defaultView.pageXOffset || y !== ownerDocument.defaultView.pageYOffset)\n    ) {\n        ownerDocument.defaultView.scrollTo(x, y);\n    }\n};\n\nconst restoreNodeScroll = ([element, x, y]: [HTMLElement, number, number]) => {\n    element.scrollLeft = x;\n    element.scrollTop = y;\n};\n\nconst PSEUDO_BEFORE = ':before';\nconst PSEUDO_AFTER = ':after';\nconst PSEUDO_HIDE_ELEMENT_CLASS_BEFORE = '___html2canvas___pseudoelement_before';\nconst PSEUDO_HIDE_ELEMENT_CLASS_AFTER = '___html2canvas___pseudoelement_after';\n\nconst PSEUDO_HIDE_ELEMENT_STYLE = `{\n    content: \"\" !important;\n    display: none !important;\n}`;\n\nconst createPseudoHideStyles = (body: HTMLElement) => {\n    createStyles(\n        body,\n        `.${PSEUDO_HIDE_ELEMENT_CLASS_BEFORE}${PSEUDO_BEFORE}${PSEUDO_HIDE_ELEMENT_STYLE}\n         .${PSEUDO_HIDE_ELEMENT_CLASS_AFTER}${PSEUDO_AFTER}${PSEUDO_HIDE_ELEMENT_STYLE}`\n    );\n};\n\nconst createStyles = (body: HTMLElement, styles: string) => {\n    const document = body.ownerDocument;\n    if (document) {\n        const style = document.createElement('style');\n        style.textContent = styles;\n        body.appendChild(style);\n    }\n};\n","import {fromCodePoint, toCodePoints} from 'css-line-break';\n\nconst testRangeBounds = (document: Document) => {\n    const TEST_HEIGHT = 123;\n\n    if (document.createRange) {\n        const range = document.createRange();\n        if (range.getBoundingClientRect) {\n            const testElement = document.createElement('boundtest');\n            testElement.style.height = `${TEST_HEIGHT}px`;\n            testElement.style.display = 'block';\n            document.body.appendChild(testElement);\n\n            range.selectNode(testElement);\n            const rangeBounds = range.getBoundingClientRect();\n            const rangeHeight = Math.round(rangeBounds.height);\n            document.body.removeChild(testElement);\n            if (rangeHeight === TEST_HEIGHT) {\n                return true;\n            }\n        }\n    }\n\n    return false;\n};\n\nconst testIOSLineBreak = (document: Document) => {\n    const testElement = document.createElement('boundtest');\n    testElement.style.width = '50px';\n    testElement.style.display = 'block';\n    testElement.style.fontSize = '12px';\n    testElement.style.letterSpacing = '0px';\n    testElement.style.wordSpacing = '0px';\n    document.body.appendChild(testElement);\n    const range = document.createRange();\n\n    testElement.innerHTML = typeof ''.repeat === 'function' ? '&#128104;'.repeat(10) : '';\n\n    const node = testElement.firstChild as Text;\n\n    const textList = toCodePoints(node.data).map((i) => fromCodePoint(i));\n    let offset = 0;\n    let prev: DOMRect = {} as DOMRect;\n\n    // ios 13 does not handle range getBoundingClientRect line changes correctly #2177\n    const supports = textList.every((text, i) => {\n        range.setStart(node, offset);\n        range.setEnd(node, offset + text.length);\n        const rect = range.getBoundingClientRect();\n\n        offset += text.length;\n        const boundAhead = rect.x > prev.x || rect.y > prev.y;\n\n        prev = rect;\n        if (i === 0) {\n            return true;\n        }\n\n        return boundAhead;\n    });\n\n    document.body.removeChild(testElement);\n    return supports;\n};\n\nconst testCORS = (): boolean => typeof new Image().crossOrigin !== 'undefined';\n\nconst testResponseType = (): boolean => typeof new XMLHttpRequest().responseType === 'string';\n\nconst testSVG = (document: Document): boolean => {\n    const img = new Image();\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d');\n    if (!ctx) {\n        return false;\n    }\n\n    img.src = `data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>`;\n\n    try {\n        ctx.drawImage(img, 0, 0);\n        canvas.toDataURL();\n    } catch (e) {\n        return false;\n    }\n    return true;\n};\n\nconst isGreenPixel = (data: Uint8ClampedArray): boolean =>\n    data[0] === 0 && data[1] === 255 && data[2] === 0 && data[3] === 255;\n\nconst testForeignObject = (document: Document): Promise<boolean> => {\n    const canvas = document.createElement('canvas');\n    const size = 100;\n    canvas.width = size;\n    canvas.height = size;\n    const ctx = canvas.getContext('2d');\n    if (!ctx) {\n        return Promise.reject(false);\n    }\n    ctx.fillStyle = 'rgb(0, 255, 0)';\n    ctx.fillRect(0, 0, size, size);\n\n    const img = new Image();\n    const greenImageSrc = canvas.toDataURL();\n    img.src = greenImageSrc;\n    const svg = createForeignObjectSVG(size, size, 0, 0, img);\n    ctx.fillStyle = 'red';\n    ctx.fillRect(0, 0, size, size);\n\n    return loadSerializedSVG(svg)\n        .then((img: HTMLImageElement) => {\n            ctx.drawImage(img, 0, 0);\n            const data = ctx.getImageData(0, 0, size, size).data;\n            ctx.fillStyle = 'red';\n            ctx.fillRect(0, 0, size, size);\n\n            const node = document.createElement('div');\n            node.style.backgroundImage = `url(${greenImageSrc})`;\n            node.style.height = `${size}px`;\n            // Firefox 55 does not render inline <img /> tags\n            return isGreenPixel(data)\n                ? loadSerializedSVG(createForeignObjectSVG(size, size, 0, 0, node))\n                : Promise.reject(false);\n        })\n        .then((img: HTMLImageElement) => {\n            ctx.drawImage(img, 0, 0);\n            // Edge does not render background-images\n            return isGreenPixel(ctx.getImageData(0, 0, size, size).data);\n        })\n        .catch(() => false);\n};\n\nexport const createForeignObjectSVG = (\n    width: number,\n    height: number,\n    x: number,\n    y: number,\n    node: Node\n): SVGForeignObjectElement => {\n    const xmlns = 'http://www.w3.org/2000/svg';\n    const svg = document.createElementNS(xmlns, 'svg');\n    const foreignObject = document.createElementNS(xmlns, 'foreignObject');\n    svg.setAttributeNS(null, 'width', width.toString());\n    svg.setAttributeNS(null, 'height', height.toString());\n\n    foreignObject.setAttributeNS(null, 'width', '100%');\n    foreignObject.setAttributeNS(null, 'height', '100%');\n    foreignObject.setAttributeNS(null, 'x', x.toString());\n    foreignObject.setAttributeNS(null, 'y', y.toString());\n    foreignObject.setAttributeNS(null, 'externalResourcesRequired', 'true');\n    svg.appendChild(foreignObject);\n\n    foreignObject.appendChild(node);\n\n    return svg;\n};\n\nexport const loadSerializedSVG = (svg: Node): Promise<HTMLImageElement> => {\n    return new Promise((resolve, reject) => {\n        const img = new Image();\n        img.onload = () => resolve(img);\n        img.onerror = reject;\n\n        img.src = `data:image/svg+xml;charset=utf-8,${encodeURIComponent(new XMLSerializer().serializeToString(svg))}`;\n    });\n};\n\nexport const FEATURES = {\n    get SUPPORT_RANGE_BOUNDS(): boolean {\n        'use strict';\n        const value = testRangeBounds(document);\n        Object.defineProperty(FEATURES, 'SUPPORT_RANGE_BOUNDS', {value});\n        return value;\n    },\n    get SUPPORT_WORD_BREAKING(): boolean {\n        'use strict';\n        const value = FEATURES.SUPPORT_RANGE_BOUNDS && testIOSLineBreak(document);\n        Object.defineProperty(FEATURES, 'SUPPORT_WORD_BREAKING', {value});\n        return value;\n    },\n    get SUPPORT_SVG_DRAWING(): boolean {\n        'use strict';\n        const value = testSVG(document);\n        Object.defineProperty(FEATURES, 'SUPPORT_SVG_DRAWING', {value});\n        return value;\n    },\n    get SUPPORT_FOREIGNOBJECT_DRAWING(): Promise<boolean> {\n        'use strict';\n        const value =\n            typeof Array.from === 'function' && typeof window.fetch === 'function'\n                ? testForeignObject(document)\n                : Promise.resolve(false);\n        Object.defineProperty(FEATURES, 'SUPPORT_FOREIGNOBJECT_DRAWING', {value});\n        return value;\n    },\n    get SUPPORT_CORS_IMAGES(): boolean {\n        'use strict';\n        const value = testCORS();\n        Object.defineProperty(FEATURES, 'SUPPORT_CORS_IMAGES', {value});\n        return value;\n    },\n    get SUPPORT_RESPONSE_TYPE(): boolean {\n        'use strict';\n        const value = testResponseType();\n        Object.defineProperty(FEATURES, 'SUPPORT_RESPONSE_TYPE', {value});\n        return value;\n    },\n    get SUPPORT_CORS_XHR(): boolean {\n        'use strict';\n        const value = 'withCredentials' in new XMLHttpRequest();\n        Object.defineProperty(FEATURES, 'SUPPORT_CORS_XHR', {value});\n        return value;\n    },\n    get SUPPORT_NATIVE_TEXT_SEGMENTATION(): boolean {\n        'use strict';\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const value = !!(typeof Intl !== 'undefined' && (Intl as any).Segmenter);\n        Object.defineProperty(FEATURES, 'SUPPORT_NATIVE_TEXT_SEGMENTATION', {value});\n        return value;\n    }\n};\n","import {OVERFLOW_WRAP} from '../property-descriptors/overflow-wrap';\nimport {CSSParsedDeclaration} from '../index';\nimport {fromCodePoint, LineBreaker, toCodePoints} from 'css-line-break';\nimport {splitGraphemes} from 'text-segmentation';\nimport {Bounds, parseBounds} from './bounds';\nimport {FEATURES} from '../../core/features';\nimport {Context} from '../../core/context';\n\nexport class TextBounds {\n    readonly text: string;\n    readonly bounds: Bounds;\n\n    constructor(text: string, bounds: Bounds) {\n        this.text = text;\n        this.bounds = bounds;\n    }\n}\n\nexport const parseTextBounds = (\n    context: Context,\n    value: string,\n    styles: CSSParsedDeclaration,\n    node: Text\n): TextBounds[] => {\n    const textList = breakText(value, styles);\n    const textBounds: TextBounds[] = [];\n    let offset = 0;\n    textList.forEach((text) => {\n        if (styles.textDecorationLine.length || text.trim().length > 0) {\n            if (FEATURES.SUPPORT_RANGE_BOUNDS) {\n                const clientRects = createRange(node, offset, text.length).getClientRects();\n                if (clientRects.length > 1) {\n                    const subSegments = segmentGraphemes(text);\n                    let subOffset = 0;\n                    subSegments.forEach((subSegment) => {\n                        textBounds.push(\n                            new TextBounds(\n                                subSegment,\n                                Bounds.fromDOMRectList(\n                                    context,\n                                    createRange(node, subOffset + offset, subSegment.length).getClientRects()\n                                )\n                            )\n                        );\n                        subOffset += subSegment.length;\n                    });\n                } else {\n                    textBounds.push(new TextBounds(text, Bounds.fromDOMRectList(context, clientRects)));\n                }\n            } else {\n                const replacementNode = node.splitText(text.length);\n                textBounds.push(new TextBounds(text, getWrapperBounds(context, node)));\n                node = replacementNode;\n            }\n        } else if (!FEATURES.SUPPORT_RANGE_BOUNDS) {\n            node = node.splitText(text.length);\n        }\n        offset += text.length;\n    });\n\n    return textBounds;\n};\n\nconst getWrapperBounds = (context: Context, node: Text): Bounds => {\n    const ownerDocument = node.ownerDocument;\n    if (ownerDocument) {\n        const wrapper = ownerDocument.createElement('html2canvaswrapper');\n        wrapper.appendChild(node.cloneNode(true));\n        const parentNode = node.parentNode;\n        if (parentNode) {\n            parentNode.replaceChild(wrapper, node);\n            const bounds = parseBounds(context, wrapper);\n            if (wrapper.firstChild) {\n                parentNode.replaceChild(wrapper.firstChild, wrapper);\n            }\n            return bounds;\n        }\n    }\n\n    return Bounds.EMPTY;\n};\n\nconst createRange = (node: Text, offset: number, length: number): Range => {\n    const ownerDocument = node.ownerDocument;\n    if (!ownerDocument) {\n        throw new Error('Node has no owner document');\n    }\n    const range = ownerDocument.createRange();\n    range.setStart(node, offset);\n    range.setEnd(node, offset + length);\n    return range;\n};\n\nexport const segmentGraphemes = (value: string): string[] => {\n    if (FEATURES.SUPPORT_NATIVE_TEXT_SEGMENTATION) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const segmenter = new (Intl as any).Segmenter(void 0, {granularity: 'grapheme'});\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return Array.from(segmenter.segment(value)).map((segment: any) => segment.segment);\n    }\n\n    return splitGraphemes(value);\n};\n\nconst segmentWords = (value: string, styles: CSSParsedDeclaration): string[] => {\n    if (FEATURES.SUPPORT_NATIVE_TEXT_SEGMENTATION) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const segmenter = new (Intl as any).Segmenter(void 0, {\n            granularity: 'word'\n        });\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return Array.from(segmenter.segment(value)).map((segment: any) => segment.segment);\n    }\n\n    return breakWords(value, styles);\n};\n\nconst breakText = (value: string, styles: CSSParsedDeclaration): string[] => {\n    return styles.letterSpacing !== 0 ? segmentGraphemes(value) : segmentWords(value, styles);\n};\n\n// https://drafts.csswg.org/css-text/#word-separator\nconst wordSeparators = [0x0020, 0x00a0, 0x1361, 0x10100, 0x10101, 0x1039, 0x1091];\n\nconst breakWords = (str: string, styles: CSSParsedDeclaration): string[] => {\n    const breaker = LineBreaker(str, {\n        lineBreak: styles.lineBreak,\n        wordBreak: styles.overflowWrap === OVERFLOW_WRAP.BREAK_WORD ? 'break-word' : styles.wordBreak\n    });\n\n    const words = [];\n    let bk;\n\n    while (!(bk = breaker.next()).done) {\n        if (bk.value) {\n            const value = bk.value.slice();\n            const codePoints = toCodePoints(value);\n            let word = '';\n            codePoints.forEach((codePoint) => {\n                if (wordSeparators.indexOf(codePoint) === -1) {\n                    word += fromCodePoint(codePoint);\n                } else {\n                    if (word.length) {\n                        words.push(word);\n                    }\n                    words.push(fromCodePoint(codePoint));\n                    word = '';\n                }\n            });\n\n            if (word.length) {\n                words.push(word);\n            }\n        }\n    }\n\n    return words;\n};\n","import {CSSParsedDeclaration} from '../css/index';\nimport {TEXT_TRANSFORM} from '../css/property-descriptors/text-transform';\nimport {parseTextBounds, TextBounds} from '../css/layout/text';\nimport {Context} from '../core/context';\n\nexport class TextContainer {\n    text: string;\n    textBounds: TextBounds[];\n\n    constructor(context: Context, node: Text, styles: CSSParsedDeclaration) {\n        this.text = transform(node.data, styles.textTransform);\n        this.textBounds = parseTextBounds(context, this.text, styles, node);\n    }\n}\n\nconst transform = (text: string, transform: TEXT_TRANSFORM) => {\n    switch (transform) {\n        case TEXT_TRANSFORM.LOWERCASE:\n            return text.toLowerCase();\n        case TEXT_TRANSFORM.CAPITALIZE:\n            return text.replace(CAPITALIZE, capitalize);\n        case TEXT_TRANSFORM.UPPERCASE:\n            return text.toUpperCase();\n        default:\n            return text;\n    }\n};\n\nconst CAPITALIZE = /(^|\\s|:|-|\\(|\\))([a-z])/g;\n\nconst capitalize = (m: string, p1: string, p2: string) => {\n    if (m.length > 0) {\n        return p1 + p2.toUpperCase();\n    }\n\n    return m;\n};\n","import {ElementContainer} from '../element-container';\nimport {Context} from '../../core/context';\n\nexport class ImageElementContainer extends ElementContainer {\n    src: string;\n    intrinsicWidth: number;\n    intrinsicHeight: number;\n\n    constructor(context: Context, img: HTMLImageElement) {\n        super(context, img);\n        this.src = img.currentSrc || img.src;\n        this.intrinsicWidth = img.naturalWidth;\n        this.intrinsicHeight = img.naturalHeight;\n        this.context.cache.addImage(this.src);\n    }\n}\n","import {ElementContainer} from '../element-container';\nimport {Context} from '../../core/context';\n\nexport class CanvasElementContainer extends ElementContainer {\n    canvas: HTMLCanvasElement;\n    intrinsicWidth: number;\n    intrinsicHeight: number;\n\n    constructor(context: Context, canvas: HTMLCanvasElement) {\n        super(context, canvas);\n        this.canvas = canvas;\n        this.intrinsicWidth = canvas.width;\n        this.intrinsicHeight = canvas.height;\n    }\n}\n","import {ElementContainer} from '../element-container';\nimport {parseBounds} from '../../css/layout/bounds';\nimport {Context} from '../../core/context';\n\nexport class SVGElementContainer extends ElementContainer {\n    svg: string;\n    intrinsicWidth: number;\n    intrinsicHeight: number;\n\n    constructor(context: Context, img: SVGSVGElement) {\n        super(context, img);\n        const s = new XMLSerializer();\n        const bounds = parseBounds(context, img);\n        img.setAttribute('width', `${bounds.width}px`);\n        img.setAttribute('height', `${bounds.height}px`);\n\n        this.svg = `data:image/svg+xml,${encodeURIComponent(s.serializeToString(img))}`;\n        this.intrinsicWidth = img.width.baseVal.value;\n        this.intrinsicHeight = img.height.baseVal.value;\n\n        this.context.cache.addImage(this.svg);\n    }\n}\n","import {ElementContainer} from '../element-container';\nimport {Context} from '../../core/context';\nexport class LIElementContainer extends ElementContainer {\n    readonly value: number;\n\n    constructor(context: Context, element: HTMLLIElement) {\n        super(context, element);\n        this.value = element.value;\n    }\n}\n","import {ElementContainer} from '../element-container';\nimport {Context} from '../../core/context';\nexport class OLElementContainer extends ElementContainer {\n    readonly start: number;\n    readonly reversed: boolean;\n\n    constructor(context: Context, element: HTMLOListElement) {\n        super(context, element);\n        this.start = element.start;\n        this.reversed = typeof element.reversed === 'boolean' && element.reversed === true;\n    }\n}\n","import {ElementContainer} from '../element-container';\nimport {BORDER_STYLE} from '../../css/property-descriptors/border-style';\nimport {BACKGROUND_CLIP} from '../../css/property-descriptors/background-clip';\nimport {BACKGROUND_ORIGIN} from '../../css/property-descriptors/background-origin';\nimport {TokenType} from '../../css/syntax/tokenizer';\nimport {LengthPercentageTuple} from '../../css/types/length-percentage';\nimport {Bounds} from '../../css/layout/bounds';\nimport {Context} from '../../core/context';\n\nconst CHECKBOX_BORDER_RADIUS: LengthPercentageTuple = [\n    {\n        type: TokenType.DIMENSION_TOKEN,\n        flags: 0,\n        unit: 'px',\n        number: 3\n    }\n];\n\nconst RADIO_BORDER_RADIUS: LengthPercentageTuple = [\n    {\n        type: TokenType.PERCENTAGE_TOKEN,\n        flags: 0,\n        number: 50\n    }\n];\n\nconst reformatInputBounds = (bounds: Bounds): Bounds => {\n    if (bounds.width > bounds.height) {\n        return new Bounds(bounds.left + (bounds.width - bounds.height) / 2, bounds.top, bounds.height, bounds.height);\n    } else if (bounds.width < bounds.height) {\n        return new Bounds(bounds.left, bounds.top + (bounds.height - bounds.width) / 2, bounds.width, bounds.width);\n    }\n    return bounds;\n};\n\nconst getInputValue = (node: HTMLInputElement): string => {\n    const value = node.type === PASSWORD ? new Array(node.value.length + 1).join('\\u2022') : node.value;\n\n    return value.length === 0 ? node.placeholder || '' : value;\n};\n\nexport const CHECKBOX = 'checkbox';\nexport const RADIO = 'radio';\nexport const PASSWORD = 'password';\nexport const INPUT_COLOR = 0x2a2a2aff;\n\nexport class InputElementContainer extends ElementContainer {\n    readonly type: string;\n    readonly checked: boolean;\n    readonly value: string;\n\n    constructor(context: Context, input: HTMLInputElement) {\n        super(context, input);\n        this.type = input.type.toLowerCase();\n        this.checked = input.checked;\n        this.value = getInputValue(input);\n\n        if (this.type === CHECKBOX || this.type === RADIO) {\n            this.styles.backgroundColor = 0xdededeff;\n            this.styles.borderTopColor =\n                this.styles.borderRightColor =\n                this.styles.borderBottomColor =\n                this.styles.borderLeftColor =\n                    0xa5a5a5ff;\n            this.styles.borderTopWidth =\n                this.styles.borderRightWidth =\n                this.styles.borderBottomWidth =\n                this.styles.borderLeftWidth =\n                    1;\n            this.styles.borderTopStyle =\n                this.styles.borderRightStyle =\n                this.styles.borderBottomStyle =\n                this.styles.borderLeftStyle =\n                    BORDER_STYLE.SOLID;\n            this.styles.backgroundClip = [BACKGROUND_CLIP.BORDER_BOX];\n            this.styles.backgroundOrigin = [BACKGROUND_ORIGIN.BORDER_BOX];\n            this.bounds = reformatInputBounds(this.bounds);\n        }\n\n        switch (this.type) {\n            case CHECKBOX:\n                this.styles.borderTopRightRadius =\n                    this.styles.borderTopLeftRadius =\n                    this.styles.borderBottomRightRadius =\n                    this.styles.borderBottomLeftRadius =\n                        CHECKBOX_BORDER_RADIUS;\n                break;\n            case RADIO:\n                this.styles.borderTopRightRadius =\n                    this.styles.borderTopLeftRadius =\n                    this.styles.borderBottomRightRadius =\n                    this.styles.borderBottomLeftRadius =\n                        RADIO_BORDER_RADIUS;\n                break;\n        }\n    }\n}\n","import {ElementContainer} from '../element-container';\nimport {Context} from '../../core/context';\nexport class SelectElementContainer extends ElementContainer {\n    readonly value: string;\n    constructor(context: Context, element: HTMLSelectElement) {\n        super(context, element);\n        const option = element.options[element.selectedIndex || 0];\n        this.value = option ? option.text || '' : '';\n    }\n}\n","import {ElementContainer} from '../element-container';\nimport {Context} from '../../core/context';\nexport class TextareaElementContainer extends ElementContainer {\n    readonly value: string;\n    constructor(context: Context, element: HTMLTextAreaElement) {\n        super(context, element);\n        this.value = element.value;\n    }\n}\n","import {ElementContainer} from '../element-container';\nimport {parseTree} from '../node-parser';\nimport {Color, parseColor, COLORS, isTransparent} from '../../css/types/color';\nimport {Context} from '../../core/context';\n\nexport class IFrameElementContainer extends ElementContainer {\n    src: string;\n    width: number;\n    height: number;\n    tree?: ElementContainer;\n    backgroundColor: Color;\n\n    constructor(context: Context, iframe: HTMLIFrameElement) {\n        super(context, iframe);\n        this.src = iframe.src;\n        this.width = parseInt(iframe.width, 10) || 0;\n        this.height = parseInt(iframe.height, 10) || 0;\n        this.backgroundColor = this.styles.backgroundColor;\n        try {\n            if (\n                iframe.contentWindow &&\n                iframe.contentWindow.document &&\n                iframe.contentWindow.document.documentElement\n            ) {\n                this.tree = parseTree(context, iframe.contentWindow.document.documentElement);\n\n                // http://www.w3.org/TR/css3-background/#special-backgrounds\n                const documentBackgroundColor = iframe.contentWindow.document.documentElement\n                    ? parseColor(\n                          context,\n                          getComputedStyle(iframe.contentWindow.document.documentElement).backgroundColor as string\n                      )\n                    : COLORS.TRANSPARENT;\n                const bodyBackgroundColor = iframe.contentWindow.document.body\n                    ? parseColor(\n                          context,\n                          getComputedStyle(iframe.contentWindow.document.body).backgroundColor as string\n                      )\n                    : COLORS.TRANSPARENT;\n\n                this.backgroundColor = isTransparent(documentBackgroundColor)\n                    ? isTransparent(bodyBackgroundColor)\n                        ? this.styles.backgroundColor\n                        : bodyBackgroundColor\n                    : documentBackgroundColor;\n            }\n        } catch (e) {}\n    }\n}\n","import {CSSParsedDeclaration} from '../css';\nimport {ElementContainer, FLAGS} from './element-container';\nimport {TextContainer} from './text-container';\nimport {ImageElementContainer} from './replaced-elements/image-element-container';\nimport {CanvasElementContainer} from './replaced-elements/canvas-element-container';\nimport {SVGElementContainer} from './replaced-elements/svg-element-container';\nimport {LIElementContainer} from './elements/li-element-container';\nimport {OLElementContainer} from './elements/ol-element-container';\nimport {InputElementContainer} from './replaced-elements/input-element-container';\nimport {SelectElementContainer} from './elements/select-element-container';\nimport {TextareaElementContainer} from './elements/textarea-element-container';\nimport {IFrameElementContainer} from './replaced-elements/iframe-element-container';\nimport {Context} from '../core/context';\n\nconst LIST_OWNERS = ['OL', 'UL', 'MENU'];\n\nconst parseNodeTree = (context: Context, node: Node, parent: ElementContainer, root: ElementContainer) => {\n    for (let childNode = node.firstChild, nextNode; childNode; childNode = nextNode) {\n        nextNode = childNode.nextSibling;\n\n        if (isTextNode(childNode) && childNode.data.trim().length > 0) {\n            parent.textNodes.push(new TextContainer(context, childNode, parent.styles));\n        } else if (isElementNode(childNode)) {\n            if (isSlotElement(childNode) && childNode.assignedNodes) {\n                childNode.assignedNodes().forEach((childNode) => parseNodeTree(context, childNode, parent, root));\n            } else {\n                const container = createContainer(context, childNode);\n                if (container.styles.isVisible()) {\n                    if (createsRealStackingContext(childNode, container, root)) {\n                        container.flags |= FLAGS.CREATES_REAL_STACKING_CONTEXT;\n                    } else if (createsStackingContext(container.styles)) {\n                        container.flags |= FLAGS.CREATES_STACKING_CONTEXT;\n                    }\n\n                    if (LIST_OWNERS.indexOf(childNode.tagName) !== -1) {\n                        container.flags |= FLAGS.IS_LIST_OWNER;\n                    }\n\n                    parent.elements.push(container);\n                    childNode.slot;\n                    if (childNode.shadowRoot) {\n                        parseNodeTree(context, childNode.shadowRoot, container, root);\n                    } else if (\n                        !isTextareaElement(childNode) &&\n                        !isSVGElement(childNode) &&\n                        !isSelectElement(childNode)\n                    ) {\n                        parseNodeTree(context, childNode, container, root);\n                    }\n                }\n            }\n        }\n    }\n};\n\nconst createContainer = (context: Context, element: Element): ElementContainer => {\n    if (isImageElement(element)) {\n        return new ImageElementContainer(context, element);\n    }\n\n    if (isCanvasElement(element)) {\n        return new CanvasElementContainer(context, element);\n    }\n\n    if (isSVGElement(element)) {\n        return new SVGElementContainer(context, element);\n    }\n\n    if (isLIElement(element)) {\n        return new LIElementContainer(context, element);\n    }\n\n    if (isOLElement(element)) {\n        return new OLElementContainer(context, element);\n    }\n\n    if (isInputElement(element)) {\n        return new InputElementContainer(context, element);\n    }\n\n    if (isSelectElement(element)) {\n        return new SelectElementContainer(context, element);\n    }\n\n    if (isTextareaElement(element)) {\n        return new TextareaElementContainer(context, element);\n    }\n\n    if (isIFrameElement(element)) {\n        return new IFrameElementContainer(context, element);\n    }\n\n    return new ElementContainer(context, element);\n};\n\nexport const parseTree = (context: Context, element: HTMLElement): ElementContainer => {\n    const container = createContainer(context, element);\n    container.flags |= FLAGS.CREATES_REAL_STACKING_CONTEXT;\n    parseNodeTree(context, element, container, container);\n    return container;\n};\n\nconst createsRealStackingContext = (node: Element, container: ElementContainer, root: ElementContainer): boolean => {\n    return (\n        container.styles.isPositionedWithZIndex() ||\n        container.styles.opacity < 1 ||\n        container.styles.isTransformed() ||\n        (isBodyElement(node) && root.styles.isTransparent())\n    );\n};\n\nconst createsStackingContext = (styles: CSSParsedDeclaration): boolean => styles.isPositioned() || styles.isFloating();\n\nexport const isTextNode = (node: Node): node is Text => node.nodeType === Node.TEXT_NODE;\nexport const isElementNode = (node: Node): node is Element => node.nodeType === Node.ELEMENT_NODE;\nexport const isHTMLElementNode = (node: Node): node is HTMLElement =>\n    isElementNode(node) && typeof (node as HTMLElement).style !== 'undefined' && !isSVGElementNode(node);\nexport const isSVGElementNode = (element: Element): element is SVGElement =>\n    typeof (element as SVGElement).className === 'object';\nexport const isLIElement = (node: Element): node is HTMLLIElement => node.tagName === 'LI';\nexport const isOLElement = (node: Element): node is HTMLOListElement => node.tagName === 'OL';\nexport const isInputElement = (node: Element): node is HTMLInputElement => node.tagName === 'INPUT';\nexport const isHTMLElement = (node: Element): node is HTMLHtmlElement => node.tagName === 'HTML';\nexport const isSVGElement = (node: Element): node is SVGSVGElement => node.tagName === 'svg';\nexport const isBodyElement = (node: Element): node is HTMLBodyElement => node.tagName === 'BODY';\nexport const isCanvasElement = (node: Element): node is HTMLCanvasElement => node.tagName === 'CANVAS';\nexport const isVideoElement = (node: Element): node is HTMLVideoElement => node.tagName === 'VIDEO';\nexport const isImageElement = (node: Element): node is HTMLImageElement => node.tagName === 'IMG';\nexport const isIFrameElement = (node: Element): node is HTMLIFrameElement => node.tagName === 'IFRAME';\nexport const isStyleElement = (node: Element): node is HTMLStyleElement => node.tagName === 'STYLE';\nexport const isScriptElement = (node: Element): node is HTMLScriptElement => node.tagName === 'SCRIPT';\nexport const isTextareaElement = (node: Element): node is HTMLTextAreaElement => node.tagName === 'TEXTAREA';\nexport const isSelectElement = (node: Element): node is HTMLSelectElement => node.tagName === 'SELECT';\nexport const isSlotElement = (node: Element): node is HTMLSlotElement => node.tagName === 'SLOT';\n// https://html.spec.whatwg.org/multipage/custom-elements.html#valid-custom-element-name\nexport const isCustomElement = (node: Element): node is HTMLElement => node.tagName.indexOf('-') > 0;\n","import {LIST_STYLE_TYPE} from '../../property-descriptors/list-style-type';\nimport {fromCodePoint} from 'css-line-break';\nimport {contains} from '../../../core/bitwise';\nimport {CSSParsedCounterDeclaration} from '../../index';\n\nexport class CounterState {\n    private readonly counters: {[key: string]: number[]} = {};\n\n    getCounterValue(name: string): number {\n        const counter = this.counters[name];\n\n        if (counter && counter.length) {\n            return counter[counter.length - 1];\n        }\n        return 1;\n    }\n\n    getCounterValues(name: string): readonly number[] {\n        const counter = this.counters[name];\n        return counter ? counter : [];\n    }\n\n    pop(counters: string[]): void {\n        counters.forEach((counter) => this.counters[counter].pop());\n    }\n\n    parse(style: CSSParsedCounterDeclaration): string[] {\n        const counterIncrement = style.counterIncrement;\n        const counterReset = style.counterReset;\n        let canReset = true;\n\n        if (counterIncrement !== null) {\n            counterIncrement.forEach((entry) => {\n                const counter = this.counters[entry.counter];\n                if (counter && entry.increment !== 0) {\n                    canReset = false;\n                    if (!counter.length) {\n                        counter.push(1);\n                    }\n                    counter[Math.max(0, counter.length - 1)] += entry.increment;\n                }\n            });\n        }\n\n        const counterNames: string[] = [];\n        if (canReset) {\n            counterReset.forEach((entry) => {\n                let counter = this.counters[entry.counter];\n                counterNames.push(entry.counter);\n                if (!counter) {\n                    counter = this.counters[entry.counter] = [];\n                }\n                counter.push(entry.reset);\n            });\n        }\n\n        return counterNames;\n    }\n}\n\ninterface CounterSymbols {\n    integers: number[];\n    values: string[];\n}\n\nconst ROMAN_UPPER: CounterSymbols = {\n    integers: [1000, 900, 500, 400, 100, 90, 50, 40, 10, 9, 5, 4, 1],\n    values: ['M', 'CM', 'D', 'CD', 'C', 'XC', 'L', 'XL', 'X', 'IX', 'V', 'IV', 'I']\n};\n\nconst ARMENIAN: CounterSymbols = {\n    integers: [\n        9000, 8000, 7000, 6000, 5000, 4000, 3000, 2000, 1000, 900, 800, 700, 600, 500, 400, 300, 200, 100, 90, 80, 70,\n        60, 50, 40, 30, 20, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1\n    ],\n    values: [\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        ''\n    ]\n};\n\nconst HEBREW: CounterSymbols = {\n    integers: [\n        10000, 9000, 8000, 7000, 6000, 5000, 4000, 3000, 2000, 1000, 400, 300, 200, 100, 90, 80, 70, 60, 50, 40, 30, 20,\n        19, 18, 17, 16, 15, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1\n    ],\n    values: [\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        ''\n    ]\n};\n\nconst GEORGIAN: CounterSymbols = {\n    integers: [\n        10000, 9000, 8000, 7000, 6000, 5000, 4000, 3000, 2000, 1000, 900, 800, 700, 600, 500, 400, 300, 200, 100, 90,\n        80, 70, 60, 50, 40, 30, 20, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1\n    ],\n    values: [\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        ''\n    ]\n};\n\nconst createAdditiveCounter = (\n    value: number,\n    min: number,\n    max: number,\n    symbols: CounterSymbols,\n    fallback: LIST_STYLE_TYPE,\n    suffix: string\n) => {\n    if (value < min || value > max) {\n        return createCounterText(value, fallback, suffix.length > 0);\n    }\n\n    return (\n        symbols.integers.reduce((string, integer, index) => {\n            while (value >= integer) {\n                value -= integer;\n                string += symbols.values[index];\n            }\n            return string;\n        }, '') + suffix\n    );\n};\n\nconst createCounterStyleWithSymbolResolver = (\n    value: number,\n    codePointRangeLength: number,\n    isNumeric: boolean,\n    resolver: (codePoint: number) => string\n): string => {\n    let string = '';\n\n    do {\n        if (!isNumeric) {\n            value--;\n        }\n        string = resolver(value) + string;\n        value /= codePointRangeLength;\n    } while (value * codePointRangeLength >= codePointRangeLength);\n\n    return string;\n};\n\nconst createCounterStyleFromRange = (\n    value: number,\n    codePointRangeStart: number,\n    codePointRangeEnd: number,\n    isNumeric: boolean,\n    suffix: string\n): string => {\n    const codePointRangeLength = codePointRangeEnd - codePointRangeStart + 1;\n\n    return (\n        (value < 0 ? '-' : '') +\n        (createCounterStyleWithSymbolResolver(Math.abs(value), codePointRangeLength, isNumeric, (codePoint) =>\n            fromCodePoint(Math.floor(codePoint % codePointRangeLength) + codePointRangeStart)\n        ) +\n            suffix)\n    );\n};\n\nconst createCounterStyleFromSymbols = (value: number, symbols: string, suffix = '. '): string => {\n    const codePointRangeLength = symbols.length;\n    return (\n        createCounterStyleWithSymbolResolver(\n            Math.abs(value),\n            codePointRangeLength,\n            false,\n            (codePoint) => symbols[Math.floor(codePoint % codePointRangeLength)]\n        ) + suffix\n    );\n};\n\nconst CJK_ZEROS = 1 << 0;\nconst CJK_TEN_COEFFICIENTS = 1 << 1;\nconst CJK_TEN_HIGH_COEFFICIENTS = 1 << 2;\nconst CJK_HUNDRED_COEFFICIENTS = 1 << 3;\n\nconst createCJKCounter = (\n    value: number,\n    numbers: string,\n    multipliers: string,\n    negativeSign: string,\n    suffix: string,\n    flags: number\n): string => {\n    if (value < -9999 || value > 9999) {\n        return createCounterText(value, LIST_STYLE_TYPE.CJK_DECIMAL, suffix.length > 0);\n    }\n    let tmp = Math.abs(value);\n    let string = suffix;\n\n    if (tmp === 0) {\n        return numbers[0] + string;\n    }\n\n    for (let digit = 0; tmp > 0 && digit <= 4; digit++) {\n        const coefficient = tmp % 10;\n\n        if (coefficient === 0 && contains(flags, CJK_ZEROS) && string !== '') {\n            string = numbers[coefficient] + string;\n        } else if (\n            coefficient > 1 ||\n            (coefficient === 1 && digit === 0) ||\n            (coefficient === 1 && digit === 1 && contains(flags, CJK_TEN_COEFFICIENTS)) ||\n            (coefficient === 1 && digit === 1 && contains(flags, CJK_TEN_HIGH_COEFFICIENTS) && value > 100) ||\n            (coefficient === 1 && digit > 1 && contains(flags, CJK_HUNDRED_COEFFICIENTS))\n        ) {\n            string = numbers[coefficient] + (digit > 0 ? multipliers[digit - 1] : '') + string;\n        } else if (coefficient === 1 && digit > 0) {\n            string = multipliers[digit - 1] + string;\n        }\n        tmp = Math.floor(tmp / 10);\n    }\n\n    return (value < 0 ? negativeSign : '') + string;\n};\n\nconst CHINESE_INFORMAL_MULTIPLIERS = '';\nconst CHINESE_FORMAL_MULTIPLIERS = '';\nconst JAPANESE_NEGATIVE = '';\nconst KOREAN_NEGATIVE = '';\n\nexport const createCounterText = (value: number, type: LIST_STYLE_TYPE, appendSuffix: boolean): string => {\n    const defaultSuffix = appendSuffix ? '. ' : '';\n    const cjkSuffix = appendSuffix ? '' : '';\n    const koreanSuffix = appendSuffix ? ', ' : '';\n    const spaceSuffix = appendSuffix ? ' ' : '';\n    switch (type) {\n        case LIST_STYLE_TYPE.DISC:\n            return '' + spaceSuffix;\n        case LIST_STYLE_TYPE.CIRCLE:\n            return '' + spaceSuffix;\n        case LIST_STYLE_TYPE.SQUARE:\n            return '' + spaceSuffix;\n        case LIST_STYLE_TYPE.DECIMAL_LEADING_ZERO:\n            const string = createCounterStyleFromRange(value, 48, 57, true, defaultSuffix);\n            return string.length < 4 ? `0${string}` : string;\n        case LIST_STYLE_TYPE.CJK_DECIMAL:\n            return createCounterStyleFromSymbols(value, '', cjkSuffix);\n        case LIST_STYLE_TYPE.LOWER_ROMAN:\n            return createAdditiveCounter(\n                value,\n                1,\n                3999,\n                ROMAN_UPPER,\n                LIST_STYLE_TYPE.DECIMAL,\n                defaultSuffix\n            ).toLowerCase();\n        case LIST_STYLE_TYPE.UPPER_ROMAN:\n            return createAdditiveCounter(value, 1, 3999, ROMAN_UPPER, LIST_STYLE_TYPE.DECIMAL, defaultSuffix);\n        case LIST_STYLE_TYPE.LOWER_GREEK:\n            return createCounterStyleFromRange(value, 945, 969, false, defaultSuffix);\n        case LIST_STYLE_TYPE.LOWER_ALPHA:\n            return createCounterStyleFromRange(value, 97, 122, false, defaultSuffix);\n        case LIST_STYLE_TYPE.UPPER_ALPHA:\n            return createCounterStyleFromRange(value, 65, 90, false, defaultSuffix);\n        case LIST_STYLE_TYPE.ARABIC_INDIC:\n            return createCounterStyleFromRange(value, 1632, 1641, true, defaultSuffix);\n        case LIST_STYLE_TYPE.ARMENIAN:\n        case LIST_STYLE_TYPE.UPPER_ARMENIAN:\n            return createAdditiveCounter(value, 1, 9999, ARMENIAN, LIST_STYLE_TYPE.DECIMAL, defaultSuffix);\n        case LIST_STYLE_TYPE.LOWER_ARMENIAN:\n            return createAdditiveCounter(\n                value,\n                1,\n                9999,\n                ARMENIAN,\n                LIST_STYLE_TYPE.DECIMAL,\n                defaultSuffix\n            ).toLowerCase();\n        case LIST_STYLE_TYPE.BENGALI:\n            return createCounterStyleFromRange(value, 2534, 2543, true, defaultSuffix);\n        case LIST_STYLE_TYPE.CAMBODIAN:\n        case LIST_STYLE_TYPE.KHMER:\n            return createCounterStyleFromRange(value, 6112, 6121, true, defaultSuffix);\n        case LIST_STYLE_TYPE.CJK_EARTHLY_BRANCH:\n            return createCounterStyleFromSymbols(value, '', cjkSuffix);\n        case LIST_STYLE_TYPE.CJK_HEAVENLY_STEM:\n            return createCounterStyleFromSymbols(value, '', cjkSuffix);\n        case LIST_STYLE_TYPE.CJK_IDEOGRAPHIC:\n        case LIST_STYLE_TYPE.TRAD_CHINESE_INFORMAL:\n            return createCJKCounter(\n                value,\n                '',\n                CHINESE_INFORMAL_MULTIPLIERS,\n                '',\n                cjkSuffix,\n                CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS\n            );\n        case LIST_STYLE_TYPE.TRAD_CHINESE_FORMAL:\n            return createCJKCounter(\n                value,\n                '',\n                CHINESE_FORMAL_MULTIPLIERS,\n                '',\n                cjkSuffix,\n                CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS\n            );\n        case LIST_STYLE_TYPE.SIMP_CHINESE_INFORMAL:\n            return createCJKCounter(\n                value,\n                '',\n                CHINESE_INFORMAL_MULTIPLIERS,\n                '',\n                cjkSuffix,\n                CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS\n            );\n        case LIST_STYLE_TYPE.SIMP_CHINESE_FORMAL:\n            return createCJKCounter(\n                value,\n                '',\n                CHINESE_FORMAL_MULTIPLIERS,\n                '',\n                cjkSuffix,\n                CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS\n            );\n        case LIST_STYLE_TYPE.JAPANESE_INFORMAL:\n            return createCJKCounter(value, '', '', JAPANESE_NEGATIVE, cjkSuffix, 0);\n        case LIST_STYLE_TYPE.JAPANESE_FORMAL:\n            return createCJKCounter(\n                value,\n                '',\n                '',\n                JAPANESE_NEGATIVE,\n                cjkSuffix,\n                CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS\n            );\n        case LIST_STYLE_TYPE.KOREAN_HANGUL_FORMAL:\n            return createCJKCounter(\n                value,\n                '',\n                '',\n                KOREAN_NEGATIVE,\n                koreanSuffix,\n                CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS\n            );\n        case LIST_STYLE_TYPE.KOREAN_HANJA_INFORMAL:\n            return createCJKCounter(value, '', '', KOREAN_NEGATIVE, koreanSuffix, 0);\n        case LIST_STYLE_TYPE.KOREAN_HANJA_FORMAL:\n            return createCJKCounter(\n                value,\n                '',\n                '',\n                KOREAN_NEGATIVE,\n                koreanSuffix,\n                CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS\n            );\n        case LIST_STYLE_TYPE.DEVANAGARI:\n            return createCounterStyleFromRange(value, 0x966, 0x96f, true, defaultSuffix);\n        case LIST_STYLE_TYPE.GEORGIAN:\n            return createAdditiveCounter(value, 1, 19999, GEORGIAN, LIST_STYLE_TYPE.DECIMAL, defaultSuffix);\n        case LIST_STYLE_TYPE.GUJARATI:\n            return createCounterStyleFromRange(value, 0xae6, 0xaef, true, defaultSuffix);\n        case LIST_STYLE_TYPE.GURMUKHI:\n            return createCounterStyleFromRange(value, 0xa66, 0xa6f, true, defaultSuffix);\n        case LIST_STYLE_TYPE.HEBREW:\n            return createAdditiveCounter(value, 1, 10999, HEBREW, LIST_STYLE_TYPE.DECIMAL, defaultSuffix);\n        case LIST_STYLE_TYPE.HIRAGANA:\n            return createCounterStyleFromSymbols(\n                value,\n                ''\n            );\n        case LIST_STYLE_TYPE.HIRAGANA_IROHA:\n            return createCounterStyleFromSymbols(\n                value,\n                ''\n            );\n        case LIST_STYLE_TYPE.KANNADA:\n            return createCounterStyleFromRange(value, 0xce6, 0xcef, true, defaultSuffix);\n        case LIST_STYLE_TYPE.KATAKANA:\n            return createCounterStyleFromSymbols(\n                value,\n                '',\n                cjkSuffix\n            );\n        case LIST_STYLE_TYPE.KATAKANA_IROHA:\n            return createCounterStyleFromSymbols(\n                value,\n                '',\n                cjkSuffix\n            );\n        case LIST_STYLE_TYPE.LAO:\n            return createCounterStyleFromRange(value, 0xed0, 0xed9, true, defaultSuffix);\n        case LIST_STYLE_TYPE.MONGOLIAN:\n            return createCounterStyleFromRange(value, 0x1810, 0x1819, true, defaultSuffix);\n        case LIST_STYLE_TYPE.MYANMAR:\n            return createCounterStyleFromRange(value, 0x1040, 0x1049, true, defaultSuffix);\n        case LIST_STYLE_TYPE.ORIYA:\n            return createCounterStyleFromRange(value, 0xb66, 0xb6f, true, defaultSuffix);\n        case LIST_STYLE_TYPE.PERSIAN:\n            return createCounterStyleFromRange(value, 0x6f0, 0x6f9, true, defaultSuffix);\n        case LIST_STYLE_TYPE.TAMIL:\n            return createCounterStyleFromRange(value, 0xbe6, 0xbef, true, defaultSuffix);\n        case LIST_STYLE_TYPE.TELUGU:\n            return createCounterStyleFromRange(value, 0xc66, 0xc6f, true, defaultSuffix);\n        case LIST_STYLE_TYPE.THAI:\n            return createCounterStyleFromRange(value, 0xe50, 0xe59, true, defaultSuffix);\n        case LIST_STYLE_TYPE.TIBETAN:\n            return createCounterStyleFromRange(value, 0xf20, 0xf29, true, defaultSuffix);\n        case LIST_STYLE_TYPE.DECIMAL:\n        default:\n            return createCounterStyleFromRange(value, 48, 57, true, defaultSuffix);\n    }\n};\n","import {ElementContainer} from '../dom/element-container';\nimport {getAbsoluteValue, getAbsoluteValueForTuple} from '../css/types/length-percentage';\nimport {Vector} from './vector';\nimport {BezierCurve} from './bezier-curve';\nimport {Path} from './path';\n\nexport class BoundCurves {\n    readonly topLeftBorderDoubleOuterBox: Path;\n    readonly topRightBorderDoubleOuterBox: Path;\n    readonly bottomRightBorderDoubleOuterBox: Path;\n    readonly bottomLeftBorderDoubleOuterBox: Path;\n    readonly topLeftBorderDoubleInnerBox: Path;\n    readonly topRightBorderDoubleInnerBox: Path;\n    readonly bottomRightBorderDoubleInnerBox: Path;\n    readonly bottomLeftBorderDoubleInnerBox: Path;\n    readonly topLeftBorderStroke: Path;\n    readonly topRightBorderStroke: Path;\n    readonly bottomRightBorderStroke: Path;\n    readonly bottomLeftBorderStroke: Path;\n    readonly topLeftBorderBox: Path;\n    readonly topRightBorderBox: Path;\n    readonly bottomRightBorderBox: Path;\n    readonly bottomLeftBorderBox: Path;\n    readonly topLeftPaddingBox: Path;\n    readonly topRightPaddingBox: Path;\n    readonly bottomRightPaddingBox: Path;\n    readonly bottomLeftPaddingBox: Path;\n    readonly topLeftContentBox: Path;\n    readonly topRightContentBox: Path;\n    readonly bottomRightContentBox: Path;\n    readonly bottomLeftContentBox: Path;\n\n    constructor(element: ElementContainer) {\n        const styles = element.styles;\n        const bounds = element.bounds;\n\n        let [tlh, tlv] = getAbsoluteValueForTuple(styles.borderTopLeftRadius, bounds.width, bounds.height);\n        let [trh, trv] = getAbsoluteValueForTuple(styles.borderTopRightRadius, bounds.width, bounds.height);\n        let [brh, brv] = getAbsoluteValueForTuple(styles.borderBottomRightRadius, bounds.width, bounds.height);\n        let [blh, blv] = getAbsoluteValueForTuple(styles.borderBottomLeftRadius, bounds.width, bounds.height);\n\n        const factors = [];\n        factors.push((tlh + trh) / bounds.width);\n        factors.push((blh + brh) / bounds.width);\n        factors.push((tlv + blv) / bounds.height);\n        factors.push((trv + brv) / bounds.height);\n        const maxFactor = Math.max(...factors);\n\n        if (maxFactor > 1) {\n            tlh /= maxFactor;\n            tlv /= maxFactor;\n            trh /= maxFactor;\n            trv /= maxFactor;\n            brh /= maxFactor;\n            brv /= maxFactor;\n            blh /= maxFactor;\n            blv /= maxFactor;\n        }\n\n        const topWidth = bounds.width - trh;\n        const rightHeight = bounds.height - brv;\n        const bottomWidth = bounds.width - brh;\n        const leftHeight = bounds.height - blv;\n\n        const borderTopWidth = styles.borderTopWidth;\n        const borderRightWidth = styles.borderRightWidth;\n        const borderBottomWidth = styles.borderBottomWidth;\n        const borderLeftWidth = styles.borderLeftWidth;\n\n        const paddingTop = getAbsoluteValue(styles.paddingTop, element.bounds.width);\n        const paddingRight = getAbsoluteValue(styles.paddingRight, element.bounds.width);\n        const paddingBottom = getAbsoluteValue(styles.paddingBottom, element.bounds.width);\n        const paddingLeft = getAbsoluteValue(styles.paddingLeft, element.bounds.width);\n\n        this.topLeftBorderDoubleOuterBox =\n            tlh > 0 || tlv > 0\n                ? getCurvePoints(\n                      bounds.left + borderLeftWidth / 3,\n                      bounds.top + borderTopWidth / 3,\n                      tlh - borderLeftWidth / 3,\n                      tlv - borderTopWidth / 3,\n                      CORNER.TOP_LEFT\n                  )\n                : new Vector(bounds.left + borderLeftWidth / 3, bounds.top + borderTopWidth / 3);\n        this.topRightBorderDoubleOuterBox =\n            tlh > 0 || tlv > 0\n                ? getCurvePoints(\n                      bounds.left + topWidth,\n                      bounds.top + borderTopWidth / 3,\n                      trh - borderRightWidth / 3,\n                      trv - borderTopWidth / 3,\n                      CORNER.TOP_RIGHT\n                  )\n                : new Vector(bounds.left + bounds.width - borderRightWidth / 3, bounds.top + borderTopWidth / 3);\n        this.bottomRightBorderDoubleOuterBox =\n            brh > 0 || brv > 0\n                ? getCurvePoints(\n                      bounds.left + bottomWidth,\n                      bounds.top + rightHeight,\n                      brh - borderRightWidth / 3,\n                      brv - borderBottomWidth / 3,\n                      CORNER.BOTTOM_RIGHT\n                  )\n                : new Vector(\n                      bounds.left + bounds.width - borderRightWidth / 3,\n                      bounds.top + bounds.height - borderBottomWidth / 3\n                  );\n        this.bottomLeftBorderDoubleOuterBox =\n            blh > 0 || blv > 0\n                ? getCurvePoints(\n                      bounds.left + borderLeftWidth / 3,\n                      bounds.top + leftHeight,\n                      blh - borderLeftWidth / 3,\n                      blv - borderBottomWidth / 3,\n                      CORNER.BOTTOM_LEFT\n                  )\n                : new Vector(bounds.left + borderLeftWidth / 3, bounds.top + bounds.height - borderBottomWidth / 3);\n        this.topLeftBorderDoubleInnerBox =\n            tlh > 0 || tlv > 0\n                ? getCurvePoints(\n                      bounds.left + (borderLeftWidth * 2) / 3,\n                      bounds.top + (borderTopWidth * 2) / 3,\n                      tlh - (borderLeftWidth * 2) / 3,\n                      tlv - (borderTopWidth * 2) / 3,\n                      CORNER.TOP_LEFT\n                  )\n                : new Vector(bounds.left + (borderLeftWidth * 2) / 3, bounds.top + (borderTopWidth * 2) / 3);\n        this.topRightBorderDoubleInnerBox =\n            tlh > 0 || tlv > 0\n                ? getCurvePoints(\n                      bounds.left + topWidth,\n                      bounds.top + (borderTopWidth * 2) / 3,\n                      trh - (borderRightWidth * 2) / 3,\n                      trv - (borderTopWidth * 2) / 3,\n                      CORNER.TOP_RIGHT\n                  )\n                : new Vector(\n                      bounds.left + bounds.width - (borderRightWidth * 2) / 3,\n                      bounds.top + (borderTopWidth * 2) / 3\n                  );\n        this.bottomRightBorderDoubleInnerBox =\n            brh > 0 || brv > 0\n                ? getCurvePoints(\n                      bounds.left + bottomWidth,\n                      bounds.top + rightHeight,\n                      brh - (borderRightWidth * 2) / 3,\n                      brv - (borderBottomWidth * 2) / 3,\n                      CORNER.BOTTOM_RIGHT\n                  )\n                : new Vector(\n                      bounds.left + bounds.width - (borderRightWidth * 2) / 3,\n                      bounds.top + bounds.height - (borderBottomWidth * 2) / 3\n                  );\n        this.bottomLeftBorderDoubleInnerBox =\n            blh > 0 || blv > 0\n                ? getCurvePoints(\n                      bounds.left + (borderLeftWidth * 2) / 3,\n                      bounds.top + leftHeight,\n                      blh - (borderLeftWidth * 2) / 3,\n                      blv - (borderBottomWidth * 2) / 3,\n                      CORNER.BOTTOM_LEFT\n                  )\n                : new Vector(\n                      bounds.left + (borderLeftWidth * 2) / 3,\n                      bounds.top + bounds.height - (borderBottomWidth * 2) / 3\n                  );\n        this.topLeftBorderStroke =\n            tlh > 0 || tlv > 0\n                ? getCurvePoints(\n                      bounds.left + borderLeftWidth / 2,\n                      bounds.top + borderTopWidth / 2,\n                      tlh - borderLeftWidth / 2,\n                      tlv - borderTopWidth / 2,\n                      CORNER.TOP_LEFT\n                  )\n                : new Vector(bounds.left + borderLeftWidth / 2, bounds.top + borderTopWidth / 2);\n        this.topRightBorderStroke =\n            tlh > 0 || tlv > 0\n                ? getCurvePoints(\n                      bounds.left + topWidth,\n                      bounds.top + borderTopWidth / 2,\n                      trh - borderRightWidth / 2,\n                      trv - borderTopWidth / 2,\n                      CORNER.TOP_RIGHT\n                  )\n                : new Vector(bounds.left + bounds.width - borderRightWidth / 2, bounds.top + borderTopWidth / 2);\n        this.bottomRightBorderStroke =\n            brh > 0 || brv > 0\n                ? getCurvePoints(\n                      bounds.left + bottomWidth,\n                      bounds.top + rightHeight,\n                      brh - borderRightWidth / 2,\n                      brv - borderBottomWidth / 2,\n                      CORNER.BOTTOM_RIGHT\n                  )\n                : new Vector(\n                      bounds.left + bounds.width - borderRightWidth / 2,\n                      bounds.top + bounds.height - borderBottomWidth / 2\n                  );\n        this.bottomLeftBorderStroke =\n            blh > 0 || blv > 0\n                ? getCurvePoints(\n                      bounds.left + borderLeftWidth / 2,\n                      bounds.top + leftHeight,\n                      blh - borderLeftWidth / 2,\n                      blv - borderBottomWidth / 2,\n                      CORNER.BOTTOM_LEFT\n                  )\n                : new Vector(bounds.left + borderLeftWidth / 2, bounds.top + bounds.height - borderBottomWidth / 2);\n        this.topLeftBorderBox =\n            tlh > 0 || tlv > 0\n                ? getCurvePoints(bounds.left, bounds.top, tlh, tlv, CORNER.TOP_LEFT)\n                : new Vector(bounds.left, bounds.top);\n        this.topRightBorderBox =\n            trh > 0 || trv > 0\n                ? getCurvePoints(bounds.left + topWidth, bounds.top, trh, trv, CORNER.TOP_RIGHT)\n                : new Vector(bounds.left + bounds.width, bounds.top);\n        this.bottomRightBorderBox =\n            brh > 0 || brv > 0\n                ? getCurvePoints(bounds.left + bottomWidth, bounds.top + rightHeight, brh, brv, CORNER.BOTTOM_RIGHT)\n                : new Vector(bounds.left + bounds.width, bounds.top + bounds.height);\n        this.bottomLeftBorderBox =\n            blh > 0 || blv > 0\n                ? getCurvePoints(bounds.left, bounds.top + leftHeight, blh, blv, CORNER.BOTTOM_LEFT)\n                : new Vector(bounds.left, bounds.top + bounds.height);\n        this.topLeftPaddingBox =\n            tlh > 0 || tlv > 0\n                ? getCurvePoints(\n                      bounds.left + borderLeftWidth,\n                      bounds.top + borderTopWidth,\n                      Math.max(0, tlh - borderLeftWidth),\n                      Math.max(0, tlv - borderTopWidth),\n                      CORNER.TOP_LEFT\n                  )\n                : new Vector(bounds.left + borderLeftWidth, bounds.top + borderTopWidth);\n        this.topRightPaddingBox =\n            trh > 0 || trv > 0\n                ? getCurvePoints(\n                      bounds.left + Math.min(topWidth, bounds.width - borderRightWidth),\n                      bounds.top + borderTopWidth,\n                      topWidth > bounds.width + borderRightWidth ? 0 : Math.max(0, trh - borderRightWidth),\n                      Math.max(0, trv - borderTopWidth),\n                      CORNER.TOP_RIGHT\n                  )\n                : new Vector(bounds.left + bounds.width - borderRightWidth, bounds.top + borderTopWidth);\n        this.bottomRightPaddingBox =\n            brh > 0 || brv > 0\n                ? getCurvePoints(\n                      bounds.left + Math.min(bottomWidth, bounds.width - borderLeftWidth),\n                      bounds.top + Math.min(rightHeight, bounds.height - borderBottomWidth),\n                      Math.max(0, brh - borderRightWidth),\n                      Math.max(0, brv - borderBottomWidth),\n                      CORNER.BOTTOM_RIGHT\n                  )\n                : new Vector(\n                      bounds.left + bounds.width - borderRightWidth,\n                      bounds.top + bounds.height - borderBottomWidth\n                  );\n        this.bottomLeftPaddingBox =\n            blh > 0 || blv > 0\n                ? getCurvePoints(\n                      bounds.left + borderLeftWidth,\n                      bounds.top + Math.min(leftHeight, bounds.height - borderBottomWidth),\n                      Math.max(0, blh - borderLeftWidth),\n                      Math.max(0, blv - borderBottomWidth),\n                      CORNER.BOTTOM_LEFT\n                  )\n                : new Vector(bounds.left + borderLeftWidth, bounds.top + bounds.height - borderBottomWidth);\n        this.topLeftContentBox =\n            tlh > 0 || tlv > 0\n                ? getCurvePoints(\n                      bounds.left + borderLeftWidth + paddingLeft,\n                      bounds.top + borderTopWidth + paddingTop,\n                      Math.max(0, tlh - (borderLeftWidth + paddingLeft)),\n                      Math.max(0, tlv - (borderTopWidth + paddingTop)),\n                      CORNER.TOP_LEFT\n                  )\n                : new Vector(bounds.left + borderLeftWidth + paddingLeft, bounds.top + borderTopWidth + paddingTop);\n        this.topRightContentBox =\n            trh > 0 || trv > 0\n                ? getCurvePoints(\n                      bounds.left + Math.min(topWidth, bounds.width + borderLeftWidth + paddingLeft),\n                      bounds.top + borderTopWidth + paddingTop,\n                      topWidth > bounds.width + borderLeftWidth + paddingLeft ? 0 : trh - borderLeftWidth + paddingLeft,\n                      trv - (borderTopWidth + paddingTop),\n                      CORNER.TOP_RIGHT\n                  )\n                : new Vector(\n                      bounds.left + bounds.width - (borderRightWidth + paddingRight),\n                      bounds.top + borderTopWidth + paddingTop\n                  );\n        this.bottomRightContentBox =\n            brh > 0 || brv > 0\n                ? getCurvePoints(\n                      bounds.left + Math.min(bottomWidth, bounds.width - (borderLeftWidth + paddingLeft)),\n                      bounds.top + Math.min(rightHeight, bounds.height + borderTopWidth + paddingTop),\n                      Math.max(0, brh - (borderRightWidth + paddingRight)),\n                      brv - (borderBottomWidth + paddingBottom),\n                      CORNER.BOTTOM_RIGHT\n                  )\n                : new Vector(\n                      bounds.left + bounds.width - (borderRightWidth + paddingRight),\n                      bounds.top + bounds.height - (borderBottomWidth + paddingBottom)\n                  );\n        this.bottomLeftContentBox =\n            blh > 0 || blv > 0\n                ? getCurvePoints(\n                      bounds.left + borderLeftWidth + paddingLeft,\n                      bounds.top + leftHeight,\n                      Math.max(0, blh - (borderLeftWidth + paddingLeft)),\n                      blv - (borderBottomWidth + paddingBottom),\n                      CORNER.BOTTOM_LEFT\n                  )\n                : new Vector(\n                      bounds.left + borderLeftWidth + paddingLeft,\n                      bounds.top + bounds.height - (borderBottomWidth + paddingBottom)\n                  );\n    }\n}\n\nenum CORNER {\n    TOP_LEFT = 0,\n    TOP_RIGHT = 1,\n    BOTTOM_RIGHT = 2,\n    BOTTOM_LEFT = 3\n}\n\nconst getCurvePoints = (x: number, y: number, r1: number, r2: number, position: CORNER): BezierCurve => {\n    const kappa = 4 * ((Math.sqrt(2) - 1) / 3);\n    const ox = r1 * kappa; // control point offset horizontal\n    const oy = r2 * kappa; // control point offset vertical\n    const xm = x + r1; // x-middle\n    const ym = y + r2; // y-middle\n\n    switch (position) {\n        case CORNER.TOP_LEFT:\n            return new BezierCurve(\n                new Vector(x, ym),\n                new Vector(x, ym - oy),\n                new Vector(xm - ox, y),\n                new Vector(xm, y)\n            );\n        case CORNER.TOP_RIGHT:\n            return new BezierCurve(\n                new Vector(x, y),\n                new Vector(x + ox, y),\n                new Vector(xm, ym - oy),\n                new Vector(xm, ym)\n            );\n        case CORNER.BOTTOM_RIGHT:\n            return new BezierCurve(\n                new Vector(xm, y),\n                new Vector(xm, y + oy),\n                new Vector(x + ox, ym),\n                new Vector(x, ym)\n            );\n        case CORNER.BOTTOM_LEFT:\n        default:\n            return new BezierCurve(\n                new Vector(xm, ym),\n                new Vector(xm - ox, ym),\n                new Vector(x, y + oy),\n                new Vector(x, y)\n            );\n    }\n};\n\nexport const calculateBorderBoxPath = (curves: BoundCurves): Path[] => {\n    return [curves.topLeftBorderBox, curves.topRightBorderBox, curves.bottomRightBorderBox, curves.bottomLeftBorderBox];\n};\n\nexport const calculateContentBoxPath = (curves: BoundCurves): Path[] => {\n    return [\n        curves.topLeftContentBox,\n        curves.topRightContentBox,\n        curves.bottomRightContentBox,\n        curves.bottomLeftContentBox\n    ];\n};\n\nexport const calculatePaddingBoxPath = (curves: BoundCurves): Path[] => {\n    return [\n        curves.topLeftPaddingBox,\n        curves.topRightPaddingBox,\n        curves.bottomRightPaddingBox,\n        curves.bottomLeftPaddingBox\n    ];\n};\n","import {FEATURES} from './features';\nimport {Context} from './context';\n\nexport class CacheStorage {\n    private static _link?: HTMLAnchorElement;\n    private static _origin = 'about:blank';\n\n    static getOrigin(url: string): string {\n        const link = CacheStorage._link;\n        if (!link) {\n            return 'about:blank';\n        }\n\n        link.href = url;\n        link.href = link.href; // IE9, LOL! - http://jsfiddle.net/niklasvh/2e48b/\n        return link.protocol + link.hostname + link.port;\n    }\n\n    static isSameOrigin(src: string): boolean {\n        return CacheStorage.getOrigin(src) === CacheStorage._origin;\n    }\n\n    static setContext(window: Window): void {\n        CacheStorage._link = window.document.createElement('a');\n        CacheStorage._origin = CacheStorage.getOrigin(window.location.href);\n    }\n}\n\nexport interface ResourceOptions {\n    imageTimeout: number;\n    useCORS: boolean;\n    allowTaint: boolean;\n    proxy?: string;\n}\n\nexport class Cache {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    private readonly _cache: {[key: string]: Promise<any>} = {};\n\n    constructor(private readonly context: Context, private readonly _options: ResourceOptions) {}\n\n    addImage(src: string): Promise<void> {\n        const result = Promise.resolve();\n        if (this.has(src)) {\n            return result;\n        }\n\n        if (isBlobImage(src) || isRenderable(src)) {\n            (this._cache[src] = this.loadImage(src)).catch(() => {\n                // prevent unhandled rejection\n            });\n            return result;\n        }\n\n        return result;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    match(src: string): Promise<any> {\n        return this._cache[src];\n    }\n\n    private async loadImage(key: string) {\n        const isSameOrigin = CacheStorage.isSameOrigin(key);\n        const useCORS =\n            !isInlineImage(key) && this._options.useCORS === true && FEATURES.SUPPORT_CORS_IMAGES && !isSameOrigin;\n        const useProxy =\n            !isInlineImage(key) &&\n            !isSameOrigin &&\n            !isBlobImage(key) &&\n            typeof this._options.proxy === 'string' &&\n            FEATURES.SUPPORT_CORS_XHR &&\n            !useCORS;\n        if (\n            !isSameOrigin &&\n            this._options.allowTaint === false &&\n            !isInlineImage(key) &&\n            !isBlobImage(key) &&\n            !useProxy &&\n            !useCORS\n        ) {\n            return;\n        }\n\n        let src = key;\n        if (useProxy) {\n            src = await this.proxy(src);\n        }\n\n        this.context.logger.debug(`Added image ${key.substring(0, 256)}`);\n\n        return await new Promise((resolve, reject) => {\n            const img = new Image();\n            img.onload = () => resolve(img);\n            img.onerror = reject;\n            //ios safari 10.3 taints canvas with data urls unless crossOrigin is set to anonymous\n            if (isInlineBase64Image(src) || useCORS) {\n                img.crossOrigin = 'anonymous';\n            }\n            img.src = src;\n            if (img.complete === true) {\n                // Inline XML images may fail to parse, throwing an Error later on\n                setTimeout(() => resolve(img), 500);\n            }\n            if (this._options.imageTimeout > 0) {\n                setTimeout(\n                    () => reject(`Timed out (${this._options.imageTimeout}ms) loading image`),\n                    this._options.imageTimeout\n                );\n            }\n        });\n    }\n\n    private has(key: string): boolean {\n        return typeof this._cache[key] !== 'undefined';\n    }\n\n    keys(): Promise<string[]> {\n        return Promise.resolve(Object.keys(this._cache));\n    }\n\n    private proxy(src: string): Promise<string> {\n        const proxy = this._options.proxy;\n\n        if (!proxy) {\n            throw new Error('No proxy defined');\n        }\n\n        const key = src.substring(0, 256);\n\n        return new Promise((resolve, reject) => {\n            const responseType = FEATURES.SUPPORT_RESPONSE_TYPE ? 'blob' : 'text';\n            const xhr = new XMLHttpRequest();\n            xhr.onload = () => {\n                if (xhr.status === 200) {\n                    if (responseType === 'text') {\n                        resolve(xhr.response);\n                    } else {\n                        const reader = new FileReader();\n                        reader.addEventListener('load', () => resolve(reader.result as string), false);\n                        reader.addEventListener('error', (e) => reject(e), false);\n                        reader.readAsDataURL(xhr.response);\n                    }\n                } else {\n                    reject(`Failed to proxy resource ${key} with status code ${xhr.status}`);\n                }\n            };\n\n            xhr.onerror = reject;\n            const queryString = proxy.indexOf('?') > -1 ? '&' : '?';\n            xhr.open('GET', `${proxy}${queryString}url=${encodeURIComponent(src)}&responseType=${responseType}`);\n\n            if (responseType !== 'text' && xhr instanceof XMLHttpRequest) {\n                xhr.responseType = responseType;\n            }\n\n            if (this._options.imageTimeout) {\n                const timeout = this._options.imageTimeout;\n                xhr.timeout = timeout;\n                xhr.ontimeout = () => reject(`Timed out (${timeout}ms) proxying ${key}`);\n            }\n\n            xhr.send();\n        });\n    }\n}\n\nconst INLINE_SVG = /^data:image\\/svg\\+xml/i;\nconst INLINE_BASE64 = /^data:image\\/.*;base64,/i;\nconst INLINE_IMG = /^data:image\\/.*/i;\n\nconst isRenderable = (src: string): boolean => FEATURES.SUPPORT_SVG_DRAWING || !isSVG(src);\nconst isInlineImage = (src: string): boolean => INLINE_IMG.test(src);\nconst isInlineBase64Image = (src: string): boolean => INLINE_BASE64.test(src);\nconst isBlobImage = (src: string): boolean => src.substr(0, 4) === 'blob';\n\nconst isSVG = (src: string): boolean => src.substr(-3).toLowerCase() === 'svg' || INLINE_SVG.test(src);\n","import {IPath, Path, PathType} from './path';\n\nexport class Vector implements IPath {\n    type: PathType;\n    x: number;\n    y: number;\n\n    constructor(x: number, y: number) {\n        this.type = PathType.VECTOR;\n        this.x = x;\n        this.y = y;\n    }\n\n    add(deltaX: number, deltaY: number): Vector {\n        return new Vector(this.x + deltaX, this.y + deltaY);\n    }\n}\n\nexport const isVector = (path: Path): path is Vector => path.type === PathType.VECTOR;\n","import {Vector} from './vector';\nimport {IPath, PathType, Path} from './path';\n\nconst lerp = (a: Vector, b: Vector, t: number): Vector => {\n    return new Vector(a.x + (b.x - a.x) * t, a.y + (b.y - a.y) * t);\n};\n\nexport class BezierCurve implements IPath {\n    type: PathType;\n    start: Vector;\n    startControl: Vector;\n    endControl: Vector;\n    end: Vector;\n\n    constructor(start: Vector, startControl: Vector, endControl: Vector, end: Vector) {\n        this.type = PathType.BEZIER_CURVE;\n        this.start = start;\n        this.startControl = startControl;\n        this.endControl = endControl;\n        this.end = end;\n    }\n\n    subdivide(t: number, firstHalf: boolean): BezierCurve {\n        const ab = lerp(this.start, this.startControl, t);\n        const bc = lerp(this.startControl, this.endControl, t);\n        const cd = lerp(this.endControl, this.end, t);\n        const abbc = lerp(ab, bc, t);\n        const bccd = lerp(bc, cd, t);\n        const dest = lerp(abbc, bccd, t);\n        return firstHalf ? new BezierCurve(this.start, ab, abbc, dest) : new BezierCurve(dest, bccd, cd, this.end);\n    }\n\n    add(deltaX: number, deltaY: number): BezierCurve {\n        return new BezierCurve(\n            this.start.add(deltaX, deltaY),\n            this.startControl.add(deltaX, deltaY),\n            this.endControl.add(deltaX, deltaY),\n            this.end.add(deltaX, deltaY)\n        );\n    }\n\n    reverse(): BezierCurve {\n        return new BezierCurve(this.end, this.endControl, this.startControl, this.start);\n    }\n}\n\nexport const isBezierCurve = (path: Path): path is BezierCurve => path.type === PathType.BEZIER_CURVE;\n","import {Matrix} from '../css/property-descriptors/transform';\nimport {Path} from './path';\n\nexport const enum EffectType {\n    TRANSFORM = 0,\n    CLIP = 1,\n    OPACITY = 2\n}\n\nexport const enum EffectTarget {\n    BACKGROUND_BORDERS = 1 << 1,\n    CONTENT = 1 << 2\n}\n\nexport interface IElementEffect {\n    readonly type: EffectType;\n    readonly target: number;\n}\n\nexport class TransformEffect implements IElementEffect {\n    readonly type: EffectType = EffectType.TRANSFORM;\n    readonly target: number = EffectTarget.BACKGROUND_BORDERS | EffectTarget.CONTENT;\n\n    constructor(readonly offsetX: number, readonly offsetY: number, readonly matrix: Matrix) {}\n}\n\nexport class ClipEffect implements IElementEffect {\n    readonly type: EffectType = EffectType.CLIP;\n\n    constructor(readonly path: Path[], readonly target: EffectTarget) {}\n}\n\nexport class OpacityEffect implements IElementEffect {\n    readonly type: EffectType = EffectType.OPACITY;\n    readonly target: number = EffectTarget.BACKGROUND_BORDERS | EffectTarget.CONTENT;\n\n    constructor(readonly opacity: number) {}\n}\n\nexport const isTransformEffect = (effect: IElementEffect): effect is TransformEffect =>\n    effect.type === EffectType.TRANSFORM;\nexport const isClipEffect = (effect: IElementEffect): effect is ClipEffect => effect.type === EffectType.CLIP;\nexport const isOpacityEffect = (effect: IElementEffect): effect is OpacityEffect => effect.type === EffectType.OPACITY;\n","import {BezierCurve} from './bezier-curve';\nimport {Vector} from './vector';\nexport const enum PathType {\n    VECTOR = 0,\n    BEZIER_CURVE = 1\n}\n\nexport interface IPath {\n    type: PathType;\n    add(deltaX: number, deltaY: number): IPath;\n}\n\nexport const equalPath = (a: Path[], b: Path[]): boolean => {\n    if (a.length === b.length) {\n        return a.some((v, i) => v === b[i]);\n    }\n\n    return false;\n};\n\nexport const transformPath = (path: Path[], deltaX: number, deltaY: number, deltaW: number, deltaH: number): Path[] => {\n    return path.map((point, index) => {\n        switch (index) {\n            case 0:\n                return point.add(deltaX, deltaY);\n            case 1:\n                return point.add(deltaX + deltaW, deltaY);\n            case 2:\n                return point.add(deltaX + deltaW, deltaY + deltaH);\n            case 3:\n                return point.add(deltaX, deltaY + deltaH);\n        }\n        return point;\n    });\n};\n\nexport type Path = Vector | BezierCurve;\n","import {ElementContainer, FLAGS} from '../dom/element-container';\nimport {contains} from '../core/bitwise';\nimport {BoundCurves, calculateBorderBoxPath, calculatePaddingBoxPath} from './bound-curves';\nimport {ClipEffect, EffectTarget, IElementEffect, isClipEffect, OpacityEffect, TransformEffect} from './effects';\nimport {OVERFLOW} from '../css/property-descriptors/overflow';\nimport {equalPath} from './path';\nimport {DISPLAY} from '../css/property-descriptors/display';\nimport {OLElementContainer} from '../dom/elements/ol-element-container';\nimport {LIElementContainer} from '../dom/elements/li-element-container';\nimport {createCounterText} from '../css/types/functions/counter';\nimport {POSITION} from '../css/property-descriptors/position';\n\nexport class StackingContext {\n    element: ElementPaint;\n    negativeZIndex: StackingContext[];\n    zeroOrAutoZIndexOrTransformedOrOpacity: StackingContext[];\n    positiveZIndex: StackingContext[];\n    nonPositionedFloats: StackingContext[];\n    nonPositionedInlineLevel: StackingContext[];\n    inlineLevel: ElementPaint[];\n    nonInlineLevel: ElementPaint[];\n\n    constructor(container: ElementPaint) {\n        this.element = container;\n        this.inlineLevel = [];\n        this.nonInlineLevel = [];\n        this.negativeZIndex = [];\n        this.zeroOrAutoZIndexOrTransformedOrOpacity = [];\n        this.positiveZIndex = [];\n        this.nonPositionedFloats = [];\n        this.nonPositionedInlineLevel = [];\n    }\n}\n\nexport class ElementPaint {\n    readonly effects: IElementEffect[] = [];\n    readonly curves: BoundCurves;\n    listValue?: string;\n\n    constructor(readonly container: ElementContainer, readonly parent: ElementPaint | null) {\n        this.curves = new BoundCurves(this.container);\n        if (this.container.styles.opacity < 1) {\n            this.effects.push(new OpacityEffect(this.container.styles.opacity));\n        }\n\n        if (this.container.styles.transform !== null) {\n            const offsetX = this.container.bounds.left + this.container.styles.transformOrigin[0].number;\n            const offsetY = this.container.bounds.top + this.container.styles.transformOrigin[1].number;\n            const matrix = this.container.styles.transform;\n            this.effects.push(new TransformEffect(offsetX, offsetY, matrix));\n        }\n\n        if (this.container.styles.overflowX !== OVERFLOW.VISIBLE) {\n            const borderBox = calculateBorderBoxPath(this.curves);\n            const paddingBox = calculatePaddingBoxPath(this.curves);\n\n            if (equalPath(borderBox, paddingBox)) {\n                this.effects.push(new ClipEffect(borderBox, EffectTarget.BACKGROUND_BORDERS | EffectTarget.CONTENT));\n            } else {\n                this.effects.push(new ClipEffect(borderBox, EffectTarget.BACKGROUND_BORDERS));\n                this.effects.push(new ClipEffect(paddingBox, EffectTarget.CONTENT));\n            }\n        }\n    }\n\n    getEffects(target: EffectTarget): IElementEffect[] {\n        let inFlow = [POSITION.ABSOLUTE, POSITION.FIXED].indexOf(this.container.styles.position) === -1;\n        let parent = this.parent;\n        const effects = this.effects.slice(0);\n        while (parent) {\n            const croplessEffects = parent.effects.filter((effect) => !isClipEffect(effect));\n            if (inFlow || parent.container.styles.position !== POSITION.STATIC || !parent.parent) {\n                effects.unshift(...croplessEffects);\n                inFlow = [POSITION.ABSOLUTE, POSITION.FIXED].indexOf(parent.container.styles.position) === -1;\n                if (parent.container.styles.overflowX !== OVERFLOW.VISIBLE) {\n                    const borderBox = calculateBorderBoxPath(parent.curves);\n                    const paddingBox = calculatePaddingBoxPath(parent.curves);\n                    if (!equalPath(borderBox, paddingBox)) {\n                        effects.unshift(\n                            new ClipEffect(paddingBox, EffectTarget.BACKGROUND_BORDERS | EffectTarget.CONTENT)\n                        );\n                    }\n                }\n            } else {\n                effects.unshift(...croplessEffects);\n            }\n\n            parent = parent.parent;\n        }\n\n        return effects.filter((effect) => contains(effect.target, target));\n    }\n}\n\nconst parseStackTree = (\n    parent: ElementPaint,\n    stackingContext: StackingContext,\n    realStackingContext: StackingContext,\n    listItems: ElementPaint[]\n) => {\n    parent.container.elements.forEach((child) => {\n        const treatAsRealStackingContext = contains(child.flags, FLAGS.CREATES_REAL_STACKING_CONTEXT);\n        const createsStackingContext = contains(child.flags, FLAGS.CREATES_STACKING_CONTEXT);\n        const paintContainer = new ElementPaint(child, parent);\n        if (contains(child.styles.display, DISPLAY.LIST_ITEM)) {\n            listItems.push(paintContainer);\n        }\n\n        const listOwnerItems = contains(child.flags, FLAGS.IS_LIST_OWNER) ? [] : listItems;\n\n        if (treatAsRealStackingContext || createsStackingContext) {\n            const parentStack =\n                treatAsRealStackingContext || child.styles.isPositioned() ? realStackingContext : stackingContext;\n\n            const stack = new StackingContext(paintContainer);\n\n            if (child.styles.isPositioned() || child.styles.opacity < 1 || child.styles.isTransformed()) {\n                const order = child.styles.zIndex.order;\n                if (order < 0) {\n                    let index = 0;\n\n                    parentStack.negativeZIndex.some((current, i) => {\n                        if (order > current.element.container.styles.zIndex.order) {\n                            index = i;\n                            return false;\n                        } else if (index > 0) {\n                            return true;\n                        }\n\n                        return false;\n                    });\n                    parentStack.negativeZIndex.splice(index, 0, stack);\n                } else if (order > 0) {\n                    let index = 0;\n                    parentStack.positiveZIndex.some((current, i) => {\n                        if (order >= current.element.container.styles.zIndex.order) {\n                            index = i + 1;\n                            return false;\n                        } else if (index > 0) {\n                            return true;\n                        }\n\n                        return false;\n                    });\n                    parentStack.positiveZIndex.splice(index, 0, stack);\n                } else {\n                    parentStack.zeroOrAutoZIndexOrTransformedOrOpacity.push(stack);\n                }\n            } else {\n                if (child.styles.isFloating()) {\n                    parentStack.nonPositionedFloats.push(stack);\n                } else {\n                    parentStack.nonPositionedInlineLevel.push(stack);\n                }\n            }\n\n            parseStackTree(\n                paintContainer,\n                stack,\n                treatAsRealStackingContext ? stack : realStackingContext,\n                listOwnerItems\n            );\n        } else {\n            if (child.styles.isInlineLevel()) {\n                stackingContext.inlineLevel.push(paintContainer);\n            } else {\n                stackingContext.nonInlineLevel.push(paintContainer);\n            }\n\n            parseStackTree(paintContainer, stackingContext, realStackingContext, listOwnerItems);\n        }\n\n        if (contains(child.flags, FLAGS.IS_LIST_OWNER)) {\n            processListItems(child, listOwnerItems);\n        }\n    });\n};\n\nconst processListItems = (owner: ElementContainer, elements: ElementPaint[]) => {\n    let numbering = owner instanceof OLElementContainer ? owner.start : 1;\n    const reversed = owner instanceof OLElementContainer ? owner.reversed : false;\n    for (let i = 0; i < elements.length; i++) {\n        const item = elements[i];\n        if (\n            item.container instanceof LIElementContainer &&\n            typeof item.container.value === 'number' &&\n            item.container.value !== 0\n        ) {\n            numbering = item.container.value;\n        }\n\n        item.listValue = createCounterText(numbering, item.container.styles.listStyleType, true);\n\n        numbering += reversed ? -1 : 1;\n    }\n};\n\nexport const parseStackingContexts = (container: ElementContainer): StackingContext => {\n    const paintContainer = new ElementPaint(container, null);\n    const root = new StackingContext(paintContainer);\n    const listItems: ElementPaint[] = [];\n    parseStackTree(paintContainer, root, root, listItems);\n    processListItems(paintContainer.container, listItems);\n    return root;\n};\n","import {Path} from './path';\nimport {BoundCurves} from './bound-curves';\nimport {isBezierCurve} from './bezier-curve';\n\nexport const parsePathForBorder = (curves: BoundCurves, borderSide: number): Path[] => {\n    switch (borderSide) {\n        case 0:\n            return createPathFromCurves(\n                curves.topLeftBorderBox,\n                curves.topLeftPaddingBox,\n                curves.topRightBorderBox,\n                curves.topRightPaddingBox\n            );\n        case 1:\n            return createPathFromCurves(\n                curves.topRightBorderBox,\n                curves.topRightPaddingBox,\n                curves.bottomRightBorderBox,\n                curves.bottomRightPaddingBox\n            );\n        case 2:\n            return createPathFromCurves(\n                curves.bottomRightBorderBox,\n                curves.bottomRightPaddingBox,\n                curves.bottomLeftBorderBox,\n                curves.bottomLeftPaddingBox\n            );\n        case 3:\n        default:\n            return createPathFromCurves(\n                curves.bottomLeftBorderBox,\n                curves.bottomLeftPaddingBox,\n                curves.topLeftBorderBox,\n                curves.topLeftPaddingBox\n            );\n    }\n};\n\nexport const parsePathForBorderDoubleOuter = (curves: BoundCurves, borderSide: number): Path[] => {\n    switch (borderSide) {\n        case 0:\n            return createPathFromCurves(\n                curves.topLeftBorderBox,\n                curves.topLeftBorderDoubleOuterBox,\n                curves.topRightBorderBox,\n                curves.topRightBorderDoubleOuterBox\n            );\n        case 1:\n            return createPathFromCurves(\n                curves.topRightBorderBox,\n                curves.topRightBorderDoubleOuterBox,\n                curves.bottomRightBorderBox,\n                curves.bottomRightBorderDoubleOuterBox\n            );\n        case 2:\n            return createPathFromCurves(\n                curves.bottomRightBorderBox,\n                curves.bottomRightBorderDoubleOuterBox,\n                curves.bottomLeftBorderBox,\n                curves.bottomLeftBorderDoubleOuterBox\n            );\n        case 3:\n        default:\n            return createPathFromCurves(\n                curves.bottomLeftBorderBox,\n                curves.bottomLeftBorderDoubleOuterBox,\n                curves.topLeftBorderBox,\n                curves.topLeftBorderDoubleOuterBox\n            );\n    }\n};\n\nexport const parsePathForBorderDoubleInner = (curves: BoundCurves, borderSide: number): Path[] => {\n    switch (borderSide) {\n        case 0:\n            return createPathFromCurves(\n                curves.topLeftBorderDoubleInnerBox,\n                curves.topLeftPaddingBox,\n                curves.topRightBorderDoubleInnerBox,\n                curves.topRightPaddingBox\n            );\n        case 1:\n            return createPathFromCurves(\n                curves.topRightBorderDoubleInnerBox,\n                curves.topRightPaddingBox,\n                curves.bottomRightBorderDoubleInnerBox,\n                curves.bottomRightPaddingBox\n            );\n        case 2:\n            return createPathFromCurves(\n                curves.bottomRightBorderDoubleInnerBox,\n                curves.bottomRightPaddingBox,\n                curves.bottomLeftBorderDoubleInnerBox,\n                curves.bottomLeftPaddingBox\n            );\n        case 3:\n        default:\n            return createPathFromCurves(\n                curves.bottomLeftBorderDoubleInnerBox,\n                curves.bottomLeftPaddingBox,\n                curves.topLeftBorderDoubleInnerBox,\n                curves.topLeftPaddingBox\n            );\n    }\n};\n\nexport const parsePathForBorderStroke = (curves: BoundCurves, borderSide: number): Path[] => {\n    switch (borderSide) {\n        case 0:\n            return createStrokePathFromCurves(curves.topLeftBorderStroke, curves.topRightBorderStroke);\n        case 1:\n            return createStrokePathFromCurves(curves.topRightBorderStroke, curves.bottomRightBorderStroke);\n        case 2:\n            return createStrokePathFromCurves(curves.bottomRightBorderStroke, curves.bottomLeftBorderStroke);\n        case 3:\n        default:\n            return createStrokePathFromCurves(curves.bottomLeftBorderStroke, curves.topLeftBorderStroke);\n    }\n};\n\nconst createStrokePathFromCurves = (outer1: Path, outer2: Path): Path[] => {\n    const path = [];\n    if (isBezierCurve(outer1)) {\n        path.push(outer1.subdivide(0.5, false));\n    } else {\n        path.push(outer1);\n    }\n\n    if (isBezierCurve(outer2)) {\n        path.push(outer2.subdivide(0.5, true));\n    } else {\n        path.push(outer2);\n    }\n\n    return path;\n};\n\nconst createPathFromCurves = (outer1: Path, inner1: Path, outer2: Path, inner2: Path): Path[] => {\n    const path = [];\n    if (isBezierCurve(outer1)) {\n        path.push(outer1.subdivide(0.5, false));\n    } else {\n        path.push(outer1);\n    }\n\n    if (isBezierCurve(outer2)) {\n        path.push(outer2.subdivide(0.5, true));\n    } else {\n        path.push(outer2);\n    }\n\n    if (isBezierCurve(inner2)) {\n        path.push(inner2.subdivide(0.5, true).reverse());\n    } else {\n        path.push(inner2);\n    }\n\n    if (isBezierCurve(inner1)) {\n        path.push(inner1.subdivide(0.5, false).reverse());\n    } else {\n        path.push(inner1);\n    }\n\n    return path;\n};\n","import {getAbsoluteValue} from '../css/types/length-percentage';\nimport {Bounds} from '../css/layout/bounds';\nimport {ElementContainer} from '../dom/element-container';\n\nexport const paddingBox = (element: ElementContainer): Bounds => {\n    const bounds = element.bounds;\n    const styles = element.styles;\n    return bounds.add(\n        styles.borderLeftWidth,\n        styles.borderTopWidth,\n        -(styles.borderRightWidth + styles.borderLeftWidth),\n        -(styles.borderTopWidth + styles.borderBottomWidth)\n    );\n};\n\nexport const contentBox = (element: ElementContainer): Bounds => {\n    const styles = element.styles;\n    const bounds = element.bounds;\n\n    const paddingLeft = getAbsoluteValue(styles.paddingLeft, bounds.width);\n    const paddingRight = getAbsoluteValue(styles.paddingRight, bounds.width);\n    const paddingTop = getAbsoluteValue(styles.paddingTop, bounds.width);\n    const paddingBottom = getAbsoluteValue(styles.paddingBottom, bounds.width);\n\n    return bounds.add(\n        paddingLeft + styles.borderLeftWidth,\n        paddingTop + styles.borderTopWidth,\n        -(styles.borderRightWidth + styles.borderLeftWidth + paddingLeft + paddingRight),\n        -(styles.borderTopWidth + styles.borderBottomWidth + paddingTop + paddingBottom)\n    );\n};\n","import {Bounds} from '../css/layout/bounds';\nimport {BACKGROUND_ORIGIN} from '../css/property-descriptors/background-origin';\nimport {ElementContainer} from '../dom/element-container';\nimport {BACKGROUND_SIZE, BackgroundSizeInfo} from '../css/property-descriptors/background-size';\nimport {Vector} from './vector';\nimport {BACKGROUND_REPEAT} from '../css/property-descriptors/background-repeat';\nimport {getAbsoluteValue, getAbsoluteValueForTuple, isLengthPercentage} from '../css/types/length-percentage';\nimport {CSSValue, isIdentToken} from '../css/syntax/parser';\nimport {contentBox, paddingBox} from './box-sizing';\nimport {Path} from './path';\nimport {BACKGROUND_CLIP} from '../css/property-descriptors/background-clip';\n\nexport const calculateBackgroundPositioningArea = (\n    backgroundOrigin: BACKGROUND_ORIGIN,\n    element: ElementContainer\n): Bounds => {\n    if (backgroundOrigin === BACKGROUND_ORIGIN.BORDER_BOX) {\n        return element.bounds;\n    }\n\n    if (backgroundOrigin === BACKGROUND_ORIGIN.CONTENT_BOX) {\n        return contentBox(element);\n    }\n\n    return paddingBox(element);\n};\n\nexport const calculateBackgroundPaintingArea = (backgroundClip: BACKGROUND_CLIP, element: ElementContainer): Bounds => {\n    if (backgroundClip === BACKGROUND_CLIP.BORDER_BOX) {\n        return element.bounds;\n    }\n\n    if (backgroundClip === BACKGROUND_CLIP.CONTENT_BOX) {\n        return contentBox(element);\n    }\n\n    return paddingBox(element);\n};\n\nexport const calculateBackgroundRendering = (\n    container: ElementContainer,\n    index: number,\n    intrinsicSize: [number | null, number | null, number | null]\n): [Path[], number, number, number, number] => {\n    const backgroundPositioningArea = calculateBackgroundPositioningArea(\n        getBackgroundValueForIndex(container.styles.backgroundOrigin, index),\n        container\n    );\n\n    const backgroundPaintingArea = calculateBackgroundPaintingArea(\n        getBackgroundValueForIndex(container.styles.backgroundClip, index),\n        container\n    );\n\n    const backgroundImageSize = calculateBackgroundSize(\n        getBackgroundValueForIndex(container.styles.backgroundSize, index),\n        intrinsicSize,\n        backgroundPositioningArea\n    );\n\n    const [sizeWidth, sizeHeight] = backgroundImageSize;\n\n    const position = getAbsoluteValueForTuple(\n        getBackgroundValueForIndex(container.styles.backgroundPosition, index),\n        backgroundPositioningArea.width - sizeWidth,\n        backgroundPositioningArea.height - sizeHeight\n    );\n\n    const path = calculateBackgroundRepeatPath(\n        getBackgroundValueForIndex(container.styles.backgroundRepeat, index),\n        position,\n        backgroundImageSize,\n        backgroundPositioningArea,\n        backgroundPaintingArea\n    );\n\n    const offsetX = Math.round(backgroundPositioningArea.left + position[0]);\n    const offsetY = Math.round(backgroundPositioningArea.top + position[1]);\n\n    return [path, offsetX, offsetY, sizeWidth, sizeHeight];\n};\n\nexport const isAuto = (token: CSSValue): boolean => isIdentToken(token) && token.value === BACKGROUND_SIZE.AUTO;\n\nconst hasIntrinsicValue = (value: number | null): value is number => typeof value === 'number';\n\nexport const calculateBackgroundSize = (\n    size: BackgroundSizeInfo[],\n    [intrinsicWidth, intrinsicHeight, intrinsicProportion]: [number | null, number | null, number | null],\n    bounds: Bounds\n): [number, number] => {\n    const [first, second] = size;\n\n    if (!first) {\n        return [0, 0];\n    }\n\n    if (isLengthPercentage(first) && second && isLengthPercentage(second)) {\n        return [getAbsoluteValue(first, bounds.width), getAbsoluteValue(second, bounds.height)];\n    }\n\n    const hasIntrinsicProportion = hasIntrinsicValue(intrinsicProportion);\n\n    if (isIdentToken(first) && (first.value === BACKGROUND_SIZE.CONTAIN || first.value === BACKGROUND_SIZE.COVER)) {\n        if (hasIntrinsicValue(intrinsicProportion)) {\n            const targetRatio = bounds.width / bounds.height;\n\n            return targetRatio < intrinsicProportion !== (first.value === BACKGROUND_SIZE.COVER)\n                ? [bounds.width, bounds.width / intrinsicProportion]\n                : [bounds.height * intrinsicProportion, bounds.height];\n        }\n\n        return [bounds.width, bounds.height];\n    }\n\n    const hasIntrinsicWidth = hasIntrinsicValue(intrinsicWidth);\n    const hasIntrinsicHeight = hasIntrinsicValue(intrinsicHeight);\n    const hasIntrinsicDimensions = hasIntrinsicWidth || hasIntrinsicHeight;\n\n    // If the background-size is auto or auto auto:\n    if (isAuto(first) && (!second || isAuto(second))) {\n        // If the image has both horizontal and vertical intrinsic dimensions, it's rendered at that size.\n        if (hasIntrinsicWidth && hasIntrinsicHeight) {\n            return [intrinsicWidth as number, intrinsicHeight as number];\n        }\n\n        // If the image has no intrinsic dimensions and has no intrinsic proportions,\n        // it's rendered at the size of the background positioning area.\n\n        if (!hasIntrinsicProportion && !hasIntrinsicDimensions) {\n            return [bounds.width, bounds.height];\n        }\n\n        // TODO If the image has no intrinsic dimensions but has intrinsic proportions, it's rendered as if contain had been specified instead.\n\n        // If the image has only one intrinsic dimension and has intrinsic proportions, it's rendered at the size corresponding to that one dimension.\n        // The other dimension is computed using the specified dimension and the intrinsic proportions.\n        if (hasIntrinsicDimensions && hasIntrinsicProportion) {\n            const width = hasIntrinsicWidth\n                ? (intrinsicWidth as number)\n                : (intrinsicHeight as number) * (intrinsicProportion as number);\n            const height = hasIntrinsicHeight\n                ? (intrinsicHeight as number)\n                : (intrinsicWidth as number) / (intrinsicProportion as number);\n            return [width, height];\n        }\n\n        // If the image has only one intrinsic dimension but has no intrinsic proportions,\n        // it's rendered using the specified dimension and the other dimension of the background positioning area.\n        const width = hasIntrinsicWidth ? (intrinsicWidth as number) : bounds.width;\n        const height = hasIntrinsicHeight ? (intrinsicHeight as number) : bounds.height;\n        return [width, height];\n    }\n\n    // If the image has intrinsic proportions, it's stretched to the specified dimension.\n    // The unspecified dimension is computed using the specified dimension and the intrinsic proportions.\n    if (hasIntrinsicProportion) {\n        let width = 0;\n        let height = 0;\n        if (isLengthPercentage(first)) {\n            width = getAbsoluteValue(first, bounds.width);\n        } else if (isLengthPercentage(second)) {\n            height = getAbsoluteValue(second, bounds.height);\n        }\n\n        if (isAuto(first)) {\n            width = height * (intrinsicProportion as number);\n        } else if (!second || isAuto(second)) {\n            height = width / (intrinsicProportion as number);\n        }\n\n        return [width, height];\n    }\n\n    // If the image has no intrinsic proportions, it's stretched to the specified dimension.\n    // The unspecified dimension is computed using the image's corresponding intrinsic dimension,\n    // if there is one. If there is no such intrinsic dimension,\n    // it becomes the corresponding dimension of the background positioning area.\n\n    let width = null;\n    let height = null;\n\n    if (isLengthPercentage(first)) {\n        width = getAbsoluteValue(first, bounds.width);\n    } else if (second && isLengthPercentage(second)) {\n        height = getAbsoluteValue(second, bounds.height);\n    }\n\n    if (width !== null && (!second || isAuto(second))) {\n        height =\n            hasIntrinsicWidth && hasIntrinsicHeight\n                ? (width / (intrinsicWidth as number)) * (intrinsicHeight as number)\n                : bounds.height;\n    }\n\n    if (height !== null && isAuto(first)) {\n        width =\n            hasIntrinsicWidth && hasIntrinsicHeight\n                ? (height / (intrinsicHeight as number)) * (intrinsicWidth as number)\n                : bounds.width;\n    }\n\n    if (width !== null && height !== null) {\n        return [width, height];\n    }\n\n    throw new Error(`Unable to calculate background-size for element`);\n};\n\nexport const getBackgroundValueForIndex = <T>(values: T[], index: number): T => {\n    const value = values[index];\n    if (typeof value === 'undefined') {\n        return values[0];\n    }\n\n    return value;\n};\n\nexport const calculateBackgroundRepeatPath = (\n    repeat: BACKGROUND_REPEAT,\n    [x, y]: [number, number],\n    [width, height]: [number, number],\n    backgroundPositioningArea: Bounds,\n    backgroundPaintingArea: Bounds\n): [Vector, Vector, Vector, Vector] => {\n    switch (repeat) {\n        case BACKGROUND_REPEAT.REPEAT_X:\n            return [\n                new Vector(Math.round(backgroundPositioningArea.left), Math.round(backgroundPositioningArea.top + y)),\n                new Vector(\n                    Math.round(backgroundPositioningArea.left + backgroundPositioningArea.width),\n                    Math.round(backgroundPositioningArea.top + y)\n                ),\n                new Vector(\n                    Math.round(backgroundPositioningArea.left + backgroundPositioningArea.width),\n                    Math.round(height + backgroundPositioningArea.top + y)\n                ),\n                new Vector(\n                    Math.round(backgroundPositioningArea.left),\n                    Math.round(height + backgroundPositioningArea.top + y)\n                )\n            ];\n        case BACKGROUND_REPEAT.REPEAT_Y:\n            return [\n                new Vector(Math.round(backgroundPositioningArea.left + x), Math.round(backgroundPositioningArea.top)),\n                new Vector(\n                    Math.round(backgroundPositioningArea.left + x + width),\n                    Math.round(backgroundPositioningArea.top)\n                ),\n                new Vector(\n                    Math.round(backgroundPositioningArea.left + x + width),\n                    Math.round(backgroundPositioningArea.height + backgroundPositioningArea.top)\n                ),\n                new Vector(\n                    Math.round(backgroundPositioningArea.left + x),\n                    Math.round(backgroundPositioningArea.height + backgroundPositioningArea.top)\n                )\n            ];\n        case BACKGROUND_REPEAT.NO_REPEAT:\n            return [\n                new Vector(\n                    Math.round(backgroundPositioningArea.left + x),\n                    Math.round(backgroundPositioningArea.top + y)\n                ),\n                new Vector(\n                    Math.round(backgroundPositioningArea.left + x + width),\n                    Math.round(backgroundPositioningArea.top + y)\n                ),\n                new Vector(\n                    Math.round(backgroundPositioningArea.left + x + width),\n                    Math.round(backgroundPositioningArea.top + y + height)\n                ),\n                new Vector(\n                    Math.round(backgroundPositioningArea.left + x),\n                    Math.round(backgroundPositioningArea.top + y + height)\n                )\n            ];\n        default:\n            return [\n                new Vector(Math.round(backgroundPaintingArea.left), Math.round(backgroundPaintingArea.top)),\n                new Vector(\n                    Math.round(backgroundPaintingArea.left + backgroundPaintingArea.width),\n                    Math.round(backgroundPaintingArea.top)\n                ),\n                new Vector(\n                    Math.round(backgroundPaintingArea.left + backgroundPaintingArea.width),\n                    Math.round(backgroundPaintingArea.height + backgroundPaintingArea.top)\n                ),\n                new Vector(\n                    Math.round(backgroundPaintingArea.left),\n                    Math.round(backgroundPaintingArea.height + backgroundPaintingArea.top)\n                )\n            ];\n    }\n};\n","export const SMALL_IMAGE = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\n","import {SMALL_IMAGE} from '../core/util';\nexport interface FontMetric {\n    baseline: number;\n    middle: number;\n}\n\nconst SAMPLE_TEXT = 'Hidden Text';\n\nexport class FontMetrics {\n    private readonly _data: {[key: string]: FontMetric};\n    private readonly _document: Document;\n\n    constructor(document: Document) {\n        this._data = {};\n        this._document = document;\n    }\n\n    private parseMetrics(fontFamily: string, fontSize: string): FontMetric {\n        const container = this._document.createElement('div');\n        const img = this._document.createElement('img');\n        const span = this._document.createElement('span');\n\n        const body = this._document.body as HTMLBodyElement;\n\n        container.style.visibility = 'hidden';\n        container.style.fontFamily = fontFamily;\n        container.style.fontSize = fontSize;\n        container.style.margin = '0';\n        container.style.padding = '0';\n        container.style.whiteSpace = 'nowrap';\n\n        body.appendChild(container);\n\n        img.src = SMALL_IMAGE;\n        img.width = 1;\n        img.height = 1;\n\n        img.style.margin = '0';\n        img.style.padding = '0';\n        img.style.verticalAlign = 'baseline';\n\n        span.style.fontFamily = fontFamily;\n        span.style.fontSize = fontSize;\n        span.style.margin = '0';\n        span.style.padding = '0';\n\n        span.appendChild(this._document.createTextNode(SAMPLE_TEXT));\n        container.appendChild(span);\n        container.appendChild(img);\n        const baseline = img.offsetTop - span.offsetTop + 2;\n\n        container.removeChild(span);\n        container.appendChild(this._document.createTextNode(SAMPLE_TEXT));\n\n        container.style.lineHeight = 'normal';\n        img.style.verticalAlign = 'super';\n\n        const middle = img.offsetTop - container.offsetTop + 2;\n\n        body.removeChild(container);\n\n        return {baseline, middle};\n    }\n    getMetrics(fontFamily: string, fontSize: string): FontMetric {\n        const key = `${fontFamily} ${fontSize}`;\n        if (typeof this._data[key] === 'undefined') {\n            this._data[key] = this.parseMetrics(fontFamily, fontSize);\n        }\n\n        return this._data[key];\n    }\n}\n","import {Context} from '../core/context';\nimport {RenderConfigurations} from './canvas/canvas-renderer';\n\nexport class Renderer {\n    constructor(protected readonly context: Context, protected readonly options: RenderConfigurations) {}\n}\n","import {ElementPaint, parseStackingContexts, StackingContext} from '../stacking-context';\nimport {asString, Color, isTransparent} from '../../css/types/color';\nimport {ElementContainer, FLAGS} from '../../dom/element-container';\nimport {BORDER_STYLE} from '../../css/property-descriptors/border-style';\nimport {CSSParsedDeclaration} from '../../css';\nimport {TextContainer} from '../../dom/text-container';\nimport {Path, transformPath} from '../path';\nimport {BACKGROUND_CLIP} from '../../css/property-descriptors/background-clip';\nimport {BoundCurves, calculateBorderBoxPath, calculateContentBoxPath, calculatePaddingBoxPath} from '../bound-curves';\nimport {BezierCurve, isBezierCurve} from '../bezier-curve';\nimport {Vector} from '../vector';\nimport {CSSImageType, CSSURLImage, isLinearGradient, isRadialGradient} from '../../css/types/image';\nimport {\n    parsePathForBorder,\n    parsePathForBorderDoubleInner,\n    parsePathForBorderDoubleOuter,\n    parsePathForBorderStroke\n} from '../border';\nimport {calculateBackgroundRendering, getBackgroundValueForIndex} from '../background';\nimport {isDimensionToken} from '../../css/syntax/parser';\nimport {segmentGraphemes, TextBounds} from '../../css/layout/text';\nimport {ImageElementContainer} from '../../dom/replaced-elements/image-element-container';\nimport {contentBox} from '../box-sizing';\nimport {CanvasElementContainer} from '../../dom/replaced-elements/canvas-element-container';\nimport {SVGElementContainer} from '../../dom/replaced-elements/svg-element-container';\nimport {ReplacedElementContainer} from '../../dom/replaced-elements';\nimport {EffectTarget, IElementEffect, isClipEffect, isOpacityEffect, isTransformEffect} from '../effects';\nimport {contains} from '../../core/bitwise';\nimport {calculateGradientDirection, calculateRadius, processColorStops} from '../../css/types/functions/gradient';\nimport {FIFTY_PERCENT, getAbsoluteValue} from '../../css/types/length-percentage';\nimport {TEXT_DECORATION_LINE} from '../../css/property-descriptors/text-decoration-line';\nimport {FontMetrics} from '../font-metrics';\nimport {DISPLAY} from '../../css/property-descriptors/display';\nimport {Bounds} from '../../css/layout/bounds';\nimport {LIST_STYLE_TYPE} from '../../css/property-descriptors/list-style-type';\nimport {computeLineHeight} from '../../css/property-descriptors/line-height';\nimport {CHECKBOX, INPUT_COLOR, InputElementContainer, RADIO} from '../../dom/replaced-elements/input-element-container';\nimport {TEXT_ALIGN} from '../../css/property-descriptors/text-align';\nimport {TextareaElementContainer} from '../../dom/elements/textarea-element-container';\nimport {SelectElementContainer} from '../../dom/elements/select-element-container';\nimport {IFrameElementContainer} from '../../dom/replaced-elements/iframe-element-container';\nimport {TextShadow} from '../../css/property-descriptors/text-shadow';\nimport {PAINT_ORDER_LAYER} from '../../css/property-descriptors/paint-order';\nimport {Renderer} from '../renderer';\nimport {Context} from '../../core/context';\nimport {DIRECTION} from '../../css/property-descriptors/direction';\n\nexport type RenderConfigurations = RenderOptions & {\n    backgroundColor: Color | null;\n};\n\nexport interface RenderOptions {\n    scale: number;\n    canvas?: HTMLCanvasElement;\n    x: number;\n    y: number;\n    width: number;\n    height: number;\n}\n\nconst MASK_OFFSET = 10000;\n\nexport class CanvasRenderer extends Renderer {\n    canvas: HTMLCanvasElement;\n    ctx: CanvasRenderingContext2D;\n    private readonly _activeEffects: IElementEffect[] = [];\n    private readonly fontMetrics: FontMetrics;\n\n    constructor(context: Context, options: RenderConfigurations) {\n        super(context, options);\n        this.canvas = options.canvas ? options.canvas : document.createElement('canvas');\n        this.ctx = this.canvas.getContext('2d') as CanvasRenderingContext2D;\n        if (!options.canvas) {\n            this.canvas.width = Math.floor(options.width * options.scale);\n            this.canvas.height = Math.floor(options.height * options.scale);\n            this.canvas.style.width = `${options.width}px`;\n            this.canvas.style.height = `${options.height}px`;\n        }\n        this.fontMetrics = new FontMetrics(document);\n        this.ctx.scale(this.options.scale, this.options.scale);\n        this.ctx.translate(-options.x, -options.y);\n        this.ctx.textBaseline = 'bottom';\n        this._activeEffects = [];\n        this.context.logger.debug(\n            `Canvas renderer initialized (${options.width}x${options.height}) with scale ${options.scale}`\n        );\n    }\n\n    applyEffects(effects: IElementEffect[]): void {\n        while (this._activeEffects.length) {\n            this.popEffect();\n        }\n\n        effects.forEach((effect) => this.applyEffect(effect));\n    }\n\n    applyEffect(effect: IElementEffect): void {\n        this.ctx.save();\n        if (isOpacityEffect(effect)) {\n            this.ctx.globalAlpha = effect.opacity;\n        }\n\n        if (isTransformEffect(effect)) {\n            this.ctx.translate(effect.offsetX, effect.offsetY);\n            this.ctx.transform(\n                effect.matrix[0],\n                effect.matrix[1],\n                effect.matrix[2],\n                effect.matrix[3],\n                effect.matrix[4],\n                effect.matrix[5]\n            );\n            this.ctx.translate(-effect.offsetX, -effect.offsetY);\n        }\n\n        if (isClipEffect(effect)) {\n            this.path(effect.path);\n            this.ctx.clip();\n        }\n\n        this._activeEffects.push(effect);\n    }\n\n    popEffect(): void {\n        this._activeEffects.pop();\n        this.ctx.restore();\n    }\n\n    async renderStack(stack: StackingContext): Promise<void> {\n        const styles = stack.element.container.styles;\n        if (styles.isVisible()) {\n            await this.renderStackContent(stack);\n        }\n    }\n\n    async renderNode(paint: ElementPaint): Promise<void> {\n        if (contains(paint.container.flags, FLAGS.DEBUG_RENDER)) {\n            debugger;\n        }\n\n        if (paint.container.styles.isVisible()) {\n            await this.renderNodeBackgroundAndBorders(paint);\n            await this.renderNodeContent(paint);\n        }\n    }\n\n    renderTextWithLetterSpacing(text: TextBounds, letterSpacing: number, baseline: number): void {\n        if (letterSpacing === 0) {\n            this.ctx.fillText(text.text, text.bounds.left, text.bounds.top + baseline);\n        } else {\n            const letters = segmentGraphemes(text.text);\n            letters.reduce((left, letter) => {\n                this.ctx.fillText(letter, left, text.bounds.top + baseline);\n\n                return left + this.ctx.measureText(letter).width;\n            }, text.bounds.left);\n        }\n    }\n\n    private createFontStyle(styles: CSSParsedDeclaration): string[] {\n        const fontVariant = styles.fontVariant\n            .filter((variant) => variant === 'normal' || variant === 'small-caps')\n            .join('');\n        const fontFamily = fixIOSSystemFonts(styles.fontFamily).join(', ');\n        const fontSize = isDimensionToken(styles.fontSize)\n            ? `${styles.fontSize.number}${styles.fontSize.unit}`\n            : `${styles.fontSize.number}px`;\n\n        return [\n            [styles.fontStyle, fontVariant, styles.fontWeight, fontSize, fontFamily].join(' '),\n            fontFamily,\n            fontSize\n        ];\n    }\n\n    async renderTextNode(text: TextContainer, styles: CSSParsedDeclaration): Promise<void> {\n        const [font, fontFamily, fontSize] = this.createFontStyle(styles);\n\n        this.ctx.font = font;\n\n        this.ctx.direction = styles.direction === DIRECTION.RTL ? 'rtl' : 'ltr';\n        this.ctx.textAlign = 'left';\n        this.ctx.textBaseline = 'alphabetic';\n        const {baseline, middle} = this.fontMetrics.getMetrics(fontFamily, fontSize);\n        const paintOrder = styles.paintOrder;\n\n        text.textBounds.forEach((text) => {\n            paintOrder.forEach((paintOrderLayer) => {\n                switch (paintOrderLayer) {\n                    case PAINT_ORDER_LAYER.FILL:\n                        this.ctx.fillStyle = asString(styles.color);\n                        this.renderTextWithLetterSpacing(text, styles.letterSpacing, baseline);\n                        const textShadows: TextShadow = styles.textShadow;\n\n                        if (textShadows.length && text.text.trim().length) {\n                            textShadows\n                                .slice(0)\n                                .reverse()\n                                .forEach((textShadow) => {\n                                    this.ctx.shadowColor = asString(textShadow.color);\n                                    this.ctx.shadowOffsetX = textShadow.offsetX.number * this.options.scale;\n                                    this.ctx.shadowOffsetY = textShadow.offsetY.number * this.options.scale;\n                                    this.ctx.shadowBlur = textShadow.blur.number;\n\n                                    this.renderTextWithLetterSpacing(text, styles.letterSpacing, baseline);\n                                });\n\n                            this.ctx.shadowColor = '';\n                            this.ctx.shadowOffsetX = 0;\n                            this.ctx.shadowOffsetY = 0;\n                            this.ctx.shadowBlur = 0;\n                        }\n\n                        if (styles.textDecorationLine.length) {\n                            this.ctx.fillStyle = asString(styles.textDecorationColor || styles.color);\n                            styles.textDecorationLine.forEach((textDecorationLine) => {\n                                switch (textDecorationLine) {\n                                    case TEXT_DECORATION_LINE.UNDERLINE:\n                                        // Draws a line at the baseline of the font\n                                        // TODO As some browsers display the line as more than 1px if the font-size is big,\n                                        // need to take that into account both in position and size\n                                        this.ctx.fillRect(\n                                            text.bounds.left,\n                                            Math.round(text.bounds.top + baseline),\n                                            text.bounds.width,\n                                            1\n                                        );\n\n                                        break;\n                                    case TEXT_DECORATION_LINE.OVERLINE:\n                                        this.ctx.fillRect(\n                                            text.bounds.left,\n                                            Math.round(text.bounds.top),\n                                            text.bounds.width,\n                                            1\n                                        );\n                                        break;\n                                    case TEXT_DECORATION_LINE.LINE_THROUGH:\n                                        // TODO try and find exact position for line-through\n                                        this.ctx.fillRect(\n                                            text.bounds.left,\n                                            Math.ceil(text.bounds.top + middle),\n                                            text.bounds.width,\n                                            1\n                                        );\n                                        break;\n                                }\n                            });\n                        }\n                        break;\n                    case PAINT_ORDER_LAYER.STROKE:\n                        if (styles.webkitTextStrokeWidth && text.text.trim().length) {\n                            this.ctx.strokeStyle = asString(styles.webkitTextStrokeColor);\n                            this.ctx.lineWidth = styles.webkitTextStrokeWidth;\n                            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                            this.ctx.lineJoin = !!(window as any).chrome ? 'miter' : 'round';\n                            this.ctx.strokeText(text.text, text.bounds.left, text.bounds.top + baseline);\n                        }\n                        this.ctx.strokeStyle = '';\n                        this.ctx.lineWidth = 0;\n                        this.ctx.lineJoin = 'miter';\n                        break;\n                }\n            });\n        });\n    }\n\n    renderReplacedElement(\n        container: ReplacedElementContainer,\n        curves: BoundCurves,\n        image: HTMLImageElement | HTMLCanvasElement\n    ): void {\n        if (image && container.intrinsicWidth > 0 && container.intrinsicHeight > 0) {\n            const box = contentBox(container);\n            const path = calculatePaddingBoxPath(curves);\n            this.path(path);\n            this.ctx.save();\n            this.ctx.clip();\n            this.ctx.drawImage(\n                image,\n                0,\n                0,\n                container.intrinsicWidth,\n                container.intrinsicHeight,\n                box.left,\n                box.top,\n                box.width,\n                box.height\n            );\n            this.ctx.restore();\n        }\n    }\n\n    async renderNodeContent(paint: ElementPaint): Promise<void> {\n        this.applyEffects(paint.getEffects(EffectTarget.CONTENT));\n        const container = paint.container;\n        const curves = paint.curves;\n        const styles = container.styles;\n        for (const child of container.textNodes) {\n            await this.renderTextNode(child, styles);\n        }\n\n        if (container instanceof ImageElementContainer) {\n            try {\n                const image = await this.context.cache.match(container.src);\n                this.renderReplacedElement(container, curves, image);\n            } catch (e) {\n                this.context.logger.error(`Error loading image ${container.src}`);\n            }\n        }\n\n        if (container instanceof CanvasElementContainer) {\n            this.renderReplacedElement(container, curves, container.canvas);\n        }\n\n        if (container instanceof SVGElementContainer) {\n            try {\n                const image = await this.context.cache.match(container.svg);\n                this.renderReplacedElement(container, curves, image);\n            } catch (e) {\n                this.context.logger.error(`Error loading svg ${container.svg.substring(0, 255)}`);\n            }\n        }\n\n        if (container instanceof IFrameElementContainer && container.tree) {\n            const iframeRenderer = new CanvasRenderer(this.context, {\n                scale: this.options.scale,\n                backgroundColor: container.backgroundColor,\n                x: 0,\n                y: 0,\n                width: container.width,\n                height: container.height\n            });\n\n            const canvas = await iframeRenderer.render(container.tree);\n            if (container.width && container.height) {\n                this.ctx.drawImage(\n                    canvas,\n                    0,\n                    0,\n                    container.width,\n                    container.height,\n                    container.bounds.left,\n                    container.bounds.top,\n                    container.bounds.width,\n                    container.bounds.height\n                );\n            }\n        }\n\n        if (container instanceof InputElementContainer) {\n            const size = Math.min(container.bounds.width, container.bounds.height);\n\n            if (container.type === CHECKBOX) {\n                if (container.checked) {\n                    this.ctx.save();\n                    this.path([\n                        new Vector(container.bounds.left + size * 0.39363, container.bounds.top + size * 0.79),\n                        new Vector(container.bounds.left + size * 0.16, container.bounds.top + size * 0.5549),\n                        new Vector(container.bounds.left + size * 0.27347, container.bounds.top + size * 0.44071),\n                        new Vector(container.bounds.left + size * 0.39694, container.bounds.top + size * 0.5649),\n                        new Vector(container.bounds.left + size * 0.72983, container.bounds.top + size * 0.23),\n                        new Vector(container.bounds.left + size * 0.84, container.bounds.top + size * 0.34085),\n                        new Vector(container.bounds.left + size * 0.39363, container.bounds.top + size * 0.79)\n                    ]);\n\n                    this.ctx.fillStyle = asString(INPUT_COLOR);\n                    this.ctx.fill();\n                    this.ctx.restore();\n                }\n            } else if (container.type === RADIO) {\n                if (container.checked) {\n                    this.ctx.save();\n                    this.ctx.beginPath();\n                    this.ctx.arc(\n                        container.bounds.left + size / 2,\n                        container.bounds.top + size / 2,\n                        size / 4,\n                        0,\n                        Math.PI * 2,\n                        true\n                    );\n                    this.ctx.fillStyle = asString(INPUT_COLOR);\n                    this.ctx.fill();\n                    this.ctx.restore();\n                }\n            }\n        }\n\n        if (isTextInputElement(container) && container.value.length) {\n            const [fontFamily, fontSize] = this.createFontStyle(styles);\n            const {baseline} = this.fontMetrics.getMetrics(fontFamily, fontSize);\n\n            this.ctx.font = fontFamily;\n            this.ctx.fillStyle = asString(styles.color);\n\n            this.ctx.textBaseline = 'alphabetic';\n            this.ctx.textAlign = canvasTextAlign(container.styles.textAlign);\n\n            const bounds = contentBox(container);\n\n            let x = 0;\n\n            switch (container.styles.textAlign) {\n                case TEXT_ALIGN.CENTER:\n                    x += bounds.width / 2;\n                    break;\n                case TEXT_ALIGN.RIGHT:\n                    x += bounds.width;\n                    break;\n            }\n\n            const textBounds = bounds.add(x, 0, 0, -bounds.height / 2 + 1);\n\n            this.ctx.save();\n            this.path([\n                new Vector(bounds.left, bounds.top),\n                new Vector(bounds.left + bounds.width, bounds.top),\n                new Vector(bounds.left + bounds.width, bounds.top + bounds.height),\n                new Vector(bounds.left, bounds.top + bounds.height)\n            ]);\n\n            this.ctx.clip();\n            this.renderTextWithLetterSpacing(\n                new TextBounds(container.value, textBounds),\n                styles.letterSpacing,\n                baseline\n            );\n            this.ctx.restore();\n            this.ctx.textBaseline = 'alphabetic';\n            this.ctx.textAlign = 'left';\n        }\n\n        if (contains(container.styles.display, DISPLAY.LIST_ITEM)) {\n            if (container.styles.listStyleImage !== null) {\n                const img = container.styles.listStyleImage;\n                if (img.type === CSSImageType.URL) {\n                    let image;\n                    const url = (img as CSSURLImage).url;\n                    try {\n                        image = await this.context.cache.match(url);\n                        this.ctx.drawImage(image, container.bounds.left - (image.width + 10), container.bounds.top);\n                    } catch (e) {\n                        this.context.logger.error(`Error loading list-style-image ${url}`);\n                    }\n                }\n            } else if (paint.listValue && container.styles.listStyleType !== LIST_STYLE_TYPE.NONE) {\n                const [fontFamily] = this.createFontStyle(styles);\n\n                this.ctx.font = fontFamily;\n                this.ctx.fillStyle = asString(styles.color);\n\n                this.ctx.textBaseline = 'middle';\n                this.ctx.textAlign = 'right';\n                const bounds = new Bounds(\n                    container.bounds.left,\n                    container.bounds.top + getAbsoluteValue(container.styles.paddingTop, container.bounds.width),\n                    container.bounds.width,\n                    computeLineHeight(styles.lineHeight, styles.fontSize.number) / 2 + 1\n                );\n\n                this.renderTextWithLetterSpacing(\n                    new TextBounds(paint.listValue, bounds),\n                    styles.letterSpacing,\n                    computeLineHeight(styles.lineHeight, styles.fontSize.number) / 2 + 2\n                );\n                this.ctx.textBaseline = 'bottom';\n                this.ctx.textAlign = 'left';\n            }\n        }\n    }\n\n    async renderStackContent(stack: StackingContext): Promise<void> {\n        if (contains(stack.element.container.flags, FLAGS.DEBUG_RENDER)) {\n            debugger;\n        }\n        // https://www.w3.org/TR/css-position-3/#painting-order\n        // 1. the background and borders of the element forming the stacking context.\n        await this.renderNodeBackgroundAndBorders(stack.element);\n        // 2. the child stacking contexts with negative stack levels (most negative first).\n        for (const child of stack.negativeZIndex) {\n            await this.renderStack(child);\n        }\n        // 3. For all its in-flow, non-positioned, block-level descendants in tree order:\n        await this.renderNodeContent(stack.element);\n\n        for (const child of stack.nonInlineLevel) {\n            await this.renderNode(child);\n        }\n        // 4. All non-positioned floating descendants, in tree order. For each one of these,\n        // treat the element as if it created a new stacking context, but any positioned descendants and descendants\n        // which actually create a new stacking context should be considered part of the parent stacking context,\n        // not this new one.\n        for (const child of stack.nonPositionedFloats) {\n            await this.renderStack(child);\n        }\n        // 5. the in-flow, inline-level, non-positioned descendants, including inline tables and inline blocks.\n        for (const child of stack.nonPositionedInlineLevel) {\n            await this.renderStack(child);\n        }\n        for (const child of stack.inlineLevel) {\n            await this.renderNode(child);\n        }\n        // 6. All positioned, opacity or transform descendants, in tree order that fall into the following categories:\n        //  All positioned descendants with 'z-index: auto' or 'z-index: 0', in tree order.\n        //  For those with 'z-index: auto', treat the element as if it created a new stacking context,\n        //  but any positioned descendants and descendants which actually create a new stacking context should be\n        //  considered part of the parent stacking context, not this new one. For those with 'z-index: 0',\n        //  treat the stacking context generated atomically.\n        //\n        //  All opacity descendants with opacity less than 1\n        //\n        //  All transform descendants with transform other than none\n        for (const child of stack.zeroOrAutoZIndexOrTransformedOrOpacity) {\n            await this.renderStack(child);\n        }\n        // 7. Stacking contexts formed by positioned descendants with z-indices greater than or equal to 1 in z-index\n        // order (smallest first) then tree order.\n        for (const child of stack.positiveZIndex) {\n            await this.renderStack(child);\n        }\n    }\n\n    mask(paths: Path[]): void {\n        this.ctx.beginPath();\n        this.ctx.moveTo(0, 0);\n        this.ctx.lineTo(this.canvas.width, 0);\n        this.ctx.lineTo(this.canvas.width, this.canvas.height);\n        this.ctx.lineTo(0, this.canvas.height);\n        this.ctx.lineTo(0, 0);\n        this.formatPath(paths.slice(0).reverse());\n        this.ctx.closePath();\n    }\n\n    path(paths: Path[]): void {\n        this.ctx.beginPath();\n        this.formatPath(paths);\n        this.ctx.closePath();\n    }\n\n    formatPath(paths: Path[]): void {\n        paths.forEach((point, index) => {\n            const start: Vector = isBezierCurve(point) ? point.start : point;\n            if (index === 0) {\n                this.ctx.moveTo(start.x, start.y);\n            } else {\n                this.ctx.lineTo(start.x, start.y);\n            }\n\n            if (isBezierCurve(point)) {\n                this.ctx.bezierCurveTo(\n                    point.startControl.x,\n                    point.startControl.y,\n                    point.endControl.x,\n                    point.endControl.y,\n                    point.end.x,\n                    point.end.y\n                );\n            }\n        });\n    }\n\n    renderRepeat(path: Path[], pattern: CanvasPattern | CanvasGradient, offsetX: number, offsetY: number): void {\n        this.path(path);\n        this.ctx.fillStyle = pattern;\n        this.ctx.translate(offsetX, offsetY);\n        this.ctx.fill();\n        this.ctx.translate(-offsetX, -offsetY);\n    }\n\n    resizeImage(image: HTMLImageElement, width: number, height: number): HTMLCanvasElement | HTMLImageElement {\n        if (image.width === width && image.height === height) {\n            return image;\n        }\n\n        const ownerDocument = this.canvas.ownerDocument ?? document;\n        const canvas = ownerDocument.createElement('canvas');\n        canvas.width = Math.max(1, width);\n        canvas.height = Math.max(1, height);\n        const ctx = canvas.getContext('2d') as CanvasRenderingContext2D;\n        ctx.drawImage(image, 0, 0, image.width, image.height, 0, 0, width, height);\n        return canvas;\n    }\n\n    async renderBackgroundImage(container: ElementContainer): Promise<void> {\n        let index = container.styles.backgroundImage.length - 1;\n        for (const backgroundImage of container.styles.backgroundImage.slice(0).reverse()) {\n            if (backgroundImage.type === CSSImageType.URL) {\n                let image;\n                const url = (backgroundImage as CSSURLImage).url;\n                try {\n                    image = await this.context.cache.match(url);\n                } catch (e) {\n                    this.context.logger.error(`Error loading background-image ${url}`);\n                }\n\n                if (image) {\n                    const [path, x, y, width, height] = calculateBackgroundRendering(container, index, [\n                        image.width,\n                        image.height,\n                        image.width / image.height\n                    ]);\n                    const pattern = this.ctx.createPattern(\n                        this.resizeImage(image, width, height),\n                        'repeat'\n                    ) as CanvasPattern;\n                    this.renderRepeat(path, pattern, x, y);\n                }\n            } else if (isLinearGradient(backgroundImage)) {\n                const [path, x, y, width, height] = calculateBackgroundRendering(container, index, [null, null, null]);\n                const [lineLength, x0, x1, y0, y1] = calculateGradientDirection(backgroundImage.angle, width, height);\n\n                const canvas = document.createElement('canvas');\n                canvas.width = width;\n                canvas.height = height;\n                const ctx = canvas.getContext('2d') as CanvasRenderingContext2D;\n                const gradient = ctx.createLinearGradient(x0, y0, x1, y1);\n\n                processColorStops(backgroundImage.stops, lineLength).forEach((colorStop) =>\n                    gradient.addColorStop(colorStop.stop, asString(colorStop.color))\n                );\n\n                ctx.fillStyle = gradient;\n                ctx.fillRect(0, 0, width, height);\n                if (width > 0 && height > 0) {\n                    const pattern = this.ctx.createPattern(canvas, 'repeat') as CanvasPattern;\n                    this.renderRepeat(path, pattern, x, y);\n                }\n            } else if (isRadialGradient(backgroundImage)) {\n                const [path, left, top, width, height] = calculateBackgroundRendering(container, index, [\n                    null,\n                    null,\n                    null\n                ]);\n                const position = backgroundImage.position.length === 0 ? [FIFTY_PERCENT] : backgroundImage.position;\n                const x = getAbsoluteValue(position[0], width);\n                const y = getAbsoluteValue(position[position.length - 1], height);\n\n                const [rx, ry] = calculateRadius(backgroundImage, x, y, width, height);\n                if (rx > 0 && ry > 0) {\n                    const radialGradient = this.ctx.createRadialGradient(left + x, top + y, 0, left + x, top + y, rx);\n\n                    processColorStops(backgroundImage.stops, rx * 2).forEach((colorStop) =>\n                        radialGradient.addColorStop(colorStop.stop, asString(colorStop.color))\n                    );\n\n                    this.path(path);\n                    this.ctx.fillStyle = radialGradient;\n                    if (rx !== ry) {\n                        // transforms for elliptical radial gradient\n                        const midX = container.bounds.left + 0.5 * container.bounds.width;\n                        const midY = container.bounds.top + 0.5 * container.bounds.height;\n                        const f = ry / rx;\n                        const invF = 1 / f;\n\n                        this.ctx.save();\n                        this.ctx.translate(midX, midY);\n                        this.ctx.transform(1, 0, 0, f, 0, 0);\n                        this.ctx.translate(-midX, -midY);\n\n                        this.ctx.fillRect(left, invF * (top - midY) + midY, width, height * invF);\n                        this.ctx.restore();\n                    } else {\n                        this.ctx.fill();\n                    }\n                }\n            }\n            index--;\n        }\n    }\n\n    async renderSolidBorder(color: Color, side: number, curvePoints: BoundCurves): Promise<void> {\n        this.path(parsePathForBorder(curvePoints, side));\n        this.ctx.fillStyle = asString(color);\n        this.ctx.fill();\n    }\n\n    async renderDoubleBorder(color: Color, width: number, side: number, curvePoints: BoundCurves): Promise<void> {\n        if (width < 3) {\n            await this.renderSolidBorder(color, side, curvePoints);\n            return;\n        }\n\n        const outerPaths = parsePathForBorderDoubleOuter(curvePoints, side);\n        this.path(outerPaths);\n        this.ctx.fillStyle = asString(color);\n        this.ctx.fill();\n        const innerPaths = parsePathForBorderDoubleInner(curvePoints, side);\n        this.path(innerPaths);\n        this.ctx.fill();\n    }\n\n    async renderNodeBackgroundAndBorders(paint: ElementPaint): Promise<void> {\n        this.applyEffects(paint.getEffects(EffectTarget.BACKGROUND_BORDERS));\n        const styles = paint.container.styles;\n        const hasBackground = !isTransparent(styles.backgroundColor) || styles.backgroundImage.length;\n\n        const borders = [\n            {style: styles.borderTopStyle, color: styles.borderTopColor, width: styles.borderTopWidth},\n            {style: styles.borderRightStyle, color: styles.borderRightColor, width: styles.borderRightWidth},\n            {style: styles.borderBottomStyle, color: styles.borderBottomColor, width: styles.borderBottomWidth},\n            {style: styles.borderLeftStyle, color: styles.borderLeftColor, width: styles.borderLeftWidth}\n        ];\n\n        const backgroundPaintingArea = calculateBackgroundCurvedPaintingArea(\n            getBackgroundValueForIndex(styles.backgroundClip, 0),\n            paint.curves\n        );\n\n        if (hasBackground || styles.boxShadow.length) {\n            this.ctx.save();\n            this.path(backgroundPaintingArea);\n            this.ctx.clip();\n\n            if (!isTransparent(styles.backgroundColor)) {\n                this.ctx.fillStyle = asString(styles.backgroundColor);\n                this.ctx.fill();\n            }\n\n            await this.renderBackgroundImage(paint.container);\n\n            this.ctx.restore();\n\n            styles.boxShadow\n                .slice(0)\n                .reverse()\n                .forEach((shadow) => {\n                    this.ctx.save();\n                    const borderBoxArea = calculateBorderBoxPath(paint.curves);\n                    const maskOffset = shadow.inset ? 0 : MASK_OFFSET;\n                    const shadowPaintingArea = transformPath(\n                        borderBoxArea,\n                        -maskOffset + (shadow.inset ? 1 : -1) * shadow.spread.number,\n                        (shadow.inset ? 1 : -1) * shadow.spread.number,\n                        shadow.spread.number * (shadow.inset ? -2 : 2),\n                        shadow.spread.number * (shadow.inset ? -2 : 2)\n                    );\n\n                    if (shadow.inset) {\n                        this.path(borderBoxArea);\n                        this.ctx.clip();\n                        this.mask(shadowPaintingArea);\n                    } else {\n                        this.mask(borderBoxArea);\n                        this.ctx.clip();\n                        this.path(shadowPaintingArea);\n                    }\n\n                    this.ctx.shadowOffsetX = shadow.offsetX.number + maskOffset;\n                    this.ctx.shadowOffsetY = shadow.offsetY.number;\n                    this.ctx.shadowColor = asString(shadow.color);\n                    this.ctx.shadowBlur = shadow.blur.number;\n                    this.ctx.fillStyle = shadow.inset ? asString(shadow.color) : 'rgba(0,0,0,1)';\n\n                    this.ctx.fill();\n                    this.ctx.restore();\n                });\n        }\n\n        let side = 0;\n        for (const border of borders) {\n            if (border.style !== BORDER_STYLE.NONE && !isTransparent(border.color) && border.width > 0) {\n                if (border.style === BORDER_STYLE.DASHED) {\n                    await this.renderDashedDottedBorder(\n                        border.color,\n                        border.width,\n                        side,\n                        paint.curves,\n                        BORDER_STYLE.DASHED\n                    );\n                } else if (border.style === BORDER_STYLE.DOTTED) {\n                    await this.renderDashedDottedBorder(\n                        border.color,\n                        border.width,\n                        side,\n                        paint.curves,\n                        BORDER_STYLE.DOTTED\n                    );\n                } else if (border.style === BORDER_STYLE.DOUBLE) {\n                    await this.renderDoubleBorder(border.color, border.width, side, paint.curves);\n                } else {\n                    await this.renderSolidBorder(border.color, side, paint.curves);\n                }\n            }\n            side++;\n        }\n    }\n\n    async renderDashedDottedBorder(\n        color: Color,\n        width: number,\n        side: number,\n        curvePoints: BoundCurves,\n        style: BORDER_STYLE\n    ): Promise<void> {\n        this.ctx.save();\n\n        const strokePaths = parsePathForBorderStroke(curvePoints, side);\n        const boxPaths = parsePathForBorder(curvePoints, side);\n\n        if (style === BORDER_STYLE.DASHED) {\n            this.path(boxPaths);\n            this.ctx.clip();\n        }\n\n        let startX, startY, endX, endY;\n        if (isBezierCurve(boxPaths[0])) {\n            startX = (boxPaths[0] as BezierCurve).start.x;\n            startY = (boxPaths[0] as BezierCurve).start.y;\n        } else {\n            startX = (boxPaths[0] as Vector).x;\n            startY = (boxPaths[0] as Vector).y;\n        }\n        if (isBezierCurve(boxPaths[1])) {\n            endX = (boxPaths[1] as BezierCurve).end.x;\n            endY = (boxPaths[1] as BezierCurve).end.y;\n        } else {\n            endX = (boxPaths[1] as Vector).x;\n            endY = (boxPaths[1] as Vector).y;\n        }\n\n        let length;\n        if (side === 0 || side === 2) {\n            length = Math.abs(startX - endX);\n        } else {\n            length = Math.abs(startY - endY);\n        }\n\n        this.ctx.beginPath();\n        if (style === BORDER_STYLE.DOTTED) {\n            this.formatPath(strokePaths);\n        } else {\n            this.formatPath(boxPaths.slice(0, 2));\n        }\n\n        let dashLength = width < 3 ? width * 3 : width * 2;\n        let spaceLength = width < 3 ? width * 2 : width;\n        if (style === BORDER_STYLE.DOTTED) {\n            dashLength = width;\n            spaceLength = width;\n        }\n\n        let useLineDash = true;\n        if (length <= dashLength * 2) {\n            useLineDash = false;\n        } else if (length <= dashLength * 2 + spaceLength) {\n            const multiplier = length / (2 * dashLength + spaceLength);\n            dashLength *= multiplier;\n            spaceLength *= multiplier;\n        } else {\n            const numberOfDashes = Math.floor((length + spaceLength) / (dashLength + spaceLength));\n            const minSpace = (length - numberOfDashes * dashLength) / (numberOfDashes - 1);\n            const maxSpace = (length - (numberOfDashes + 1) * dashLength) / numberOfDashes;\n            spaceLength =\n                maxSpace <= 0 || Math.abs(spaceLength - minSpace) < Math.abs(spaceLength - maxSpace)\n                    ? minSpace\n                    : maxSpace;\n        }\n\n        if (useLineDash) {\n            if (style === BORDER_STYLE.DOTTED) {\n                this.ctx.setLineDash([0, dashLength + spaceLength]);\n            } else {\n                this.ctx.setLineDash([dashLength, spaceLength]);\n            }\n        }\n\n        if (style === BORDER_STYLE.DOTTED) {\n            this.ctx.lineCap = 'round';\n            this.ctx.lineWidth = width;\n        } else {\n            this.ctx.lineWidth = width * 2 + 1.1;\n        }\n        this.ctx.strokeStyle = asString(color);\n        this.ctx.stroke();\n        this.ctx.setLineDash([]);\n\n        // dashed round edge gap\n        if (style === BORDER_STYLE.DASHED) {\n            if (isBezierCurve(boxPaths[0])) {\n                const path1 = boxPaths[3] as BezierCurve;\n                const path2 = boxPaths[0] as BezierCurve;\n                this.ctx.beginPath();\n                this.formatPath([new Vector(path1.end.x, path1.end.y), new Vector(path2.start.x, path2.start.y)]);\n                this.ctx.stroke();\n            }\n            if (isBezierCurve(boxPaths[1])) {\n                const path1 = boxPaths[1] as BezierCurve;\n                const path2 = boxPaths[2] as BezierCurve;\n                this.ctx.beginPath();\n                this.formatPath([new Vector(path1.end.x, path1.end.y), new Vector(path2.start.x, path2.start.y)]);\n                this.ctx.stroke();\n            }\n        }\n\n        this.ctx.restore();\n    }\n\n    async render(element: ElementContainer): Promise<HTMLCanvasElement> {\n        if (this.options.backgroundColor) {\n            this.ctx.fillStyle = asString(this.options.backgroundColor);\n            this.ctx.fillRect(this.options.x, this.options.y, this.options.width, this.options.height);\n        }\n\n        const stack = parseStackingContexts(element);\n\n        await this.renderStack(stack);\n        this.applyEffects([]);\n        return this.canvas;\n    }\n}\n\nconst isTextInputElement = (\n    container: ElementContainer\n): container is InputElementContainer | TextareaElementContainer | SelectElementContainer => {\n    if (container instanceof TextareaElementContainer) {\n        return true;\n    } else if (container instanceof SelectElementContainer) {\n        return true;\n    } else if (container instanceof InputElementContainer && container.type !== RADIO && container.type !== CHECKBOX) {\n        return true;\n    }\n    return false;\n};\n\nconst calculateBackgroundCurvedPaintingArea = (clip: BACKGROUND_CLIP, curves: BoundCurves): Path[] => {\n    switch (clip) {\n        case BACKGROUND_CLIP.BORDER_BOX:\n            return calculateBorderBoxPath(curves);\n        case BACKGROUND_CLIP.CONTENT_BOX:\n            return calculateContentBoxPath(curves);\n        case BACKGROUND_CLIP.PADDING_BOX:\n        default:\n            return calculatePaddingBoxPath(curves);\n    }\n};\n\nconst canvasTextAlign = (textAlign: TEXT_ALIGN): CanvasTextAlign => {\n    switch (textAlign) {\n        case TEXT_ALIGN.CENTER:\n            return 'center';\n        case TEXT_ALIGN.RIGHT:\n            return 'right';\n        case TEXT_ALIGN.LEFT:\n        default:\n            return 'left';\n    }\n};\n\n// see https://github.com/niklasvh/html2canvas/pull/2645\nconst iOSBrokenFonts = ['-apple-system', 'system-ui'];\n\nconst fixIOSSystemFonts = (fontFamilies: string[]): string[] => {\n    return /iPhone OS 15_(0|1)/.test(window.navigator.userAgent)\n        ? fontFamilies.filter((fontFamily) => iOSBrokenFonts.indexOf(fontFamily) === -1)\n        : fontFamilies;\n};\n","import {RenderConfigurations} from './canvas-renderer';\nimport {createForeignObjectSVG} from '../../core/features';\nimport {asString} from '../../css/types/color';\nimport {Renderer} from '../renderer';\nimport {Context} from '../../core/context';\n\nexport class ForeignObjectRenderer extends Renderer {\n    canvas: HTMLCanvasElement;\n    ctx: CanvasRenderingContext2D;\n    options: RenderConfigurations;\n\n    constructor(context: Context, options: RenderConfigurations) {\n        super(context, options);\n        this.canvas = options.canvas ? options.canvas : document.createElement('canvas');\n        this.ctx = this.canvas.getContext('2d') as CanvasRenderingContext2D;\n        this.options = options;\n        this.canvas.width = Math.floor(options.width * options.scale);\n        this.canvas.height = Math.floor(options.height * options.scale);\n        this.canvas.style.width = `${options.width}px`;\n        this.canvas.style.height = `${options.height}px`;\n\n        this.ctx.scale(this.options.scale, this.options.scale);\n        this.ctx.translate(-options.x, -options.y);\n        this.context.logger.debug(\n            `EXPERIMENTAL ForeignObject renderer initialized (${options.width}x${options.height} at ${options.x},${options.y}) with scale ${options.scale}`\n        );\n    }\n\n    async render(element: HTMLElement): Promise<HTMLCanvasElement> {\n        const svg = createForeignObjectSVG(\n            this.options.width * this.options.scale,\n            this.options.height * this.options.scale,\n            this.options.scale,\n            this.options.scale,\n            element\n        );\n\n        const img = await loadSerializedSVG(svg);\n\n        if (this.options.backgroundColor) {\n            this.ctx.fillStyle = asString(this.options.backgroundColor);\n            this.ctx.fillRect(0, 0, this.options.width * this.options.scale, this.options.height * this.options.scale);\n        }\n\n        this.ctx.drawImage(img, -this.options.x * this.options.scale, -this.options.y * this.options.scale);\n\n        return this.canvas;\n    }\n}\n\nexport const loadSerializedSVG = (svg: Node): Promise<HTMLImageElement> =>\n    new Promise((resolve, reject) => {\n        const img = new Image();\n        img.onload = () => {\n            resolve(img);\n        };\n        img.onerror = reject;\n\n        img.src = `data:image/svg+xml;charset=utf-8,${encodeURIComponent(new XMLSerializer().serializeToString(svg))}`;\n    });\n","export interface LoggerOptions {\n    id: string;\n    enabled: boolean;\n}\n\nexport class Logger {\n    static instances: {[key: string]: Logger} = {};\n\n    private readonly id: string;\n    private readonly enabled: boolean;\n    private readonly start: number;\n\n    constructor({id, enabled}: LoggerOptions) {\n        this.id = id;\n        this.enabled = enabled;\n        this.start = Date.now();\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    debug(...args: unknown[]): void {\n        if (this.enabled) {\n            // eslint-disable-next-line no-console\n            if (typeof window !== 'undefined' && window.console && typeof console.debug === 'function') {\n                // eslint-disable-next-line no-console\n                console.debug(this.id, `${this.getTime()}ms`, ...args);\n            } else {\n                this.info(...args);\n            }\n        }\n    }\n\n    getTime(): number {\n        return Date.now() - this.start;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    info(...args: unknown[]): void {\n        if (this.enabled) {\n            // eslint-disable-next-line no-console\n            if (typeof window !== 'undefined' && window.console && typeof console.info === 'function') {\n                // eslint-disable-next-line no-console\n                console.info(this.id, `${this.getTime()}ms`, ...args);\n            }\n        }\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    warn(...args: unknown[]): void {\n        if (this.enabled) {\n            // eslint-disable-next-line no-console\n            if (typeof window !== 'undefined' && window.console && typeof console.warn === 'function') {\n                // eslint-disable-next-line no-console\n                console.warn(this.id, `${this.getTime()}ms`, ...args);\n            } else {\n                this.info(...args);\n            }\n        }\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    error(...args: unknown[]): void {\n        if (this.enabled) {\n            // eslint-disable-next-line no-console\n            if (typeof window !== 'undefined' && window.console && typeof console.error === 'function') {\n                // eslint-disable-next-line no-console\n                console.error(this.id, `${this.getTime()}ms`, ...args);\n            } else {\n                this.info(...args);\n            }\n        }\n    }\n}\n","import {Logger} from './logger';\nimport {Cache, ResourceOptions} from './cache-storage';\nimport {Bounds} from '../css/layout/bounds';\n\nexport type ContextOptions = {\n    logging: boolean;\n    cache?: Cache;\n} & ResourceOptions;\n\nexport class Context {\n    private readonly instanceName = `#${Context.instanceCount++}`;\n    readonly logger: Logger;\n    readonly cache: Cache;\n\n    private static instanceCount = 1;\n\n    constructor(options: ContextOptions, public windowBounds: Bounds) {\n        this.logger = new Logger({id: this.instanceName, enabled: options.logging});\n        this.cache = options.cache ?? new Cache(this, options);\n    }\n}\n","import {Bounds, parseBounds, parseDocumentSize} from './css/layout/bounds';\nimport {COLORS, isTransparent, parseColor} from './css/types/color';\nimport {CloneConfigurations, CloneOptions, DocumentCloner, WindowOptions} from './dom/document-cloner';\nimport {isBodyElement, isHTMLElement, parseTree} from './dom/node-parser';\nimport {CacheStorage} from './core/cache-storage';\nimport {CanvasRenderer, RenderConfigurations, RenderOptions} from './render/canvas/canvas-renderer';\nimport {ForeignObjectRenderer} from './render/canvas/foreignobject-renderer';\nimport {Context, ContextOptions} from './core/context';\n\nexport type Options = CloneOptions &\n    WindowOptions &\n    RenderOptions &\n    ContextOptions & {\n        backgroundColor: string | null;\n        foreignObjectRendering: boolean;\n        removeContainer?: boolean;\n    };\n\nconst html2canvas = (element: HTMLElement, options: Partial<Options> = {}): Promise<HTMLCanvasElement> => {\n    return renderElement(element, options);\n};\n\nexport default html2canvas;\n\nif (typeof window !== 'undefined') {\n    CacheStorage.setContext(window);\n}\n\nconst renderElement = async (element: HTMLElement, opts: Partial<Options>): Promise<HTMLCanvasElement> => {\n    if (!element || typeof element !== 'object') {\n        return Promise.reject('Invalid element provided as first argument');\n    }\n    const ownerDocument = element.ownerDocument;\n\n    if (!ownerDocument) {\n        throw new Error(`Element is not attached to a Document`);\n    }\n\n    const defaultView = ownerDocument.defaultView;\n\n    if (!defaultView) {\n        throw new Error(`Document is not attached to a Window`);\n    }\n\n    const resourceOptions = {\n        allowTaint: opts.allowTaint ?? false,\n        imageTimeout: opts.imageTimeout ?? 15000,\n        proxy: opts.proxy,\n        useCORS: opts.useCORS ?? false\n    };\n\n    const contextOptions = {\n        logging: opts.logging ?? true,\n        cache: opts.cache,\n        ...resourceOptions\n    };\n\n    const windowOptions = {\n        windowWidth: opts.windowWidth ?? defaultView.innerWidth,\n        windowHeight: opts.windowHeight ?? defaultView.innerHeight,\n        scrollX: opts.scrollX ?? defaultView.pageXOffset,\n        scrollY: opts.scrollY ?? defaultView.pageYOffset\n    };\n\n    const windowBounds = new Bounds(\n        windowOptions.scrollX,\n        windowOptions.scrollY,\n        windowOptions.windowWidth,\n        windowOptions.windowHeight\n    );\n\n    const context = new Context(contextOptions, windowBounds);\n\n    const foreignObjectRendering = opts.foreignObjectRendering ?? false;\n\n    const cloneOptions: CloneConfigurations = {\n        allowTaint: opts.allowTaint ?? false,\n        onclone: opts.onclone,\n        ignoreElements: opts.ignoreElements,\n        inlineImages: foreignObjectRendering,\n        copyStyles: foreignObjectRendering\n    };\n\n    context.logger.debug(\n        `Starting document clone with size ${windowBounds.width}x${\n            windowBounds.height\n        } scrolled to ${-windowBounds.left},${-windowBounds.top}`\n    );\n\n    const documentCloner = new DocumentCloner(context, element, cloneOptions);\n    const clonedElement = documentCloner.clonedReferenceElement;\n    if (!clonedElement) {\n        return Promise.reject(`Unable to find element in cloned iframe`);\n    }\n\n    const container = await documentCloner.toIFrame(ownerDocument, windowBounds);\n\n    const {width, height, left, top} =\n        isBodyElement(clonedElement) || isHTMLElement(clonedElement)\n            ? parseDocumentSize(clonedElement.ownerDocument)\n            : parseBounds(context, clonedElement);\n\n    const backgroundColor = parseBackgroundColor(context, clonedElement, opts.backgroundColor);\n\n    const renderOptions: RenderConfigurations = {\n        canvas: opts.canvas,\n        backgroundColor,\n        scale: opts.scale ?? defaultView.devicePixelRatio ?? 1,\n        x: (opts.x ?? 0) + left,\n        y: (opts.y ?? 0) + top,\n        width: opts.width ?? Math.ceil(width),\n        height: opts.height ?? Math.ceil(height)\n    };\n\n    let canvas;\n\n    if (foreignObjectRendering) {\n        context.logger.debug(`Document cloned, using foreign object rendering`);\n        const renderer = new ForeignObjectRenderer(context, renderOptions);\n        canvas = await renderer.render(clonedElement);\n    } else {\n        context.logger.debug(\n            `Document cloned, element located at ${left},${top} with size ${width}x${height} using computed rendering`\n        );\n\n        context.logger.debug(`Starting DOM parsing`);\n        const root = parseTree(context, clonedElement);\n\n        if (backgroundColor === root.styles.backgroundColor) {\n            root.styles.backgroundColor = COLORS.TRANSPARENT;\n        }\n\n        context.logger.debug(\n            `Starting renderer for element at ${renderOptions.x},${renderOptions.y} with size ${renderOptions.width}x${renderOptions.height}`\n        );\n\n        const renderer = new CanvasRenderer(context, renderOptions);\n        canvas = await renderer.render(root);\n    }\n\n    if (opts.removeContainer ?? true) {\n        if (!DocumentCloner.destroy(container)) {\n            context.logger.error(`Cannot detach cloned iframe as it is not in the DOM anymore`);\n        }\n    }\n\n    context.logger.debug(`Finished rendering`);\n    return canvas;\n};\n\nconst parseBackgroundColor = (context: Context, element: HTMLElement, backgroundColorOverride?: string | null) => {\n    const ownerDocument = element.ownerDocument;\n    // http://www.w3.org/TR/css3-background/#special-backgrounds\n    const documentBackgroundColor = ownerDocument.documentElement\n        ? parseColor(context, getComputedStyle(ownerDocument.documentElement).backgroundColor as string)\n        : COLORS.TRANSPARENT;\n    const bodyBackgroundColor = ownerDocument.body\n        ? parseColor(context, getComputedStyle(ownerDocument.body).backgroundColor as string)\n        : COLORS.TRANSPARENT;\n\n    const defaultBackgroundColor =\n        typeof backgroundColorOverride === 'string'\n            ? parseColor(context, backgroundColorOverride)\n            : backgroundColorOverride === null\n            ? COLORS.TRANSPARENT\n            : 0xffffffff;\n\n    return element === ownerDocument.documentElement\n        ? isTransparent(documentBackgroundColor)\n            ? isTransparent(bodyBackgroundColor)\n                ? defaultBackgroundColor\n                : bodyBackgroundColor\n            : documentBackgroundColor\n        : defaultBackgroundColor;\n};\n","export function mobMenu() {\n  const menuBtnRef = document.querySelector('[data-menu-button]');\n  const mobilMenuRef = document.querySelector('[data-menu]');\n\n  menuBtnRef.addEventListener('click', () => {\n    const expanded =\n      menuBtnRef.getAttribute('aria-expanded') === 'true' || false;\n\n    menuBtnRef.classList.toggle('is-open');\n    menuBtnRef.setAttribute('aria-expanded', !expanded);\n\n    mobilMenuRef.classList.toggle('is-open');\n  });\n}\n","const axios = require('axios').default;\nimport {addLoader, removeLoader} from './loader';\n\nexport default class getMoviesApi {\n  constructor() {\n    this.key = '?api_key=b580e55a4551b421271bf131dd03ab39';\n    this.searchQuery = '';\n    this.page = 1;\n    this.base_url = 'https://api.themoviedb.org/3';\n    this.moviesStartPath = `/trending/movie/day`;\n    this.genresPath = `/genre/movie/list`;\n    this.fullInfoPath = `/movie/`;\n    this.moviesSearchPath = `/search/movie`;\n\n    this.discover = '/discover/movie';\n    this.sortBy = '';\n    this.sortGenre = '';\n  }\n\n  async getStartMovies() {\n    const url = `${this.base_url}${this.moviesStartPath}${this.key}&page=${this.page}`;\n\n    try {\n      addLoader();\n      const movies = await axios.get(url);\n      removeLoader();\n      return movies.data;\n    } catch (error) {\n      addLoader();\n      console.log(error);\n      removeLoader();\n    }\n  }\n\n  async getSearchMovies() {\n    const url = `${this.base_url}${this.moviesSearchPath}${this.key}&query=\"${this.searchQuery}\"&page=${this.page}`;\n\n    try {\n      addLoader();\n      const searchedMovies = await axios.get(url);\n      removeLoader();\n\n      return searchedMovies.data;\n    } catch (error) {\n      addLoader();\n      console.log(error);\n      removeLoader();\n    }\n  }\n\n  async getFullMovieInfo(id) {\n    const url = `${this.base_url}${this.fullInfoPath}${id}${this.key}`;\n\n    try {\n      addLoader();\n      const fullMovieInfo = await axios.get(url);\n      removeLoader();\n\n      return fullMovieInfo.data;\n    } catch (error) {\n      addLoader();\n      console.log(error);\n      removeLoader();\n    }\n  }\n\n  async getMovieByPop() {\n    const url = `${this.base_url}${this.discover}${this.key}&sort_by=${this.sortBy}&page=${this.page}`;\n\n    try {\n      addLoader();\n      const movieByPop = await axios.get(url);\n      removeLoader();\n      return movieByPop.data;\n    } catch (error) {\n      addLoader();\n      console.log(error);\n      removeLoader();\n    }\n  }\n\n  async getMovieByGenre() {\n    const url = `${this.base_url}${this.discover}${this.key}&with_genres=${this.sortGenre}&page=${this.page}`;\n\n    try {\n      addLoader();\n      const movieByGenre = await axios.get(url);\n      removeLoader();\n\n      return movieByGenre.data;\n    } catch (error) {\n      addLoader();\n      console.log(error);\n      removeLoader();\n    }\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n}\n","    import { Loading } from 'notiflix/build/notiflix-loading-aio';\n\n    export function addLoader(){\n        Loading.standard({\n            svgColor: 'var(--accent-color)',\n    });\n    }\n\n    export function removeLoader(){\n        Loading.remove(250);\n    }\n\n  ","/*\n* Notiflix Loading AIO (https://notiflix.github.io)\n* Description: This file has been created automatically that using \"notiflix.js\", and \"notiflix.css\" files.\n* Version: 3.2.5\n* Author: Furkan MT (https://github.com/furcan)\n* Copyright 2019 - 2022 Notiflix, MIT Licence (https://opensource.org/licenses/MIT)\n*/\n\n/* global define */\n(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([], function () {\n      return factory(root);\n    });\n  } else if (typeof module === 'object' && typeof module.exports === 'object') {\n    module.exports = factory(root);\n  } else {\n    root.Notiflix = factory(root);\n  }\n})(typeof global !== 'undefined' ? global : typeof window !== 'undefined' ? window : this, function (window) {\n\n  'use strict';\n\n  // COMMON: SSR check: begin\n  if (typeof window === 'undefined' && typeof window.document === 'undefined') {\r\n    return false;\r\n  }\n  // COMMON: SSR check: end\n\n  // COMMON: Variables: begin\n  var notiflixNamespace = 'Notiflix';\r\n  var notiflixConsoleDocs = '\\n\\nVisit documentation page to learn more: https://notiflix.github.io/documentation';\r\n  var defaultFontFamily = '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", sans-serif';\n  // COMMON: Variables: end\n\n  // LOADING: Default Settings: begin\n  var typesLoading = {\r\n    Standard: 'Standard',\r\n    Hourglass: 'Hourglass',\r\n    Circle: 'Circle',\r\n    Arrows: 'Arrows',\r\n    Dots: 'Dots',\r\n    Pulse: 'Pulse',\r\n    Custom: 'Custom',\r\n    Notiflix: 'Notiflix',\r\n  };\r\n  var newLoadingSettings;\r\n  var loadingSettings = {\r\n    ID: 'NotiflixLoadingWrap', // can not customizable\r\n    className: 'notiflix-loading',\r\n    zindex: 4000,\r\n    backgroundColor: 'rgba(0,0,0,0.8)',\r\n    rtl: false,\r\n    fontFamily: 'Quicksand',\r\n    cssAnimation: true,\r\n    cssAnimationDuration: 400,\r\n    clickToClose: false,\r\n    customSvgUrl: null,\r\n    customSvgCode: null,\r\n    svgSize: '80px',\r\n    svgColor: '#32c682',\r\n    messageID: 'NotiflixLoadingMessage',\r\n    messageFontSize: '15px',\r\n    messageMaxLength: 34,\r\n    messageColor: '#dcdcdc',\r\n  };\n  // LOADING: Default Settings: end\n\n  // COMMON: Console Error: begin\n  var commonConsoleError = function (message) {\r\n    return console.error('%c ' + notiflixNamespace + ' Error ', 'padding:2px;border-radius:20px;color:#fff;background:#ff5549', '\\n' + message + notiflixConsoleDocs);\r\n  };\n  // COMMON: Console Error: end\n\n  // COMMON: Check Head or Body: begin\n  var commonCheckHeadOrBody = function (element) {\r\n    if (!element) { element = 'head'; }\r\n    if (window.document[element] === null) {\r\n      commonConsoleError('\\nNotiflix needs to be appended to the \"<' + element + '>\" element, but you called it before the \"<' + element + '>\" element has been created.');\r\n      return false;\r\n    }\r\n    return true;\r\n  };\n  // COMMON: Check Head or Body: end\n\n  // COMMON: Set Internal CSS Codes: begin\n  var commonSetInternalCSSCodes = function (getInternalCSSCodes, styleElementId) {\r\n    // check doc head\r\n    if (!commonCheckHeadOrBody('head')) { return false; }\r\n\n    // internal css\r\n    if (getInternalCSSCodes() !== null && !window.document.getElementById(styleElementId)) {\r\n      var internalCSS = window.document.createElement('style');\r\n      internalCSS.id = styleElementId;\r\n      internalCSS.innerHTML = getInternalCSSCodes();\r\n      window.document.head.appendChild(internalCSS);\r\n    }\r\n  };\n  // COMMON: Set Internal CSS Codes: end\n\n  // COMMON: Extend Options: begin\n  var commonExtendOptions = function () {\r\n    // variables\r\n    var extended = {};\r\n    var deep = false;\r\n    var i = 0;\r\n    // check if a deep merge\r\n    if (Object.prototype.toString.call(arguments[0]) === '[object Boolean]') {\r\n      deep = arguments[0];\r\n      i++;\r\n    }\r\n    // merge the object into the extended object\r\n    var merge = function (obj) {\r\n      for (var prop in obj) {\r\n        if (Object.prototype.hasOwnProperty.call(obj, prop)) {\r\n          // if property is an object, merge properties\r\n          if (deep && Object.prototype.toString.call(obj[prop]) === '[object Object]') {\r\n            extended[prop] = commonExtendOptions(extended[prop], obj[prop]);\r\n          } else {\r\n            extended[prop] = obj[prop];\r\n          }\r\n        }\r\n      }\r\n    };\r\n    // loop through each object and conduct a merge\r\n    for (; i < arguments.length; i++) {\r\n      merge(arguments[i]);\r\n    }\r\n    return extended;\r\n  };\n  // COMMON: Extend Options: end\n\n  // COMMON: Get Plaintext: begin\n  var commonGetPlaintext = function (html) {\r\n    var htmlPool = window.document.createElement('div');\r\n    htmlPool.innerHTML = html;\r\n    return htmlPool.textContent || htmlPool.innerText || '';\r\n  };\n  // COMMON: Get Plaintext: end\n\n  // LOADING && BLOCK: SVG Icon Standard: begin\n  var loadingAndBlockSvgIconStandard = function (width, color) {\r\n    if (!width) { width = '60px'; }\r\n    if (!color) { color = '#32c682'; }\r\n    var standard = '<svg xmlns=\"http://www.w3.org/2000/svg\" stroke=\"' + color + '\" width=\"' + width + '\" height=\"' + width + '\" transform=\"scale(.8)\" viewBox=\"0 0 38 38\"><g fill=\"none\" fill-rule=\"evenodd\" stroke-width=\"2\" transform=\"translate(1 1)\"><circle cx=\"18\" cy=\"18\" r=\"18\" stroke-opacity=\".25\"/><path d=\"M36 18c0-9.94-8.06-18-18-18\"><animateTransform attributeName=\"transform\" dur=\"1s\" from=\"0 18 18\" repeatCount=\"indefinite\" to=\"360 18 18\" type=\"rotate\"/></path></g></svg>';\r\n    return standard;\r\n  };\n  // LOADING && BLOCK: SVG Icon Standard: end\n\n  // LOADING && BLOCK: SVG Icon Hourglass: begin\n  var loadingAndBlockSvgIconHourglass = function (width, color) {\r\n    if (!width) { width = '60px'; }\r\n    if (!color) { color = '#32c682'; }\r\n    var hourglass = '<svg xmlns=\"http://www.w3.org/2000/svg\" id=\"NXLoadingHourglass\" fill=\"' + color + '\" width=\"' + width + '\" height=\"' + width + '\" viewBox=\"0 0 200 200\"><style>@-webkit-keyframes NXhourglass5-animation{0%{-webkit-transform:scale(1,1);transform:scale(1,1)}16.67%{-webkit-transform:scale(1,.8);transform:scale(1,.8)}33.33%{-webkit-transform:scale(.88,.6);transform:scale(.88,.6)}37.5%{-webkit-transform:scale(.85,.55);transform:scale(.85,.55)}41.67%{-webkit-transform:scale(.8,.5);transform:scale(.8,.5)}45.83%{-webkit-transform:scale(.75,.45);transform:scale(.75,.45)}50%{-webkit-transform:scale(.7,.4);transform:scale(.7,.4)}54.17%{-webkit-transform:scale(.6,.35);transform:scale(.6,.35)}58.33%{-webkit-transform:scale(.5,.3);transform:scale(.5,.3)}83.33%,to{-webkit-transform:scale(.2,0);transform:scale(.2,0)}}@keyframes NXhourglass5-animation{0%{-webkit-transform:scale(1,1);transform:scale(1,1)}16.67%{-webkit-transform:scale(1,.8);transform:scale(1,.8)}33.33%{-webkit-transform:scale(.88,.6);transform:scale(.88,.6)}37.5%{-webkit-transform:scale(.85,.55);transform:scale(.85,.55)}41.67%{-webkit-transform:scale(.8,.5);transform:scale(.8,.5)}45.83%{-webkit-transform:scale(.75,.45);transform:scale(.75,.45)}50%{-webkit-transform:scale(.7,.4);transform:scale(.7,.4)}54.17%{-webkit-transform:scale(.6,.35);transform:scale(.6,.35)}58.33%{-webkit-transform:scale(.5,.3);transform:scale(.5,.3)}83.33%,to{-webkit-transform:scale(.2,0);transform:scale(.2,0)}}@-webkit-keyframes NXhourglass3-animation{0%{-webkit-transform:scale(1,.02);transform:scale(1,.02)}79.17%,to{-webkit-transform:scale(1,1);transform:scale(1,1)}}@keyframes NXhourglass3-animation{0%{-webkit-transform:scale(1,.02);transform:scale(1,.02)}79.17%,to{-webkit-transform:scale(1,1);transform:scale(1,1)}}@-webkit-keyframes NXhourglass1-animation{0%,83.33%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(180deg);transform:rotate(180deg)}}@keyframes NXhourglass1-animation{0%,83.33%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(180deg);transform:rotate(180deg)}}#NXLoadingHourglass *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g data-animator-group=\"true\" data-animator-type=\"1\" style=\"-webkit-animation-name:NXhourglass1-animation;animation-name:NXhourglass1-animation;-webkit-transform-origin:50% 50%;transform-origin:50% 50%;transform-box:fill-box\"><g id=\"NXhourglass2\" fill=\"inherit\"><g data-animator-group=\"true\" data-animator-type=\"2\" style=\"-webkit-animation-name:NXhourglass3-animation;animation-name:NXhourglass3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform-origin:50% 100%;transform-origin:50% 100%;transform-box:fill-box\" opacity=\".4\"><path id=\"NXhourglass4\" d=\"M100 100l-34.38 32.08v31.14h68.76v-31.14z\"/></g><g data-animator-group=\"true\" data-animator-type=\"2\" style=\"-webkit-animation-name:NXhourglass5-animation;animation-name:NXhourglass5-animation;-webkit-transform-origin:50% 100%;transform-origin:50% 100%;transform-box:fill-box\" opacity=\".4\"><path id=\"NXhourglass6\" d=\"M100 100L65.62 67.92V36.78h68.76v31.14z\"/></g><path d=\"M51.14 38.89h8.33v14.93c0 15.1 8.29 28.99 23.34 39.1 1.88 1.25 3.04 3.97 3.04 7.08s-1.16 5.83-3.04 7.09c-15.05 10.1-23.34 23.99-23.34 39.09v14.93h-8.33a4.859 4.859 0 1 0 0 9.72h97.72a4.859 4.859 0 1 0 0-9.72h-8.33v-14.93c0-15.1-8.29-28.99-23.34-39.09-1.88-1.26-3.04-3.98-3.04-7.09s1.16-5.83 3.04-7.08c15.05-10.11 23.34-24 23.34-39.1V38.89h8.33a4.859 4.859 0 1 0 0-9.72H51.14a4.859 4.859 0 1 0 0 9.72zm79.67 14.93c0 15.87-11.93 26.25-19.04 31.03-4.6 3.08-7.34 8.75-7.34 15.15 0 6.41 2.74 12.07 7.34 15.15 7.11 4.78 19.04 15.16 19.04 31.03v14.93H69.19v-14.93c0-15.87 11.93-26.25 19.04-31.02 4.6-3.09 7.34-8.75 7.34-15.16 0-6.4-2.74-12.07-7.34-15.15-7.11-4.78-19.04-15.16-19.04-31.03V38.89h61.62v14.93z\"/></g></g></svg>';\r\n    return hourglass;\r\n  };\n  // LOADING && BLOCK: SVG Icon Hourglass: end\n\n  // LOADING && BLOCK: SVG Icon Circle: begin\n  var loadingAndBlockSvgIconCircle = function (width, color) {\r\n    if (!width) { width = '60px'; }\r\n    if (!color) { color = '#32c682'; }\r\n    var circle = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"' + width + '\" height=\"' + width + '\" viewBox=\"25 25 50 50\" style=\"-webkit-animation:rotate 2s linear infinite;animation:rotate 2s linear infinite;height:' + width + ';-webkit-transform-origin:center center;-ms-transform-origin:center center;transform-origin:center center;width:' + width + ';position:absolute;top:0;left:0;margin:auto\"><style>@-webkit-keyframes rotate{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotate{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35}to{stroke-dasharray:89,200;stroke-dashoffset:-124}}@keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35}to{stroke-dasharray:89,200;stroke-dashoffset:-124}}</style><circle cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" stroke=\"' + color + '\" stroke-width=\"2\" style=\"-webkit-animation:dash 1.5s ease-in-out infinite,color 1.5s ease-in-out infinite;animation:dash 1.5s ease-in-out infinite,color 1.5s ease-in-out infinite\" stroke-dasharray=\"150 200\" stroke-dashoffset=\"-10\" stroke-linecap=\"round\"/></svg>';\r\n    return circle;\r\n  };\n  // LOADING && BLOCK: SVG Icon Circle: end\n\n  // LOADING && BLOCK: SVG Icon Arrows: begin\n  var loadingAndBlockSvgIconArrows = function (width, color) {\r\n    if (!width) { width = '60px'; }\r\n    if (!color) { color = '#32c682'; }\r\n    var arrows = '<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"' + color + '\" width=\"' + width + '\" height=\"' + width + '\" viewBox=\"0 0 128 128\"><g><path fill=\"inherit\" d=\"M109.25 55.5h-36l12-12a29.54 29.54 0 0 0-49.53 12H18.75A46.04 46.04 0 0 1 96.9 31.84l12.35-12.34v36zm-90.5 17h36l-12 12a29.54 29.54 0 0 0 49.53-12h16.97A46.04 46.04 0 0 1 31.1 96.16L18.74 108.5v-36z\"/><animateTransform attributeName=\"transform\" dur=\"1.5s\" from=\"0 64 64\" repeatCount=\"indefinite\" to=\"360 64 64\" type=\"rotate\"/></g></svg>';\r\n    return arrows;\r\n  };\n  // LOADING && BLOCK: SVG Icon Arrows: end\n\n  // LOADING && BLOCK: SVG Icon Dots: begin\n  var loadingAndBlockSvgIconDots = function (width, color) {\r\n    if (!width) { width = '60px'; }\r\n    if (!color) { color = '#32c682'; }\r\n    var dots = '<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"' + color + '\" width=\"' + width + '\" height=\"' + width + '\" viewBox=\"0 0 100 100\"><g transform=\"translate(25 50)\"><circle r=\"9\" fill=\"inherit\" transform=\"scale(.239)\"><animateTransform attributeName=\"transform\" begin=\"-0.266s\" calcMode=\"spline\" dur=\"0.8s\" keySplines=\"0.3 0 0.7 1;0.3 0 0.7 1\" keyTimes=\"0;0.5;1\" repeatCount=\"indefinite\" type=\"scale\" values=\"0;1;0\"/></circle></g><g transform=\"translate(50 50)\"><circle r=\"9\" fill=\"inherit\" transform=\"scale(.00152)\"><animateTransform attributeName=\"transform\" begin=\"-0.133s\" calcMode=\"spline\" dur=\"0.8s\" keySplines=\"0.3 0 0.7 1;0.3 0 0.7 1\" keyTimes=\"0;0.5;1\" repeatCount=\"indefinite\" type=\"scale\" values=\"0;1;0\"/></circle></g><g transform=\"translate(75 50)\"><circle r=\"9\" fill=\"inherit\" transform=\"scale(.299)\"><animateTransform attributeName=\"transform\" begin=\"0s\" calcMode=\"spline\" dur=\"0.8s\" keySplines=\"0.3 0 0.7 1;0.3 0 0.7 1\" keyTimes=\"0;0.5;1\" repeatCount=\"indefinite\" type=\"scale\" values=\"0;1;0\"/></circle></g></svg>';\r\n    return dots;\r\n  };\n  // LOADING && BLOCK: SVG Icon Dots: end\n\n  // LOADING && BLOCK: SVG Icon Pulse: begin\n  var loadingAndBlockSvgIconPulse = function (width, color) {\r\n    if (!width) { width = '60px'; }\r\n    if (!color) { color = '#32c682'; }\r\n    var pulse = '<svg xmlns=\"http://www.w3.org/2000/svg\" stroke=\"' + color + '\" width=\"' + width + '\" height=\"' + width + '\" viewBox=\"0 0 44 44\"><g fill=\"none\" fill-rule=\"evenodd\" stroke-width=\"2\"><circle cx=\"22\" cy=\"22\" r=\"1\"><animate attributeName=\"r\" begin=\"0s\" calcMode=\"spline\" dur=\"1.8s\" keySplines=\"0.165, 0.84, 0.44, 1\" keyTimes=\"0; 1\" repeatCount=\"indefinite\" values=\"1; 20\"/><animate attributeName=\"stroke-opacity\" begin=\"0s\" calcMode=\"spline\" dur=\"1.8s\" keySplines=\"0.3, 0.61, 0.355, 1\" keyTimes=\"0; 1\" repeatCount=\"indefinite\" values=\"1; 0\"/></circle><circle cx=\"22\" cy=\"22\" r=\"1\"><animate attributeName=\"r\" begin=\"-0.9s\" calcMode=\"spline\" dur=\"1.8s\" keySplines=\"0.165, 0.84, 0.44, 1\" keyTimes=\"0; 1\" repeatCount=\"indefinite\" values=\"1; 20\"/><animate attributeName=\"stroke-opacity\" begin=\"-0.9s\" calcMode=\"spline\" dur=\"1.8s\" keySplines=\"0.3, 0.61, 0.355, 1\" keyTimes=\"0; 1\" repeatCount=\"indefinite\" values=\"1; 0\"/></circle></g></svg>';\r\n    return pulse;\r\n  };\n  // LOADING && BLOCK: SVG Icon Pulse: end\n\n  // LOADING && BLOCK: SVG Icon Notiflix: begin\n  var loadingAndBlockSvgIconNotiflix = function (width, white, green) {\r\n    if (!width) { width = '60px'; }\r\n    if (!white) { white = '#f8f8f8'; }\r\n    if (!green) { green = '#32c682'; }\r\n    var notiflixIcon = '<svg xmlns=\"http://www.w3.org/2000/svg\" id=\"NXLoadingNotiflixLib\" width=\"' + width + '\" height=\"' + width + '\" viewBox=\"0 0 200 200\"><defs><style>@keyframes notiflix-n{0%{stroke-dashoffset:1000}to{stroke-dashoffset:0}}@keyframes notiflix-x{0%{stroke-dashoffset:1000}to{stroke-dashoffset:0}}@keyframes notiflix-dot{0%,to{stroke-width:0}50%{stroke-width:12}}.nx-icon-line{stroke:' + white + ';stroke-width:12;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:22;fill:none}</style></defs><path d=\"M47.97 135.05a6.5 6.5 0 1 1 0 13 6.5 6.5 0 0 1 0-13z\" style=\"animation-name:notiflix-dot;animation-timing-function:ease-in-out;animation-duration:1.25s;animation-iteration-count:infinite;animation-direction:normal\" fill=\"' + green + '\" stroke=\"' + green + '\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"22\" stroke-width=\"12\"/><path class=\"nx-icon-line\" d=\"M10.14 144.76V87.55c0-5.68-4.54-41.36 37.83-41.36 42.36 0 37.82 35.68 37.82 41.36v57.21\" style=\"animation-name:notiflix-n;animation-timing-function:linear;animation-duration:2.5s;animation-delay:0s;animation-iteration-count:infinite;animation-direction:normal\" stroke-dasharray=\"500\"/><path class=\"nx-icon-line\" d=\"M115.06 144.49c24.98-32.68 49.96-65.35 74.94-98.03M114.89 46.6c25.09 32.58 50.19 65.17 75.29 97.75\" style=\"animation-name:notiflix-x;animation-timing-function:linear;animation-duration:2.5s;animation-delay:.2s;animation-iteration-count:infinite;animation-direction:normal\" stroke-dasharray=\"500\"/></svg>';\r\n    return notiflixIcon;\r\n  };\n  // LOADING && BLOCK: SVG Icon Notiflix: end\n\n  // LOADING: Get Internal CSS Codes: begin\n  var loadingGetInternalCSSCodes = function () {\r\n    var loadingCSS = '[id^=NotiflixLoadingWrap]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:fixed;z-index:4000;width:100%;height:100%;left:0;top:0;right:0;bottom:0;margin:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box;background:rgba(0,0,0,.8);font-family:\"Quicksand\",-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,\"Helvetica Neue\",Arial,sans-serif}[id^=NotiflixLoadingWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixLoadingWrap].nx-loading-click-to-close{cursor:pointer}[id^=NotiflixLoadingWrap]>div[class*=\"-icon\"]{width:60px;height:60px;position:relative;-webkit-transition:top .2s ease-in-out;-o-transition:top .2s ease-in-out;transition:top .2s ease-in-out;margin:0 auto}[id^=NotiflixLoadingWrap]>div[class*=\"-icon\"] img,[id^=NotiflixLoadingWrap]>div[class*=\"-icon\"] svg{max-width:unset;max-height:unset;width:100%;height:auto;position:absolute;left:0;top:0}[id^=NotiflixLoadingWrap]>p{position:relative;margin:10px auto 0;font-family:inherit!important;font-weight:normal;font-size:15px;line-height:1.4;padding:0 10px;width:100%;text-align:center}[id^=NotiflixLoadingWrap].nx-with-animation{-webkit-animation:loading-animation-fade .3s ease-in-out 0s normal;animation:loading-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes loading-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes loading-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixLoadingWrap].nx-with-animation.nx-remove{opacity:0;-webkit-animation:loading-animation-fade-remove .3s ease-in-out 0s normal;animation:loading-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes loading-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes loading-animation-fade-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixLoadingWrap]>p.nx-loading-message-new{-webkit-animation:loading-new-message-fade .3s ease-in-out 0s normal;animation:loading-new-message-fade .3s ease-in-out 0s normal}@-webkit-keyframes loading-new-message-fade{0%{opacity:0}100%{opacity:1}}@keyframes loading-new-message-fade{0%{opacity:0}100%{opacity:1}}';\r\n    return loadingCSS || null;\r\n  };\n  // LOADING: Get Internal CSS Codes: end\n\n  // LOADING: Create: begin\n  var loadingCreate = function (loadingType, messageOrOptions, options, display, delay) {\r\n    // check doc body\r\n    if (!commonCheckHeadOrBody('body')) { return false; }\r\n\n    // if not initialized pretend like init\r\n    if (!newLoadingSettings) {\r\n      Notiflix.Loading.init({});\r\n    }\r\n\n    // create a backup for new settings\r\n    var newLoadingSettingsBackup = commonExtendOptions(true, newLoadingSettings, {});\r\n\n    // check \"messageOrOptions\" and \"options\": begin\r\n    if ((typeof messageOrOptions === 'object' && !Array.isArray(messageOrOptions)) || (typeof options === 'object' && !Array.isArray(options))) {\r\n      // new options\r\n      var newOptions = {};\r\n      if (typeof messageOrOptions === 'object') {\r\n        newOptions = messageOrOptions;\r\n      } else if (typeof options === 'object') {\r\n        newOptions = options;\r\n      }\r\n\n      // extend new settings with the new options\r\n      newLoadingSettings = commonExtendOptions(true, newLoadingSettings, newOptions);\r\n    }\r\n    // check \"messageOrOptions\" and \"options\": end\r\n\n    // check the message\r\n    var message = '';\r\n    if (typeof messageOrOptions === 'string' && messageOrOptions.length > 0) {\r\n      message = messageOrOptions;\r\n    }\r\n\n    // show loading\r\n    if (display) {\r\n\n      // if message settings: begin\r\n      if (message.length > newLoadingSettings.messageMaxLength) {\r\n        message = commonGetPlaintext(message).toString().substring(0, newLoadingSettings.messageMaxLength) + '...';\r\n      } else {\r\n        message = commonGetPlaintext(message).toString();\r\n      }\r\n      var messageHTML = '';\r\n      if (message.length > 0) {\r\n        messageHTML = '<p id=\"' + newLoadingSettings.messageID + '\" class=\"nx-loading-message\" style=\"color:' + newLoadingSettings.messageColor + ';font-size:' + newLoadingSettings.messageFontSize + ';\">' + message + '</p>';\r\n      }\r\n      // if message settings: end\r\n\n      // if cssAnimaion is false => duration: begin\r\n      if (!newLoadingSettings.cssAnimation) {\r\n        newLoadingSettings.cssAnimationDuration = 0;\r\n      }\r\n      // if cssAnimaion is false => duration: end\r\n\n      // svgIcon: begin\r\n      var svgIcon = '';\r\n      if (loadingType === typesLoading.Standard) {\r\n        svgIcon = loadingAndBlockSvgIconStandard(newLoadingSettings.svgSize, newLoadingSettings.svgColor);\r\n      } else if (loadingType === typesLoading.Hourglass) {\r\n        svgIcon = loadingAndBlockSvgIconHourglass(newLoadingSettings.svgSize, newLoadingSettings.svgColor);\r\n      } else if (loadingType === typesLoading.Circle) {\r\n        svgIcon = loadingAndBlockSvgIconCircle(newLoadingSettings.svgSize, newLoadingSettings.svgColor);\r\n      } else if (loadingType === typesLoading.Arrows) {\r\n        svgIcon = loadingAndBlockSvgIconArrows(newLoadingSettings.svgSize, newLoadingSettings.svgColor);\r\n      } else if (loadingType === typesLoading.Dots) {\r\n        svgIcon = loadingAndBlockSvgIconDots(newLoadingSettings.svgSize, newLoadingSettings.svgColor);\r\n      } else if (loadingType === typesLoading.Pulse) {\r\n        svgIcon = loadingAndBlockSvgIconPulse(newLoadingSettings.svgSize, newLoadingSettings.svgColor);\r\n      } else if (\r\n        loadingType === typesLoading.Custom &&\r\n        newLoadingSettings.customSvgCode !== null &&\r\n        newLoadingSettings.customSvgUrl === null\r\n      ) {\r\n        svgIcon = newLoadingSettings.customSvgCode || '';\r\n      } else if (\r\n        loadingType === typesLoading.Custom &&\r\n        newLoadingSettings.customSvgUrl !== null &&\r\n        newLoadingSettings.customSvgCode === null\r\n      ) {\r\n        svgIcon = '<img class=\"nx-custom-loading-icon\" width=\"' + newLoadingSettings.svgSize + '\" height=\"' + newLoadingSettings.svgSize + '\" src=\"' + newLoadingSettings.customSvgUrl + '\" alt=\"Notiflix\">';\r\n      } else if (\r\n        loadingType === typesLoading.Custom &&\r\n        (newLoadingSettings.customSvgUrl === null || newLoadingSettings.customSvgCode === null)\r\n      ) {\r\n        commonConsoleError('You have to set a static SVG url to \"customSvgUrl\" option to use Loading Custom.');\r\n        return false;\r\n      } else {\r\n        svgIcon = loadingAndBlockSvgIconNotiflix(newLoadingSettings.svgSize, '#f8f8f8', '#32c682');\r\n      }\r\n      var svgSizeAsDigit = parseInt((newLoadingSettings.svgSize || '').replace(/[^0-9]/g, ''));\r\n      var winWidth = window.innerWidth;\r\n      var maxSvgWidthPx = svgSizeAsDigit >= winWidth ? (winWidth - 40) + 'px' : svgSizeAsDigit + 'px';\r\n      var svgIconHTML = '<div style=\"width:' + maxSvgWidthPx + '; height:' + maxSvgWidthPx + ';\" class=\"' + newLoadingSettings.className + '-icon' + (message.length > 0 ? ' nx-with-message' : '') + '\">' + svgIcon + '</div>';\r\n      // svgIcon: end\r\n\n      // loading wrap: begin\r\n      var ntflxLoadingWrap = window.document.createElement('div');\r\n      ntflxLoadingWrap.id = loadingSettings.ID;\r\n      ntflxLoadingWrap.className = newLoadingSettings.className + (newLoadingSettings.cssAnimation ? ' nx-with-animation' : '') + (newLoadingSettings.clickToClose ? ' nx-loading-click-to-close' : '');\r\n      ntflxLoadingWrap.style.zIndex = newLoadingSettings.zindex;\r\n      ntflxLoadingWrap.style.background = newLoadingSettings.backgroundColor;\r\n      ntflxLoadingWrap.style.animationDuration = newLoadingSettings.cssAnimationDuration + 'ms';\r\n      ntflxLoadingWrap.style.fontFamily = '\"' + newLoadingSettings.fontFamily + '\", ' + defaultFontFamily;\r\n      ntflxLoadingWrap.style.display = 'flex';\r\n      ntflxLoadingWrap.style.flexWrap = 'wrap';\r\n      ntflxLoadingWrap.style.flexDirection = 'column';\r\n      ntflxLoadingWrap.style.alignItems = 'center';\r\n      ntflxLoadingWrap.style.justifyContent = 'center';\r\n\n      // rtl: begin\r\n      if (newLoadingSettings.rtl) {\r\n        ntflxLoadingWrap.setAttribute('dir', 'rtl');\r\n        ntflxLoadingWrap.classList.add('nx-rtl-on');\r\n      }\r\n      // rtl: end\r\n\n      // append: begin\r\n      ntflxLoadingWrap.innerHTML = svgIconHTML + messageHTML;\r\n\n      // if there is no loading element\r\n      if (!window.document.getElementById(ntflxLoadingWrap.id)) {\r\n        // append\r\n        window.document.body.appendChild(ntflxLoadingWrap);\r\n\n        // if click to close\r\n        if (newLoadingSettings.clickToClose) {\r\n          var loadingWrapElm = window.document.getElementById(ntflxLoadingWrap.id);\r\n          loadingWrapElm.addEventListener('click', function () {\r\n            ntflxLoadingWrap.classList.add('nx-remove');\r\n            var timeout = setTimeout(function () {\r\n              if (ntflxLoadingWrap.parentNode !== null) {\r\n                ntflxLoadingWrap.parentNode.removeChild(ntflxLoadingWrap);\r\n                clearTimeout(timeout);\r\n              }\r\n            }, newLoadingSettings.cssAnimationDuration);\r\n          });\r\n        }\r\n      }\r\n      // append: end\r\n    }\r\n    // remove loading\r\n    else {\r\n      // if there is a loading element\r\n      if (window.document.getElementById(loadingSettings.ID)) {\r\n        var loadingElm = window.document.getElementById(loadingSettings.ID);\r\n        var timeout = setTimeout(function () {\r\n          loadingElm.classList.add('nx-remove');\r\n          var timeout2 = setTimeout(function () {\r\n            if (loadingElm.parentNode !== null) {\r\n              loadingElm.parentNode.removeChild(loadingElm);\r\n              clearTimeout(timeout2);\r\n            }\r\n          }, newLoadingSettings.cssAnimationDuration);\r\n          clearTimeout(timeout);\r\n        }, delay);\r\n      }\r\n    }\r\n\n    // extend new settings with the backup settings\r\n    newLoadingSettings = commonExtendOptions(true, newLoadingSettings, newLoadingSettingsBackup);\r\n  };\n  // LOADING: Create: end\n\n  // LOADING: Change Message: begin\n  var loadingChangeMessage = function (newMessage) {\r\n    // check the new message\r\n    if (typeof newMessage !== 'string') {\r\n      newMessage = '';\r\n    }\r\n    // if has any loading\r\n    var messageWrap = window.document.getElementById(loadingSettings.ID);\r\n    if (messageWrap) {\r\n      // if there is a new message\r\n      if (newMessage.length > 0) {\r\n        // max length: begin\r\n        if (newMessage.length > newLoadingSettings.messageMaxLength) {\r\n          newMessage = commonGetPlaintext(newMessage).substring(0, newLoadingSettings.messageMaxLength) + '...';\r\n        } else {\r\n          newMessage = commonGetPlaintext(newMessage);\r\n        }\r\n        // max length: end\r\n\n        // there is a message element\r\n        var oldMessageElm = messageWrap.getElementsByTagName('p')[0];\r\n        if (oldMessageElm) {\r\n          oldMessageElm.innerHTML = newMessage; // change the message\r\n        }\r\n        // there is no message element\r\n        else {\r\n          // create a new message element: begin\r\n          var newMessageHTML = window.document.createElement('p');\r\n          newMessageHTML.id = newLoadingSettings.messageID;\r\n          newMessageHTML.className = 'nx-loading-message nx-loading-message-new';\r\n          newMessageHTML.style.color = newLoadingSettings.messageColor;\r\n          newMessageHTML.style.fontSize = newLoadingSettings.messageFontSize;\r\n          newMessageHTML.innerHTML = newMessage;\r\n          messageWrap.appendChild(newMessageHTML);\r\n          // create a new message element: end\r\n        }\r\n      }\r\n      // if no message\r\n      else {\r\n        commonConsoleError('Where is the new message?');\r\n      }\r\n    }\r\n  };\n  // LOADING: Change Message: end\n\n  var Notiflix = {\n    Loading: {\r\n      // Init\r\n      init: function (userLoadingOptions) {\r\n        // extend options\r\n        newLoadingSettings = commonExtendOptions(true, loadingSettings, userLoadingOptions);\r\n        // internal css if exist\r\n        commonSetInternalCSSCodes(loadingGetInternalCSSCodes, 'NotiflixLoadingInternalCSS');\r\n      },\r\n      // Merge First Init\r\n      merge: function (userLoadingExtendOptions) {\r\n        // if initialized already\r\n        if (newLoadingSettings) {\r\n          newLoadingSettings = commonExtendOptions(true, newLoadingSettings, userLoadingExtendOptions);\r\n        }\r\n        // initialize first\r\n        else {\r\n          commonConsoleError('You have to initialize the Loading module before call Merge function.');\r\n          return false;\r\n        }\r\n      },\r\n      // Standard\r\n      standard: function (messageOrOptions, options) {\r\n        loadingCreate(typesLoading.Standard, messageOrOptions, options, true, 0); // true => show && 0 => delay\r\n      },\r\n      // Hourglass\r\n      hourglass: function (messageOrOptions, options) {\r\n        loadingCreate(typesLoading.Hourglass, messageOrOptions, options, true, 0); // true => show && 0 => delay\r\n      },\r\n      // Circle\r\n      circle: function (messageOrOptions, options) {\r\n        loadingCreate(typesLoading.Circle, messageOrOptions, options, true, 0); // true => show && 0 => delay\r\n      },\r\n      // Arrows\r\n      arrows: function (messageOrOptions, options) {\r\n        loadingCreate(typesLoading.Arrows, messageOrOptions, options, true, 0); // true => show && 0 => delay\r\n      },\r\n      // Dots\r\n      dots: function (messageOrOptions, options) {\r\n        loadingCreate(typesLoading.Dots, messageOrOptions, options, true, 0); // true => show && 0 => delay\r\n      },\r\n      // Pulse\r\n      pulse: function (messageOrOptions, options) {\r\n        loadingCreate(typesLoading.Pulse, messageOrOptions, options, true, 0); // true => show && 0 => delay\r\n      },\r\n      // Custom\r\n      custom: function (messageOrOptions, options) {\r\n        loadingCreate(typesLoading.Custom, messageOrOptions, options, true, 0); // true => show && 0 => delay\r\n      },\r\n      // Notiflix\r\n      notiflix: function (messageOrOptions, options) {\r\n        loadingCreate(typesLoading.Notiflix, messageOrOptions, options, true, 0); // true => show && 0 => delay\r\n      },\r\n      // Remove\r\n      remove: function (delay) {\r\n        if (typeof delay !== 'number') { delay = 0; }\r\n        loadingCreate(null, null, null, false, delay); // false => hide/remove\r\n      },\r\n      // Change The Message\r\n      change: function (newMessage) {\r\n        loadingChangeMessage(newMessage);\r\n      },\r\n    },\n  };\n\n  if (typeof window.Notiflix === 'object') {\n    return commonExtendOptions(true, window.Notiflix, { Loading: Notiflix.Loading });\n  } else {\n    return { Loading: Notiflix.Loading };\n  }\n\n});","module.exports = require('./lib/axios');","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar mergeConfig = require('./core/mergeConfig');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  // Factory for creating new instances\n  instance.create = function create(instanceConfig) {\n    return createInstance(mergeConfig(defaultConfig, instanceConfig));\n  };\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Expose Cancel & CancelToken\naxios.CanceledError = require('./cancel/CanceledError');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\naxios.VERSION = require('./env/data').version;\naxios.toFormData = require('./helpers/toFormData');\n\n// Expose AxiosError class\naxios.AxiosError = require('../lib/core/AxiosError');\n\n// alias for CanceledError for backward compatibility\naxios.Cancel = axios.CanceledError;\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\n// Expose isAxiosError\naxios.isAxiosError = require('./helpers/isAxiosError');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","'use strict';\n\nvar bind = require('./helpers/bind');\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n// eslint-disable-next-line func-names\nvar kindOf = (function(cache) {\n  // eslint-disable-next-line func-names\n  return function(thing) {\n    var str = toString.call(thing);\n    return cache[str] || (cache[str] = str.slice(8, -1).toLowerCase());\n  };\n})(Object.create(null));\n\nfunction kindOfTest(type) {\n  type = type.toLowerCase();\n  return function isKindOf(thing) {\n    return kindOf(thing) === type;\n  };\n}\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return Array.isArray(val);\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && typeof val.constructor.isBuffer === 'function' && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @function\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nvar isArrayBuffer = kindOfTest('ArrayBuffer');\n\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (isArrayBuffer(val.buffer));\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {Object} val The value to test\n * @return {boolean} True if value is a plain Object, otherwise false\n */\nfunction isPlainObject(val) {\n  if (kindOf(val) !== 'object') {\n    return false;\n  }\n\n  var prototype = Object.getPrototypeOf(val);\n  return prototype === null || prototype === Object.prototype;\n}\n\n/**\n * Determine if a value is a Date\n *\n * @function\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nvar isDate = kindOfTest('Date');\n\n/**\n * Determine if a value is a File\n *\n * @function\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nvar isFile = kindOfTest('File');\n\n/**\n * Determine if a value is a Blob\n *\n * @function\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nvar isBlob = kindOfTest('Blob');\n\n/**\n * Determine if a value is a FileList\n *\n * @function\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nvar isFileList = kindOfTest('FileList');\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} thing The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(thing) {\n  var pattern = '[object FormData]';\n  return thing && (\n    (typeof FormData === 'function' && thing instanceof FormData) ||\n    toString.call(thing) === pattern ||\n    (isFunction(thing.toString) && thing.toString() === pattern)\n  );\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n * @function\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nvar isURLSearchParams = kindOfTest('URLSearchParams');\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && (navigator.product === 'ReactNative' ||\n                                           navigator.product === 'NativeScript' ||\n                                           navigator.product === 'NS')) {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (isPlainObject(result[key]) && isPlainObject(val)) {\n      result[key] = merge(result[key], val);\n    } else if (isPlainObject(val)) {\n      result[key] = merge({}, val);\n    } else if (isArray(val)) {\n      result[key] = val.slice();\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n * @return {string} content value without BOM\n */\nfunction stripBOM(content) {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\n/**\n * Inherit the prototype methods from one constructor into another\n * @param {function} constructor\n * @param {function} superConstructor\n * @param {object} [props]\n * @param {object} [descriptors]\n */\n\nfunction inherits(constructor, superConstructor, props, descriptors) {\n  constructor.prototype = Object.create(superConstructor.prototype, descriptors);\n  constructor.prototype.constructor = constructor;\n  props && Object.assign(constructor.prototype, props);\n}\n\n/**\n * Resolve object with deep prototype chain to a flat object\n * @param {Object} sourceObj source object\n * @param {Object} [destObj]\n * @param {Function} [filter]\n * @returns {Object}\n */\n\nfunction toFlatObject(sourceObj, destObj, filter) {\n  var props;\n  var i;\n  var prop;\n  var merged = {};\n\n  destObj = destObj || {};\n\n  do {\n    props = Object.getOwnPropertyNames(sourceObj);\n    i = props.length;\n    while (i-- > 0) {\n      prop = props[i];\n      if (!merged[prop]) {\n        destObj[prop] = sourceObj[prop];\n        merged[prop] = true;\n      }\n    }\n    sourceObj = Object.getPrototypeOf(sourceObj);\n  } while (sourceObj && (!filter || filter(sourceObj, destObj)) && sourceObj !== Object.prototype);\n\n  return destObj;\n}\n\n/*\n * determines whether a string ends with the characters of a specified string\n * @param {String} str\n * @param {String} searchString\n * @param {Number} [position= 0]\n * @returns {boolean}\n */\nfunction endsWith(str, searchString, position) {\n  str = String(str);\n  if (position === undefined || position > str.length) {\n    position = str.length;\n  }\n  position -= searchString.length;\n  var lastIndex = str.indexOf(searchString, position);\n  return lastIndex !== -1 && lastIndex === position;\n}\n\n\n/**\n * Returns new array from array like object\n * @param {*} [thing]\n * @returns {Array}\n */\nfunction toArray(thing) {\n  if (!thing) return null;\n  var i = thing.length;\n  if (isUndefined(i)) return null;\n  var arr = new Array(i);\n  while (i-- > 0) {\n    arr[i] = thing[i];\n  }\n  return arr;\n}\n\n// eslint-disable-next-line func-names\nvar isTypedArray = (function(TypedArray) {\n  // eslint-disable-next-line func-names\n  return function(thing) {\n    return TypedArray && thing instanceof TypedArray;\n  };\n})(typeof Uint8Array !== 'undefined' && Object.getPrototypeOf(Uint8Array));\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isPlainObject: isPlainObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim,\n  stripBOM: stripBOM,\n  inherits: inherits,\n  toFlatObject: toFlatObject,\n  kindOf: kindOf,\n  kindOfTest: kindOfTest,\n  endsWith: endsWith,\n  toArray: toArray,\n  isTypedArray: isTypedArray,\n  isFileList: isFileList\n};\n","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar buildURL = require('../helpers/buildURL');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\nvar mergeConfig = require('./mergeConfig');\nvar buildFullPath = require('./buildFullPath');\nvar validator = require('../helpers/validator');\n\nvar validators = validator.validators;\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(configOrUrl, config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof configOrUrl === 'string') {\n    config = config || {};\n    config.url = configOrUrl;\n  } else {\n    config = configOrUrl || {};\n  }\n\n  config = mergeConfig(this.defaults, config);\n\n  // Set config.method\n  if (config.method) {\n    config.method = config.method.toLowerCase();\n  } else if (this.defaults.method) {\n    config.method = this.defaults.method.toLowerCase();\n  } else {\n    config.method = 'get';\n  }\n\n  var transitional = config.transitional;\n\n  if (transitional !== undefined) {\n    validator.assertOptions(transitional, {\n      silentJSONParsing: validators.transitional(validators.boolean),\n      forcedJSONParsing: validators.transitional(validators.boolean),\n      clarifyTimeoutError: validators.transitional(validators.boolean)\n    }, false);\n  }\n\n  // filter out skipped interceptors\n  var requestInterceptorChain = [];\n  var synchronousRequestInterceptors = true;\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n      return;\n    }\n\n    synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n    requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  var responseInterceptorChain = [];\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  var promise;\n\n  if (!synchronousRequestInterceptors) {\n    var chain = [dispatchRequest, undefined];\n\n    Array.prototype.unshift.apply(chain, requestInterceptorChain);\n    chain = chain.concat(responseInterceptorChain);\n\n    promise = Promise.resolve(config);\n    while (chain.length) {\n      promise = promise.then(chain.shift(), chain.shift());\n    }\n\n    return promise;\n  }\n\n\n  var newConfig = config;\n  while (requestInterceptorChain.length) {\n    var onFulfilled = requestInterceptorChain.shift();\n    var onRejected = requestInterceptorChain.shift();\n    try {\n      newConfig = onFulfilled(newConfig);\n    } catch (error) {\n      onRejected(error);\n      break;\n    }\n  }\n\n  try {\n    promise = dispatchRequest(newConfig);\n  } catch (error) {\n    return Promise.reject(error);\n  }\n\n  while (responseInterceptorChain.length) {\n    promise = promise.then(responseInterceptorChain.shift(), responseInterceptorChain.shift());\n  }\n\n  return promise;\n};\n\nAxios.prototype.getUri = function getUri(config) {\n  config = mergeConfig(this.defaults, config);\n  var fullPath = buildFullPath(config.baseURL, config.url);\n  return buildURL(fullPath, config.params, config.paramsSerializer);\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n\n  function generateHTTPMethod(isForm) {\n    return function httpMethod(url, data, config) {\n      return this.request(mergeConfig(config || {}, {\n        method: method,\n        headers: isForm ? {\n          'Content-Type': 'multipart/form-data'\n        } : {},\n        url: url,\n        data: data\n      }));\n    };\n  }\n\n  Axios.prototype[method] = generateHTTPMethod();\n\n  Axios.prototype[method + 'Form'] = generateHTTPMethod(true);\n});\n\nmodule.exports = Axios;\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    var hashmarkIndex = url.indexOf('#');\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected, options) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected,\n    synchronous: options ? options.synchronous : false,\n    runWhen: options ? options.runWhen : null\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\nvar CanceledError = require('../cancel/CanceledError');\n\n/**\n * Throws a `CanceledError` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n\n  if (config.signal && config.signal.aborted) {\n    throw new CanceledError();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar defaults = require('../defaults');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  var context = this || defaults;\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn.call(context, data, headers);\n  });\n\n  return data;\n};\n","'use strict';\n\nvar utils = require('../utils');\nvar normalizeHeaderName = require('../helpers/normalizeHeaderName');\nvar AxiosError = require('../core/AxiosError');\nvar transitionalDefaults = require('./transitional');\nvar toFormData = require('../helpers/toFormData');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('../adapters/xhr');\n  } else if (typeof process !== 'undefined' && Object.prototype.toString.call(process) === '[object process]') {\n    // For node use HTTP adapter\n    adapter = require('../adapters/http');\n  }\n  return adapter;\n}\n\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nvar defaults = {\n\n  transitional: transitionalDefaults,\n\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Accept');\n    normalizeHeaderName(headers, 'Content-Type');\n\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n\n    var isObjectPayload = utils.isObject(data);\n    var contentType = headers && headers['Content-Type'];\n\n    var isFileList;\n\n    if ((isFileList = utils.isFileList(data)) || (isObjectPayload && contentType === 'multipart/form-data')) {\n      var _FormData = this.env && this.env.FormData;\n      return toFormData(isFileList ? {'files[]': data} : data, _FormData && new _FormData());\n    } else if (isObjectPayload || contentType === 'application/json') {\n      setContentTypeIfUnset(headers, 'application/json');\n      return stringifySafely(data);\n    }\n\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    var transitional = this.transitional || defaults.transitional;\n    var silentJSONParsing = transitional && transitional.silentJSONParsing;\n    var forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    var strictJSONParsing = !silentJSONParsing && this.responseType === 'json';\n\n    if (strictJSONParsing || (forcedJSONParsing && utils.isString(data) && data.length)) {\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw AxiosError.from(e, AxiosError.ERR_BAD_RESPONSE, this, null, this.response);\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  env: {\n    FormData: require('./env/FormData')\n  },\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  },\n\n  headers: {\n    common: {\n      'Accept': 'application/json, text/plain, */*'\n    }\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\nvar utils = require('../utils');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [config] The config.\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nfunction AxiosError(message, code, config, request, response) {\n  Error.call(this);\n  this.message = message;\n  this.name = 'AxiosError';\n  code && (this.code = code);\n  config && (this.config = config);\n  request && (this.request = request);\n  response && (this.response = response);\n}\n\nutils.inherits(AxiosError, Error, {\n  toJSON: function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: this.config,\n      code: this.code,\n      status: this.response && this.response.status ? this.response.status : null\n    };\n  }\n});\n\nvar prototype = AxiosError.prototype;\nvar descriptors = {};\n\n[\n  'ERR_BAD_OPTION_VALUE',\n  'ERR_BAD_OPTION',\n  'ECONNABORTED',\n  'ETIMEDOUT',\n  'ERR_NETWORK',\n  'ERR_FR_TOO_MANY_REDIRECTS',\n  'ERR_DEPRECATED',\n  'ERR_BAD_RESPONSE',\n  'ERR_BAD_REQUEST',\n  'ERR_CANCELED'\n// eslint-disable-next-line func-names\n].forEach(function(code) {\n  descriptors[code] = {value: code};\n});\n\nObject.defineProperties(AxiosError, descriptors);\nObject.defineProperty(prototype, 'isAxiosError', {value: true});\n\n// eslint-disable-next-line func-names\nAxiosError.from = function(error, code, config, request, response, customProps) {\n  var axiosError = Object.create(prototype);\n\n  utils.toFlatObject(error, axiosError, function filter(obj) {\n    return obj !== Error.prototype;\n  });\n\n  AxiosError.call(axiosError, error.message, code, config, request, response);\n\n  axiosError.name = error.name;\n\n  customProps && Object.assign(axiosError, customProps);\n\n  return axiosError;\n};\n\nmodule.exports = AxiosError;\n","'use strict';\n\nmodule.exports = {\n  silentJSONParsing: true,\n  forcedJSONParsing: true,\n  clarifyTimeoutError: false\n};\n","'use strict';\n\nvar utils = require('../utils');\n\n/**\n * Convert a data object to FormData\n * @param {Object} obj\n * @param {?Object} [formData]\n * @returns {Object}\n **/\n\nfunction toFormData(obj, formData) {\n  // eslint-disable-next-line no-param-reassign\n  formData = formData || new FormData();\n\n  var stack = [];\n\n  function convertValue(value) {\n    if (value === null) return '';\n\n    if (utils.isDate(value)) {\n      return value.toISOString();\n    }\n\n    if (utils.isArrayBuffer(value) || utils.isTypedArray(value)) {\n      return typeof Blob === 'function' ? new Blob([value]) : Buffer.from(value);\n    }\n\n    return value;\n  }\n\n  function build(data, parentKey) {\n    if (utils.isPlainObject(data) || utils.isArray(data)) {\n      if (stack.indexOf(data) !== -1) {\n        throw Error('Circular reference detected in ' + parentKey);\n      }\n\n      stack.push(data);\n\n      utils.forEach(data, function each(value, key) {\n        if (utils.isUndefined(value)) return;\n        var fullKey = parentKey ? parentKey + '.' + key : key;\n        var arr;\n\n        if (value && !parentKey && typeof value === 'object') {\n          if (utils.endsWith(key, '{}')) {\n            // eslint-disable-next-line no-param-reassign\n            value = JSON.stringify(value);\n          } else if (utils.endsWith(key, '[]') && (arr = utils.toArray(value))) {\n            // eslint-disable-next-line func-names\n            arr.forEach(function(el) {\n              !utils.isUndefined(el) && formData.append(fullKey, convertValue(el));\n            });\n            return;\n          }\n        }\n\n        build(value, fullKey);\n      });\n\n      stack.pop();\n    } else {\n      formData.append(parentKey, convertValue(data));\n    }\n  }\n\n  build(obj);\n\n  return formData;\n}\n\nmodule.exports = toFormData;\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nconst base64 = require('base64-js')\nconst ieee754 = require('ieee754')\nconst customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nconst K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    const arr = new Uint8Array(1)\n    const proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  const buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  const valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  const b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  const length = byteLength(string, encoding) | 0\n  let buf = createBuffer(length)\n\n  const actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  const length = array.length < 0 ? 0 : checked(array.length) | 0\n  const buf = createBuffer(length)\n  for (let i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    const copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  let buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    const len = checked(obj.length) | 0\n    const buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  let x = a.length\n  let y = b.length\n\n  for (let i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  let i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  const buffer = Buffer.allocUnsafe(length)\n  let pos = 0\n  for (i = 0; i < list.length; ++i) {\n    let buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf)\n        buf.copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  const len = string.length\n  const mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  let loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  const i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  const len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (let i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  const len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (let i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  const len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (let i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  const length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  let str = ''\n  const max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  let x = thisEnd - thisStart\n  let y = end - start\n  const len = Math.min(x, y)\n\n  const thisCopy = this.slice(thisStart, thisEnd)\n  const targetCopy = target.slice(start, end)\n\n  for (let i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  let indexSize = 1\n  let arrLength = arr.length\n  let valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  let i\n  if (dir) {\n    let foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      let found = true\n      for (let j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  const remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  const strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  let i\n  for (i = 0; i < length; ++i) {\n    const parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  const remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  const res = []\n\n  let i = start\n  while (i < end) {\n    const firstByte = buf[i]\n    let codePoint = null\n    let bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      let secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nconst MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  const len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  let res = ''\n  let i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  const len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  let out = ''\n  for (let i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  const bytes = buf.slice(start, end)\n  let res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (let i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  const len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  const newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  let val = this[offset + --byteLength]\n  let mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const lo = first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24\n\n  const hi = this[++offset] +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    last * 2 ** 24\n\n  return BigInt(lo) + (BigInt(hi) << BigInt(32))\n})\n\nBuffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const hi = first * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  const lo = this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last\n\n  return (BigInt(hi) << BigInt(32)) + BigInt(lo)\n})\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let i = byteLength\n  let mul = 1\n  let val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = this[offset + 4] +\n    this[offset + 5] * 2 ** 8 +\n    this[offset + 6] * 2 ** 16 +\n    (last << 24) // Overflow\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24)\n})\n\nBuffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = (first << 24) + // Overflow\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last)\n})\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let mul = 1\n  let i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction wrtBigUInt64LE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  return offset\n}\n\nfunction wrtBigUInt64BE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset + 7] = lo\n  lo = lo >> 8\n  buf[offset + 6] = lo\n  lo = lo >> 8\n  buf[offset + 5] = lo\n  lo = lo >> 8\n  buf[offset + 4] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset + 3] = hi\n  hi = hi >> 8\n  buf[offset + 2] = hi\n  hi = hi >> 8\n  buf[offset + 1] = hi\n  hi = hi >> 8\n  buf[offset] = hi\n  return offset + 8\n}\n\nBuffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = 0\n  let mul = 1\n  let sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  let sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nBuffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  const len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      const code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  let i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    const bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    const len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// CUSTOM ERRORS\n// =============\n\n// Simplified versions from Node, changed for Buffer-only usage\nconst errors = {}\nfunction E (sym, getMessage, Base) {\n  errors[sym] = class NodeError extends Base {\n    constructor () {\n      super()\n\n      Object.defineProperty(this, 'message', {\n        value: getMessage.apply(this, arguments),\n        writable: true,\n        configurable: true\n      })\n\n      // Add the error code to the name to include it in the stack trace.\n      this.name = `${this.name} [${sym}]`\n      // Access the stack to generate the error message including the error code\n      // from the name.\n      this.stack // eslint-disable-line no-unused-expressions\n      // Reset the name to the actual name.\n      delete this.name\n    }\n\n    get code () {\n      return sym\n    }\n\n    set code (value) {\n      Object.defineProperty(this, 'code', {\n        configurable: true,\n        enumerable: true,\n        value,\n        writable: true\n      })\n    }\n\n    toString () {\n      return `${this.name} [${sym}]: ${this.message}`\n    }\n  }\n}\n\nE('ERR_BUFFER_OUT_OF_BOUNDS',\n  function (name) {\n    if (name) {\n      return `${name} is outside of buffer bounds`\n    }\n\n    return 'Attempt to access memory outside buffer bounds'\n  }, RangeError)\nE('ERR_INVALID_ARG_TYPE',\n  function (name, actual) {\n    return `The \"${name}\" argument must be of type number. Received type ${typeof actual}`\n  }, TypeError)\nE('ERR_OUT_OF_RANGE',\n  function (str, range, input) {\n    let msg = `The value of \"${str}\" is out of range.`\n    let received = input\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input))\n    } else if (typeof input === 'bigint') {\n      received = String(input)\n      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {\n        received = addNumericalSeparator(received)\n      }\n      received += 'n'\n    }\n    msg += ` It must be ${range}. Received ${received}`\n    return msg\n  }, RangeError)\n\nfunction addNumericalSeparator (val) {\n  let res = ''\n  let i = val.length\n  const start = val[0] === '-' ? 1 : 0\n  for (; i >= start + 4; i -= 3) {\n    res = `_${val.slice(i - 3, i)}${res}`\n  }\n  return `${val.slice(0, i)}${res}`\n}\n\n// CHECK FUNCTIONS\n// ===============\n\nfunction checkBounds (buf, offset, byteLength) {\n  validateNumber(offset, 'offset')\n  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {\n    boundsError(offset, buf.length - (byteLength + 1))\n  }\n}\n\nfunction checkIntBI (value, min, max, buf, offset, byteLength) {\n  if (value > max || value < min) {\n    const n = typeof min === 'bigint' ? 'n' : ''\n    let range\n    if (byteLength > 3) {\n      if (min === 0 || min === BigInt(0)) {\n        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`\n      } else {\n        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +\n                `${(byteLength + 1) * 8 - 1}${n}`\n      }\n    } else {\n      range = `>= ${min}${n} and <= ${max}${n}`\n    }\n    throw new errors.ERR_OUT_OF_RANGE('value', range, value)\n  }\n  checkBounds(buf, offset, byteLength)\n}\n\nfunction validateNumber (value, name) {\n  if (typeof value !== 'number') {\n    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n}\n\nfunction boundsError (value, length, type) {\n  if (Math.floor(value) !== value) {\n    validateNumber(value, type)\n    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)\n  }\n\n  if (length < 0) {\n    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()\n  }\n\n  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',\n                                    `>= ${type ? 1 : 0} and <= ${length}`,\n                                    value)\n}\n\n// HELPER FUNCTIONS\n// ================\n\nconst INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  let codePoint\n  const length = string.length\n  let leadSurrogate = null\n  const bytes = []\n\n  for (let i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  let c, hi, lo\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  let i\n  for (i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nconst hexSliceLookupTable = (function () {\n  const alphabet = '0123456789abcdef'\n  const table = new Array(256)\n  for (let i = 0; i < 16; ++i) {\n    const i16 = i * 16\n    for (let j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n\n// Return not function with Error if BigInt not supported\nfunction defineBigIntMethod (fn) {\n  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn\n}\n\nfunction BufferBigIntNotDefined () {\n  throw new Error('BigInt not supported')\n}\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar cookies = require('./../helpers/cookies');\nvar buildURL = require('./../helpers/buildURL');\nvar buildFullPath = require('../core/buildFullPath');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar transitionalDefaults = require('../defaults/transitional');\nvar AxiosError = require('../core/AxiosError');\nvar CanceledError = require('../cancel/CanceledError');\nvar parseProtocol = require('../helpers/parseProtocol');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n    var responseType = config.responseType;\n    var onCanceled;\n    function done() {\n      if (config.cancelToken) {\n        config.cancelToken.unsubscribe(onCanceled);\n      }\n\n      if (config.signal) {\n        config.signal.removeEventListener('abort', onCanceled);\n      }\n    }\n\n    if (utils.isFormData(requestData) && utils.isStandardBrowserEnv()) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password ? unescape(encodeURIComponent(config.auth.password)) : '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    var fullPath = buildFullPath(config.baseURL, config.url);\n\n    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !responseType || responseType === 'text' ||  responseType === 'json' ?\n        request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(function _resolve(value) {\n        resolve(value);\n        done();\n      }, function _reject(err) {\n        reject(err);\n        done();\n      }, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(new AxiosError('Request aborted', AxiosError.ECONNABORTED, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(new AxiosError('Network Error', AxiosError.ERR_NETWORK, config, request, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      var timeoutErrorMessage = config.timeout ? 'timeout of ' + config.timeout + 'ms exceeded' : 'timeout exceeded';\n      var transitional = config.transitional || transitionalDefaults;\n      if (config.timeoutErrorMessage) {\n        timeoutErrorMessage = config.timeoutErrorMessage;\n      }\n      reject(new AxiosError(\n        timeoutErrorMessage,\n        transitional.clarifyTimeoutError ? AxiosError.ETIMEDOUT : AxiosError.ECONNABORTED,\n        config,\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath)) && config.xsrfCookieName ?\n        cookies.read(config.xsrfCookieName) :\n        undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(config.withCredentials)) {\n      request.withCredentials = !!config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = config.responseType;\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken || config.signal) {\n      // Handle cancellation\n      // eslint-disable-next-line func-names\n      onCanceled = function(cancel) {\n        if (!request) {\n          return;\n        }\n        reject(!cancel || (cancel && cancel.type) ? new CanceledError() : cancel);\n        request.abort();\n        request = null;\n      };\n\n      config.cancelToken && config.cancelToken.subscribe(onCanceled);\n      if (config.signal) {\n        config.signal.aborted ? onCanceled() : config.signal.addEventListener('abort', onCanceled);\n      }\n    }\n\n    if (!requestData) {\n      requestData = null;\n    }\n\n    var protocol = parseProtocol(fullPath);\n\n    if (protocol && [ 'http', 'https', 'file' ].indexOf(protocol) === -1) {\n      reject(new AxiosError('Unsupported protocol ' + protocol + ':', AxiosError.ERR_BAD_REQUEST, config));\n      return;\n    }\n\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","'use strict';\n\nvar AxiosError = require('./AxiosError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(new AxiosError(\n      'Request failed with status code ' + response.status,\n      [AxiosError.ERR_BAD_REQUEST, AxiosError.ERR_BAD_RESPONSE][Math.floor(response.status / 100) - 4],\n      response.config,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n    (function standardBrowserEnv() {\n      return {\n        write: function write(name, value, expires, path, domain, secure) {\n          var cookie = [];\n          cookie.push(name + '=' + encodeURIComponent(value));\n\n          if (utils.isNumber(expires)) {\n            cookie.push('expires=' + new Date(expires).toGMTString());\n          }\n\n          if (utils.isString(path)) {\n            cookie.push('path=' + path);\n          }\n\n          if (utils.isString(domain)) {\n            cookie.push('domain=' + domain);\n          }\n\n          if (secure === true) {\n            cookie.push('secure');\n          }\n\n          document.cookie = cookie.join('; ');\n        },\n\n        read: function read(name) {\n          var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n          return (match ? decodeURIComponent(match[3]) : null);\n        },\n\n        remove: function remove(name) {\n          this.write(name, '', Date.now() - 86400000);\n        }\n      };\n    })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return {\n        write: function write() {},\n        read: function read() { return null; },\n        remove: function remove() {}\n      };\n    })()\n);\n","'use strict';\n\nvar isAbsoluteURL = require('../helpers/isAbsoluteURL');\nvar combineURLs = require('../helpers/combineURLs');\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n * @returns {string} The combined full path\n */\nmodule.exports = function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n};\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n    (function standardBrowserEnv() {\n      var msie = /(msie|trident)/i.test(navigator.userAgent);\n      var urlParsingNode = document.createElement('a');\n      var originURL;\n\n      /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n      function resolveURL(url) {\n        var href = url;\n\n        if (msie) {\n        // IE needs attribute set twice to normalize properties\n          urlParsingNode.setAttribute('href', href);\n          href = urlParsingNode.href;\n        }\n\n        urlParsingNode.setAttribute('href', href);\n\n        // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n        return {\n          href: urlParsingNode.href,\n          protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n          host: urlParsingNode.host,\n          search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n          hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n          hostname: urlParsingNode.hostname,\n          port: urlParsingNode.port,\n          pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n            urlParsingNode.pathname :\n            '/' + urlParsingNode.pathname\n        };\n      }\n\n      originURL = resolveURL(window.location.href);\n\n      /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n      return function isURLSameOrigin(requestURL) {\n        var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n        return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n      };\n    })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return function isURLSameOrigin() {\n        return true;\n      };\n    })()\n);\n","'use strict';\n\nvar AxiosError = require('../core/AxiosError');\nvar utils = require('../utils');\n\n/**\n * A `CanceledError` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction CanceledError(message) {\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  AxiosError.call(this, message == null ? 'canceled' : message, AxiosError.ERR_CANCELED);\n  this.name = 'CanceledError';\n}\n\nutils.inherits(CanceledError, AxiosError, {\n  __CANCEL__: true\n});\n\nmodule.exports = CanceledError;\n","'use strict';\n\nmodule.exports = function parseProtocol(url) {\n  var match = /^([-+\\w]{1,25})(:?\\/\\/|:)/.exec(url);\n  return match && match[1] || '';\n};\n","// eslint-disable-next-line strict\nmodule.exports = null;\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\nvar utils = require('../utils');\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n * @returns {Object} New object resulting from merging config2 to config1\n */\nmodule.exports = function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  var config = {};\n\n  function getMergedValue(target, source) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge(target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDeepProperties(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      return getMergedValue(config1[prop], config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      return getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function valueFromConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      return getMergedValue(undefined, config2[prop]);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function defaultToConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      return getMergedValue(undefined, config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      return getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDirectKeys(prop) {\n    if (prop in config2) {\n      return getMergedValue(config1[prop], config2[prop]);\n    } else if (prop in config1) {\n      return getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  var mergeMap = {\n    'url': valueFromConfig2,\n    'method': valueFromConfig2,\n    'data': valueFromConfig2,\n    'baseURL': defaultToConfig2,\n    'transformRequest': defaultToConfig2,\n    'transformResponse': defaultToConfig2,\n    'paramsSerializer': defaultToConfig2,\n    'timeout': defaultToConfig2,\n    'timeoutMessage': defaultToConfig2,\n    'withCredentials': defaultToConfig2,\n    'adapter': defaultToConfig2,\n    'responseType': defaultToConfig2,\n    'xsrfCookieName': defaultToConfig2,\n    'xsrfHeaderName': defaultToConfig2,\n    'onUploadProgress': defaultToConfig2,\n    'onDownloadProgress': defaultToConfig2,\n    'decompress': defaultToConfig2,\n    'maxContentLength': defaultToConfig2,\n    'maxBodyLength': defaultToConfig2,\n    'beforeRedirect': defaultToConfig2,\n    'transport': defaultToConfig2,\n    'httpAgent': defaultToConfig2,\n    'httpsAgent': defaultToConfig2,\n    'cancelToken': defaultToConfig2,\n    'socketPath': defaultToConfig2,\n    'responseEncoding': defaultToConfig2,\n    'validateStatus': mergeDirectKeys\n  };\n\n  utils.forEach(Object.keys(config1).concat(Object.keys(config2)), function computeConfigValue(prop) {\n    var merge = mergeMap[prop] || mergeDeepProperties;\n    var configValue = merge(prop);\n    (utils.isUndefined(configValue) && merge !== mergeDirectKeys) || (config[prop] = configValue);\n  });\n\n  return config;\n};\n","'use strict';\n\nvar VERSION = require('../env/data').version;\nvar AxiosError = require('../core/AxiosError');\n\nvar validators = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach(function(type, i) {\n  validators[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nvar deprecatedWarnings = {};\n\n/**\n * Transitional option validator\n * @param {function|boolean?} validator - set to false if the transitional option has been removed\n * @param {string?} version - deprecated version / removed since version\n * @param {string?} message - some message with additional info\n * @returns {function}\n */\nvalidators.transitional = function transitional(validator, version, message) {\n  function formatMessage(opt, desc) {\n    return '[Axios v' + VERSION + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return function(value, opt, opts) {\n    if (validator === false) {\n      throw new AxiosError(\n        formatMessage(opt, ' has been removed' + (version ? ' in ' + version : '')),\n        AxiosError.ERR_DEPRECATED\n      );\n    }\n\n    if (version && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\n/**\n * Assert object's properties type\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new AxiosError('options must be an object', AxiosError.ERR_BAD_OPTION_VALUE);\n  }\n  var keys = Object.keys(options);\n  var i = keys.length;\n  while (i-- > 0) {\n    var opt = keys[i];\n    var validator = schema[opt];\n    if (validator) {\n      var value = options[opt];\n      var result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new AxiosError('option ' + opt + ' must be ' + result, AxiosError.ERR_BAD_OPTION_VALUE);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw new AxiosError('Unknown option ' + opt, AxiosError.ERR_BAD_OPTION);\n    }\n  }\n}\n\nmodule.exports = {\n  assertOptions: assertOptions,\n  validators: validators\n};\n","module.exports = {\n  \"version\": \"0.27.2\"\n};","'use strict';\n\nvar CanceledError = require('./CanceledError');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n\n  // eslint-disable-next-line func-names\n  this.promise.then(function(cancel) {\n    if (!token._listeners) return;\n\n    var i;\n    var l = token._listeners.length;\n\n    for (i = 0; i < l; i++) {\n      token._listeners[i](cancel);\n    }\n    token._listeners = null;\n  });\n\n  // eslint-disable-next-line func-names\n  this.promise.then = function(onfulfilled) {\n    var _resolve;\n    // eslint-disable-next-line func-names\n    var promise = new Promise(function(resolve) {\n      token.subscribe(resolve);\n      _resolve = resolve;\n    }).then(onfulfilled);\n\n    promise.cancel = function reject() {\n      token.unsubscribe(_resolve);\n    };\n\n    return promise;\n  };\n\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new CanceledError(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `CanceledError` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Subscribe to the cancel signal\n */\n\nCancelToken.prototype.subscribe = function subscribe(listener) {\n  if (this.reason) {\n    listener(this.reason);\n    return;\n  }\n\n  if (this._listeners) {\n    this._listeners.push(listener);\n  } else {\n    this._listeners = [listener];\n  }\n};\n\n/**\n * Unsubscribe from the cancel signal\n */\n\nCancelToken.prototype.unsubscribe = function unsubscribe(listener) {\n  if (!this._listeners) {\n    return;\n  }\n  var index = this._listeners.indexOf(listener);\n  if (index !== -1) {\n    this._listeners.splice(index, 1);\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nmodule.exports = function isAxiosError(payload) {\n  return utils.isObject(payload) && (payload.isAxiosError === true);\n};\n","import { genresArray } from './moviesGenres';\n\nconst moviesGallery = document.querySelector('.film_list');\n\nfunction appendMoviesMarkup(movies) {\n  movies.forEach(movie => {\n    let moviePoster = `https://image.tmdb.org/t/p/w500${movie.poster_path}`;\n    if (movie.poster_path === null) {\n      moviePoster = `https://qqcinema.com/wp-content/uploads/no-poster.png`;\n    }\n    const movieTitle = movie.title;\n    let movieReleaseDate = movie.release_date.split('').slice(0, 4).join('');\n    if (movie.release_date === '') {\n      movieReleaseDate = `Unknown`;\n    }\n    const movieGenres = getGenres(movie.genre_ids);\n    const movieId = movie.id;\n\n    const movieMarkup = `<li id=\"${movieId}\" class=\"film-list__item\"><img src=\"${moviePoster}\" alt=\"${movieTitle}\" class=\"film-list__item-poster\" loading=\"lazy\">\n     <div class=\"film-list__item-info\"><h3 class=\"film-list__item-title\">${movieTitle}</h3><div class=\"film-list__item-details\"><span class=\"film-list__item-genres\">${movieGenres}</span>|<span class=\"film-list__item-year\">${movieReleaseDate}</span></div></div>\n   </li>`;\n\n    moviesGallery.insertAdjacentHTML('beforeend', movieMarkup);\n  });\n}\n\nfunction getGenres(ids) {\n  const genres = ids.map(id => {\n    const genre = genresArray.find(genre => genre.id === id).name;\n    return genre;\n  });\n  if (genres.length === 0) {\n    return ['Unknown'];\n  }\n  if (genres.length >= 4) {\n    genres.splice(2, 10, 'Other');\n  }\n  return genres.join(', ');\n}\n\nfunction clearGallery() {\n  moviesGallery.innerHTML = '';\n}\n\n// export { appendMoviesMarkup, clearGallery };\n\nexport { appendMoviesMarkup, moviesGallery, clearGallery };\n","const genresArray = [\n  { id: 28, name: 'Action' },\n  { id: 12, name: 'Adventure' },\n  { id: 16, name: 'Animation' },\n  { id: 35, name: 'Comedy' },\n  { id: 80, name: 'Crime' },\n  { id: 99, name: 'Documentary' },\n  { id: 18, name: 'Drama' },\n  { id: 10751, name: 'Family' },\n  { id: 14, name: 'Fantasy' },\n  { id: 36, name: 'History' },\n  { id: 27, name: 'Horror' },\n  { id: 10402, name: 'Music' },\n  { id: 9648, name: 'Mystery' },\n  { id: 10749, name: 'Romance' },\n  { id: 878, name: 'Science Fiction' },\n  { id: 10770, name: 'TV Movie' },\n  { id: 53, name: 'Thriller' },\n  { id: 10752, name: 'War' },\n  { id: 37, name: 'Western' },\n];\n\nexport { genresArray };\n","const Theme = {\nLIGHT: \"light-theme\",\nDARK: \"dark-theme\",\nGREY: \"grey-background-theme\",\n};\n\nconst bodyTheme = document.querySelector(\"body\");\nconst footerTheme = document.querySelector(\"footer\");\n\nconst delClassElem = () => {\n    bodyTheme.classList.remove(Theme.LIGHT, Theme.DARK);\n    footerTheme.classList.remove(Theme.LIGHT, Theme.GREY);\n};\nconst themeSwitcher = document.querySelector(\"#theme-switch-toggle\");\n\nthemeSwitcher.addEventListener(\"change\", () => {\n    delClassElem();\n\nif (themeSwitcher.checked) {\n    localStorage.setItem(\"Theme\", \"darkTheme\");\n    bodyTheme.classList.add(Theme.DARK);\n    footerTheme.classList.add(Theme.GREY);\n\n} else {\n    localStorage.setItem(\"Theme\", \"lightTheme\");\n    bodyTheme.classList.add(Theme.LIGHT);\n}\n});\n\nif (localStorage.getItem(\"Theme\") === \"darkTheme\") {\n    themeSwitcher.setAttribute(\"checked\", true);\n    bodyTheme.classList.add(Theme.DARK);\n    footerTheme.classList.add(Theme.GREY);\n}","const bodyElFooter = document.body;\nconst modalFooter = document.querySelector(\"[data-modal]\");\nconst buttonFooter = document.querySelector(\"[data-modal-open]\");\nconst closeModalButton = document.querySelector(\"[data-modal-close]\");\n\nbuttonFooter.addEventListener(\"click\", openModalFooter);\ncloseModalButton.addEventListener(\"click\", closeModalFooter);\n\nfunction openModalFooter() {\n    bodyElFooter.classList.add('no-scroll-footer');\n    modalFooter.classList.remove(\"is-hidden\");\n    document.getElementById(\"backToTop\").style.display = \"none\";\n}\n\nbuttonFooter.addEventListener(\"click\",function () {\n    modalFooter.style.display = \"block\";\n}); \n\nfunction onPressEsc(e) {\n    if (e.code === 'Escape') {\n    closeModalFooter();\n    }\n}\n\nwindow.addEventListener(\"keydown\", function(e) {\n    if (e.keyCode === 27  && modalFooter.style.display === \"block\") {\n        modalFooter.classList.add('is-hidden');\n        bodyElFooter.classList.remove('no-scroll-footer');\n        closeModalFooter()\n    }\n});\n\nwindow.addEventListener(\"click\",modalFooterClick)\nfunction modalFooterClick(e) {\n    if (e.target == modalFooter) { \n        modalFooter.classList.add('is-hidden');\n        bodyElFooter.classList.remove('no-scroll-footer');\n        closeModalFooter()\n    }\n}\n\ncloseModalButton.addEventListener(\"click\", function() {\n    modalFooter.classList.add('is-hidden');\n    bodyElFooter.classList.remove('no-scroll-footer');\n});\n\nfunction closeModalFooter() {\n    modalFooter.removeEventListener('click', modalFooterClick);\n    window.removeEventListener('keydown', onPressEsc);\n}\n","const modalWindowEl = document.querySelector('.backdrop');\nconst btnMovieClose = document.querySelector('.btn-close_modal');\nconst bodyEl = document.querySelector('body');\n\nexport default class modalMarkupApi {\n  constructor() {\n    this.filmInfo = {};\n  }\n\n  makeFilmModalMarkup({\n    poster_path,\n    original_title,\n    title,\n    name,\n    vote_average,\n    vote_count,\n    genres,\n    overview,\n    popularity,\n    id,\n  }) {\n    const filmGenres = genres.map(({ name }) => name).join(', ');\n    const modalWindow = `<div class=\"modal-window\">\n\n        <div class=\"modal-film_img\">\n         <button type=\"button\" class=\"btn-close_modal\" id=\"modal-close\" >\n        <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width=\"14\"\n        height=\"14\"\n        fill=\"currentColor\"\n        class=\"bi bi-x-lg\"\n        id=\"close-icon\"\n        viewBox=\"0 0 16 16\"\n      >\n        <path \n           id = \"close-svg\" d=\"M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z\"\n        />\n      </svg>\n        </button>\n\n            <img class=\"modal-img\" id=${id} src='${\n      poster_path\n        ? `https://image.tmdb.org/t/p/w500${poster_path}`\n        : `https://qqcinema.com/wp-content/uploads/no-poster.png`\n    }' alt=${title || original_title || name} width=\"370\" height=\"470\">\n\n        </div>\n        <div class=\"film-info\">\n       \n            <h2 class=\"film-name\">${title || original_title || name}</h2>\n            <div class=\"film-info\">\n            <ul class=\"film-info__list\">\n                <li class=\"film-info__item\">Vote / Votes</li>\n                <li class=\"film-info__item\"><span class=\"span-info__current-item\">${vote_average.toFixed(\n                  1\n                )}</span> <span>/</span> <span class=\"span-info__item\">${vote_count}</span></li>\n                <li class=\"film-info__item\">Popularity</li>\n                 <li class=\"film-info__params\">${popularity}</li>\n                <li class=\"film-info__item\">Original Title</li>\n                 <li class=\"film-info__params\">${\n                   title || original_title || name\n                 }</li>\n                <li class=\"film-info__item\">Genre</li>\n            <li class=\"film-info__params\">${filmGenres}</li>   \n            </ul>\n            </div>\n            <h3 class=\"film-about_title\">About</h3>\n            <p class=\"film-description\">${overview}</p>\n            <div class=\"modal-btn-wrap\">\n                <button type=\"button\" id='${id}' class=\"modal__add-watched modal-btn--active ls-watched\">ADD TO WATCHED</button>\n                <button type=\"button\" id='${id}' class=\"modal__add-queue modal-btn--active ls-queue\">ADD TO QUEUE</button>\n            </div>\n        </div>\n    </div>`;\n\n    modalWindowEl.insertAdjacentHTML('beforeend', modalWindow);\n  }\n}\n\n//\n\n//  -\n\nexport function isOpenModal() {\n  modalWindowEl.classList.add('modal-open');\n  document.getElementById('backToTop').style.display = 'none';\n  document.body.style.overflow = 'hidden';\n}\n\nexport function clearModal() {\n  modalWindowEl.innerHTML = '';\n  modalWindowEl.classList.remove('modal-open');\n}\n\n// -  \n\nexport function onEscClose(event) {\n  if (event.key === 'Escape') {\n    closeModal();\n  }\n}\n\nexport function onClickClose(event) {\n  if (\n    event.target === modalWindowEl ||\n    event.target.id === 'modal-close' ||\n    event.target.id === 'close-icon' ||\n    event.target.id === 'close-svg'\n  ) {\n    closeModal();\n  }\n}\n\nfunction closeModal() {\n  modalWindowEl.classList.remove('modal-open');\n  document.removeEventListener('click', onClickClose);\n  document.removeEventListener('keydown', onEscClose);\n  document.body.style.overflow = '';\n}\n","import getMoviesApi from './getMoviesApi';\nimport modalMarkupApi from './modalMovieMarkup';\nimport * as local from './localStorage';\nimport { moviesGallery } from './moviesMarkup';\nimport {\n  isOpenModal,\n  clearModal,\n  onEscClose,\n  onClickClose,\n  makeFilmModalMarkup,\n} from './modalMovieMarkup';\n\nmoviesGallery.addEventListener('click', onMovieCardClick);\nconst header = document.querySelector('header');\nconst getFullInfo = new getMoviesApi();\nconst modalMarkup = new modalMarkupApi();\n\nfunction onMovieCardClick(evt) {\n  evt.preventDefault();\n  clearModal();\n  isOpenModal();\n  document.body.style.overflow = 'hidden';\n  document.addEventListener('keydown', onEscClose);\n  document.addEventListener('click', onClickClose);\n\n  if (!evt.target.closest('li')) {\n    return;\n  }\n  getFullInfo.getFullMovieInfo(evt.target.closest('li').id).then(films => {\n    modalMarkup.makeFilmModalMarkup(films);\n\n    modalMarkup.filmInfo = {\n      title: films.title,\n      poster_path: films.poster_path,\n      genres: films.genres,\n      release_date: films.release_date,\n      vote_average: films.vote_average,\n      id: films.id,\n    };\n\n    const watchedBtn = document.querySelector('.ls-watched');\n    const queueBtn = document.querySelector('.ls-queue');\n\n    if (header.classList.contains('header-library')) {\n      queueBtn.textContent = 'Remove from queue';\n      watchedBtn.textContent = 'Remove from watched';\n    }\n    if (watchedIdList.length === -1) {\n      return;\n    } else {\n      watchedIdList.forEach(element => {\n        if (element.id === modalMarkup.filmInfo.id) {\n          watchedBtn.textContent = 'Remove from watched';\n        }\n      });\n    }\n\n    watchedBtn.addEventListener('click', addWatchedBtn);\n\n    if (queueIdList.length === -1) {\n      return;\n    } else {\n      queueIdList.forEach(element => {\n        if (element.id === modalMarkup.filmInfo.id) {\n          queueBtn.textContent = 'Remove from queue';\n        }\n      });\n    }\n    queueBtn.addEventListener('click', addQueueBtn);\n  });\n}\n\n//    \nlet queueIdList = [];\nlet watchedIdList = [];\n\nconst keyW = 'watchedKey';\nconst keyQ = 'queueKey';\n\nfunction addWatchedBtn(event) {\n  const watchedBtn = event.target;\n  const watchedMovie = modalMarkup.filmInfo;\n\n  if (localStorage.getItem(keyW) !== null) {\n    watchedIdList = local.loadLocalStorage(keyW);\n  }\n\n  if (watchedIdList.find(film => film.id === watchedMovie.id)) {\n    watchedIdList = watchedIdList.filter(film => film.id !== watchedMovie.id);\n    local.saveLocalStorage(keyW, watchedIdList);\n    watchedBtn.textContent = 'Add to watched';\n  } else {\n    watchedIdList.push(watchedMovie);\n    local.saveLocalStorage(keyW, watchedIdList);\n    watchedBtn.textContent = 'Remove from watched';\n  }\n  clearModal();\n  document.body.style.overflow = '';\n}\n\n//     \nfunction addQueueBtn(event) {\n  const queueBtn = event.target;\n  const queueMovie = modalMarkup.filmInfo;\n\n  if (localStorage.getItem(keyQ) !== null) {\n    queueIdList = local.loadLocalStorage(keyQ);\n  }\n\n  if (queueIdList.find(film => film.id === queueMovie.id)) {\n    queueIdList = queueIdList.filter(film => film.id !== queueMovie.id);\n    local.saveLocalStorage(keyQ, queueIdList);\n    queueBtn.textContent = 'Add to Queue';\n  } else {\n    queueIdList.push(queueMovie);\n    local.saveLocalStorage(keyQ, queueIdList);\n    queueBtn.textContent = 'Remove from queue';\n  }\n  clearModal();\n  document.body.style.overflow = '';\n}\n\nexport { addWatchedBtn, addQueueBtn };\n","import {addLoader, removeLoader} from './loader';\n\n//  \nfunction saveLocalStorage(key, value) {\n  const data = JSON.stringify(value);\n  localStorage.setItem(key, data);\n}\n\n//   \nfunction loadLocalStorage(key) {\n  try {\n    addLoader();\n    const data = localStorage.getItem(key);\n    removeLoader();\n    return data === null ? undefined : JSON.parse(data);\n  } catch (error) {\n    addLoader();\n    console.log('Get error: ', error.message);\n    removeLoader();\n  }\n}\n//   \nfunction removeLocalStorage(key) {\n  return localStorage.removeItem(key);\n}\n\nexport { saveLocalStorage, loadLocalStorage, removeLocalStorage };\n\n// export default {\n//   saveLocalStorage,\n//   loadLocalStorage,\n//   removeLocalStorage,\n// };\n","import Notiflix from 'notiflix';\nimport { firebaseConfig } from './firebaseConfig';\nimport { initializeApp } from 'firebase/app'\nimport { getAuth, createUserWithEmailAndPassword, signOut, signInWithEmailAndPassword,\n    onAuthStateChanged, } from \"firebase/auth\";\nimport {addLoader, removeLoader} from '../loader';\n\nconst app = initializeApp(firebaseConfig);   // Initialize Firebase\n\nconst auth = getAuth();    // Initialize Firebase Authentication and get a reference to the servic\n\nconst singUpEL = document.querySelector('.js-up');\nconst singOutEL = document.querySelector('.js-out');\nconst singInEL = document.querySelector('.js-in');\nconst singUpModalBtnClose = document.querySelector('.sing-up-modal__btn-close');\nconst singInModalBtnClose = document.querySelector('.sing-in-modal__btn-close');\nconst backdropSingUpEl = document.querySelector('.sing-up-form-backdrop');\nconst backdropSingInEl = document.querySelector('.sing-in-form-backdrop');\nconst singUpEmailInput = document.querySelector('input[name=\"sing-up-email\"]');\nconst singUpPasswordInput = document.querySelector('input[name=\"sing-up-password\"]');\nconst singInEmailInput = document.querySelector('input[name=\"sing-in-email\"]');\nconst singInPasswordInput = document.querySelector('input[name=\"sing-in-password\"]');\n\nsingUpModalBtnClose.addEventListener('click', \n() => { backdropSingUpEl.classList.add('is-hidden')});\n\nsingInModalBtnClose.addEventListener('click', \n() => { backdropSingInEl.classList.add('is-hidden')});\n\nsingUpEL.addEventListener('click', onSingUpBtnClick);\n\nfunction onSingUpBtnClick () {\n    backdropSingUpEl.classList.remove('is-hidden');\n    const formSingUpEl = document.querySelector('.sing-up-form');\n    formSingUpEl.addEventListener('submit', onSubmitSingUpButtonClick, {once: true});\n}\n\nfunction onSubmitSingUpButtonClick (e) {\n    e.preventDefault();\n    let email = singUpEmailInput.value;\n    let password = singUpPasswordInput.value;\n    \n    createUserWithEmailAndPassword(auth, email, password)\n  .then((userCredential) => {\n    // Signed in \n    addLoader();\n    const user = userCredential.user;\n    e.target.reset();\n    backdropSingUpEl.classList.add('is-hidden');\n    Notiflix.Notify.info(\"Registration completed successfully\");\n    removeLoader();\n  })\n  .catch((error) => {\n    addLoader();\n    if (error.message === 'Firebase: Error (auth/invalid-email).') {\n        Notiflix.Notify.warning('Ivalid email. Please, try again!');}\n        else if (\n         error.message === 'Firebase: Password should be at least 6 characters (auth/weak-password).'\n        ) {\n        Notiflix.Notify.warning('Password should be at least 6 characters');}\n        else if (\n         error.message === 'Firebase: Error (auth/email-already-in-use).'\n        ) {\n            Notiflix.Notify.warning('Such mail already exists. Please sign in');}\n        else {\n            Notiflix.Notify.warning('Registration error. Try again');\n            }\n            removeLoader();\n  });\n}\n\nsingInEL.addEventListener('click', onSingInBtnClick);\n\nfunction onSingInBtnClick() {\n    backdropSingInEl.classList.remove('is-hidden');\n    const formSingInEl = document.querySelector('.sing-in-form');\n    formSingInEl.addEventListener('submit', onSubmitSingInButtonClick, {once: true});\n}\n\nfunction onSubmitSingInButtonClick(e) {\n    e.preventDefault();\n    let email = singInEmailInput.value;\n    let password = singInPasswordInput.value;\n\n    signInWithEmailAndPassword(auth, email, password)\n    .then((userCredential) => {\n    // Signed in \n    addLoader();\n    const user = userCredential.user;\n    e.target.reset();\n    backdropSingInEl.classList.add('is-hidden');\n    Notiflix.Notify.success('You are logged into your account');\n    removeLoader();\n    })\n    .catch((error) => {\n        e.target.reset();\n        addLoader();\n        if (error.message === 'Firebase: Error (auth/invalid-email).') {\n            Notiflix.Notify.warning('Ivalid email. Please, try again!');}\n            else if (\n             error.message === 'Firebase: Password should be at least 6 characters (auth/weak-password).'\n            ) {\n            Notiflix.Notify.warning('Password should be at least 6 characters');}\n            else if (\n             error.message === 'Firebase: Error (auth/email-already-in-use).'\n            ) {\n                Notiflix.Notify.warning('Such mail already exists. Please sign in');}\n            else {\n                Notiflix.Notify.warning('Registration error. Try again');\n                }\n                removeLoader();\n  });\n}\n\nonAuthStateChanged(auth, (user) => {\n    if (user) {\n      // User is signed in, see docs for a list of available properties\n      // https://firebase.google.com/docs/reference/js/firebase.User\n      const uid = user.uid;\n      singUpEL.classList.add('is-hidden');\n      singUpEL.classList.remove('btn__item');\n      singInEL.classList.add('is-hidden');\n      singInEL.classList.remove('btn__item');\n      singOutEL.classList.remove('is-hidden');\n      singOutEL.classList.add('btn__item');\n    } else {\n        singUpEL.classList.remove('is-hidden');\n        singInEL.classList.remove('is-hidden');\n        singOutEL.classList.add('is-hidden');\n    }\n  });\n\n  singOutEL.addEventListener('click', onSingOutBtnClick);\n\nfunction onSingOutBtnClick() {\n    signOut(auth)\n    .then(() => {\n        addLoader();\n        Notiflix.Notify.info(\"You're sing out.\");\n        document.querySelector('#my-library').classList.add('lib');\n        removeLoader();\n    })\n    .catch(() => {\n        addLoader();\n        Notiflix.Notify.error(\"Error.\");\n        removeLoader();\n    })\n}\n\n\n\n\n\n\n","/* Notiflix AIO (https://notiflix.github.io) - Version: 3.2.5 - Author: Furkan MT (https://github.com/furcan) - Copyright 2019 - 2022 Notiflix, MIT Licence (https://opensource.org/licenses/MIT) */\n\n(function(t,e){\"function\"==typeof define&&define.amd?define([],function(){return e(t)}):\"object\"==typeof module&&\"object\"==typeof module.exports?module.exports=e(t):t.Notiflix=e(t)})(\"undefined\"==typeof global?\"undefined\"==typeof window?this:window:global,function(t){'use strict';if(\"undefined\"==typeof t&&\"undefined\"==typeof t.document)return!1;var e,i,a,n,o,r=\"\\n\\nVisit documentation page to learn more: https://notiflix.github.io/documentation\",s=\"-apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial, \\\"Noto Sans\\\", sans-serif\",l={Success:\"Success\",Failure:\"Failure\",Warning:\"Warning\",Info:\"Info\"},m={wrapID:\"NotiflixNotifyWrap\",overlayID:\"NotiflixNotifyOverlay\",width:\"280px\",position:\"right-top\",distance:\"10px\",opacity:1,borderRadius:\"5px\",rtl:!1,timeout:3e3,messageMaxLength:110,backOverlay:!1,backOverlayColor:\"rgba(0,0,0,0.5)\",plainText:!0,showOnlyTheLastOne:!1,clickToClose:!1,pauseOnHover:!0,ID:\"NotiflixNotify\",className:\"notiflix-notify\",zindex:4001,fontFamily:\"Quicksand\",fontSize:\"13px\",cssAnimation:!0,cssAnimationDuration:400,cssAnimationStyle:\"fade\",closeButton:!1,useIcon:!0,useFontAwesome:!1,fontAwesomeIconStyle:\"basic\",fontAwesomeIconSize:\"34px\",success:{background:\"#32c682\",textColor:\"#fff\",childClassName:\"notiflix-notify-success\",notiflixIconColor:\"rgba(0,0,0,0.2)\",fontAwesomeClassName:\"fas fa-check-circle\",fontAwesomeIconColor:\"rgba(0,0,0,0.2)\",backOverlayColor:\"rgba(50,198,130,0.2)\"},failure:{background:\"#ff5549\",textColor:\"#fff\",childClassName:\"notiflix-notify-failure\",notiflixIconColor:\"rgba(0,0,0,0.2)\",fontAwesomeClassName:\"fas fa-times-circle\",fontAwesomeIconColor:\"rgba(0,0,0,0.2)\",backOverlayColor:\"rgba(255,85,73,0.2)\"},warning:{background:\"#eebf31\",textColor:\"#fff\",childClassName:\"notiflix-notify-warning\",notiflixIconColor:\"rgba(0,0,0,0.2)\",fontAwesomeClassName:\"fas fa-exclamation-circle\",fontAwesomeIconColor:\"rgba(0,0,0,0.2)\",backOverlayColor:\"rgba(238,191,49,0.2)\"},info:{background:\"#26c0d3\",textColor:\"#fff\",childClassName:\"notiflix-notify-info\",notiflixIconColor:\"rgba(0,0,0,0.2)\",fontAwesomeClassName:\"fas fa-info-circle\",fontAwesomeIconColor:\"rgba(0,0,0,0.2)\",backOverlayColor:\"rgba(38,192,211,0.2)\"}},c={Success:\"Success\",Failure:\"Failure\",Warning:\"Warning\",Info:\"Info\"},p={ID:\"NotiflixReportWrap\",className:\"notiflix-report\",width:\"320px\",backgroundColor:\"#f8f8f8\",borderRadius:\"25px\",rtl:!1,zindex:4002,backOverlay:!0,backOverlayColor:\"rgba(0,0,0,0.5)\",backOverlayClickToClose:!1,fontFamily:\"Quicksand\",svgSize:\"110px\",plainText:!0,titleFontSize:\"16px\",titleMaxLength:34,messageFontSize:\"13px\",messageMaxLength:400,buttonFontSize:\"14px\",buttonMaxLength:34,cssAnimation:!0,cssAnimationDuration:360,cssAnimationStyle:\"fade\",success:{svgColor:\"#32c682\",titleColor:\"#1e1e1e\",messageColor:\"#242424\",buttonBackground:\"#32c682\",buttonColor:\"#fff\",backOverlayColor:\"rgba(50,198,130,0.2)\"},failure:{svgColor:\"#ff5549\",titleColor:\"#1e1e1e\",messageColor:\"#242424\",buttonBackground:\"#ff5549\",buttonColor:\"#fff\",backOverlayColor:\"rgba(255,85,73,0.2)\"},warning:{svgColor:\"#eebf31\",titleColor:\"#1e1e1e\",messageColor:\"#242424\",buttonBackground:\"#eebf31\",buttonColor:\"#fff\",backOverlayColor:\"rgba(238,191,49,0.2)\"},info:{svgColor:\"#26c0d3\",titleColor:\"#1e1e1e\",messageColor:\"#242424\",buttonBackground:\"#26c0d3\",buttonColor:\"#fff\",backOverlayColor:\"rgba(38,192,211,0.2)\"}},f={Show:\"Show\",Ask:\"Ask\",Prompt:\"Prompt\"},d={ID:\"NotiflixConfirmWrap\",className:\"notiflix-confirm\",width:\"300px\",zindex:4003,position:\"center\",distance:\"10px\",backgroundColor:\"#f8f8f8\",borderRadius:\"25px\",backOverlay:!0,backOverlayColor:\"rgba(0,0,0,0.5)\",rtl:!1,fontFamily:\"Quicksand\",cssAnimation:!0,cssAnimationDuration:300,cssAnimationStyle:\"fade\",plainText:!0,titleColor:\"#32c682\",titleFontSize:\"16px\",titleMaxLength:34,messageColor:\"#1e1e1e\",messageFontSize:\"14px\",messageMaxLength:110,buttonsFontSize:\"15px\",buttonsMaxLength:34,okButtonColor:\"#f8f8f8\",okButtonBackground:\"#32c682\",cancelButtonColor:\"#f8f8f8\",cancelButtonBackground:\"#a9a9a9\"},x={Standard:\"Standard\",Hourglass:\"Hourglass\",Circle:\"Circle\",Arrows:\"Arrows\",Dots:\"Dots\",Pulse:\"Pulse\",Custom:\"Custom\",Notiflix:\"Notiflix\"},g={ID:\"NotiflixLoadingWrap\",className:\"notiflix-loading\",zindex:4e3,backgroundColor:\"rgba(0,0,0,0.8)\",rtl:!1,fontFamily:\"Quicksand\",cssAnimation:!0,cssAnimationDuration:400,clickToClose:!1,customSvgUrl:null,customSvgCode:null,svgSize:\"80px\",svgColor:\"#32c682\",messageID:\"NotiflixLoadingMessage\",messageFontSize:\"15px\",messageMaxLength:34,messageColor:\"#dcdcdc\"},b={Standard:\"Standard\",Hourglass:\"Hourglass\",Circle:\"Circle\",Arrows:\"Arrows\",Dots:\"Dots\",Pulse:\"Pulse\"},u={ID:\"NotiflixBlockWrap\",querySelectorLimit:200,className:\"notiflix-block\",position:\"absolute\",zindex:1e3,backgroundColor:\"rgba(255,255,255,0.9)\",rtl:!1,fontFamily:\"Quicksand\",cssAnimation:!0,cssAnimationDuration:300,svgSize:\"45px\",svgColor:\"#383838\",messageFontSize:\"14px\",messageMaxLength:34,messageColor:\"#383838\"},y=function(t){return console.error(\"%c Notiflix Error \",\"padding:2px;border-radius:20px;color:#fff;background:#ff5549\",\"\\n\"+t+r)},k=function(t){return console.log(\"%c Notiflix Info \",\"padding:2px;border-radius:20px;color:#fff;background:#26c0d3\",\"\\n\"+t+r)},w=function(e){return e||(e=\"head\"),null!==t.document[e]||(y(\"\\nNotiflix needs to be appended to the \\\"<\"+e+\">\\\" element, but you called it before the \\\"<\"+e+\">\\\" element has been created.\"),!1)},h=function(e,i){if(!w(\"head\"))return!1;if(null!==e()&&!t.document.getElementById(i)){var a=t.document.createElement(\"style\");a.id=i,a.innerHTML=e(),t.document.head.appendChild(a)}},v=function(){var t={},e=!1,a=0;\"[object Boolean]\"===Object.prototype.toString.call(arguments[0])&&(e=arguments[0],a++);for(var n=function(i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=e&&\"[object Object]\"===Object.prototype.toString.call(i[a])?v(t[a],i[a]):i[a])};a<arguments.length;a++)n(arguments[a]);return t},N=function(e){var i=t.document.createElement(\"div\");return i.innerHTML=e,i.textContent||i.innerText||\"\"},C=function(t,e){t||(t=\"110px\"),e||(e=\"#32c682\");var i=\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"NXReportSuccess\\\" width=\\\"\"+t+\"\\\" height=\\\"\"+t+\"\\\" fill=\\\"\"+e+\"\\\" viewBox=\\\"0 0 120 120\\\"><style>@-webkit-keyframes NXReportSuccess1-animation{0%{-webkit-transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px)}50%,to{-webkit-transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px)}60%{-webkit-transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px)}}@keyframes NXReportSuccess1-animation{0%{-webkit-transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px)}50%,to{-webkit-transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px)}60%{-webkit-transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px)}}@-webkit-keyframes NXReportSuccess4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportSuccess4-animation{0%{opacity:0}50%,to{opacity:1}}@-webkit-keyframes NXReportSuccess3-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportSuccess3-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportSuccess2-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportSuccess2-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}#NXReportSuccess *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style=\\\"-webkit-animation-name:NXReportSuccess2-animation;animation-name:NXReportSuccess2-animation;-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)\\\"><path d=\\\"M60 115.38C29.46 115.38 4.62 90.54 4.62 60 4.62 29.46 29.46 4.62 60 4.62c30.54 0 55.38 24.84 55.38 55.38 0 30.54-24.84 55.38-55.38 55.38zM60 0C26.92 0 0 26.92 0 60s26.92 60 60 60 60-26.92 60-60S93.08 0 60 0z\\\" style=\\\"-webkit-animation-name:NXReportSuccess3-animation;animation-name:NXReportSuccess3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)\\\" fill=\\\"inherit\\\" data-animator-group=\\\"true\\\" data-animator-type=\\\"2\\\"/></g><g style=\\\"-webkit-animation-name:NXReportSuccess1-animation;animation-name:NXReportSuccess1-animation;-webkit-transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px);-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)\\\"><path d=\\\"M88.27 35.39L52.8 75.29 31.43 58.2c-.98-.81-2.44-.63-3.24.36-.79.99-.63 2.44.36 3.24l23.08 18.46c.43.34.93.51 1.44.51.64 0 1.27-.26 1.74-.78l36.91-41.53a2.3 2.3 0 0 0-.19-3.26c-.95-.86-2.41-.77-3.26.19z\\\" style=\\\"-webkit-animation-name:NXReportSuccess4-animation;animation-name:NXReportSuccess4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)\\\" fill=\\\"inherit\\\" data-animator-group=\\\"true\\\" data-animator-type=\\\"2\\\"/></g></svg>\";return i},z=function(t,e){t||(t=\"110px\"),e||(e=\"#ff5549\");var i=\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"NXReportFailure\\\" width=\\\"\"+t+\"\\\" height=\\\"\"+t+\"\\\" fill=\\\"\"+e+\"\\\" viewBox=\\\"0 0 120 120\\\"><style>@-webkit-keyframes NXReportFailure2-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportFailure2-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportFailure1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportFailure1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportFailure3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportFailure3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportFailure4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportFailure4-animation{0%{opacity:0}50%,to{opacity:1}}#NXReportFailure *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style=\\\"-webkit-animation-name:NXReportFailure1-animation;animation-name:NXReportFailure1-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)\\\"><path d=\\\"M4.35 34.95c0-16.82 13.78-30.6 30.6-30.6h50.1c16.82 0 30.6 13.78 30.6 30.6v50.1c0 16.82-13.78 30.6-30.6 30.6h-50.1c-16.82 0-30.6-13.78-30.6-30.6v-50.1zM34.95 120h50.1c19.22 0 34.95-15.73 34.95-34.95v-50.1C120 15.73 104.27 0 85.05 0h-50.1C15.73 0 0 15.73 0 34.95v50.1C0 104.27 15.73 120 34.95 120z\\\" style=\\\"-webkit-animation-name:NXReportFailure2-animation;animation-name:NXReportFailure2-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)\\\" fill=\\\"inherit\\\" data-animator-group=\\\"true\\\" data-animator-type=\\\"2\\\"/></g><g style=\\\"-webkit-animation-name:NXReportFailure3-animation;animation-name:NXReportFailure3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)\\\"><path d=\\\"M82.4 37.6c-.9-.9-2.37-.9-3.27 0L60 56.73 40.86 37.6a2.306 2.306 0 0 0-3.26 3.26L56.73 60 37.6 79.13c-.9.9-.9 2.37 0 3.27.45.45 1.04.68 1.63.68.59 0 1.18-.23 1.63-.68L60 63.26 79.13 82.4c.45.45 1.05.68 1.64.68.58 0 1.18-.23 1.63-.68.9-.9.9-2.37 0-3.27L63.26 60 82.4 40.86c.9-.91.9-2.36 0-3.26z\\\" style=\\\"-webkit-animation-name:NXReportFailure4-animation;animation-name:NXReportFailure4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)\\\" fill=\\\"inherit\\\" data-animator-group=\\\"true\\\" data-animator-type=\\\"2\\\"/></g></svg>\";return i},S=function(t,e){t||(t=\"110px\"),e||(e=\"#eebf31\");var i=\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"NXReportWarning\\\" width=\\\"\"+t+\"\\\" height=\\\"\"+t+\"\\\" fill=\\\"\"+e+\"\\\" viewBox=\\\"0 0 120 120\\\"><style>@-webkit-keyframes NXReportWarning2-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportWarning2-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportWarning1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportWarning1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportWarning3-animation{0%{-webkit-transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px)}50%,to{-webkit-transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px)}60%{-webkit-transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px)}}@keyframes NXReportWarning3-animation{0%{-webkit-transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px)}50%,to{-webkit-transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px)}60%{-webkit-transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px)}}@-webkit-keyframes NXReportWarning4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportWarning4-animation{0%{opacity:0}50%,to{opacity:1}}#NXReportWarning *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style=\\\"-webkit-animation-name:NXReportWarning1-animation;animation-name:NXReportWarning1-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)\\\"><path d=\\\"M115.46 106.15l-54.04-93.8c-.61-1.06-2.23-1.06-2.84 0l-54.04 93.8c-.62 1.07.21 2.29 1.42 2.29h108.08c1.21 0 2.04-1.22 1.42-2.29zM65.17 10.2l54.04 93.8c2.28 3.96-.65 8.78-5.17 8.78H5.96c-4.52 0-7.45-4.82-5.17-8.78l54.04-93.8c2.28-3.95 8.03-4 10.34 0z\\\" style=\\\"-webkit-animation-name:NXReportWarning2-animation;animation-name:NXReportWarning2-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)\\\" fill=\\\"inherit\\\" data-animator-group=\\\"true\\\" data-animator-type=\\\"2\\\"/></g><g style=\\\"-webkit-animation-name:NXReportWarning3-animation;animation-name:NXReportWarning3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px)\\\"><path d=\\\"M57.83 94.01c0 1.2.97 2.17 2.17 2.17s2.17-.97 2.17-2.17v-3.2c0-1.2-.97-2.17-2.17-2.17s-2.17.97-2.17 2.17v3.2zm0-14.15c0 1.2.97 2.17 2.17 2.17s2.17-.97 2.17-2.17V39.21c0-1.2-.97-2.17-2.17-2.17s-2.17.97-2.17 2.17v40.65z\\\" style=\\\"-webkit-animation-name:NXReportWarning4-animation;animation-name:NXReportWarning4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)\\\" fill=\\\"inherit\\\" data-animator-group=\\\"true\\\" data-animator-type=\\\"2\\\"/></g></svg>\";return i},L=function(t,e){t||(t=\"110px\"),e||(e=\"#26c0d3\");var i=\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"NXReportInfo\\\" width=\\\"\"+t+\"\\\" height=\\\"\"+t+\"\\\" fill=\\\"\"+e+\"\\\" viewBox=\\\"0 0 120 120\\\"><style>@-webkit-keyframes NXReportInfo4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportInfo4-animation{0%{opacity:0}50%,to{opacity:1}}@-webkit-keyframes NXReportInfo3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportInfo3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportInfo2-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportInfo2-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportInfo1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportInfo1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}#NXReportInfo *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style=\\\"-webkit-animation-name:NXReportInfo1-animation;animation-name:NXReportInfo1-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)\\\"><path d=\\\"M60 115.38C29.46 115.38 4.62 90.54 4.62 60 4.62 29.46 29.46 4.62 60 4.62c30.54 0 55.38 24.84 55.38 55.38 0 30.54-24.84 55.38-55.38 55.38zM60 0C26.92 0 0 26.92 0 60s26.92 60 60 60 60-26.92 60-60S93.08 0 60 0z\\\" style=\\\"-webkit-animation-name:NXReportInfo2-animation;animation-name:NXReportInfo2-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)\\\" fill=\\\"inherit\\\" data-animator-group=\\\"true\\\" data-animator-type=\\\"2\\\"/></g><g style=\\\"-webkit-animation-name:NXReportInfo3-animation;animation-name:NXReportInfo3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)\\\"><path d=\\\"M57.75 43.85c0-1.24 1.01-2.25 2.25-2.25s2.25 1.01 2.25 2.25v48.18c0 1.24-1.01 2.25-2.25 2.25s-2.25-1.01-2.25-2.25V43.85zm0-15.88c0-1.24 1.01-2.25 2.25-2.25s2.25 1.01 2.25 2.25v3.32c0 1.25-1.01 2.25-2.25 2.25s-2.25-1-2.25-2.25v-3.32z\\\" style=\\\"-webkit-animation-name:NXReportInfo4-animation;animation-name:NXReportInfo4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)\\\" fill=\\\"inherit\\\" data-animator-group=\\\"true\\\" data-animator-type=\\\"2\\\"/></g></svg>\";return i},W=function(t,e){t||(t=\"60px\"),e||(e=\"#32c682\");var i=\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" stroke=\\\"\"+e+\"\\\" width=\\\"\"+t+\"\\\" height=\\\"\"+t+\"\\\" transform=\\\"scale(.8)\\\" viewBox=\\\"0 0 38 38\\\"><g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" stroke-width=\\\"2\\\" transform=\\\"translate(1 1)\\\"><circle cx=\\\"18\\\" cy=\\\"18\\\" r=\\\"18\\\" stroke-opacity=\\\".25\\\"/><path d=\\\"M36 18c0-9.94-8.06-18-18-18\\\"><animateTransform attributeName=\\\"transform\\\" dur=\\\"1s\\\" from=\\\"0 18 18\\\" repeatCount=\\\"indefinite\\\" to=\\\"360 18 18\\\" type=\\\"rotate\\\"/></path></g></svg>\";return i},I=function(t,e){t||(t=\"60px\"),e||(e=\"#32c682\");var i=\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"NXLoadingHourglass\\\" fill=\\\"\"+e+\"\\\" width=\\\"\"+t+\"\\\" height=\\\"\"+t+\"\\\" viewBox=\\\"0 0 200 200\\\"><style>@-webkit-keyframes NXhourglass5-animation{0%{-webkit-transform:scale(1,1);transform:scale(1,1)}16.67%{-webkit-transform:scale(1,.8);transform:scale(1,.8)}33.33%{-webkit-transform:scale(.88,.6);transform:scale(.88,.6)}37.5%{-webkit-transform:scale(.85,.55);transform:scale(.85,.55)}41.67%{-webkit-transform:scale(.8,.5);transform:scale(.8,.5)}45.83%{-webkit-transform:scale(.75,.45);transform:scale(.75,.45)}50%{-webkit-transform:scale(.7,.4);transform:scale(.7,.4)}54.17%{-webkit-transform:scale(.6,.35);transform:scale(.6,.35)}58.33%{-webkit-transform:scale(.5,.3);transform:scale(.5,.3)}83.33%,to{-webkit-transform:scale(.2,0);transform:scale(.2,0)}}@keyframes NXhourglass5-animation{0%{-webkit-transform:scale(1,1);transform:scale(1,1)}16.67%{-webkit-transform:scale(1,.8);transform:scale(1,.8)}33.33%{-webkit-transform:scale(.88,.6);transform:scale(.88,.6)}37.5%{-webkit-transform:scale(.85,.55);transform:scale(.85,.55)}41.67%{-webkit-transform:scale(.8,.5);transform:scale(.8,.5)}45.83%{-webkit-transform:scale(.75,.45);transform:scale(.75,.45)}50%{-webkit-transform:scale(.7,.4);transform:scale(.7,.4)}54.17%{-webkit-transform:scale(.6,.35);transform:scale(.6,.35)}58.33%{-webkit-transform:scale(.5,.3);transform:scale(.5,.3)}83.33%,to{-webkit-transform:scale(.2,0);transform:scale(.2,0)}}@-webkit-keyframes NXhourglass3-animation{0%{-webkit-transform:scale(1,.02);transform:scale(1,.02)}79.17%,to{-webkit-transform:scale(1,1);transform:scale(1,1)}}@keyframes NXhourglass3-animation{0%{-webkit-transform:scale(1,.02);transform:scale(1,.02)}79.17%,to{-webkit-transform:scale(1,1);transform:scale(1,1)}}@-webkit-keyframes NXhourglass1-animation{0%,83.33%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(180deg);transform:rotate(180deg)}}@keyframes NXhourglass1-animation{0%,83.33%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(180deg);transform:rotate(180deg)}}#NXLoadingHourglass *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g data-animator-group=\\\"true\\\" data-animator-type=\\\"1\\\" style=\\\"-webkit-animation-name:NXhourglass1-animation;animation-name:NXhourglass1-animation;-webkit-transform-origin:50% 50%;transform-origin:50% 50%;transform-box:fill-box\\\"><g id=\\\"NXhourglass2\\\" fill=\\\"inherit\\\"><g data-animator-group=\\\"true\\\" data-animator-type=\\\"2\\\" style=\\\"-webkit-animation-name:NXhourglass3-animation;animation-name:NXhourglass3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform-origin:50% 100%;transform-origin:50% 100%;transform-box:fill-box\\\" opacity=\\\".4\\\"><path id=\\\"NXhourglass4\\\" d=\\\"M100 100l-34.38 32.08v31.14h68.76v-31.14z\\\"/></g><g data-animator-group=\\\"true\\\" data-animator-type=\\\"2\\\" style=\\\"-webkit-animation-name:NXhourglass5-animation;animation-name:NXhourglass5-animation;-webkit-transform-origin:50% 100%;transform-origin:50% 100%;transform-box:fill-box\\\" opacity=\\\".4\\\"><path id=\\\"NXhourglass6\\\" d=\\\"M100 100L65.62 67.92V36.78h68.76v31.14z\\\"/></g><path d=\\\"M51.14 38.89h8.33v14.93c0 15.1 8.29 28.99 23.34 39.1 1.88 1.25 3.04 3.97 3.04 7.08s-1.16 5.83-3.04 7.09c-15.05 10.1-23.34 23.99-23.34 39.09v14.93h-8.33a4.859 4.859 0 1 0 0 9.72h97.72a4.859 4.859 0 1 0 0-9.72h-8.33v-14.93c0-15.1-8.29-28.99-23.34-39.09-1.88-1.26-3.04-3.98-3.04-7.09s1.16-5.83 3.04-7.08c15.05-10.11 23.34-24 23.34-39.1V38.89h8.33a4.859 4.859 0 1 0 0-9.72H51.14a4.859 4.859 0 1 0 0 9.72zm79.67 14.93c0 15.87-11.93 26.25-19.04 31.03-4.6 3.08-7.34 8.75-7.34 15.15 0 6.41 2.74 12.07 7.34 15.15 7.11 4.78 19.04 15.16 19.04 31.03v14.93H69.19v-14.93c0-15.87 11.93-26.25 19.04-31.02 4.6-3.09 7.34-8.75 7.34-15.16 0-6.4-2.74-12.07-7.34-15.15-7.11-4.78-19.04-15.16-19.04-31.03V38.89h61.62v14.93z\\\"/></g></g></svg>\";return i},R=function(t,e){t||(t=\"60px\"),e||(e=\"#32c682\");var i=\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"\"+t+\"\\\" height=\\\"\"+t+\"\\\" viewBox=\\\"25 25 50 50\\\" style=\\\"-webkit-animation:rotate 2s linear infinite;animation:rotate 2s linear infinite;height:\"+t+\";-webkit-transform-origin:center center;-ms-transform-origin:center center;transform-origin:center center;width:\"+t+\";position:absolute;top:0;left:0;margin:auto\\\"><style>@-webkit-keyframes rotate{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotate{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35}to{stroke-dasharray:89,200;stroke-dashoffset:-124}}@keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35}to{stroke-dasharray:89,200;stroke-dashoffset:-124}}</style><circle cx=\\\"50\\\" cy=\\\"50\\\" r=\\\"20\\\" fill=\\\"none\\\" stroke=\\\"\"+e+\"\\\" stroke-width=\\\"2\\\" style=\\\"-webkit-animation:dash 1.5s ease-in-out infinite,color 1.5s ease-in-out infinite;animation:dash 1.5s ease-in-out infinite,color 1.5s ease-in-out infinite\\\" stroke-dasharray=\\\"150 200\\\" stroke-dashoffset=\\\"-10\\\" stroke-linecap=\\\"round\\\"/></svg>\";return i},A=function(t,e){t||(t=\"60px\"),e||(e=\"#32c682\");var i=\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" fill=\\\"\"+e+\"\\\" width=\\\"\"+t+\"\\\" height=\\\"\"+t+\"\\\" viewBox=\\\"0 0 128 128\\\"><g><path fill=\\\"inherit\\\" d=\\\"M109.25 55.5h-36l12-12a29.54 29.54 0 0 0-49.53 12H18.75A46.04 46.04 0 0 1 96.9 31.84l12.35-12.34v36zm-90.5 17h36l-12 12a29.54 29.54 0 0 0 49.53-12h16.97A46.04 46.04 0 0 1 31.1 96.16L18.74 108.5v-36z\\\"/><animateTransform attributeName=\\\"transform\\\" dur=\\\"1.5s\\\" from=\\\"0 64 64\\\" repeatCount=\\\"indefinite\\\" to=\\\"360 64 64\\\" type=\\\"rotate\\\"/></g></svg>\";return i},M=function(t,e){t||(t=\"60px\"),e||(e=\"#32c682\");var i=\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" fill=\\\"\"+e+\"\\\" width=\\\"\"+t+\"\\\" height=\\\"\"+t+\"\\\" viewBox=\\\"0 0 100 100\\\"><g transform=\\\"translate(25 50)\\\"><circle r=\\\"9\\\" fill=\\\"inherit\\\" transform=\\\"scale(.239)\\\"><animateTransform attributeName=\\\"transform\\\" begin=\\\"-0.266s\\\" calcMode=\\\"spline\\\" dur=\\\"0.8s\\\" keySplines=\\\"0.3 0 0.7 1;0.3 0 0.7 1\\\" keyTimes=\\\"0;0.5;1\\\" repeatCount=\\\"indefinite\\\" type=\\\"scale\\\" values=\\\"0;1;0\\\"/></circle></g><g transform=\\\"translate(50 50)\\\"><circle r=\\\"9\\\" fill=\\\"inherit\\\" transform=\\\"scale(.00152)\\\"><animateTransform attributeName=\\\"transform\\\" begin=\\\"-0.133s\\\" calcMode=\\\"spline\\\" dur=\\\"0.8s\\\" keySplines=\\\"0.3 0 0.7 1;0.3 0 0.7 1\\\" keyTimes=\\\"0;0.5;1\\\" repeatCount=\\\"indefinite\\\" type=\\\"scale\\\" values=\\\"0;1;0\\\"/></circle></g><g transform=\\\"translate(75 50)\\\"><circle r=\\\"9\\\" fill=\\\"inherit\\\" transform=\\\"scale(.299)\\\"><animateTransform attributeName=\\\"transform\\\" begin=\\\"0s\\\" calcMode=\\\"spline\\\" dur=\\\"0.8s\\\" keySplines=\\\"0.3 0 0.7 1;0.3 0 0.7 1\\\" keyTimes=\\\"0;0.5;1\\\" repeatCount=\\\"indefinite\\\" type=\\\"scale\\\" values=\\\"0;1;0\\\"/></circle></g></svg>\";return i},B=function(t,e){t||(t=\"60px\"),e||(e=\"#32c682\");var i=\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" stroke=\\\"\"+e+\"\\\" width=\\\"\"+t+\"\\\" height=\\\"\"+t+\"\\\" viewBox=\\\"0 0 44 44\\\"><g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" stroke-width=\\\"2\\\"><circle cx=\\\"22\\\" cy=\\\"22\\\" r=\\\"1\\\"><animate attributeName=\\\"r\\\" begin=\\\"0s\\\" calcMode=\\\"spline\\\" dur=\\\"1.8s\\\" keySplines=\\\"0.165, 0.84, 0.44, 1\\\" keyTimes=\\\"0; 1\\\" repeatCount=\\\"indefinite\\\" values=\\\"1; 20\\\"/><animate attributeName=\\\"stroke-opacity\\\" begin=\\\"0s\\\" calcMode=\\\"spline\\\" dur=\\\"1.8s\\\" keySplines=\\\"0.3, 0.61, 0.355, 1\\\" keyTimes=\\\"0; 1\\\" repeatCount=\\\"indefinite\\\" values=\\\"1; 0\\\"/></circle><circle cx=\\\"22\\\" cy=\\\"22\\\" r=\\\"1\\\"><animate attributeName=\\\"r\\\" begin=\\\"-0.9s\\\" calcMode=\\\"spline\\\" dur=\\\"1.8s\\\" keySplines=\\\"0.165, 0.84, 0.44, 1\\\" keyTimes=\\\"0; 1\\\" repeatCount=\\\"indefinite\\\" values=\\\"1; 20\\\"/><animate attributeName=\\\"stroke-opacity\\\" begin=\\\"-0.9s\\\" calcMode=\\\"spline\\\" dur=\\\"1.8s\\\" keySplines=\\\"0.3, 0.61, 0.355, 1\\\" keyTimes=\\\"0; 1\\\" repeatCount=\\\"indefinite\\\" values=\\\"1; 0\\\"/></circle></g></svg>\";return i},X=function(t,e,i){t||(t=\"60px\"),e||(e=\"#f8f8f8\"),i||(i=\"#32c682\");var a=\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"NXLoadingNotiflixLib\\\" width=\\\"\"+t+\"\\\" height=\\\"\"+t+\"\\\" viewBox=\\\"0 0 200 200\\\"><defs><style>@keyframes notiflix-n{0%{stroke-dashoffset:1000}to{stroke-dashoffset:0}}@keyframes notiflix-x{0%{stroke-dashoffset:1000}to{stroke-dashoffset:0}}@keyframes notiflix-dot{0%,to{stroke-width:0}50%{stroke-width:12}}.nx-icon-line{stroke:\"+e+\";stroke-width:12;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:22;fill:none}</style></defs><path d=\\\"M47.97 135.05a6.5 6.5 0 1 1 0 13 6.5 6.5 0 0 1 0-13z\\\" style=\\\"animation-name:notiflix-dot;animation-timing-function:ease-in-out;animation-duration:1.25s;animation-iteration-count:infinite;animation-direction:normal\\\" fill=\\\"\"+i+\"\\\" stroke=\\\"\"+i+\"\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-miterlimit=\\\"22\\\" stroke-width=\\\"12\\\"/><path class=\\\"nx-icon-line\\\" d=\\\"M10.14 144.76V87.55c0-5.68-4.54-41.36 37.83-41.36 42.36 0 37.82 35.68 37.82 41.36v57.21\\\" style=\\\"animation-name:notiflix-n;animation-timing-function:linear;animation-duration:2.5s;animation-delay:0s;animation-iteration-count:infinite;animation-direction:normal\\\" stroke-dasharray=\\\"500\\\"/><path class=\\\"nx-icon-line\\\" d=\\\"M115.06 144.49c24.98-32.68 49.96-65.35 74.94-98.03M114.89 46.6c25.09 32.58 50.19 65.17 75.29 97.75\\\" style=\\\"animation-name:notiflix-x;animation-timing-function:linear;animation-duration:2.5s;animation-delay:.2s;animation-iteration-count:infinite;animation-direction:normal\\\" stroke-dasharray=\\\"500\\\"/></svg>\";return a},D=function(){return\"[id^=NotiflixNotifyWrap]{pointer-events:none;position:fixed;z-index:4001;opacity:1;right:10px;top:10px;width:280px;max-width:96%;-webkit-box-sizing:border-box;box-sizing:border-box;background:transparent}[id^=NotiflixNotifyWrap].nx-flex-center-center{max-height:calc(100vh - 20px);overflow-x:hidden;overflow-y:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;margin:auto}[id^=NotiflixNotifyWrap]::-webkit-scrollbar{width:0;height:0}[id^=NotiflixNotifyWrap]::-webkit-scrollbar-thumb{background:transparent}[id^=NotiflixNotifyWrap]::-webkit-scrollbar-track{background:transparent}[id^=NotiflixNotifyWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixNotifyOverlay]{-webkit-transition:background .3s ease-in-out;-o-transition:background .3s ease-in-out;transition:background .3s ease-in-out}[id^=NotiflixNotifyWrap]>div{pointer-events:all;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-family:\\\"Quicksand\\\",-apple-system,BlinkMacSystemFont,\\\"Segoe UI\\\",Roboto,\\\"Helvetica Neue\\\",Arial,sans-serif;width:100%;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;position:relative;margin:0 0 10px;border-radius:5px;background:#1e1e1e;color:#fff;padding:10px 12px;font-size:14px;line-height:1.4}[id^=NotiflixNotifyWrap]>div:last-child{margin:0}[id^=NotiflixNotifyWrap]>div.nx-with-callback{cursor:pointer}[id^=NotiflixNotifyWrap]>div.nx-with-icon{padding:8px;min-height:56px}[id^=NotiflixNotifyWrap]>div.nx-paused{cursor:auto}[id^=NotiflixNotifyWrap]>div.nx-notify-click-to-close{cursor:pointer}[id^=NotiflixNotifyWrap]>div.nx-with-close-button{padding:10px 36px 10px 12px}[id^=NotiflixNotifyWrap]>div.nx-with-icon.nx-with-close-button{padding:6px 36px 6px 6px}[id^=NotiflixNotifyWrap]>div>span.nx-message{cursor:inherit;font-weight:normal;font-family:inherit!important;word-break:break-all;word-break:break-word}[id^=NotiflixNotifyWrap]>div>span.nx-close-button{cursor:pointer;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out;transition:all .2s ease-in-out;position:absolute;right:8px;top:0;bottom:0;margin:auto;color:inherit;width:20px;height:20px}[id^=NotiflixNotifyWrap]>div>span.nx-close-button:hover{-webkit-transform:rotate(90deg);transform:rotate(90deg)}[id^=NotiflixNotifyWrap]>div>span.nx-close-button>svg{position:absolute;width:16px;height:16px;right:2px;top:2px}[id^=NotiflixNotifyWrap]>div>.nx-message-icon{position:absolute;width:40px;height:40px;font-size:30px;line-height:40px;text-align:center;left:8px;top:0;bottom:0;margin:auto;border-radius:inherit}[id^=NotiflixNotifyWrap]>div>.nx-message-icon-fa.nx-message-icon-fa-shadow{color:inherit;background:rgba(0,0,0,.15);-webkit-box-shadow:inset 0 0 34px rgba(0,0,0,.2);box-shadow:inset 0 0 34px rgba(0,0,0,.2);text-shadow:0 0 10px rgba(0,0,0,.3)}[id^=NotiflixNotifyWrap]>div>span.nx-with-icon{position:relative;float:left;width:calc(100% - 40px);margin:0 0 0 40px;padding:0 0 0 10px;-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>.nx-message-icon{left:auto;right:8px}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>span.nx-with-icon{padding:0 10px 0 0;margin:0 40px 0 0}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>span.nx-close-button{right:auto;left:8px}[id^=NotiflixNotifyWrap]>div.nx-with-icon.nx-with-close-button.nx-rtl-on{padding:6px 6px 6px 36px}[id^=NotiflixNotifyWrap]>div.nx-with-close-button.nx-rtl-on{padding:10px 12px 10px 36px}[id^=NotiflixNotifyOverlay].nx-with-animation,[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-fade{-webkit-animation:notify-animation-fade .3s ease-in-out 0s normal;animation:notify-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes notify-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-zoom{-webkit-animation:notify-animation-zoom .3s ease-in-out 0s normal;animation:notify-animation-zoom .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-zoom{0%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes notify-animation-zoom{0%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(1);transform:scale(1)}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-right{-webkit-animation:notify-animation-from-right .3s ease-in-out 0s normal;animation:notify-animation-from-right .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-right{0%{right:-300px;opacity:0}50%{right:8px;opacity:1}100%{right:0;opacity:1}}@keyframes notify-animation-from-right{0%{right:-300px;opacity:0}50%{right:8px;opacity:1}100%{right:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-left{-webkit-animation:notify-animation-from-left .3s ease-in-out 0s normal;animation:notify-animation-from-left .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-left{0%{left:-300px;opacity:0}50%{left:8px;opacity:1}100%{left:0;opacity:1}}@keyframes notify-animation-from-left{0%{left:-300px;opacity:0}50%{left:8px;opacity:1}100%{left:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-top{-webkit-animation:notify-animation-from-top .3s ease-in-out 0s normal;animation:notify-animation-from-top .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-top{0%{top:-50px;opacity:0}50%{top:8px;opacity:1}100%{top:0;opacity:1}}@keyframes notify-animation-from-top{0%{top:-50px;opacity:0}50%{top:8px;opacity:1}100%{top:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-bottom{-webkit-animation:notify-animation-from-bottom .3s ease-in-out 0s normal;animation:notify-animation-from-bottom .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-bottom{0%{bottom:-50px;opacity:0}50%{bottom:8px;opacity:1}100%{bottom:0;opacity:1}}@keyframes notify-animation-from-bottom{0%{bottom:-50px;opacity:0}50%{bottom:8px;opacity:1}100%{bottom:0;opacity:1}}[id^=NotiflixNotifyOverlay].nx-with-animation.nx-remove,[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-fade.nx-remove{opacity:0;-webkit-animation:notify-remove-fade .3s ease-in-out 0s normal;animation:notify-remove-fade .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-fade{0%{opacity:1}100%{opacity:0}}@keyframes notify-remove-fade{0%{opacity:1}100%{opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-zoom.nx-remove{-webkit-transform:scale(0);transform:scale(0);-webkit-animation:notify-remove-zoom .3s ease-in-out 0s normal;animation:notify-remove-zoom .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-zoom{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(0);transform:scale(0)}}@keyframes notify-remove-zoom{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(0);transform:scale(0)}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-top.nx-remove{opacity:0;-webkit-animation:notify-remove-to-top .3s ease-in-out 0s normal;animation:notify-remove-to-top .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-top{0%{top:0;opacity:1}50%{top:8px;opacity:1}100%{top:-50px;opacity:0}}@keyframes notify-remove-to-top{0%{top:0;opacity:1}50%{top:8px;opacity:1}100%{top:-50px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-right.nx-remove{opacity:0;-webkit-animation:notify-remove-to-right .3s ease-in-out 0s normal;animation:notify-remove-to-right .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-right{0%{right:0;opacity:1}50%{right:8px;opacity:1}100%{right:-300px;opacity:0}}@keyframes notify-remove-to-right{0%{right:0;opacity:1}50%{right:8px;opacity:1}100%{right:-300px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-bottom.nx-remove{opacity:0;-webkit-animation:notify-remove-to-bottom .3s ease-in-out 0s normal;animation:notify-remove-to-bottom .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-bottom{0%{bottom:0;opacity:1}50%{bottom:8px;opacity:1}100%{bottom:-50px;opacity:0}}@keyframes notify-remove-to-bottom{0%{bottom:0;opacity:1}50%{bottom:8px;opacity:1}100%{bottom:-50px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-left.nx-remove{opacity:0;-webkit-animation:notify-remove-to-left .3s ease-in-out 0s normal;animation:notify-remove-to-left .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-left{0%{left:0;opacity:1}50%{left:8px;opacity:1}100%{left:-300px;opacity:0}}@keyframes notify-remove-to-left{0%{left:0;opacity:1}50%{left:8px;opacity:1}100%{left:-300px;opacity:0}}\"},T=0,F=function(a,n,o,r){if(!w(\"body\"))return!1;e||G.Notify.init({});var c=v(!0,e,{});if(\"object\"==typeof o&&!Array.isArray(o)||\"object\"==typeof r&&!Array.isArray(r)){var p={};\"object\"==typeof o?p=o:\"object\"==typeof r&&(p=r),e=v(!0,e,p)}var f=e[a.toLocaleLowerCase(\"en\")];T++,\"string\"!=typeof n&&(n=\"Notiflix \"+a),e.plainText&&(n=N(n)),!e.plainText&&n.length>e.messageMaxLength&&(e=v(!0,e,{closeButton:!0,messageMaxLength:150}),n=\"Possible HTML Tags Error: The \\\"plainText\\\" option is \\\"false\\\" and the notification content length is more than the \\\"messageMaxLength\\\" option.\"),n.length>e.messageMaxLength&&(n=n.substring(0,e.messageMaxLength)+\"...\"),\"shadow\"===e.fontAwesomeIconStyle&&(f.fontAwesomeIconColor=f.background),e.cssAnimation||(e.cssAnimationDuration=0);var d=t.document.getElementById(m.wrapID)||t.document.createElement(\"div\");if(d.id=m.wrapID,d.style.width=e.width,d.style.zIndex=e.zindex,d.style.opacity=e.opacity,\"center-center\"===e.position?(d.style.left=e.distance,d.style.top=e.distance,d.style.right=e.distance,d.style.bottom=e.distance,d.style.margin=\"auto\",d.classList.add(\"nx-flex-center-center\"),d.style.maxHeight=\"calc((100vh - \"+e.distance+\") - \"+e.distance+\")\",d.style.display=\"flex\",d.style.flexWrap=\"wrap\",d.style.flexDirection=\"column\",d.style.justifyContent=\"center\",d.style.alignItems=\"center\",d.style.pointerEvents=\"none\"):\"center-top\"===e.position?(d.style.left=e.distance,d.style.right=e.distance,d.style.top=e.distance,d.style.bottom=\"auto\",d.style.margin=\"auto\"):\"center-bottom\"===e.position?(d.style.left=e.distance,d.style.right=e.distance,d.style.bottom=e.distance,d.style.top=\"auto\",d.style.margin=\"auto\"):\"right-bottom\"===e.position?(d.style.right=e.distance,d.style.bottom=e.distance,d.style.top=\"auto\",d.style.left=\"auto\"):\"left-top\"===e.position?(d.style.left=e.distance,d.style.top=e.distance,d.style.right=\"auto\",d.style.bottom=\"auto\"):\"left-bottom\"===e.position?(d.style.left=e.distance,d.style.bottom=e.distance,d.style.top=\"auto\",d.style.right=\"auto\"):(d.style.right=e.distance,d.style.top=e.distance,d.style.left=\"auto\",d.style.bottom=\"auto\"),e.backOverlay){var x=t.document.getElementById(m.overlayID)||t.document.createElement(\"div\");x.id=m.overlayID,x.style.width=\"100%\",x.style.height=\"100%\",x.style.position=\"fixed\",x.style.zIndex=e.zindex-1,x.style.left=0,x.style.top=0,x.style.right=0,x.style.bottom=0,x.style.background=f.backOverlayColor||e.backOverlayColor,x.className=e.cssAnimation?\"nx-with-animation\":\"\",x.style.animationDuration=e.cssAnimation?e.cssAnimationDuration+\"ms\":\"\",t.document.getElementById(m.overlayID)||t.document.body.appendChild(x)}t.document.getElementById(m.wrapID)||t.document.body.appendChild(d);var g=t.document.createElement(\"div\");g.id=e.ID+\"-\"+T,g.className=e.className+\" \"+f.childClassName+\" \"+(e.cssAnimation?\"nx-with-animation\":\"\")+\" \"+(e.useIcon?\"nx-with-icon\":\"\")+\" nx-\"+e.cssAnimationStyle+\" \"+(e.closeButton&&\"function\"!=typeof o?\"nx-with-close-button\":\"\")+\" \"+(\"function\"==typeof o?\"nx-with-callback\":\"\")+\" \"+(e.clickToClose?\"nx-notify-click-to-close\":\"\"),g.style.fontSize=e.fontSize,g.style.color=f.textColor,g.style.background=f.background,g.style.borderRadius=e.borderRadius,g.style.pointerEvents=\"all\",e.rtl&&(g.setAttribute(\"dir\",\"rtl\"),g.classList.add(\"nx-rtl-on\")),g.style.fontFamily=\"\\\"\"+e.fontFamily+\"\\\", \"+s,e.cssAnimation&&(g.style.animationDuration=e.cssAnimationDuration+\"ms\");var b=\"\";if(e.closeButton&&\"function\"!=typeof o&&(b=\"<span class=\\\"nx-close-button\\\"><svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"20\\\" height=\\\"20\\\" viewBox=\\\"0 0 20 20\\\"><g><path fill=\\\"\"+f.notiflixIconColor+\"\\\" d=\\\"M0.38 2.19l7.8 7.81 -7.8 7.81c-0.51,0.5 -0.51,1.31 -0.01,1.81 0.25,0.25 0.57,0.38 0.91,0.38 0.34,0 0.67,-0.14 0.91,-0.38l7.81 -7.81 7.81 7.81c0.24,0.24 0.57,0.38 0.91,0.38 0.34,0 0.66,-0.14 0.9,-0.38 0.51,-0.5 0.51,-1.31 0,-1.81l-7.81 -7.81 7.81 -7.81c0.51,-0.5 0.51,-1.31 0,-1.82 -0.5,-0.5 -1.31,-0.5 -1.81,0l-7.81 7.81 -7.81 -7.81c-0.5,-0.5 -1.31,-0.5 -1.81,0 -0.51,0.51 -0.51,1.32 0,1.82z\\\"/></g></svg></span>\"),!e.useIcon)g.innerHTML=\"<span class=\\\"nx-message\\\">\"+n+\"</span>\"+(e.closeButton?b:\"\");else if(e.useFontAwesome)g.innerHTML=\"<i style=\\\"color:\"+f.fontAwesomeIconColor+\"; font-size:\"+e.fontAwesomeIconSize+\";\\\" class=\\\"nx-message-icon nx-message-icon-fa \"+f.fontAwesomeClassName+\" \"+(\"shadow\"===e.fontAwesomeIconStyle?\"nx-message-icon-fa-shadow\":\"nx-message-icon-fa-basic\")+\"\\\"></i><span class=\\\"nx-message nx-with-icon\\\">\"+n+\"</span>\"+(e.closeButton?b:\"\");else{var u=\"\";a===l.Success?u=\"<svg class=\\\"nx-message-icon\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"40\\\" height=\\\"40\\\" viewBox=\\\"0 0 40 40\\\"><g><path fill=\\\"\"+f.notiflixIconColor+\"\\\" d=\\\"M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm-2.4 -13.29l11.52 -12.96c0.37,-0.41 1.01,-0.45 1.42,-0.08 0.42,0.37 0.46,1 0.09,1.42l-12.16 13.67c-0.19,0.22 -0.46,0.34 -0.75,0.34 -0.23,0 -0.45,-0.07 -0.63,-0.22l-7.6 -6.07c-0.43,-0.35 -0.5,-0.99 -0.16,-1.42 0.35,-0.43 0.99,-0.5 1.42,-0.16l6.85 5.48z\\\"/></g></svg>\":a===l.Failure?u=\"<svg class=\\\"nx-message-icon\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"40\\\" height=\\\"40\\\" viewBox=\\\"0 0 40 40\\\"><g><path fill=\\\"\"+f.notiflixIconColor+\"\\\" d=\\\"M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm1.42 -17.98l6.13 6.12c0.39,0.4 0.39,1.04 0,1.43 -0.19,0.19 -0.45,0.29 -0.71,0.29 -0.27,0 -0.53,-0.1 -0.72,-0.29l-6.12 -6.13 -6.13 6.13c-0.19,0.19 -0.44,0.29 -0.71,0.29 -0.27,0 -0.52,-0.1 -0.71,-0.29 -0.39,-0.39 -0.39,-1.03 0,-1.43l6.13 -6.12 -6.13 -6.13c-0.39,-0.39 -0.39,-1.03 0,-1.42 0.39,-0.39 1.03,-0.39 1.42,0l6.13 6.12 6.12 -6.12c0.4,-0.39 1.04,-0.39 1.43,0 0.39,0.39 0.39,1.03 0,1.42l-6.13 6.13z\\\"/></g></svg>\":a===l.Warning?u=\"<svg class=\\\"nx-message-icon\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"40\\\" height=\\\"40\\\" viewBox=\\\"0 0 40 40\\\"><g><path fill=\\\"\"+f.notiflixIconColor+\"\\\" d=\\\"M21.91 3.48l17.8 30.89c0.84,1.46 -0.23,3.25 -1.91,3.25l-35.6 0c-1.68,0 -2.75,-1.79 -1.91,-3.25l17.8 -30.89c0.85,-1.47 2.97,-1.47 3.82,0zm16.15 31.84l-17.8 -30.89c-0.11,-0.2 -0.41,-0.2 -0.52,0l-17.8 30.89c-0.12,0.2 0.05,0.4 0.26,0.4l35.6 0c0.21,0 0.38,-0.2 0.26,-0.4zm-19.01 -4.12l0 -1.05c0,-0.53 0.42,-0.95 0.95,-0.95 0.53,0 0.95,0.42 0.95,0.95l0 1.05c0,0.53 -0.42,0.95 -0.95,0.95 -0.53,0 -0.95,-0.42 -0.95,-0.95zm0 -4.66l0 -13.39c0,-0.52 0.42,-0.95 0.95,-0.95 0.53,0 0.95,0.43 0.95,0.95l0 13.39c0,0.53 -0.42,0.96 -0.95,0.96 -0.53,0 -0.95,-0.43 -0.95,-0.96z\\\"/></g></svg>\":a===l.Info&&(u=\"<svg class=\\\"nx-message-icon\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"40\\\" height=\\\"40\\\" viewBox=\\\"0 0 40 40\\\"><g><path fill=\\\"\"+f.notiflixIconColor+\"\\\" d=\\\"M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm-0.99 -23.3c0,-0.54 0.44,-0.98 0.99,-0.98 0.55,0 0.99,0.44 0.99,0.98l0 15.86c0,0.55 -0.44,0.99 -0.99,0.99 -0.55,0 -0.99,-0.44 -0.99,-0.99l0 -15.86zm0 -5.22c0,-0.55 0.44,-0.99 0.99,-0.99 0.55,0 0.99,0.44 0.99,0.99l0 1.09c0,0.54 -0.44,0.99 -0.99,0.99 -0.55,0 -0.99,-0.45 -0.99,-0.99l0 -1.09z\\\"/></g></svg>\"),g.innerHTML=u+\"<span class=\\\"nx-message nx-with-icon\\\">\"+n+\"</span>\"+(e.closeButton?b:\"\")}if(\"left-bottom\"===e.position||\"right-bottom\"===e.position){var y=t.document.getElementById(m.wrapID);y.insertBefore(g,y.firstChild)}else t.document.getElementById(m.wrapID).appendChild(g);var k=t.document.getElementById(g.id);if(k){var h,C,z=function(){k.classList.add(\"nx-remove\");var e=t.document.getElementById(m.overlayID);e&&0>=d.childElementCount&&e.classList.add(\"nx-remove\"),clearTimeout(h)},S=function(){if(k&&null!==k.parentNode&&k.parentNode.removeChild(k),0>=d.childElementCount&&null!==d.parentNode){d.parentNode.removeChild(d);var e=t.document.getElementById(m.overlayID);e&&null!==e.parentNode&&e.parentNode.removeChild(e)}clearTimeout(C)};if(e.closeButton&&\"function\"!=typeof o){var L=t.document.getElementById(g.id).querySelector(\"span.nx-close-button\");L.addEventListener(\"click\",function(){z();var t=setTimeout(function(){S(),clearTimeout(t)},e.cssAnimationDuration)})}if((\"function\"==typeof o||e.clickToClose)&&k.addEventListener(\"click\",function(){\"function\"==typeof o&&o(),z();var t=setTimeout(function(){S(),clearTimeout(t)},e.cssAnimationDuration)}),!e.closeButton&&\"function\"!=typeof o){var W=function(){h=setTimeout(function(){z()},e.timeout),C=setTimeout(function(){S()},e.timeout+e.cssAnimationDuration)};W(),e.pauseOnHover&&(k.addEventListener(\"mouseenter\",function(){k.classList.add(\"nx-paused\"),clearTimeout(h),clearTimeout(C)}),k.addEventListener(\"mouseleave\",function(){k.classList.remove(\"nx-paused\"),W()}))}}if(e.showOnlyTheLastOne&&0<T)for(var I,R=t.document.querySelectorAll(\"[id^=\"+e.ID+\"-]:not([id=\"+e.ID+\"-\"+T+\"])\"),A=0;A<R.length;A++)I=R[A],null!==I.parentNode&&I.parentNode.removeChild(I);e=v(!0,e,c)},E=function(){return\"[id^=NotiflixReportWrap]{position:fixed;z-index:4002;width:100%;height:100%;-webkit-box-sizing:border-box;box-sizing:border-box;font-family:\\\"Quicksand\\\",-apple-system,BlinkMacSystemFont,\\\"Segoe UI\\\",Roboto,\\\"Helvetica Neue\\\",Arial,sans-serif;left:0;top:0;padding:10px;color:#1e1e1e;border-radius:25px;background:transparent;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}[id^=NotiflixReportWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixReportWrap]>div[class*=\\\"-overlay\\\"]{width:100%;height:100%;left:0;top:0;background:rgba(255,255,255,.5);position:fixed;z-index:0}[id^=NotiflixReportWrap]>div.nx-report-click-to-close{cursor:pointer}[id^=NotiflixReportWrap]>div[class*=\\\"-content\\\"]{width:320px;max-width:100%;max-height:96vh;overflow-x:hidden;overflow-y:auto;border-radius:inherit;padding:10px;-webkit-filter:drop-shadow(0 0 5px rgba(0,0,0,0.05));filter:drop-shadow(0 0 5px rgba(0, 0, 0, .05));border:1px solid rgba(0,0,0,.03);background:#f8f8f8;position:relative;z-index:1}[id^=NotiflixReportWrap]>div[class*=\\\"-content\\\"]::-webkit-scrollbar{width:0;height:0}[id^=NotiflixReportWrap]>div[class*=\\\"-content\\\"]::-webkit-scrollbar-thumb{background:transparent}[id^=NotiflixReportWrap]>div[class*=\\\"-content\\\"]::-webkit-scrollbar-track{background:transparent}[id^=NotiflixReportWrap]>div[class*=\\\"-content\\\"]>div[class$=\\\"-icon\\\"]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:110px;height:110px;display:block;margin:6px auto 12px}[id^=NotiflixReportWrap]>div[class*=\\\"-content\\\"]>div[class$=\\\"-icon\\\"] svg{min-width:100%;max-width:100%;height:auto}[id^=NotiflixReportWrap]>*>h5{word-break:break-all;word-break:break-word;font-family:inherit!important;font-size:16px;font-weight:500;line-height:1.4;margin:0 0 10px;padding:0 0 10px;border-bottom:1px solid rgba(0,0,0,.1);float:left;width:100%;text-align:center}[id^=NotiflixReportWrap]>*>p{word-break:break-all;word-break:break-word;font-family:inherit!important;font-size:13px;line-height:1.4;font-weight:normal;float:left;width:100%;padding:0 10px;margin:0 0 10px}[id^=NotiflixReportWrap] a#NXReportButton{word-break:break-all;word-break:break-word;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-family:inherit!important;-webkit-transition:all .25s ease-in-out;-o-transition:all .25s ease-in-out;transition:all .25s ease-in-out;cursor:pointer;float:right;padding:7px 17px;background:#32c682;font-size:14px;line-height:1.4;font-weight:500;border-radius:inherit!important;color:#fff}[id^=NotiflixReportWrap] a#NXReportButton:hover{-webkit-box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25);box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25)}[id^=NotiflixReportWrap].nx-rtl-on a#NXReportButton{float:left}[id^=NotiflixReportWrap]>div[class*=\\\"-overlay\\\"].nx-with-animation{-webkit-animation:report-overlay-animation .3s ease-in-out 0s normal;animation:report-overlay-animation .3s ease-in-out 0s normal}@-webkit-keyframes report-overlay-animation{0%{opacity:0}100%{opacity:1}}@keyframes report-overlay-animation{0%{opacity:0}100%{opacity:1}}[id^=NotiflixReportWrap]>div[class*=\\\"-content\\\"].nx-with-animation.nx-fade{-webkit-animation:report-animation-fade .3s ease-in-out 0s normal;animation:report-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes report-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixReportWrap]>div[class*=\\\"-content\\\"].nx-with-animation.nx-zoom{-webkit-animation:report-animation-zoom .3s ease-in-out 0s normal;animation:report-animation-zoom .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes report-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}[id^=NotiflixReportWrap].nx-remove>div[class*=\\\"-overlay\\\"].nx-with-animation{opacity:0;-webkit-animation:report-overlay-animation-remove .3s ease-in-out 0s normal;animation:report-overlay-animation-remove .3s ease-in-out 0s normal}@-webkit-keyframes report-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}@keyframes report-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixReportWrap].nx-remove>div[class*=\\\"-content\\\"].nx-with-animation.nx-fade{opacity:0;-webkit-animation:report-animation-fade-remove .3s ease-in-out 0s normal;animation:report-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes report-animation-fade-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixReportWrap].nx-remove>div[class*=\\\"-content\\\"].nx-with-animation.nx-zoom{opacity:0;-webkit-animation:report-animation-zoom-remove .3s ease-in-out 0s normal;animation:report-animation-zoom-remove .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}@keyframes report-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}\"},j=function(e,a,n,o,r,l){if(!w(\"body\"))return!1;i||G.Report.init({});var m={};if(\"object\"==typeof r&&!Array.isArray(r)||\"object\"==typeof l&&!Array.isArray(l)){var f={};\"object\"==typeof r?f=r:\"object\"==typeof l&&(f=l),m=v(!0,i,{}),i=v(!0,i,f)}var d=i[e.toLocaleLowerCase(\"en\")];\"string\"!=typeof a&&(a=\"Notiflix \"+e),\"string\"!=typeof n&&(e===c.Success?n=\"\\\"Do not try to become a person of success but try to become a person of value.\\\" <br><br>- Albert Einstein\":e===c.Failure?n=\"\\\"Failure is simply the opportunity to begin again, this time more intelligently.\\\" <br><br>- Henry Ford\":e===c.Warning?n=\"\\\"The peoples who want to live comfortably without producing and fatigue; they are doomed to lose their dignity, then liberty, and then independence and destiny.\\\" <br><br>- Mustafa Kemal Ataturk\":e===c.Info&&(n=\"\\\"Knowledge rests not upon truth alone, but upon error also.\\\" <br><br>- Carl Gustav Jung\")),\"string\"!=typeof o&&(o=\"Okay\"),i.plainText&&(a=N(a),n=N(n),o=N(o)),i.plainText||(a.length>i.titleMaxLength&&(a=\"Possible HTML Tags Error\",n=\"The \\\"plainText\\\" option is \\\"false\\\" and the title content length is more than the \\\"titleMaxLength\\\" option.\",o=\"Okay\"),n.length>i.messageMaxLength&&(a=\"Possible HTML Tags Error\",n=\"The \\\"plainText\\\" option is \\\"false\\\" and the message content length is more than the \\\"messageMaxLength\\\" option.\",o=\"Okay\"),o.length>i.buttonMaxLength&&(a=\"Possible HTML Tags Error\",n=\"The \\\"plainText\\\" option is \\\"false\\\" and the button content length is more than the \\\"buttonMaxLength\\\" option.\",o=\"Okay\")),a.length>i.titleMaxLength&&(a=a.substring(0,i.titleMaxLength)+\"...\"),n.length>i.messageMaxLength&&(n=n.substring(0,i.messageMaxLength)+\"...\"),o.length>i.buttonMaxLength&&(o=o.substring(0,i.buttonMaxLength)+\"...\"),i.cssAnimation||(i.cssAnimationDuration=0);var x=t.document.createElement(\"div\");x.id=p.ID,x.className=i.className,x.style.zIndex=i.zindex,x.style.borderRadius=i.borderRadius,x.style.fontFamily=\"\\\"\"+i.fontFamily+\"\\\", \"+s,i.rtl&&(x.setAttribute(\"dir\",\"rtl\"),x.classList.add(\"nx-rtl-on\")),x.style.display=\"flex\",x.style.flexWrap=\"wrap\",x.style.flexDirection=\"column\",x.style.alignItems=\"center\",x.style.justifyContent=\"center\";var g=\"\",b=!0===i.backOverlayClickToClose;i.backOverlay&&(g=\"<div class=\\\"\"+i.className+\"-overlay\"+(i.cssAnimation?\" nx-with-animation\":\"\")+(b?\" nx-report-click-to-close\":\"\")+\"\\\" style=\\\"background:\"+(d.backOverlayColor||i.backOverlayColor)+\";animation-duration:\"+i.cssAnimationDuration+\"ms;\\\"></div>\");var u=\"\";if(e===c.Success?u=C(i.svgSize,d.svgColor):e===c.Failure?u=z(i.svgSize,d.svgColor):e===c.Warning?u=S(i.svgSize,d.svgColor):e===c.Info&&(u=L(i.svgSize,d.svgColor)),x.innerHTML=g+\"<div class=\\\"\"+i.className+\"-content\"+(i.cssAnimation?\" nx-with-animation \":\"\")+\" nx-\"+i.cssAnimationStyle+\"\\\" style=\\\"width:\"+i.width+\"; background:\"+i.backgroundColor+\"; animation-duration:\"+i.cssAnimationDuration+\"ms;\\\"><div style=\\\"width:\"+i.svgSize+\"; height:\"+i.svgSize+\";\\\" class=\\\"\"+i.className+\"-icon\\\">\"+u+\"</div><h5 class=\\\"\"+i.className+\"-title\\\" style=\\\"font-weight:500; font-size:\"+i.titleFontSize+\"; color:\"+d.titleColor+\";\\\">\"+a+\"</h5><p class=\\\"\"+i.className+\"-message\\\" style=\\\"font-size:\"+i.messageFontSize+\"; color:\"+d.messageColor+\";\\\">\"+n+\"</p><a id=\\\"NXReportButton\\\" class=\\\"\"+i.className+\"-button\\\" style=\\\"font-weight:500; font-size:\"+i.buttonFontSize+\"; background:\"+d.buttonBackground+\"; color:\"+d.buttonColor+\";\\\">\"+o+\"</a></div>\",!t.document.getElementById(x.id)){t.document.body.appendChild(x);var y=function(){var e=t.document.getElementById(x.id);e.classList.add(\"nx-remove\");var a=setTimeout(function(){null!==e.parentNode&&e.parentNode.removeChild(e),clearTimeout(a)},i.cssAnimationDuration)},k=t.document.getElementById(\"NXReportButton\");if(k.addEventListener(\"click\",function(){\"function\"==typeof r&&r(),y()}),g&&b){var h=t.document.querySelector(\".nx-report-click-to-close\");h.addEventListener(\"click\",function(){y()})}}i=v(!0,i,m)},O=function(){return\"[id^=NotiflixConfirmWrap]{position:fixed;z-index:4003;width:100%;height:100%;left:0;top:0;padding:10px;-webkit-box-sizing:border-box;box-sizing:border-box;background:transparent;font-family:\\\"Quicksand\\\",-apple-system,BlinkMacSystemFont,\\\"Segoe UI\\\",Roboto,\\\"Helvetica Neue\\\",Arial,sans-serif;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}[id^=NotiflixConfirmWrap].nx-position-center-top{-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}[id^=NotiflixConfirmWrap].nx-position-center-bottom{-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}[id^=NotiflixConfirmWrap].nx-position-left-top{-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}[id^=NotiflixConfirmWrap].nx-position-left-center{-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start}[id^=NotiflixConfirmWrap].nx-position-left-bottom{-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}[id^=NotiflixConfirmWrap].nx-position-right-top{-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}[id^=NotiflixConfirmWrap].nx-position-right-center{-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end}[id^=NotiflixConfirmWrap].nx-position-right-bottom{-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}[id^=NotiflixConfirmWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixConfirmWrap]>div[class*=\\\"-overlay\\\"]{width:100%;height:100%;left:0;top:0;background:rgba(255,255,255,.5);position:fixed;z-index:0}[id^=NotiflixConfirmWrap]>div[class*=\\\"-overlay\\\"].nx-with-animation{-webkit-animation:confirm-overlay-animation .3s ease-in-out 0s normal;animation:confirm-overlay-animation .3s ease-in-out 0s normal}@-webkit-keyframes confirm-overlay-animation{0%{opacity:0}100%{opacity:1}}@keyframes confirm-overlay-animation{0%{opacity:0}100%{opacity:1}}[id^=NotiflixConfirmWrap].nx-remove>div[class*=\\\"-overlay\\\"].nx-with-animation{opacity:0;-webkit-animation:confirm-overlay-animation-remove .3s ease-in-out 0s normal;animation:confirm-overlay-animation-remove .3s ease-in-out 0s normal}@-webkit-keyframes confirm-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}@keyframes confirm-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixConfirmWrap]>div[class*=\\\"-content\\\"]{width:300px;max-width:100%;max-height:96vh;overflow-x:hidden;overflow-y:auto;border-radius:25px;padding:10px;margin:0;-webkit-filter:drop-shadow(0 0 5px rgba(0,0,0,0.05));filter:drop-shadow(0 0 5px rgba(0, 0, 0, .05));background:#f8f8f8;color:#1e1e1e;position:relative;z-index:1;text-align:center}[id^=NotiflixConfirmWrap]>div[class*=\\\"-content\\\"]::-webkit-scrollbar{width:0;height:0}[id^=NotiflixConfirmWrap]>div[class*=\\\"-content\\\"]::-webkit-scrollbar-thumb{background:transparent}[id^=NotiflixConfirmWrap]>div[class*=\\\"-content\\\"]::-webkit-scrollbar-track{background:transparent}[id^=NotiflixConfirmWrap]>div[class*=\\\"-content\\\"]>div[class*=\\\"-head\\\"]{float:left;width:100%;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*=\\\"-content\\\"]>div[class*=\\\"-head\\\"]>h5{float:left;width:100%;margin:0;padding:0 0 10px;border-bottom:1px solid rgba(0,0,0,.1);color:#32c682;font-family:inherit!important;font-size:16px;line-height:1.4;font-weight:500;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*=\\\"-content\\\"]>div[class*=\\\"-head\\\"]>div{font-family:inherit!important;margin:15px 0 20px;padding:0 10px;float:left;width:100%;font-size:14px;line-height:1.4;font-weight:normal;color:inherit;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*=\\\"-content\\\"]>div[class*=\\\"-head\\\"]>div>div{font-family:inherit!important;float:left;width:100%;margin:15px 0 0;padding:0}[id^=NotiflixConfirmWrap]>div[class*=\\\"-content\\\"]>div[class*=\\\"-head\\\"]>div>div>input{font-family:inherit!important;float:left;width:100%;height:40px;margin:0;padding:0 15px;border:1px solid rgba(0,0,0,.1);border-radius:25px;font-size:14px;font-weight:normal;line-height:1;-webkit-transition:all .25s ease-in-out;-o-transition:all .25s ease-in-out;transition:all .25s ease-in-out;text-align:left}[id^=NotiflixConfirmWrap].nx-rtl-on>div[class*=\\\"-content\\\"]>div[class*=\\\"-head\\\"]>div>div>input{text-align:right}[id^=NotiflixConfirmWrap]>div[class*=\\\"-content\\\"]>div[class*=\\\"-head\\\"]>div>div>input:hover{border-color:rgba(0,0,0,.1)}[id^=NotiflixConfirmWrap]>div[class*=\\\"-content\\\"]>div[class*=\\\"-head\\\"]>div>div>input:focus{border-color:rgba(0,0,0,.3)}[id^=NotiflixConfirmWrap]>div[class*=\\\"-content\\\"]>div[class*=\\\"-head\\\"]>div>div>input.nx-validation-failure{border-color:#ff5549}[id^=NotiflixConfirmWrap]>div[class*=\\\"-content\\\"]>div[class*=\\\"-head\\\"]>div>div>input.nx-validation-success{border-color:#32c682}[id^=NotiflixConfirmWrap]>div[class*=\\\"-content\\\"]>div[class*=\\\"-buttons\\\"]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-radius:inherit;float:left;width:100%;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*=\\\"-content\\\"]>div[class*=\\\"-buttons\\\"]>a{cursor:pointer;font-family:inherit!important;-webkit-transition:all .25s ease-in-out;-o-transition:all .25s ease-in-out;transition:all .25s ease-in-out;float:left;width:48%;padding:9px 5px;border-radius:inherit!important;font-weight:500;font-size:15px;line-height:1.4;color:#f8f8f8;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*=\\\"-content\\\"]>div[class*=\\\"-buttons\\\"]>a.nx-confirm-button-ok{margin:0 2% 0 0;background:#32c682}[id^=NotiflixConfirmWrap]>div[class*=\\\"-content\\\"]>div[class*=\\\"-buttons\\\"]>a.nx-confirm-button-cancel{margin:0 0 0 2%;background:#a9a9a9}[id^=NotiflixConfirmWrap]>div[class*=\\\"-content\\\"]>div[class*=\\\"-buttons\\\"]>a.nx-full{margin:0;width:100%}[id^=NotiflixConfirmWrap]>div[class*=\\\"-content\\\"]>div[class*=\\\"-buttons\\\"]>a:hover{-webkit-box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25);box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25)}[id^=NotiflixConfirmWrap].nx-rtl-on>div[class*=\\\"-content\\\"]>div[class*=\\\"-buttons\\\"],[id^=NotiflixConfirmWrap].nx-rtl-on>div[class*=\\\"-content\\\"]>div[class*=\\\"-buttons\\\"]>a{-webkit-transform:rotateY(180deg);transform:rotateY(180deg)}[id^=NotiflixConfirmWrap].nx-with-animation.nx-fade>div[class*=\\\"-content\\\"]{-webkit-animation:confirm-animation-fade .3s ease-in-out 0s normal;animation:confirm-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes confirm-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixConfirmWrap].nx-with-animation.nx-zoom>div[class*=\\\"-content\\\"]{-webkit-animation:confirm-animation-zoom .3s ease-in-out 0s normal;animation:confirm-animation-zoom .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes confirm-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}[id^=NotiflixConfirmWrap].nx-with-animation.nx-fade.nx-remove>div[class*=\\\"-content\\\"]{opacity:0;-webkit-animation:confirm-animation-fade-remove .3s ease-in-out 0s normal;animation:confirm-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes confirm-animation-fade-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixConfirmWrap].nx-with-animation.nx-zoom.nx-remove>div[class*=\\\"-content\\\"]{opacity:0;-webkit-animation:confirm-animation-zoom-remove .3s ease-in-out 0s normal;animation:confirm-animation-zoom-remove .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}@keyframes confirm-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}\"},H=function(e,i,n,o,r,l,m,c,p){if(!w(\"body\"))return!1;a||G.Confirm.init({});var x=v(!0,a,{});\"object\"!=typeof p||Array.isArray(p)||(a=v(!0,a,p)),\"string\"!=typeof i&&(i=\"Notiflix Confirm\"),\"string\"!=typeof n&&(n=\"Do you agree with me?\"),\"string\"!=typeof r&&(r=\"Yes\"),\"string\"!=typeof l&&(l=\"No\"),\"function\"!=typeof m&&(m=void 0),\"function\"!=typeof c&&(c=void 0),a.plainText&&(i=N(i),n=N(n),r=N(r),l=N(l)),a.plainText||(i.length>a.titleMaxLength&&(i=\"Possible HTML Tags Error\",n=\"The \\\"plainText\\\" option is \\\"false\\\" and the title content length is more than \\\"titleMaxLength\\\" option.\",r=\"Okay\",l=\"...\"),n.length>a.messageMaxLength&&(i=\"Possible HTML Tags Error\",n=\"The \\\"plainText\\\" option is \\\"false\\\" and the message content length is more than \\\"messageMaxLength\\\" option.\",r=\"Okay\",l=\"...\"),(r.length||l.length)>a.buttonsMaxLength&&(i=\"Possible HTML Tags Error\",n=\"The \\\"plainText\\\" option is \\\"false\\\" and the buttons content length is more than \\\"buttonsMaxLength\\\" option.\",r=\"Okay\",l=\"...\")),i.length>a.titleMaxLength&&(i=i.substring(0,a.titleMaxLength)+\"...\"),n.length>a.messageMaxLength&&(n=n.substring(0,a.messageMaxLength)+\"...\"),r.length>a.buttonsMaxLength&&(r=r.substring(0,a.buttonsMaxLength)+\"...\"),l.length>a.buttonsMaxLength&&(l=l.substring(0,a.buttonsMaxLength)+\"...\"),a.cssAnimation||(a.cssAnimationDuration=0);var g=t.document.createElement(\"div\");g.id=d.ID,g.className=a.className+(a.cssAnimation?\" nx-with-animation nx-\"+a.cssAnimationStyle:\"\"),g.style.zIndex=a.zindex,g.style.padding=a.distance,a.rtl&&(g.setAttribute(\"dir\",\"rtl\"),g.classList.add(\"nx-rtl-on\"));var b=\"string\"==typeof a.position?a.position.trim():\"center\";g.classList.add(\"nx-position-\"+b),g.style.fontFamily=\"\\\"\"+a.fontFamily+\"\\\", \"+s;var u=\"\";a.backOverlay&&(u=\"<div class=\\\"\"+a.className+\"-overlay\"+(a.cssAnimation?\" nx-with-animation\":\"\")+\"\\\" style=\\\"background:\"+a.backOverlayColor+\";animation-duration:\"+a.cssAnimationDuration+\"ms;\\\"></div>\");var y=\"\";\"function\"==typeof m&&(y=\"<a id=\\\"NXConfirmButtonCancel\\\" class=\\\"nx-confirm-button-cancel\\\" style=\\\"color:\"+a.cancelButtonColor+\";background:\"+a.cancelButtonBackground+\";font-size:\"+a.buttonsFontSize+\";\\\">\"+l+\"</a>\");var k=\"\",h=null,C=void 0;if(e===f.Ask||e===f.Prompt){h=o||\"\";var z=e===f.Ask?Math.ceil(1.5*h.length):200<h.length?Math.ceil(1.5*h.length):250,S=e===f.Prompt?\"value=\\\"\"+h+\"\\\"\":\"\";k=\"<div><input id=\\\"NXConfirmValidationInput\\\" type=\\\"text\\\" \"+S+\" maxlength=\\\"\"+z+\"\\\" style=\\\"font-size:\"+a.messageFontSize+\";border-radius: \"+a.borderRadius+\";\\\" autocomplete=\\\"off\\\" spellcheck=\\\"false\\\" autocapitalize=\\\"none\\\" /></div>\"}if(g.innerHTML=u+\"<div class=\\\"\"+a.className+\"-content\\\" style=\\\"width:\"+a.width+\"; background:\"+a.backgroundColor+\"; animation-duration:\"+a.cssAnimationDuration+\"ms; border-radius: \"+a.borderRadius+\";\\\"><div class=\\\"\"+a.className+\"-head\\\"><h5 style=\\\"color:\"+a.titleColor+\";font-size:\"+a.titleFontSize+\";\\\">\"+i+\"</h5><div style=\\\"color:\"+a.messageColor+\";font-size:\"+a.messageFontSize+\";\\\">\"+n+k+\"</div></div><div class=\\\"\"+a.className+\"-buttons\\\"><a id=\\\"NXConfirmButtonOk\\\" class=\\\"nx-confirm-button-ok\"+(\"function\"==typeof m?\"\":\" nx-full\")+\"\\\" style=\\\"color:\"+a.okButtonColor+\";background:\"+a.okButtonBackground+\";font-size:\"+a.buttonsFontSize+\";\\\">\"+r+\"</a>\"+y+\"</div></div>\",!t.document.getElementById(g.id)){t.document.body.appendChild(g);var L=t.document.getElementById(g.id),W=t.document.getElementById(\"NXConfirmButtonOk\"),I=t.document.getElementById(\"NXConfirmValidationInput\");if(I&&(I.focus(),I.setSelectionRange(0,(I.value||\"\").length),I.addEventListener(\"keyup\",function(t){var i=t.target.value;if(e===f.Ask&&i!==h)t.preventDefault(),I.classList.add(\"nx-validation-failure\"),I.classList.remove(\"nx-validation-success\");else{e===f.Ask&&(I.classList.remove(\"nx-validation-failure\"),I.classList.add(\"nx-validation-success\"));var a=\"enter\"===(t.key||\"\").toLocaleLowerCase(\"en\")||13===t.keyCode;a&&W.dispatchEvent(new Event(\"click\"))}})),W.addEventListener(\"click\",function(t){if(e===f.Ask&&h&&I){var i=(I.value||\"\").toString();if(i!==h)return I.focus(),I.classList.add(\"nx-validation-failure\"),t.stopPropagation(),t.preventDefault(),t.returnValue=!1,t.cancelBubble=!0,!1;I.classList.remove(\"nx-validation-failure\")}\"function\"==typeof m&&(e===f.Prompt&&I&&(C=I.value||\"\"),m(C)),L.classList.add(\"nx-remove\");var n=setTimeout(function(){null!==L.parentNode&&(L.parentNode.removeChild(L),clearTimeout(n))},a.cssAnimationDuration)}),\"function\"==typeof m){var R=t.document.getElementById(\"NXConfirmButtonCancel\");R.addEventListener(\"click\",function(){\"function\"==typeof c&&(e===f.Prompt&&I&&(C=I.value||\"\"),c(C)),L.classList.add(\"nx-remove\");var t=setTimeout(function(){null!==L.parentNode&&(L.parentNode.removeChild(L),clearTimeout(t))},a.cssAnimationDuration)})}}a=v(!0,a,x)},P=function(){return\"[id^=NotiflixLoadingWrap]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:fixed;z-index:4000;width:100%;height:100%;left:0;top:0;right:0;bottom:0;margin:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box;background:rgba(0,0,0,.8);font-family:\\\"Quicksand\\\",-apple-system,BlinkMacSystemFont,\\\"Segoe UI\\\",Roboto,\\\"Helvetica Neue\\\",Arial,sans-serif}[id^=NotiflixLoadingWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixLoadingWrap].nx-loading-click-to-close{cursor:pointer}[id^=NotiflixLoadingWrap]>div[class*=\\\"-icon\\\"]{width:60px;height:60px;position:relative;-webkit-transition:top .2s ease-in-out;-o-transition:top .2s ease-in-out;transition:top .2s ease-in-out;margin:0 auto}[id^=NotiflixLoadingWrap]>div[class*=\\\"-icon\\\"] img,[id^=NotiflixLoadingWrap]>div[class*=\\\"-icon\\\"] svg{max-width:unset;max-height:unset;width:100%;height:auto;position:absolute;left:0;top:0}[id^=NotiflixLoadingWrap]>p{position:relative;margin:10px auto 0;font-family:inherit!important;font-weight:normal;font-size:15px;line-height:1.4;padding:0 10px;width:100%;text-align:center}[id^=NotiflixLoadingWrap].nx-with-animation{-webkit-animation:loading-animation-fade .3s ease-in-out 0s normal;animation:loading-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes loading-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes loading-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixLoadingWrap].nx-with-animation.nx-remove{opacity:0;-webkit-animation:loading-animation-fade-remove .3s ease-in-out 0s normal;animation:loading-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes loading-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes loading-animation-fade-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixLoadingWrap]>p.nx-loading-message-new{-webkit-animation:loading-new-message-fade .3s ease-in-out 0s normal;animation:loading-new-message-fade .3s ease-in-out 0s normal}@-webkit-keyframes loading-new-message-fade{0%{opacity:0}100%{opacity:1}}@keyframes loading-new-message-fade{0%{opacity:0}100%{opacity:1}}\"},U=function(e,i,a,o,r){if(!w(\"body\"))return!1;n||G.Loading.init({});var l=v(!0,n,{});if(\"object\"==typeof i&&!Array.isArray(i)||\"object\"==typeof a&&!Array.isArray(a)){var m={};\"object\"==typeof i?m=i:\"object\"==typeof a&&(m=a),n=v(!0,n,m)}var c=\"\";if(\"string\"==typeof i&&0<i.length&&(c=i),o){c=c.length>n.messageMaxLength?N(c).toString().substring(0,n.messageMaxLength)+\"...\":N(c).toString();var p=\"\";0<c.length&&(p=\"<p id=\\\"\"+n.messageID+\"\\\" class=\\\"nx-loading-message\\\" style=\\\"color:\"+n.messageColor+\";font-size:\"+n.messageFontSize+\";\\\">\"+c+\"</p>\"),n.cssAnimation||(n.cssAnimationDuration=0);var f=\"\";if(e===x.Standard)f=W(n.svgSize,n.svgColor);else if(e===x.Hourglass)f=I(n.svgSize,n.svgColor);else if(e===x.Circle)f=R(n.svgSize,n.svgColor);else if(e===x.Arrows)f=A(n.svgSize,n.svgColor);else if(e===x.Dots)f=M(n.svgSize,n.svgColor);else if(e===x.Pulse)f=B(n.svgSize,n.svgColor);else if(e===x.Custom&&null!==n.customSvgCode&&null===n.customSvgUrl)f=n.customSvgCode||\"\";else if(e===x.Custom&&null!==n.customSvgUrl&&null===n.customSvgCode)f=\"<img class=\\\"nx-custom-loading-icon\\\" width=\\\"\"+n.svgSize+\"\\\" height=\\\"\"+n.svgSize+\"\\\" src=\\\"\"+n.customSvgUrl+\"\\\" alt=\\\"Notiflix\\\">\";else{if(e===x.Custom&&(null===n.customSvgUrl||null===n.customSvgCode))return y(\"You have to set a static SVG url to \\\"customSvgUrl\\\" option to use Loading Custom.\"),!1;f=X(n.svgSize,\"#f8f8f8\",\"#32c682\")}var d=parseInt((n.svgSize||\"\").replace(/[^0-9]/g,\"\")),b=t.innerWidth,u=d>=b?b-40+\"px\":d+\"px\",k=\"<div style=\\\"width:\"+u+\"; height:\"+u+\";\\\" class=\\\"\"+n.className+\"-icon\"+(0<c.length?\" nx-with-message\":\"\")+\"\\\">\"+f+\"</div>\",h=t.document.createElement(\"div\");if(h.id=g.ID,h.className=n.className+(n.cssAnimation?\" nx-with-animation\":\"\")+(n.clickToClose?\" nx-loading-click-to-close\":\"\"),h.style.zIndex=n.zindex,h.style.background=n.backgroundColor,h.style.animationDuration=n.cssAnimationDuration+\"ms\",h.style.fontFamily=\"\\\"\"+n.fontFamily+\"\\\", \"+s,h.style.display=\"flex\",h.style.flexWrap=\"wrap\",h.style.flexDirection=\"column\",h.style.alignItems=\"center\",h.style.justifyContent=\"center\",n.rtl&&(h.setAttribute(\"dir\",\"rtl\"),h.classList.add(\"nx-rtl-on\")),h.innerHTML=k+p,!t.document.getElementById(h.id)&&(t.document.body.appendChild(h),n.clickToClose)){var C=t.document.getElementById(h.id);C.addEventListener(\"click\",function(){h.classList.add(\"nx-remove\");var t=setTimeout(function(){null!==h.parentNode&&(h.parentNode.removeChild(h),clearTimeout(t))},n.cssAnimationDuration)})}}else if(t.document.getElementById(g.ID))var z=t.document.getElementById(g.ID),S=setTimeout(function(){z.classList.add(\"nx-remove\");var t=setTimeout(function(){null!==z.parentNode&&(z.parentNode.removeChild(z),clearTimeout(t))},n.cssAnimationDuration);clearTimeout(S)},r);n=v(!0,n,l)},V=function(e){\"string\"!=typeof e&&(e=\"\");var i=t.document.getElementById(g.ID);if(i)if(0<e.length){e=e.length>n.messageMaxLength?N(e).substring(0,n.messageMaxLength)+\"...\":N(e);var a=i.getElementsByTagName(\"p\")[0];if(a)a.innerHTML=e;else{var o=t.document.createElement(\"p\");o.id=n.messageID,o.className=\"nx-loading-message nx-loading-message-new\",o.style.color=n.messageColor,o.style.fontSize=n.messageFontSize,o.innerHTML=e,i.appendChild(o)}}else y(\"Where is the new message?\")},q=function(){return\"[id^=NotiflixBlockWrap]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1000;font-family:\\\"Quicksand\\\",-apple-system,BlinkMacSystemFont,\\\"Segoe UI\\\",Roboto,\\\"Helvetica Neue\\\",Arial,sans-serif;background:rgba(255,255,255,.9);text-align:center;animation-duration:.4s;width:100%;height:100%;left:0;top:0;border-radius:inherit;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}[id^=NotiflixBlockWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixBlockWrap]>span[class*=\\\"-icon\\\"]{display:block;width:45px;height:45px;position:relative;margin:0 auto}[id^=NotiflixBlockWrap]>span[class*=\\\"-icon\\\"] svg{width:inherit;height:inherit}[id^=NotiflixBlockWrap]>span[class*=\\\"-message\\\"]{position:relative;display:block;width:100%;margin:10px auto 0;padding:0 10px;font-family:inherit!important;font-weight:normal;font-size:14px;line-height:1.4}[id^=NotiflixBlockWrap].nx-with-animation{-webkit-animation:block-animation-fade .3s ease-in-out 0s normal;animation:block-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes block-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes block-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixBlockWrap].nx-with-animation.nx-remove{opacity:0;-webkit-animation:block-animation-fade-remove .3s ease-in-out 0s normal;animation:block-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes block-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes block-animation-fade-remove{0%{opacity:1}100%{opacity:0}}\"},Q=0,Y=function(e,i,a,n,r,l){var m;if(Array.isArray(a)){if(1>a.length)return y(\"Array of HTMLElements should contains at least one HTMLElement.\"),!1;m=a}else if(Object.prototype.isPrototypeOf.call(NodeList.prototype,a)){if(1>a.length)return y(\"NodeListOf<HTMLElement> should contains at least one HTMLElement.\"),!1;m=Array.prototype.slice.call(a)}else{var c=\"string\"!=typeof a||1>(a||\"\").length||1===(a||\"\").length&&(\"#\"===(a||\"\")[0]||\".\"===(a||\"\")[0]);if(c)return y(\"The selector parameter must be a string and matches a specified CSS selector(s).\"),!1;var p=t.document.querySelectorAll(a);if(1>p.length)return y(\"You called the \\\"Notiflix.Block...\\\" function with \\\"\"+a+\"\\\" selector, but there is no such element(s) in the document.\"),!1;m=p}o||G.Block.init({});var f=v(!0,o,{});if(\"object\"==typeof n&&!Array.isArray(n)||\"object\"==typeof r&&!Array.isArray(r)){var d={};\"object\"==typeof n?d=n:\"object\"==typeof r&&(d=r),o=v(!0,o,d)}var x=\"\";\"string\"==typeof n&&0<n.length&&(x=n),o.cssAnimation||(o.cssAnimationDuration=0);var g=u.className;\"string\"==typeof o.className&&(g=o.className.trim());var h=\"number\"==typeof o.querySelectorLimit?o.querySelectorLimit:200,C=(m||[]).length>=h?h:m.length,z=\"nx-block-temporary-position\";if(e){for(var S,L=[\"area\",\"base\",\"br\",\"col\",\"command\",\"embed\",\"hr\",\"img\",\"input\",\"keygen\",\"link\",\"meta\",\"param\",\"source\",\"track\",\"wbr\",\"html\",\"head\",\"title\",\"script\",\"style\",\"iframe\"],X=0;X<C;X++)if(S=m[X],S){if(-1<L.indexOf(S.tagName.toLocaleLowerCase(\"en\")))break;var D=S.querySelectorAll(\"[id^=\"+u.ID+\"]\");if(1>D.length){var T=\"\";i&&(i===b.Hourglass?T=I(o.svgSize,o.svgColor):i===b.Circle?T=R(o.svgSize,o.svgColor):i===b.Arrows?T=A(o.svgSize,o.svgColor):i===b.Dots?T=M(o.svgSize,o.svgColor):i===b.Pulse?T=B(o.svgSize,o.svgColor):T=W(o.svgSize,o.svgColor));var F=\"<span class=\\\"\"+g+\"-icon\\\" style=\\\"width:\"+o.svgSize+\";height:\"+o.svgSize+\";\\\">\"+T+\"</span>\",E=\"\";0<x.length&&(x=x.length>o.messageMaxLength?N(x).substring(0,o.messageMaxLength)+\"...\":N(x),E=\"<span style=\\\"font-size:\"+o.messageFontSize+\";color:\"+o.messageColor+\";\\\" class=\\\"\"+g+\"-message\\\">\"+x+\"</span>\"),Q++;var j=t.document.createElement(\"div\");j.id=u.ID+\"-\"+Q,j.className=g+(o.cssAnimation?\" nx-with-animation\":\"\"),j.style.position=o.position,j.style.zIndex=o.zindex,j.style.background=o.backgroundColor,j.style.animationDuration=o.cssAnimationDuration+\"ms\",j.style.fontFamily=\"\\\"\"+o.fontFamily+\"\\\", \"+s,j.style.display=\"flex\",j.style.flexWrap=\"wrap\",j.style.flexDirection=\"column\",j.style.alignItems=\"center\",j.style.justifyContent=\"center\",o.rtl&&(j.setAttribute(\"dir\",\"rtl\"),j.classList.add(\"nx-rtl-on\")),j.innerHTML=F+E;var O=t.getComputedStyle(S).getPropertyValue(\"position\"),H=\"string\"==typeof O?O.toLocaleLowerCase(\"en\"):\"relative\",P=Math.round(1.25*parseInt(o.svgSize))+40,U=S.offsetHeight||0,V=\"\";P>U&&(V=\"min-height:\"+P+\"px;\");var q=\"\";q=S.getAttribute(\"id\")?\"#\"+S.getAttribute(\"id\"):S.classList[0]?\".\"+S.classList[0]:(S.tagName||\"\").toLocaleLowerCase(\"en\");var Y=\"\",K=-1>=[\"absolute\",\"relative\",\"fixed\",\"sticky\"].indexOf(H);if(K||0<V.length){if(!w(\"head\"))return!1;K&&(Y=\"position:relative!important;\");var $=\"<style id=\\\"Style-\"+u.ID+\"-\"+Q+\"\\\">\"+q+\".\"+z+\"{\"+Y+V+\"}</style>\",J=t.document.createRange();J.selectNode(t.document.head);var Z=J.createContextualFragment($);t.document.head.appendChild(Z),S.classList.add(z)}S.appendChild(j)}}}else var _=function(e){var i=setTimeout(function(){null!==e.parentNode&&e.parentNode.removeChild(e);var a=e.getAttribute(\"id\"),n=t.document.getElementById(\"Style-\"+a);n&&null!==n.parentNode&&n.parentNode.removeChild(n),clearTimeout(i)},o.cssAnimationDuration)},tt=function(t){if(t&&0<t.length)for(var e,n=0;n<t.length;n++)e=t[n],e&&(e.classList.add(\"nx-remove\"),_(e));else\"string\"==typeof a?k(\"\\\"Notiflix.Block.remove();\\\" function called with \\\"\"+a+\"\\\" selector, but this selector does not have a \\\"Block\\\" element to remove.\"):k(\"\\\"Notiflix.Block.remove();\\\" function called with \\\"\"+a+\"\\\", but this \\\"Array<HTMLElement>\\\" or \\\"NodeListOf<HTMLElement>\\\" does not have a \\\"Block\\\" element to remove.\")},et=function(t){var e=setTimeout(function(){t.classList.remove(z),clearTimeout(e)},o.cssAnimationDuration+300)},it=setTimeout(function(){for(var t,e=0;e<C;e++)t=m[e],t&&(et(t),D=t.querySelectorAll(\"[id^=\"+u.ID+\"]\"),tt(D));clearTimeout(it)},l);o=v(!0,o,f)},G={Notify:{init:function(t){e=v(!0,m,t),h(D,\"NotiflixNotifyInternalCSS\")},merge:function(t){return e?void(e=v(!0,e,t)):(y(\"You have to initialize the Notify module before call Merge function.\"),!1)},success:function(t,e,i){F(l.Success,t,e,i)},failure:function(t,e,i){F(l.Failure,t,e,i)},warning:function(t,e,i){F(l.Warning,t,e,i)},info:function(t,e,i){F(l.Info,t,e,i)}},Report:{init:function(t){i=v(!0,p,t),h(E,\"NotiflixReportInternalCSS\")},merge:function(t){return i?void(i=v(!0,i,t)):(y(\"You have to initialize the Report module before call Merge function.\"),!1)},success:function(t,e,i,a,n){j(c.Success,t,e,i,a,n)},failure:function(t,e,i,a,n){j(c.Failure,t,e,i,a,n)},warning:function(t,e,i,a,n){j(c.Warning,t,e,i,a,n)},info:function(t,e,i,a,n){j(c.Info,t,e,i,a,n)}},Confirm:{init:function(t){a=v(!0,d,t),h(O,\"NotiflixConfirmInternalCSS\")},merge:function(t){return a?void(a=v(!0,a,t)):(y(\"You have to initialize the Confirm module before call Merge function.\"),!1)},show:function(t,e,i,a,n,o,r){H(f.Show,t,e,null,i,a,n,o,r)},ask:function(t,e,i,a,n,o,r,s){H(f.Ask,t,e,i,a,n,o,r,s)},prompt:function(t,e,i,a,n,o,r,s){H(f.Prompt,t,e,i,a,n,o,r,s)}},Loading:{init:function(t){n=v(!0,g,t),h(P,\"NotiflixLoadingInternalCSS\")},merge:function(t){return n?void(n=v(!0,n,t)):(y(\"You have to initialize the Loading module before call Merge function.\"),!1)},standard:function(t,e){U(x.Standard,t,e,!0,0)},hourglass:function(t,e){U(x.Hourglass,t,e,!0,0)},circle:function(t,e){U(x.Circle,t,e,!0,0)},arrows:function(t,e){U(x.Arrows,t,e,!0,0)},dots:function(t,e){U(x.Dots,t,e,!0,0)},pulse:function(t,e){U(x.Pulse,t,e,!0,0)},custom:function(t,e){U(x.Custom,t,e,!0,0)},notiflix:function(t,e){U(x.Notiflix,t,e,!0,0)},remove:function(t){\"number\"!=typeof t&&(t=0),U(null,null,null,!1,t)},change:function(t){V(t)}},Block:{init:function(t){o=v(!0,u,t),h(q,\"NotiflixBlockInternalCSS\")},merge:function(t){return o?void(o=v(!0,o,t)):(y(\"You have to initialize the \\\"Notiflix.Block\\\" module before call Merge function.\"),!1)},standard:function(t,e,i){Y(!0,b.Standard,t,e,i)},hourglass:function(t,e,i){Y(!0,b.Hourglass,t,e,i)},circle:function(t,e,i){Y(!0,b.Circle,t,e,i)},arrows:function(t,e,i){Y(!0,b.Arrows,t,e,i)},dots:function(t,e,i){Y(!0,b.Dots,t,e,i)},pulse:function(t,e,i){Y(!0,b.Pulse,t,e,i)},remove:function(t,e){\"number\"!=typeof e&&(e=0),Y(!1,null,t,null,null,e)}}};return\"object\"==typeof t.Notiflix?v(!0,t.Notiflix,{Notify:G.Notify,Report:G.Report,Confirm:G.Confirm,Loading:G.Loading,Block:G.Block}):{Notify:G.Notify,Report:G.Report,Confirm:G.Confirm,Loading:G.Loading,Block:G.Block}});","const firebaseConfig = {\n    apiKey: \"AIzaSyD_8nomTOJrCx7MZGkq-xmm7vV468uHPco\",\n    authDomain: \"filmoteka-project-60d22.firebaseapp.com\",\n    projectId: \"filmoteka-project-60d22\",\n    storageBucket: \"filmoteka-project-60d22.appspot.com\",\n    messagingSenderId: \"50957581779\",\n    appId: \"1:50957581779:web:1c9c607cfc3570cc60c326\",\n    measurementId: \"G-J1CJQBQC91\"\n};\n\nexport { firebaseConfig };","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  ComponentContainer,\n  ComponentType,\n  Provider,\n  Name\n} from '@firebase/component';\nimport { PlatformLoggerService, VersionService } from './types';\n\nexport class PlatformLoggerServiceImpl implements PlatformLoggerService {\n  constructor(private readonly container: ComponentContainer) {}\n  // In initial implementation, this will be called by installations on\n  // auth token refresh, and installations will send this string.\n  getPlatformInfoString(): string {\n    const providers = this.container.getProviders();\n    // Loop through providers and get library/version pairs from any that are\n    // version components.\n    return providers\n      .map(provider => {\n        if (isVersionServiceProvider(provider)) {\n          const service = provider.getImmediate() as VersionService;\n          return `${service.library}/${service.version}`;\n        } else {\n          return null;\n        }\n      })\n      .filter(logString => logString)\n      .join(' ');\n  }\n}\n/**\n *\n * @param provider check if this provider provides a VersionService\n *\n * NOTE: Using Provider<'app-version'> is a hack to indicate that the provider\n * provides VersionService. The provider is not necessarily a 'app-version'\n * provider.\n */\nfunction isVersionServiceProvider(provider: Provider<Name>): boolean {\n  const component = provider.getComponent();\n  return component?.type === ComponentType.VERSION;\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Logger } from '@firebase/logger';\n\nexport const logger = new Logger('@firebase/app');\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { name as appName } from '../package.json';\nimport { name as appCompatName } from '../../app-compat/package.json';\nimport { name as analyticsCompatName } from '../../../packages/analytics-compat/package.json';\nimport { name as analyticsName } from '../../../packages/analytics/package.json';\nimport { name as appCheckCompatName } from '../../../packages/app-check-compat/package.json';\nimport { name as appCheckName } from '../../../packages/app-check/package.json';\nimport { name as authName } from '../../../packages/auth/package.json';\nimport { name as authCompatName } from '../../../packages/auth-compat/package.json';\nimport { name as databaseName } from '../../../packages/database/package.json';\nimport { name as databaseCompatName } from '../../../packages/database-compat/package.json';\nimport { name as functionsName } from '../../../packages/functions/package.json';\nimport { name as functionsCompatName } from '../../../packages/functions-compat/package.json';\nimport { name as installationsName } from '../../../packages/installations/package.json';\nimport { name as installationsCompatName } from '../../../packages/installations-compat/package.json';\nimport { name as messagingName } from '../../../packages/messaging/package.json';\nimport { name as messagingCompatName } from '../../../packages/messaging-compat/package.json';\nimport { name as performanceName } from '../../../packages/performance/package.json';\nimport { name as performanceCompatName } from '../../../packages/performance-compat/package.json';\nimport { name as remoteConfigName } from '../../../packages/remote-config/package.json';\nimport { name as remoteConfigCompatName } from '../../../packages/remote-config-compat/package.json';\nimport { name as storageName } from '../../../packages/storage/package.json';\nimport { name as storageCompatName } from '../../../packages/storage-compat/package.json';\nimport { name as firestoreName } from '../../../packages/firestore/package.json';\nimport { name as firestoreCompatName } from '../../../packages/firestore-compat/package.json';\nimport { name as packageName } from '../../../packages/firebase/package.json';\n\n/**\n * The default app name\n *\n * @internal\n */\nexport const DEFAULT_ENTRY_NAME = '[DEFAULT]';\n\nexport const PLATFORM_LOG_STRING = {\n  [appName]: 'fire-core',\n  [appCompatName]: 'fire-core-compat',\n  [analyticsName]: 'fire-analytics',\n  [analyticsCompatName]: 'fire-analytics-compat',\n  [appCheckName]: 'fire-app-check',\n  [appCheckCompatName]: 'fire-app-check-compat',\n  [authName]: 'fire-auth',\n  [authCompatName]: 'fire-auth-compat',\n  [databaseName]: 'fire-rtdb',\n  [databaseCompatName]: 'fire-rtdb-compat',\n  [functionsName]: 'fire-fn',\n  [functionsCompatName]: 'fire-fn-compat',\n  [installationsName]: 'fire-iid',\n  [installationsCompatName]: 'fire-iid-compat',\n  [messagingName]: 'fire-fcm',\n  [messagingCompatName]: 'fire-fcm-compat',\n  [performanceName]: 'fire-perf',\n  [performanceCompatName]: 'fire-perf-compat',\n  [remoteConfigName]: 'fire-rc',\n  [remoteConfigCompatName]: 'fire-rc-compat',\n  [storageName]: 'fire-gcs',\n  [storageCompatName]: 'fire-gcs-compat',\n  [firestoreName]: 'fire-fst',\n  [firestoreCompatName]: 'fire-fst-compat',\n  'fire-js': 'fire-js', // Platform identifier for JS SDK.\n  [packageName]: 'fire-js-all'\n} as const;\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FirebaseApp } from './public-types';\nimport { Component, Provider, Name } from '@firebase/component';\nimport { logger } from './logger';\nimport { DEFAULT_ENTRY_NAME } from './constants';\nimport { FirebaseAppImpl } from './firebaseApp';\n\n/**\n * @internal\n */\nexport const _apps = new Map<string, FirebaseApp>();\n\n/**\n * Registered components.\n *\n * @internal\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport const _components = new Map<string, Component<any>>();\n\n/**\n * @param component - the component being added to this app's container\n *\n * @internal\n */\nexport function _addComponent<T extends Name>(\n  app: FirebaseApp,\n  component: Component<T>\n): void {\n  try {\n    (app as FirebaseAppImpl).container.addComponent(component);\n  } catch (e) {\n    logger.debug(\n      `Component ${component.name} failed to register with FirebaseApp ${app.name}`,\n      e\n    );\n  }\n}\n\n/**\n *\n * @internal\n */\nexport function _addOrOverwriteComponent(\n  app: FirebaseApp,\n  component: Component\n): void {\n  (app as FirebaseAppImpl).container.addOrOverwriteComponent(component);\n}\n\n/**\n *\n * @param component - the component to register\n * @returns whether or not the component is registered successfully\n *\n * @internal\n */\nexport function _registerComponent<T extends Name>(\n  component: Component<T>\n): boolean {\n  const componentName = component.name;\n  if (_components.has(componentName)) {\n    logger.debug(\n      `There were multiple attempts to register component ${componentName}.`\n    );\n\n    return false;\n  }\n\n  _components.set(componentName, component);\n\n  // add the component to existing app instances\n  for (const app of _apps.values()) {\n    _addComponent(app as FirebaseAppImpl, component);\n  }\n\n  return true;\n}\n\n/**\n *\n * @param app - FirebaseApp instance\n * @param name - service name\n *\n * @returns the provider for the service with the matching name\n *\n * @internal\n */\nexport function _getProvider<T extends Name>(\n  app: FirebaseApp,\n  name: T\n): Provider<T> {\n  const heartbeatController = (app as FirebaseAppImpl).container\n    .getProvider('heartbeat')\n    .getImmediate({ optional: true });\n  if (heartbeatController) {\n    void heartbeatController.triggerHeartbeat();\n  }\n  return (app as FirebaseAppImpl).container.getProvider(name);\n}\n\n/**\n *\n * @param app - FirebaseApp instance\n * @param name - service name\n * @param instanceIdentifier - service instance identifier in case the service supports multiple instances\n *\n * @internal\n */\nexport function _removeServiceInstance<T extends Name>(\n  app: FirebaseApp,\n  name: T,\n  instanceIdentifier: string = DEFAULT_ENTRY_NAME\n): void {\n  _getProvider(app, name).clearInstance(instanceIdentifier);\n}\n\n/**\n * Test only\n *\n * @internal\n */\nexport function _clearComponents(): void {\n  _components.clear();\n}\n\n/**\n * Exported in order to be used in app-compat package\n */\nexport { DEFAULT_ENTRY_NAME as _DEFAULT_ENTRY_NAME };\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ErrorFactory, ErrorMap } from '@firebase/util';\n\nexport const enum AppError {\n  NO_APP = 'no-app',\n  BAD_APP_NAME = 'bad-app-name',\n  DUPLICATE_APP = 'duplicate-app',\n  APP_DELETED = 'app-deleted',\n  INVALID_APP_ARGUMENT = 'invalid-app-argument',\n  INVALID_LOG_ARGUMENT = 'invalid-log-argument',\n  IDB_OPEN = 'idb-open',\n  IDB_GET = 'idb-get',\n  IDB_WRITE = 'idb-set',\n  IDB_DELETE = 'idb-delete'\n}\n\nconst ERRORS: ErrorMap<AppError> = {\n  [AppError.NO_APP]:\n    \"No Firebase App '{$appName}' has been created - \" +\n    'call Firebase App.initializeApp()',\n  [AppError.BAD_APP_NAME]: \"Illegal App name: '{$appName}\",\n  [AppError.DUPLICATE_APP]:\n    \"Firebase App named '{$appName}' already exists with different options or config\",\n  [AppError.APP_DELETED]: \"Firebase App named '{$appName}' already deleted\",\n  [AppError.INVALID_APP_ARGUMENT]:\n    'firebase.{$appName}() takes either no argument or a ' +\n    'Firebase App instance.',\n  [AppError.INVALID_LOG_ARGUMENT]:\n    'First argument to `onLog` must be null or a function.',\n  [AppError.IDB_OPEN]:\n    'Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.',\n  [AppError.IDB_GET]:\n    'Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.',\n  [AppError.IDB_WRITE]:\n    'Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.',\n  [AppError.IDB_DELETE]:\n    'Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.'\n};\n\ninterface ErrorParams {\n  [AppError.NO_APP]: { appName: string };\n  [AppError.BAD_APP_NAME]: { appName: string };\n  [AppError.DUPLICATE_APP]: { appName: string };\n  [AppError.APP_DELETED]: { appName: string };\n  [AppError.INVALID_APP_ARGUMENT]: { appName: string };\n  [AppError.IDB_OPEN]: { originalErrorMessage?: string };\n  [AppError.IDB_GET]: { originalErrorMessage?: string };\n  [AppError.IDB_WRITE]: { originalErrorMessage?: string };\n  [AppError.IDB_DELETE]: { originalErrorMessage?: string };\n}\n\nexport const ERROR_FACTORY = new ErrorFactory<AppError, ErrorParams>(\n  'app',\n  'Firebase',\n  ERRORS\n);\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  FirebaseApp,\n  FirebaseOptions,\n  FirebaseAppSettings\n} from './public-types';\nimport {\n  ComponentContainer,\n  Component,\n  ComponentType\n} from '@firebase/component';\nimport { ERROR_FACTORY, AppError } from './errors';\n\nexport class FirebaseAppImpl implements FirebaseApp {\n  private readonly _options: FirebaseOptions;\n  private readonly _name: string;\n  /**\n   * Original config values passed in as a constructor parameter.\n   * It is only used to compare with another config object to support idempotent initializeApp().\n   *\n   * Updating automaticDataCollectionEnabled on the App instance will not change its value in _config.\n   */\n  private readonly _config: Required<FirebaseAppSettings>;\n  private _automaticDataCollectionEnabled: boolean;\n  private _isDeleted = false;\n  private readonly _container: ComponentContainer;\n\n  constructor(\n    options: FirebaseOptions,\n    config: Required<FirebaseAppSettings>,\n    container: ComponentContainer\n  ) {\n    this._options = { ...options };\n    this._config = { ...config };\n    this._name = config.name;\n    this._automaticDataCollectionEnabled =\n      config.automaticDataCollectionEnabled;\n    this._container = container;\n    this.container.addComponent(\n      new Component('app', () => this, ComponentType.PUBLIC)\n    );\n  }\n\n  get automaticDataCollectionEnabled(): boolean {\n    this.checkDestroyed();\n    return this._automaticDataCollectionEnabled;\n  }\n\n  set automaticDataCollectionEnabled(val: boolean) {\n    this.checkDestroyed();\n    this._automaticDataCollectionEnabled = val;\n  }\n\n  get name(): string {\n    this.checkDestroyed();\n    return this._name;\n  }\n\n  get options(): FirebaseOptions {\n    this.checkDestroyed();\n    return this._options;\n  }\n\n  get config(): Required<FirebaseAppSettings> {\n    this.checkDestroyed();\n    return this._config;\n  }\n\n  get container(): ComponentContainer {\n    return this._container;\n  }\n\n  get isDeleted(): boolean {\n    return this._isDeleted;\n  }\n\n  set isDeleted(val: boolean) {\n    this._isDeleted = val;\n  }\n\n  /**\n   * This function will throw an Error if the App has already been deleted -\n   * use before performing API actions on the App.\n   */\n  private checkDestroyed(): void {\n    if (this.isDeleted) {\n      throw ERROR_FACTORY.create(AppError.APP_DELETED, { appName: this._name });\n    }\n  }\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  FirebaseApp,\n  FirebaseOptions,\n  FirebaseAppSettings\n} from './public-types';\nimport { DEFAULT_ENTRY_NAME, PLATFORM_LOG_STRING } from './constants';\nimport { ERROR_FACTORY, AppError } from './errors';\nimport {\n  ComponentContainer,\n  Component,\n  Name,\n  ComponentType\n} from '@firebase/component';\nimport { version } from '../../firebase/package.json';\nimport { FirebaseAppImpl } from './firebaseApp';\nimport { _apps, _components, _registerComponent } from './internal';\nimport { logger } from './logger';\nimport {\n  LogLevelString,\n  setLogLevel as setLogLevelImpl,\n  LogCallback,\n  LogOptions,\n  setUserLogHandler\n} from '@firebase/logger';\nimport { deepEqual } from '@firebase/util';\n\nexport { FirebaseError } from '@firebase/util';\n\n/**\n * The current SDK version.\n *\n * @public\n */\nexport const SDK_VERSION = version;\n\n/**\n * Creates and initializes a {@link @firebase/app#FirebaseApp} instance.\n *\n * See\n * {@link\n *   https://firebase.google.com/docs/web/setup#add_firebase_to_your_app\n *   | Add Firebase to your app} and\n * {@link\n *   https://firebase.google.com/docs/web/setup#multiple-projects\n *   | Initialize multiple projects} for detailed documentation.\n *\n * @example\n * ```javascript\n *\n * // Initialize default app\n * // Retrieve your own options values by adding a web app on\n * // https://console.firebase.google.com\n * initializeApp({\n *   apiKey: \"AIza....\",                             // Auth / General Use\n *   authDomain: \"YOUR_APP.firebaseapp.com\",         // Auth with popup/redirect\n *   databaseURL: \"https://YOUR_APP.firebaseio.com\", // Realtime Database\n *   storageBucket: \"YOUR_APP.appspot.com\",          // Storage\n *   messagingSenderId: \"123456789\"                  // Cloud Messaging\n * });\n * ```\n *\n * @example\n * ```javascript\n *\n * // Initialize another app\n * const otherApp = initializeApp({\n *   databaseURL: \"https://<OTHER_DATABASE_NAME>.firebaseio.com\",\n *   storageBucket: \"<OTHER_STORAGE_BUCKET>.appspot.com\"\n * }, \"otherApp\");\n * ```\n *\n * @param options - Options to configure the app's services.\n * @param name - Optional name of the app to initialize. If no name\n *   is provided, the default is `\"[DEFAULT]\"`.\n *\n * @returns The initialized app.\n *\n * @public\n */\nexport function initializeApp(\n  options: FirebaseOptions,\n  name?: string\n): FirebaseApp;\n/**\n * Creates and initializes a FirebaseApp instance.\n *\n * @param options - Options to configure the app's services.\n * @param config - FirebaseApp Configuration\n *\n * @public\n */\nexport function initializeApp(\n  options: FirebaseOptions,\n  config?: FirebaseAppSettings\n): FirebaseApp;\nexport function initializeApp(\n  options: FirebaseOptions,\n  rawConfig = {}\n): FirebaseApp {\n  if (typeof rawConfig !== 'object') {\n    const name = rawConfig;\n    rawConfig = { name };\n  }\n\n  const config: Required<FirebaseAppSettings> = {\n    name: DEFAULT_ENTRY_NAME,\n    automaticDataCollectionEnabled: false,\n    ...rawConfig\n  };\n  const name = config.name;\n\n  if (typeof name !== 'string' || !name) {\n    throw ERROR_FACTORY.create(AppError.BAD_APP_NAME, {\n      appName: String(name)\n    });\n  }\n\n  const existingApp = _apps.get(name) as FirebaseAppImpl;\n  if (existingApp) {\n    // return the existing app if options and config deep equal the ones in the existing app.\n    if (\n      deepEqual(options, existingApp.options) &&\n      deepEqual(config, existingApp.config)\n    ) {\n      return existingApp;\n    } else {\n      throw ERROR_FACTORY.create(AppError.DUPLICATE_APP, { appName: name });\n    }\n  }\n\n  const container = new ComponentContainer(name);\n  for (const component of _components.values()) {\n    container.addComponent(component);\n  }\n\n  const newApp = new FirebaseAppImpl(options, config, container);\n\n  _apps.set(name, newApp);\n\n  return newApp;\n}\n\n/**\n * Retrieves a {@link @firebase/app#FirebaseApp} instance.\n *\n * When called with no arguments, the default app is returned. When an app name\n * is provided, the app corresponding to that name is returned.\n *\n * An exception is thrown if the app being retrieved has not yet been\n * initialized.\n *\n * @example\n * ```javascript\n * // Return the default app\n * const app = getApp();\n * ```\n *\n * @example\n * ```javascript\n * // Return a named app\n * const otherApp = getApp(\"otherApp\");\n * ```\n *\n * @param name - Optional name of the app to return. If no name is\n *   provided, the default is `\"[DEFAULT]\"`.\n *\n * @returns The app corresponding to the provided app name.\n *   If no app name is provided, the default app is returned.\n *\n * @public\n */\nexport function getApp(name: string = DEFAULT_ENTRY_NAME): FirebaseApp {\n  const app = _apps.get(name);\n  if (!app) {\n    throw ERROR_FACTORY.create(AppError.NO_APP, { appName: name });\n  }\n\n  return app;\n}\n\n/**\n * A (read-only) array of all initialized apps.\n * @public\n */\nexport function getApps(): FirebaseApp[] {\n  return Array.from(_apps.values());\n}\n\n/**\n * Renders this app unusable and frees the resources of all associated\n * services.\n *\n * @example\n * ```javascript\n * deleteApp(app)\n *   .then(function() {\n *     console.log(\"App deleted successfully\");\n *   })\n *   .catch(function(error) {\n *     console.log(\"Error deleting app:\", error);\n *   });\n * ```\n *\n * @public\n */\nexport async function deleteApp(app: FirebaseApp): Promise<void> {\n  const name = app.name;\n  if (_apps.has(name)) {\n    _apps.delete(name);\n    await Promise.all(\n      (app as FirebaseAppImpl).container\n        .getProviders()\n        .map(provider => provider.delete())\n    );\n    (app as FirebaseAppImpl).isDeleted = true;\n  }\n}\n\n/**\n * Registers a library's name and version for platform logging purposes.\n * @param library - Name of 1p or 3p library (e.g. firestore, angularfire)\n * @param version - Current version of that library.\n * @param variant - Bundle variant, e.g., node, rn, etc.\n *\n * @public\n */\nexport function registerVersion(\n  libraryKeyOrName: string,\n  version: string,\n  variant?: string\n): void {\n  // TODO: We can use this check to whitelist strings when/if we set up\n  // a good whitelist system.\n  let library = PLATFORM_LOG_STRING[libraryKeyOrName] ?? libraryKeyOrName;\n  if (variant) {\n    library += `-${variant}`;\n  }\n  const libraryMismatch = library.match(/\\s|\\//);\n  const versionMismatch = version.match(/\\s|\\//);\n  if (libraryMismatch || versionMismatch) {\n    const warning = [\n      `Unable to register library \"${library}\" with version \"${version}\":`\n    ];\n    if (libraryMismatch) {\n      warning.push(\n        `library name \"${library}\" contains illegal characters (whitespace or \"/\")`\n      );\n    }\n    if (libraryMismatch && versionMismatch) {\n      warning.push('and');\n    }\n    if (versionMismatch) {\n      warning.push(\n        `version name \"${version}\" contains illegal characters (whitespace or \"/\")`\n      );\n    }\n    logger.warn(warning.join(' '));\n    return;\n  }\n  _registerComponent(\n    new Component(\n      `${library}-version` as Name,\n      () => ({ library, version }),\n      ComponentType.VERSION\n    )\n  );\n}\n\n/**\n * Sets log handler for all Firebase SDKs.\n * @param logCallback - An optional custom log handler that executes user code whenever\n * the Firebase SDK makes a logging call.\n *\n * @public\n */\nexport function onLog(\n  logCallback: LogCallback | null,\n  options?: LogOptions\n): void {\n  if (logCallback !== null && typeof logCallback !== 'function') {\n    throw ERROR_FACTORY.create(AppError.INVALID_LOG_ARGUMENT);\n  }\n  setUserLogHandler(logCallback, options);\n}\n\n/**\n * Sets log level for all Firebase SDKs.\n *\n * All of the log types above the current log level are captured (i.e. if\n * you set the log level to `info`, errors are logged, but `debug` and\n * `verbose` logs are not).\n *\n * @public\n */\nexport function setLogLevel(logLevel: LogLevelString): void {\n  setLogLevelImpl(logLevel);\n}\n","/**\n * @license\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FirebaseError } from '@firebase/util';\nimport { DBSchema, openDB, IDBPDatabase } from 'idb';\nimport { AppError, ERROR_FACTORY } from './errors';\nimport { FirebaseApp } from './public-types';\nimport { HeartbeatsInIndexedDB } from './types';\nimport { logger } from './logger';\n\nconst DB_NAME = 'firebase-heartbeat-database';\nconst DB_VERSION = 1;\nconst STORE_NAME = 'firebase-heartbeat-store';\n\ninterface AppDB extends DBSchema {\n  'firebase-heartbeat-store': {\n    key: string;\n    value: HeartbeatsInIndexedDB;\n  };\n}\n\nlet dbPromise: Promise<IDBPDatabase<AppDB>> | null = null;\nfunction getDbPromise(): Promise<IDBPDatabase<AppDB>> {\n  if (!dbPromise) {\n    dbPromise = openDB<AppDB>(DB_NAME, DB_VERSION, {\n      upgrade: (db, oldVersion) => {\n        // We don't use 'break' in this switch statement, the fall-through\n        // behavior is what we want, because if there are multiple versions between\n        // the old version and the current version, we want ALL the migrations\n        // that correspond to those versions to run, not only the last one.\n        // eslint-disable-next-line default-case\n        switch (oldVersion) {\n          case 0:\n            db.createObjectStore(STORE_NAME);\n        }\n      }\n    }).catch(e => {\n      throw ERROR_FACTORY.create(AppError.IDB_OPEN, {\n        originalErrorMessage: e.message\n      });\n    });\n  }\n  return dbPromise;\n}\n\nexport async function readHeartbeatsFromIndexedDB(\n  app: FirebaseApp\n): Promise<HeartbeatsInIndexedDB | undefined> {\n  try {\n    const db = await getDbPromise();\n    return db\n      .transaction(STORE_NAME)\n      .objectStore(STORE_NAME)\n      .get(computeKey(app)) as Promise<HeartbeatsInIndexedDB | undefined>;\n  } catch (e) {\n    if (e instanceof FirebaseError) {\n      logger.warn(e.message);\n    } else {\n      const idbGetError = ERROR_FACTORY.create(AppError.IDB_GET, {\n        originalErrorMessage: (e as Error)?.message\n      });\n      logger.warn(idbGetError.message);\n    }\n  }\n}\n\nexport async function writeHeartbeatsToIndexedDB(\n  app: FirebaseApp,\n  heartbeatObject: HeartbeatsInIndexedDB\n): Promise<void> {\n  try {\n    const db = await getDbPromise();\n    const tx = db.transaction(STORE_NAME, 'readwrite');\n    const objectStore = tx.objectStore(STORE_NAME);\n    await objectStore.put(heartbeatObject, computeKey(app));\n    return tx.done;\n  } catch (e) {\n    if (e instanceof FirebaseError) {\n      logger.warn(e.message);\n    } else {\n      const idbGetError = ERROR_FACTORY.create(AppError.IDB_WRITE, {\n        originalErrorMessage: (e as Error)?.message\n      });\n      logger.warn(idbGetError.message);\n    }\n  }\n}\n\nfunction computeKey(app: FirebaseApp): string {\n  return `${app.name}!${app.options.appId}`;\n}\n","/**\n * @license\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ComponentContainer } from '@firebase/component';\nimport {\n  base64urlEncodeWithoutPadding,\n  isIndexedDBAvailable,\n  validateIndexedDBOpenable\n} from '@firebase/util';\nimport {\n  readHeartbeatsFromIndexedDB,\n  writeHeartbeatsToIndexedDB\n} from './indexeddb';\nimport { FirebaseApp } from './public-types';\nimport {\n  HeartbeatsByUserAgent,\n  HeartbeatService,\n  HeartbeatsInIndexedDB,\n  HeartbeatStorage,\n  SingleDateHeartbeat\n} from './types';\n\nconst MAX_HEADER_BYTES = 1024;\n// 30 days\nconst STORED_HEARTBEAT_RETENTION_MAX_MILLIS = 30 * 24 * 60 * 60 * 1000;\n\nexport class HeartbeatServiceImpl implements HeartbeatService {\n  /**\n   * The persistence layer for heartbeats\n   * Leave public for easier testing.\n   */\n  _storage: HeartbeatStorageImpl;\n\n  /**\n   * In-memory cache for heartbeats, used by getHeartbeatsHeader() to generate\n   * the header string.\n   * Stores one record per date. This will be consolidated into the standard\n   * format of one record per user agent string before being sent as a header.\n   * Populated from indexedDB when the controller is instantiated and should\n   * be kept in sync with indexedDB.\n   * Leave public for easier testing.\n   */\n  _heartbeatsCache: HeartbeatsInIndexedDB | null = null;\n\n  /**\n   * the initialization promise for populating heartbeatCache.\n   * If getHeartbeatsHeader() is called before the promise resolves\n   * (hearbeatsCache == null), it should wait for this promise\n   * Leave public for easier testing.\n   */\n  _heartbeatsCachePromise: Promise<HeartbeatsInIndexedDB>;\n  constructor(private readonly container: ComponentContainer) {\n    const app = this.container.getProvider('app').getImmediate();\n    this._storage = new HeartbeatStorageImpl(app);\n    this._heartbeatsCachePromise = this._storage.read().then(result => {\n      this._heartbeatsCache = result;\n      return result;\n    });\n  }\n\n  /**\n   * Called to report a heartbeat. The function will generate\n   * a HeartbeatsByUserAgent object, update heartbeatsCache, and persist it\n   * to IndexedDB.\n   * Note that we only store one heartbeat per day. So if a heartbeat for today is\n   * already logged, subsequent calls to this function in the same day will be ignored.\n   */\n  async triggerHeartbeat(): Promise<void> {\n    const platformLogger = this.container\n      .getProvider('platform-logger')\n      .getImmediate();\n\n    // This is the \"Firebase user agent\" string from the platform logger\n    // service, not the browser user agent.\n    const agent = platformLogger.getPlatformInfoString();\n    const date = getUTCDateString();\n    if (this._heartbeatsCache === null) {\n      this._heartbeatsCache = await this._heartbeatsCachePromise;\n    }\n    // Do not store a heartbeat if one is already stored for this day\n    // or if a header has already been sent today.\n    if (\n      this._heartbeatsCache.lastSentHeartbeatDate === date ||\n      this._heartbeatsCache.heartbeats.some(\n        singleDateHeartbeat => singleDateHeartbeat.date === date\n      )\n    ) {\n      return;\n    } else {\n      // There is no entry for this date. Create one.\n      this._heartbeatsCache.heartbeats.push({ date, agent });\n    }\n    // Remove entries older than 30 days.\n    this._heartbeatsCache.heartbeats = this._heartbeatsCache.heartbeats.filter(\n      singleDateHeartbeat => {\n        const hbTimestamp = new Date(singleDateHeartbeat.date).valueOf();\n        const now = Date.now();\n        return now - hbTimestamp <= STORED_HEARTBEAT_RETENTION_MAX_MILLIS;\n      }\n    );\n    return this._storage.overwrite(this._heartbeatsCache);\n  }\n\n  /**\n   * Returns a base64 encoded string which can be attached to the heartbeat-specific header directly.\n   * It also clears all heartbeats from memory as well as in IndexedDB.\n   *\n   * NOTE: Consuming product SDKs should not send the header if this method\n   * returns an empty string.\n   */\n  async getHeartbeatsHeader(): Promise<string> {\n    if (this._heartbeatsCache === null) {\n      await this._heartbeatsCachePromise;\n    }\n    // If it's still null or the array is empty, there is no data to send.\n    if (\n      this._heartbeatsCache === null ||\n      this._heartbeatsCache.heartbeats.length === 0\n    ) {\n      return '';\n    }\n    const date = getUTCDateString();\n    // Extract as many heartbeats from the cache as will fit under the size limit.\n    const { heartbeatsToSend, unsentEntries } = extractHeartbeatsForHeader(\n      this._heartbeatsCache.heartbeats\n    );\n    const headerString = base64urlEncodeWithoutPadding(\n      JSON.stringify({ version: 2, heartbeats: heartbeatsToSend })\n    );\n    // Store last sent date to prevent another being logged/sent for the same day.\n    this._heartbeatsCache.lastSentHeartbeatDate = date;\n    if (unsentEntries.length > 0) {\n      // Store any unsent entries if they exist.\n      this._heartbeatsCache.heartbeats = unsentEntries;\n      // This seems more likely than emptying the array (below) to lead to some odd state\n      // since the cache isn't empty and this will be called again on the next request,\n      // and is probably safest if we await it.\n      await this._storage.overwrite(this._heartbeatsCache);\n    } else {\n      this._heartbeatsCache.heartbeats = [];\n      // Do not wait for this, to reduce latency.\n      void this._storage.overwrite(this._heartbeatsCache);\n    }\n    return headerString;\n  }\n}\n\nfunction getUTCDateString(): string {\n  const today = new Date();\n  // Returns date format 'YYYY-MM-DD'\n  return today.toISOString().substring(0, 10);\n}\n\nexport function extractHeartbeatsForHeader(\n  heartbeatsCache: SingleDateHeartbeat[],\n  maxSize = MAX_HEADER_BYTES\n): {\n  heartbeatsToSend: HeartbeatsByUserAgent[];\n  unsentEntries: SingleDateHeartbeat[];\n} {\n  // Heartbeats grouped by user agent in the standard format to be sent in\n  // the header.\n  const heartbeatsToSend: HeartbeatsByUserAgent[] = [];\n  // Single date format heartbeats that are not sent.\n  let unsentEntries = heartbeatsCache.slice();\n  for (const singleDateHeartbeat of heartbeatsCache) {\n    // Look for an existing entry with the same user agent.\n    const heartbeatEntry = heartbeatsToSend.find(\n      hb => hb.agent === singleDateHeartbeat.agent\n    );\n    if (!heartbeatEntry) {\n      // If no entry for this user agent exists, create one.\n      heartbeatsToSend.push({\n        agent: singleDateHeartbeat.agent,\n        dates: [singleDateHeartbeat.date]\n      });\n      if (countBytes(heartbeatsToSend) > maxSize) {\n        // If the header would exceed max size, remove the added heartbeat\n        // entry and stop adding to the header.\n        heartbeatsToSend.pop();\n        break;\n      }\n    } else {\n      heartbeatEntry.dates.push(singleDateHeartbeat.date);\n      // If the header would exceed max size, remove the added date\n      // and stop adding to the header.\n      if (countBytes(heartbeatsToSend) > maxSize) {\n        heartbeatEntry.dates.pop();\n        break;\n      }\n    }\n    // Pop unsent entry from queue. (Skipped if adding the entry exceeded\n    // quota and the loop breaks early.)\n    unsentEntries = unsentEntries.slice(1);\n  }\n  return {\n    heartbeatsToSend,\n    unsentEntries\n  };\n}\n\nexport class HeartbeatStorageImpl implements HeartbeatStorage {\n  private _canUseIndexedDBPromise: Promise<boolean>;\n  constructor(public app: FirebaseApp) {\n    this._canUseIndexedDBPromise = this.runIndexedDBEnvironmentCheck();\n  }\n  async runIndexedDBEnvironmentCheck(): Promise<boolean> {\n    if (!isIndexedDBAvailable()) {\n      return false;\n    } else {\n      return validateIndexedDBOpenable()\n        .then(() => true)\n        .catch(() => false);\n    }\n  }\n  /**\n   * Read all heartbeats.\n   */\n  async read(): Promise<HeartbeatsInIndexedDB> {\n    const canUseIndexedDB = await this._canUseIndexedDBPromise;\n    if (!canUseIndexedDB) {\n      return { heartbeats: [] };\n    } else {\n      const idbHeartbeatObject = await readHeartbeatsFromIndexedDB(this.app);\n      return idbHeartbeatObject || { heartbeats: [] };\n    }\n  }\n  // overwrite the storage with the provided heartbeats\n  async overwrite(heartbeatsObject: HeartbeatsInIndexedDB): Promise<void> {\n    const canUseIndexedDB = await this._canUseIndexedDBPromise;\n    if (!canUseIndexedDB) {\n      return;\n    } else {\n      const existingHeartbeatsObject = await this.read();\n      return writeHeartbeatsToIndexedDB(this.app, {\n        lastSentHeartbeatDate:\n          heartbeatsObject.lastSentHeartbeatDate ??\n          existingHeartbeatsObject.lastSentHeartbeatDate,\n        heartbeats: heartbeatsObject.heartbeats\n      });\n    }\n  }\n  // add heartbeats\n  async add(heartbeatsObject: HeartbeatsInIndexedDB): Promise<void> {\n    const canUseIndexedDB = await this._canUseIndexedDBPromise;\n    if (!canUseIndexedDB) {\n      return;\n    } else {\n      const existingHeartbeatsObject = await this.read();\n      return writeHeartbeatsToIndexedDB(this.app, {\n        lastSentHeartbeatDate:\n          heartbeatsObject.lastSentHeartbeatDate ??\n          existingHeartbeatsObject.lastSentHeartbeatDate,\n        heartbeats: [\n          ...existingHeartbeatsObject.heartbeats,\n          ...heartbeatsObject.heartbeats\n        ]\n      });\n    }\n  }\n}\n\n/**\n * Calculate bytes of a HeartbeatsByUserAgent array after being wrapped\n * in a platform logging header JSON object, stringified, and converted\n * to base 64.\n */\nexport function countBytes(heartbeatsCache: HeartbeatsByUserAgent[]): number {\n  // base64 has a restricted set of characters, all of which should be 1 byte.\n  return base64urlEncodeWithoutPadding(\n    // heartbeatsCache wrapper properties\n    JSON.stringify({ version: 2, heartbeats: heartbeatsCache })\n  ).length;\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {\n  InstantiationMode,\n  InstanceFactory,\n  ComponentType,\n  Dictionary,\n  Name,\n  onInstanceCreatedCallback\n} from './types';\n\n/**\n * Component for service name T, e.g. `auth`, `auth-internal`\n */\nexport class Component<T extends Name = Name> {\n  multipleInstances = false;\n  /**\n   * Properties to be added to the service namespace\n   */\n  serviceProps: Dictionary = {};\n\n  instantiationMode = InstantiationMode.LAZY;\n\n  onInstanceCreated: onInstanceCreatedCallback<T> | null = null;\n\n  /**\n   *\n   * @param name The public service name, e.g. app, auth, firestore, database\n   * @param instanceFactory Service factory responsible for creating the public interface\n   * @param type whether the service provided by the component is public or private\n   */\n  constructor(\n    readonly name: T,\n    readonly instanceFactory: InstanceFactory<T>,\n    readonly type: ComponentType\n  ) {}\n\n  setInstantiationMode(mode: InstantiationMode): this {\n    this.instantiationMode = mode;\n    return this;\n  }\n\n  setMultipleInstances(multipleInstances: boolean): this {\n    this.multipleInstances = multipleInstances;\n    return this;\n  }\n\n  setServiceProps(props: Dictionary): this {\n    this.serviceProps = props;\n    return this;\n  }\n\n  setInstanceCreatedCallback(callback: onInstanceCreatedCallback<T>): this {\n    this.onInstanceCreated = callback;\n    return this;\n  }\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport const DEFAULT_ENTRY_NAME = '[DEFAULT]';\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Deferred } from '@firebase/util';\nimport { ComponentContainer } from './component_container';\nimport { DEFAULT_ENTRY_NAME } from './constants';\nimport {\n  InitializeOptions,\n  InstantiationMode,\n  Name,\n  NameServiceMapping,\n  OnInitCallBack\n} from './types';\nimport { Component } from './component';\n\n/**\n * Provider for instance for service name T, e.g. 'auth', 'auth-internal'\n * NameServiceMapping[T] is an alias for the type of the instance\n */\nexport class Provider<T extends Name> {\n  private component: Component<T> | null = null;\n  private readonly instances: Map<string, NameServiceMapping[T]> = new Map();\n  private readonly instancesDeferred: Map<\n    string,\n    Deferred<NameServiceMapping[T]>\n  > = new Map();\n  private readonly instancesOptions: Map<string, Record<string, unknown>> =\n    new Map();\n  private onInitCallbacks: Map<string, Set<OnInitCallBack<T>>> = new Map();\n\n  constructor(\n    private readonly name: T,\n    private readonly container: ComponentContainer\n  ) {}\n\n  /**\n   * @param identifier A provider can provide mulitple instances of a service\n   * if this.component.multipleInstances is true.\n   */\n  get(identifier?: string): Promise<NameServiceMapping[T]> {\n    // if multipleInstances is not supported, use the default name\n    const normalizedIdentifier = this.normalizeInstanceIdentifier(identifier);\n\n    if (!this.instancesDeferred.has(normalizedIdentifier)) {\n      const deferred = new Deferred<NameServiceMapping[T]>();\n      this.instancesDeferred.set(normalizedIdentifier, deferred);\n\n      if (\n        this.isInitialized(normalizedIdentifier) ||\n        this.shouldAutoInitialize()\n      ) {\n        // initialize the service if it can be auto-initialized\n        try {\n          const instance = this.getOrInitializeService({\n            instanceIdentifier: normalizedIdentifier\n          });\n          if (instance) {\n            deferred.resolve(instance);\n          }\n        } catch (e) {\n          // when the instance factory throws an exception during get(), it should not cause\n          // a fatal error. We just return the unresolved promise in this case.\n        }\n      }\n    }\n\n    return this.instancesDeferred.get(normalizedIdentifier)!.promise;\n  }\n\n  /**\n   *\n   * @param options.identifier A provider can provide mulitple instances of a service\n   * if this.component.multipleInstances is true.\n   * @param options.optional If optional is false or not provided, the method throws an error when\n   * the service is not immediately available.\n   * If optional is true, the method returns null if the service is not immediately available.\n   */\n  getImmediate(options: {\n    identifier?: string;\n    optional: true;\n  }): NameServiceMapping[T] | null;\n  getImmediate(options?: {\n    identifier?: string;\n    optional?: false;\n  }): NameServiceMapping[T];\n  getImmediate(options?: {\n    identifier?: string;\n    optional?: boolean;\n  }): NameServiceMapping[T] | null {\n    // if multipleInstances is not supported, use the default name\n    const normalizedIdentifier = this.normalizeInstanceIdentifier(\n      options?.identifier\n    );\n    const optional = options?.optional ?? false;\n\n    if (\n      this.isInitialized(normalizedIdentifier) ||\n      this.shouldAutoInitialize()\n    ) {\n      try {\n        return this.getOrInitializeService({\n          instanceIdentifier: normalizedIdentifier\n        });\n      } catch (e) {\n        if (optional) {\n          return null;\n        } else {\n          throw e;\n        }\n      }\n    } else {\n      // In case a component is not initialized and should/can not be auto-initialized at the moment, return null if the optional flag is set, or throw\n      if (optional) {\n        return null;\n      } else {\n        throw Error(`Service ${this.name} is not available`);\n      }\n    }\n  }\n\n  getComponent(): Component<T> | null {\n    return this.component;\n  }\n\n  setComponent(component: Component<T>): void {\n    if (component.name !== this.name) {\n      throw Error(\n        `Mismatching Component ${component.name} for Provider ${this.name}.`\n      );\n    }\n\n    if (this.component) {\n      throw Error(`Component for ${this.name} has already been provided`);\n    }\n\n    this.component = component;\n\n    // return early without attempting to initialize the component if the component requires explicit initialization (calling `Provider.initialize()`)\n    if (!this.shouldAutoInitialize()) {\n      return;\n    }\n\n    // if the service is eager, initialize the default instance\n    if (isComponentEager(component)) {\n      try {\n        this.getOrInitializeService({ instanceIdentifier: DEFAULT_ENTRY_NAME });\n      } catch (e) {\n        // when the instance factory for an eager Component throws an exception during the eager\n        // initialization, it should not cause a fatal error.\n        // TODO: Investigate if we need to make it configurable, because some component may want to cause\n        // a fatal error in this case?\n      }\n    }\n\n    // Create service instances for the pending promises and resolve them\n    // NOTE: if this.multipleInstances is false, only the default instance will be created\n    // and all promises with resolve with it regardless of the identifier.\n    for (const [\n      instanceIdentifier,\n      instanceDeferred\n    ] of this.instancesDeferred.entries()) {\n      const normalizedIdentifier =\n        this.normalizeInstanceIdentifier(instanceIdentifier);\n\n      try {\n        // `getOrInitializeService()` should always return a valid instance since a component is guaranteed. use ! to make typescript happy.\n        const instance = this.getOrInitializeService({\n          instanceIdentifier: normalizedIdentifier\n        })!;\n        instanceDeferred.resolve(instance);\n      } catch (e) {\n        // when the instance factory throws an exception, it should not cause\n        // a fatal error. We just leave the promise unresolved.\n      }\n    }\n  }\n\n  clearInstance(identifier: string = DEFAULT_ENTRY_NAME): void {\n    this.instancesDeferred.delete(identifier);\n    this.instancesOptions.delete(identifier);\n    this.instances.delete(identifier);\n  }\n\n  // app.delete() will call this method on every provider to delete the services\n  // TODO: should we mark the provider as deleted?\n  async delete(): Promise<void> {\n    const services = Array.from(this.instances.values());\n\n    await Promise.all([\n      ...services\n        .filter(service => 'INTERNAL' in service) // legacy services\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        .map(service => (service as any).INTERNAL!.delete()),\n      ...services\n        .filter(service => '_delete' in service) // modularized services\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        .map(service => (service as any)._delete())\n    ]);\n  }\n\n  isComponentSet(): boolean {\n    return this.component != null;\n  }\n\n  isInitialized(identifier: string = DEFAULT_ENTRY_NAME): boolean {\n    return this.instances.has(identifier);\n  }\n\n  getOptions(identifier: string = DEFAULT_ENTRY_NAME): Record<string, unknown> {\n    return this.instancesOptions.get(identifier) || {};\n  }\n\n  initialize(opts: InitializeOptions = {}): NameServiceMapping[T] {\n    const { options = {} } = opts;\n    const normalizedIdentifier = this.normalizeInstanceIdentifier(\n      opts.instanceIdentifier\n    );\n    if (this.isInitialized(normalizedIdentifier)) {\n      throw Error(\n        `${this.name}(${normalizedIdentifier}) has already been initialized`\n      );\n    }\n\n    if (!this.isComponentSet()) {\n      throw Error(`Component ${this.name} has not been registered yet`);\n    }\n\n    const instance = this.getOrInitializeService({\n      instanceIdentifier: normalizedIdentifier,\n      options\n    })!;\n\n    // resolve any pending promise waiting for the service instance\n    for (const [\n      instanceIdentifier,\n      instanceDeferred\n    ] of this.instancesDeferred.entries()) {\n      const normalizedDeferredIdentifier =\n        this.normalizeInstanceIdentifier(instanceIdentifier);\n      if (normalizedIdentifier === normalizedDeferredIdentifier) {\n        instanceDeferred.resolve(instance);\n      }\n    }\n\n    return instance;\n  }\n\n  /**\n   *\n   * @param callback - a function that will be invoked  after the provider has been initialized by calling provider.initialize().\n   * The function is invoked SYNCHRONOUSLY, so it should not execute any longrunning tasks in order to not block the program.\n   *\n   * @param identifier An optional instance identifier\n   * @returns a function to unregister the callback\n   */\n  onInit(callback: OnInitCallBack<T>, identifier?: string): () => void {\n    const normalizedIdentifier = this.normalizeInstanceIdentifier(identifier);\n    const existingCallbacks =\n      this.onInitCallbacks.get(normalizedIdentifier) ??\n      new Set<OnInitCallBack<T>>();\n    existingCallbacks.add(callback);\n    this.onInitCallbacks.set(normalizedIdentifier, existingCallbacks);\n\n    const existingInstance = this.instances.get(normalizedIdentifier);\n    if (existingInstance) {\n      callback(existingInstance, normalizedIdentifier);\n    }\n\n    return () => {\n      existingCallbacks.delete(callback);\n    };\n  }\n\n  /**\n   * Invoke onInit callbacks synchronously\n   * @param instance the service instance`\n   */\n  private invokeOnInitCallbacks(\n    instance: NameServiceMapping[T],\n    identifier: string\n  ): void {\n    const callbacks = this.onInitCallbacks.get(identifier);\n    if (!callbacks) {\n      return;\n    }\n    for (const callback of callbacks) {\n      try {\n        callback(instance, identifier);\n      } catch {\n        // ignore errors in the onInit callback\n      }\n    }\n  }\n\n  private getOrInitializeService({\n    instanceIdentifier,\n    options = {}\n  }: {\n    instanceIdentifier: string;\n    options?: Record<string, unknown>;\n  }): NameServiceMapping[T] | null {\n    let instance = this.instances.get(instanceIdentifier);\n    if (!instance && this.component) {\n      instance = this.component.instanceFactory(this.container, {\n        instanceIdentifier: normalizeIdentifierForFactory(instanceIdentifier),\n        options\n      });\n      this.instances.set(instanceIdentifier, instance);\n      this.instancesOptions.set(instanceIdentifier, options);\n\n      /**\n       * Invoke onInit listeners.\n       * Note this.component.onInstanceCreated is different, which is used by the component creator,\n       * while onInit listeners are registered by consumers of the provider.\n       */\n      this.invokeOnInitCallbacks(instance, instanceIdentifier);\n\n      /**\n       * Order is important\n       * onInstanceCreated() should be called after this.instances.set(instanceIdentifier, instance); which\n       * makes `isInitialized()` return true.\n       */\n      if (this.component.onInstanceCreated) {\n        try {\n          this.component.onInstanceCreated(\n            this.container,\n            instanceIdentifier,\n            instance\n          );\n        } catch {\n          // ignore errors in the onInstanceCreatedCallback\n        }\n      }\n    }\n\n    return instance || null;\n  }\n\n  private normalizeInstanceIdentifier(\n    identifier: string = DEFAULT_ENTRY_NAME\n  ): string {\n    if (this.component) {\n      return this.component.multipleInstances ? identifier : DEFAULT_ENTRY_NAME;\n    } else {\n      return identifier; // assume multiple instances are supported before the component is provided.\n    }\n  }\n\n  private shouldAutoInitialize(): boolean {\n    return (\n      !!this.component &&\n      this.component.instantiationMode !== InstantiationMode.EXPLICIT\n    );\n  }\n}\n\n// undefined should be passed to the service factory for the default instance\nfunction normalizeIdentifierForFactory(identifier: string): string | undefined {\n  return identifier === DEFAULT_ENTRY_NAME ? undefined : identifier;\n}\n\nfunction isComponentEager<T extends Name>(component: Component<T>): boolean {\n  return component.instantiationMode === InstantiationMode.EAGER;\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Provider } from './provider';\nimport { Component } from './component';\nimport { Name } from './types';\n\n/**\n * ComponentContainer that provides Providers for service name T, e.g. `auth`, `auth-internal`\n */\nexport class ComponentContainer {\n  private readonly providers = new Map<string, Provider<Name>>();\n\n  constructor(private readonly name: string) {}\n\n  /**\n   *\n   * @param component Component being added\n   * @param overwrite When a component with the same name has already been registered,\n   * if overwrite is true: overwrite the existing component with the new component and create a new\n   * provider with the new component. It can be useful in tests where you want to use different mocks\n   * for different tests.\n   * if overwrite is false: throw an exception\n   */\n  addComponent<T extends Name>(component: Component<T>): void {\n    const provider = this.getProvider(component.name);\n    if (provider.isComponentSet()) {\n      throw new Error(\n        `Component ${component.name} has already been registered with ${this.name}`\n      );\n    }\n\n    provider.setComponent(component);\n  }\n\n  addOrOverwriteComponent<T extends Name>(component: Component<T>): void {\n    const provider = this.getProvider(component.name);\n    if (provider.isComponentSet()) {\n      // delete the existing provider from the container, so we can register the new component\n      this.providers.delete(component.name);\n    }\n\n    this.addComponent(component);\n  }\n\n  /**\n   * getProvider provides a type safe interface where it can only be called with a field name\n   * present in NameServiceMapping interface.\n   *\n   * Firebase SDKs providing services should extend NameServiceMapping interface to register\n   * themselves.\n   */\n  getProvider<T extends Name>(name: T): Provider<T> {\n    if (this.providers.has(name)) {\n      return this.providers.get(name) as unknown as Provider<T>;\n    }\n\n    // create a Provider for a service that hasn't registered with Firebase\n    const provider = new Provider<T>(name, this);\n    this.providers.set(name, provider as unknown as Provider<Name>);\n\n    return provider as Provider<T>;\n  }\n\n  getProviders(): Array<Provider<Name>> {\n    return Array.from(this.providers.values());\n  }\n}\n","/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nconst stringToByteArray = function (str: string): number[] {\n  // TODO(user): Use native implementations if/when available\n  const out: number[] = [];\n  let p = 0;\n  for (let i = 0; i < str.length; i++) {\n    let c = str.charCodeAt(i);\n    if (c < 128) {\n      out[p++] = c;\n    } else if (c < 2048) {\n      out[p++] = (c >> 6) | 192;\n      out[p++] = (c & 63) | 128;\n    } else if (\n      (c & 0xfc00) === 0xd800 &&\n      i + 1 < str.length &&\n      (str.charCodeAt(i + 1) & 0xfc00) === 0xdc00\n    ) {\n      // Surrogate Pair\n      c = 0x10000 + ((c & 0x03ff) << 10) + (str.charCodeAt(++i) & 0x03ff);\n      out[p++] = (c >> 18) | 240;\n      out[p++] = ((c >> 12) & 63) | 128;\n      out[p++] = ((c >> 6) & 63) | 128;\n      out[p++] = (c & 63) | 128;\n    } else {\n      out[p++] = (c >> 12) | 224;\n      out[p++] = ((c >> 6) & 63) | 128;\n      out[p++] = (c & 63) | 128;\n    }\n  }\n  return out;\n};\n\n/**\n * Turns an array of numbers into the string given by the concatenation of the\n * characters to which the numbers correspond.\n * @param bytes Array of numbers representing characters.\n * @return Stringification of the array.\n */\nconst byteArrayToString = function (bytes: number[]): string {\n  // TODO(user): Use native implementations if/when available\n  const out: string[] = [];\n  let pos = 0,\n    c = 0;\n  while (pos < bytes.length) {\n    const c1 = bytes[pos++];\n    if (c1 < 128) {\n      out[c++] = String.fromCharCode(c1);\n    } else if (c1 > 191 && c1 < 224) {\n      const c2 = bytes[pos++];\n      out[c++] = String.fromCharCode(((c1 & 31) << 6) | (c2 & 63));\n    } else if (c1 > 239 && c1 < 365) {\n      // Surrogate Pair\n      const c2 = bytes[pos++];\n      const c3 = bytes[pos++];\n      const c4 = bytes[pos++];\n      const u =\n        (((c1 & 7) << 18) | ((c2 & 63) << 12) | ((c3 & 63) << 6) | (c4 & 63)) -\n        0x10000;\n      out[c++] = String.fromCharCode(0xd800 + (u >> 10));\n      out[c++] = String.fromCharCode(0xdc00 + (u & 1023));\n    } else {\n      const c2 = bytes[pos++];\n      const c3 = bytes[pos++];\n      out[c++] = String.fromCharCode(\n        ((c1 & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63)\n      );\n    }\n  }\n  return out.join('');\n};\n\ninterface Base64 {\n  byteToCharMap_: { [key: number]: string } | null;\n  charToByteMap_: { [key: string]: number } | null;\n  byteToCharMapWebSafe_: { [key: number]: string } | null;\n  charToByteMapWebSafe_: { [key: string]: number } | null;\n  ENCODED_VALS_BASE: string;\n  readonly ENCODED_VALS: string;\n  readonly ENCODED_VALS_WEBSAFE: string;\n  HAS_NATIVE_SUPPORT: boolean;\n  encodeByteArray(input: number[] | Uint8Array, webSafe?: boolean): string;\n  encodeString(input: string, webSafe?: boolean): string;\n  decodeString(input: string, webSafe: boolean): string;\n  decodeStringToByteArray(input: string, webSafe: boolean): number[];\n  init_(): void;\n}\n\n// We define it as an object literal instead of a class because a class compiled down to es5 can't\n// be treeshaked. https://github.com/rollup/rollup/issues/1691\n// Static lookup maps, lazily populated by init_()\nexport const base64: Base64 = {\n  /**\n   * Maps bytes to characters.\n   */\n  byteToCharMap_: null,\n\n  /**\n   * Maps characters to bytes.\n   */\n  charToByteMap_: null,\n\n  /**\n   * Maps bytes to websafe characters.\n   * @private\n   */\n  byteToCharMapWebSafe_: null,\n\n  /**\n   * Maps websafe characters to bytes.\n   * @private\n   */\n  charToByteMapWebSafe_: null,\n\n  /**\n   * Our default alphabet, shared between\n   * ENCODED_VALS and ENCODED_VALS_WEBSAFE\n   */\n  ENCODED_VALS_BASE:\n    'ABCDEFGHIJKLMNOPQRSTUVWXYZ' + 'abcdefghijklmnopqrstuvwxyz' + '0123456789',\n\n  /**\n   * Our default alphabet. Value 64 (=) is special; it means \"nothing.\"\n   */\n  get ENCODED_VALS() {\n    return this.ENCODED_VALS_BASE + '+/=';\n  },\n\n  /**\n   * Our websafe alphabet.\n   */\n  get ENCODED_VALS_WEBSAFE() {\n    return this.ENCODED_VALS_BASE + '-_.';\n  },\n\n  /**\n   * Whether this browser supports the atob and btoa functions. This extension\n   * started at Mozilla but is now implemented by many browsers. We use the\n   * ASSUME_* variables to avoid pulling in the full useragent detection library\n   * but still allowing the standard per-browser compilations.\n   *\n   */\n  HAS_NATIVE_SUPPORT: typeof atob === 'function',\n\n  /**\n   * Base64-encode an array of bytes.\n   *\n   * @param input An array of bytes (numbers with\n   *     value in [0, 255]) to encode.\n   * @param webSafe Boolean indicating we should use the\n   *     alternative alphabet.\n   * @return The base64 encoded string.\n   */\n  encodeByteArray(input: number[] | Uint8Array, webSafe?: boolean): string {\n    if (!Array.isArray(input)) {\n      throw Error('encodeByteArray takes an array as a parameter');\n    }\n\n    this.init_();\n\n    const byteToCharMap = webSafe\n      ? this.byteToCharMapWebSafe_!\n      : this.byteToCharMap_!;\n\n    const output = [];\n\n    for (let i = 0; i < input.length; i += 3) {\n      const byte1 = input[i];\n      const haveByte2 = i + 1 < input.length;\n      const byte2 = haveByte2 ? input[i + 1] : 0;\n      const haveByte3 = i + 2 < input.length;\n      const byte3 = haveByte3 ? input[i + 2] : 0;\n\n      const outByte1 = byte1 >> 2;\n      const outByte2 = ((byte1 & 0x03) << 4) | (byte2 >> 4);\n      let outByte3 = ((byte2 & 0x0f) << 2) | (byte3 >> 6);\n      let outByte4 = byte3 & 0x3f;\n\n      if (!haveByte3) {\n        outByte4 = 64;\n\n        if (!haveByte2) {\n          outByte3 = 64;\n        }\n      }\n\n      output.push(\n        byteToCharMap[outByte1],\n        byteToCharMap[outByte2],\n        byteToCharMap[outByte3],\n        byteToCharMap[outByte4]\n      );\n    }\n\n    return output.join('');\n  },\n\n  /**\n   * Base64-encode a string.\n   *\n   * @param input A string to encode.\n   * @param webSafe If true, we should use the\n   *     alternative alphabet.\n   * @return The base64 encoded string.\n   */\n  encodeString(input: string, webSafe?: boolean): string {\n    // Shortcut for Mozilla browsers that implement\n    // a native base64 encoder in the form of \"btoa/atob\"\n    if (this.HAS_NATIVE_SUPPORT && !webSafe) {\n      return btoa(input);\n    }\n    return this.encodeByteArray(stringToByteArray(input), webSafe);\n  },\n\n  /**\n   * Base64-decode a string.\n   *\n   * @param input to decode.\n   * @param webSafe True if we should use the\n   *     alternative alphabet.\n   * @return string representing the decoded value.\n   */\n  decodeString(input: string, webSafe: boolean): string {\n    // Shortcut for Mozilla browsers that implement\n    // a native base64 encoder in the form of \"btoa/atob\"\n    if (this.HAS_NATIVE_SUPPORT && !webSafe) {\n      return atob(input);\n    }\n    return byteArrayToString(this.decodeStringToByteArray(input, webSafe));\n  },\n\n  /**\n   * Base64-decode a string.\n   *\n   * In base-64 decoding, groups of four characters are converted into three\n   * bytes.  If the encoder did not apply padding, the input length may not\n   * be a multiple of 4.\n   *\n   * In this case, the last group will have fewer than 4 characters, and\n   * padding will be inferred.  If the group has one or two characters, it decodes\n   * to one byte.  If the group has three characters, it decodes to two bytes.\n   *\n   * @param input Input to decode.\n   * @param webSafe True if we should use the web-safe alphabet.\n   * @return bytes representing the decoded value.\n   */\n  decodeStringToByteArray(input: string, webSafe: boolean): number[] {\n    this.init_();\n\n    const charToByteMap = webSafe\n      ? this.charToByteMapWebSafe_!\n      : this.charToByteMap_!;\n\n    const output: number[] = [];\n\n    for (let i = 0; i < input.length; ) {\n      const byte1 = charToByteMap[input.charAt(i++)];\n\n      const haveByte2 = i < input.length;\n      const byte2 = haveByte2 ? charToByteMap[input.charAt(i)] : 0;\n      ++i;\n\n      const haveByte3 = i < input.length;\n      const byte3 = haveByte3 ? charToByteMap[input.charAt(i)] : 64;\n      ++i;\n\n      const haveByte4 = i < input.length;\n      const byte4 = haveByte4 ? charToByteMap[input.charAt(i)] : 64;\n      ++i;\n\n      if (byte1 == null || byte2 == null || byte3 == null || byte4 == null) {\n        throw Error();\n      }\n\n      const outByte1 = (byte1 << 2) | (byte2 >> 4);\n      output.push(outByte1);\n\n      if (byte3 !== 64) {\n        const outByte2 = ((byte2 << 4) & 0xf0) | (byte3 >> 2);\n        output.push(outByte2);\n\n        if (byte4 !== 64) {\n          const outByte3 = ((byte3 << 6) & 0xc0) | byte4;\n          output.push(outByte3);\n        }\n      }\n    }\n\n    return output;\n  },\n\n  /**\n   * Lazy static initialization function. Called before\n   * accessing any of the static map variables.\n   * @private\n   */\n  init_() {\n    if (!this.byteToCharMap_) {\n      this.byteToCharMap_ = {};\n      this.charToByteMap_ = {};\n      this.byteToCharMapWebSafe_ = {};\n      this.charToByteMapWebSafe_ = {};\n\n      // We want quick mappings back and forth, so we precompute two maps.\n      for (let i = 0; i < this.ENCODED_VALS.length; i++) {\n        this.byteToCharMap_[i] = this.ENCODED_VALS.charAt(i);\n        this.charToByteMap_[this.byteToCharMap_[i]] = i;\n        this.byteToCharMapWebSafe_[i] = this.ENCODED_VALS_WEBSAFE.charAt(i);\n        this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]] = i;\n\n        // Be forgiving when decoding and correctly decode both encodings.\n        if (i >= this.ENCODED_VALS_BASE.length) {\n          this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)] = i;\n          this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)] = i;\n        }\n      }\n    }\n  }\n};\n\n/**\n * URL-safe base64 encoding\n */\nexport const base64Encode = function (str: string): string {\n  const utf8Bytes = stringToByteArray(str);\n  return base64.encodeByteArray(utf8Bytes, true);\n};\n\n/**\n * URL-safe base64 encoding (without \".\" padding in the end).\n * e.g. Used in JSON Web Token (JWT) parts.\n */\nexport const base64urlEncodeWithoutPadding = function (str: string): string {\n  // Use base64url encoding and remove padding in the end (dot characters).\n  return base64Encode(str).replace(/\\./g, '');\n};\n\n/**\n * URL-safe base64 decoding\n *\n * NOTE: DO NOT use the global atob() function - it does NOT support the\n * base64Url variant encoding.\n *\n * @param str To be decoded\n * @return Decoded result, if possible\n */\nexport const base64Decode = function (str: string): string | null {\n  try {\n    return base64.decodeString(str, true);\n  } catch (e) {\n    console.error('base64Decode failed: ', e);\n  }\n  return null;\n};\n","/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Do a deep-copy of basic JavaScript Objects or Arrays.\n */\nexport function deepCopy<T>(value: T): T {\n  return deepExtend(undefined, value) as T;\n}\n\n/**\n * Copy properties from source to target (recursively allows extension\n * of Objects and Arrays).  Scalar values in the target are over-written.\n * If target is undefined, an object of the appropriate type will be created\n * (and returned).\n *\n * We recursively copy all child properties of plain Objects in the source- so\n * that namespace- like dictionaries are merged.\n *\n * Note that the target can be a function, in which case the properties in\n * the source Object are copied onto it as static properties of the Function.\n *\n * Note: we don't merge __proto__ to prevent prototype pollution\n */\nexport function deepExtend(target: unknown, source: unknown): unknown {\n  if (!(source instanceof Object)) {\n    return source;\n  }\n\n  switch (source.constructor) {\n    case Date:\n      // Treat Dates like scalars; if the target date object had any child\n      // properties - they will be lost!\n      const dateValue = source as Date;\n      return new Date(dateValue.getTime());\n\n    case Object:\n      if (target === undefined) {\n        target = {};\n      }\n      break;\n    case Array:\n      // Always copy the array source and overwrite the target.\n      target = [];\n      break;\n\n    default:\n      // Not a plain Object - treat it as a scalar.\n      return source;\n  }\n\n  for (const prop in source) {\n    // use isValidKey to guard against prototype pollution. See https://snyk.io/vuln/SNYK-JS-LODASH-450202\n    if (!source.hasOwnProperty(prop) || !isValidKey(prop)) {\n      continue;\n    }\n    (target as Record<string, unknown>)[prop] = deepExtend(\n      (target as Record<string, unknown>)[prop],\n      (source as Record<string, unknown>)[prop]\n    );\n  }\n\n  return target;\n}\n\nfunction isValidKey(key: string): boolean {\n  return key !== '__proto__';\n}\n","/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport class Deferred<R> {\n  promise: Promise<R>;\n  reject: (value?: unknown) => void = () => {};\n  resolve: (value?: unknown) => void = () => {};\n  constructor() {\n    this.promise = new Promise((resolve, reject) => {\n      this.resolve = resolve as (value?: unknown) => void;\n      this.reject = reject as (value?: unknown) => void;\n    });\n  }\n\n  /**\n   * Our API internals are not promiseified and cannot because our callback APIs have subtle expectations around\n   * invoking promises inline, which Promises are forbidden to do. This method accepts an optional node-style callback\n   * and returns a node-style callback which will resolve or reject the Deferred's promise.\n   */\n  wrapCallback(\n    callback?: (error?: unknown, value?: unknown) => void\n  ): (error: unknown, value?: unknown) => void {\n    return (error, value?) => {\n      if (error) {\n        this.reject(error);\n      } else {\n        this.resolve(value);\n      }\n      if (typeof callback === 'function') {\n        // Attaching noop handler just in case developer wasn't expecting\n        // promises\n        this.promise.catch(() => {});\n\n        // Some of our callbacks don't expect a value and our own tests\n        // assert that the parameter length is 1\n        if (callback.length === 1) {\n          callback(error);\n        } else {\n          callback(error, value);\n        }\n      }\n    };\n  }\n}\n","/**\n * @license\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { base64urlEncodeWithoutPadding } from './crypt';\n\n// Firebase Auth tokens contain snake_case claims following the JWT standard / convention.\n/* eslint-disable camelcase */\n\nexport type FirebaseSignInProvider =\n  | 'custom'\n  | 'email'\n  | 'password'\n  | 'phone'\n  | 'anonymous'\n  | 'google.com'\n  | 'facebook.com'\n  | 'github.com'\n  | 'twitter.com'\n  | 'microsoft.com'\n  | 'apple.com';\n\ninterface FirebaseIdToken {\n  // Always set to https://securetoken.google.com/PROJECT_ID\n  iss: string;\n\n  // Always set to PROJECT_ID\n  aud: string;\n\n  // The user's unique ID\n  sub: string;\n\n  // The token issue time, in seconds since epoch\n  iat: number;\n\n  // The token expiry time, normally 'iat' + 3600\n  exp: number;\n\n  // The user's unique ID. Must be equal to 'sub'\n  user_id: string;\n\n  // The time the user authenticated, normally 'iat'\n  auth_time: number;\n\n  // The sign in provider, only set when the provider is 'anonymous'\n  provider_id?: 'anonymous';\n\n  // The user's primary email\n  email?: string;\n\n  // The user's email verification status\n  email_verified?: boolean;\n\n  // The user's primary phone number\n  phone_number?: string;\n\n  // The user's display name\n  name?: string;\n\n  // The user's profile photo URL\n  picture?: string;\n\n  // Information on all identities linked to this user\n  firebase: {\n    // The primary sign-in provider\n    sign_in_provider: FirebaseSignInProvider;\n\n    // A map of providers to the user's list of unique identifiers from\n    // each provider\n    identities?: { [provider in FirebaseSignInProvider]?: string[] };\n  };\n\n  // Custom claims set by the developer\n  [claim: string]: unknown;\n\n  uid?: never; // Try to catch a common mistake of \"uid\" (should be \"sub\" instead).\n}\n\nexport type EmulatorMockTokenOptions = ({ user_id: string } | { sub: string }) &\n  Partial<FirebaseIdToken>;\n\nexport function createMockUserToken(\n  token: EmulatorMockTokenOptions,\n  projectId?: string\n): string {\n  if (token.uid) {\n    throw new Error(\n      'The \"uid\" field is no longer supported by mockUserToken. Please use \"sub\" instead for Firebase Auth User ID.'\n    );\n  }\n  // Unsecured JWTs use \"none\" as the algorithm.\n  const header = {\n    alg: 'none',\n    type: 'JWT'\n  };\n\n  const project = projectId || 'demo-project';\n  const iat = token.iat || 0;\n  const sub = token.sub || token.user_id;\n  if (!sub) {\n    throw new Error(\"mockUserToken must contain 'sub' or 'user_id' field!\");\n  }\n\n  const payload: FirebaseIdToken = {\n    // Set all required fields to decent defaults\n    iss: `https://securetoken.google.com/${project}`,\n    aud: project,\n    iat,\n    exp: iat + 3600,\n    auth_time: iat,\n    sub,\n    user_id: sub,\n    firebase: {\n      sign_in_provider: 'custom',\n      identities: {}\n    },\n\n    // Override with user options\n    ...token\n  };\n\n  // Unsecured JWTs use the empty string as a signature.\n  const signature = '';\n  return [\n    base64urlEncodeWithoutPadding(JSON.stringify(header)),\n    base64urlEncodeWithoutPadding(JSON.stringify(payload)),\n    signature\n  ].join('.');\n}\n","/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CONSTANTS } from './constants';\n\n/**\n * Returns navigator.userAgent string or '' if it's not defined.\n * @return user agent string\n */\nexport function getUA(): string {\n  if (\n    typeof navigator !== 'undefined' &&\n    typeof navigator['userAgent'] === 'string'\n  ) {\n    return navigator['userAgent'];\n  } else {\n    return '';\n  }\n}\n\n/**\n * Detect Cordova / PhoneGap / Ionic frameworks on a mobile device.\n *\n * Deliberately does not rely on checking `file://` URLs (as this fails PhoneGap\n * in the Ripple emulator) nor Cordova `onDeviceReady`, which would normally\n * wait for a callback.\n */\nexport function isMobileCordova(): boolean {\n  return (\n    typeof window !== 'undefined' &&\n    // @ts-ignore Setting up an broadly applicable index signature for Window\n    // just to deal with this case would probably be a bad idea.\n    !!(window['cordova'] || window['phonegap'] || window['PhoneGap']) &&\n    /ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())\n  );\n}\n\n/**\n * Detect Node.js.\n *\n * @return true if Node.js environment is detected.\n */\n// Node detection logic from: https://github.com/iliakan/detect-node/\nexport function isNode(): boolean {\n  try {\n    return (\n      Object.prototype.toString.call(global.process) === '[object process]'\n    );\n  } catch (e) {\n    return false;\n  }\n}\n\n/**\n * Detect Browser Environment\n */\nexport function isBrowser(): boolean {\n  return typeof self === 'object' && self.self === self;\n}\n\n/**\n * Detect browser extensions (Chrome and Firefox at least).\n */\ninterface BrowserRuntime {\n  id?: unknown;\n}\ndeclare const chrome: { runtime?: BrowserRuntime };\ndeclare const browser: { runtime?: BrowserRuntime };\nexport function isBrowserExtension(): boolean {\n  const runtime =\n    typeof chrome === 'object'\n      ? chrome.runtime\n      : typeof browser === 'object'\n      ? browser.runtime\n      : undefined;\n  return typeof runtime === 'object' && runtime.id !== undefined;\n}\n\n/**\n * Detect React Native.\n *\n * @return true if ReactNative environment is detected.\n */\nexport function isReactNative(): boolean {\n  return (\n    typeof navigator === 'object' && navigator['product'] === 'ReactNative'\n  );\n}\n\n/** Detects Electron apps. */\nexport function isElectron(): boolean {\n  return getUA().indexOf('Electron/') >= 0;\n}\n\n/** Detects Internet Explorer. */\nexport function isIE(): boolean {\n  const ua = getUA();\n  return ua.indexOf('MSIE ') >= 0 || ua.indexOf('Trident/') >= 0;\n}\n\n/** Detects Universal Windows Platform apps. */\nexport function isUWP(): boolean {\n  return getUA().indexOf('MSAppHost/') >= 0;\n}\n\n/**\n * Detect whether the current SDK build is the Node version.\n *\n * @return true if it's the Node SDK build.\n */\nexport function isNodeSdk(): boolean {\n  return CONSTANTS.NODE_CLIENT === true || CONSTANTS.NODE_ADMIN === true;\n}\n\n/** Returns true if we are running in Safari. */\nexport function isSafari(): boolean {\n  return (\n    !isNode() &&\n    navigator.userAgent.includes('Safari') &&\n    !navigator.userAgent.includes('Chrome')\n  );\n}\n\n/**\n * This method checks if indexedDB is supported by current browser/service worker context\n * @return true if indexedDB is supported by current browser/service worker context\n */\nexport function isIndexedDBAvailable(): boolean {\n  return typeof indexedDB === 'object';\n}\n\n/**\n * This method validates browser/sw context for indexedDB by opening a dummy indexedDB database and reject\n * if errors occur during the database open operation.\n *\n * @throws exception if current browser/sw context can't run idb.open (ex: Safari iframe, Firefox\n * private browsing)\n */\nexport function validateIndexedDBOpenable(): Promise<boolean> {\n  return new Promise((resolve, reject) => {\n    try {\n      let preExist: boolean = true;\n      const DB_CHECK_NAME =\n        'validate-browser-context-for-indexeddb-analytics-module';\n      const request = self.indexedDB.open(DB_CHECK_NAME);\n      request.onsuccess = () => {\n        request.result.close();\n        // delete database only when it doesn't pre-exist\n        if (!preExist) {\n          self.indexedDB.deleteDatabase(DB_CHECK_NAME);\n        }\n        resolve(true);\n      };\n      request.onupgradeneeded = () => {\n        preExist = false;\n      };\n\n      request.onerror = () => {\n        reject(request.error?.message || '');\n      };\n    } catch (error) {\n      reject(error);\n    }\n  });\n}\n\n/**\n *\n * This method checks whether cookie is enabled within current browser\n * @return true if cookie is enabled within current browser\n */\nexport function areCookiesEnabled(): boolean {\n  if (typeof navigator === 'undefined' || !navigator.cookieEnabled) {\n    return false;\n  }\n  return true;\n}\n\n/**\n * Polyfill for `globalThis` object.\n * @returns the `globalThis` object for the given environment.\n */\nexport function getGlobal(): typeof globalThis {\n  if (typeof self !== 'undefined') {\n    return self;\n  }\n  if (typeof window !== 'undefined') {\n    return window;\n  }\n  if (typeof global !== 'undefined') {\n    return global;\n  }\n  throw new Error('Unable to locate global object.');\n}\n","/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Evaluates a JSON string into a javascript object.\n *\n * @param {string} str A string containing JSON.\n * @return {*} The javascript object representing the specified JSON.\n */\nexport function jsonEval(str: string): unknown {\n  return JSON.parse(str);\n}\n\n/**\n * Returns JSON representing a javascript object.\n * @param {*} data Javascript object to be stringified.\n * @return {string} The JSON contents of the object.\n */\nexport function stringify(data: unknown): string {\n  return JSON.stringify(data);\n}\n","/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { base64Decode } from './crypt';\nimport { jsonEval } from './json';\n\ninterface Claims {\n  [key: string]: {};\n}\n\ninterface DecodedToken {\n  header: object;\n  claims: Claims;\n  data: object;\n  signature: string;\n}\n\n/**\n * Decodes a Firebase auth. token into constituent parts.\n *\n * Notes:\n * - May return with invalid / incomplete claims if there's no native base64 decoding support.\n * - Doesn't check if the token is actually valid.\n */\nexport const decode = function (token: string): DecodedToken {\n  let header = {},\n    claims: Claims = {},\n    data = {},\n    signature = '';\n\n  try {\n    const parts = token.split('.');\n    header = jsonEval(base64Decode(parts[0]) || '') as object;\n    claims = jsonEval(base64Decode(parts[1]) || '') as Claims;\n    signature = parts[2];\n    data = claims['d'] || {};\n    delete claims['d'];\n  } catch (e) {}\n\n  return {\n    header,\n    claims,\n    data,\n    signature\n  };\n};\n\ninterface DecodedToken {\n  header: object;\n  claims: Claims;\n  data: object;\n  signature: string;\n}\n\n/**\n * Decodes a Firebase auth. token and checks the validity of its time-based claims. Will return true if the\n * token is within the time window authorized by the 'nbf' (not-before) and 'iat' (issued-at) claims.\n *\n * Notes:\n * - May return a false negative if there's no native base64 decoding support.\n * - Doesn't check if the token is actually valid.\n */\nexport const isValidTimestamp = function (token: string): boolean {\n  const claims: Claims = decode(token).claims;\n  const now: number = Math.floor(new Date().getTime() / 1000);\n  let validSince: number = 0,\n    validUntil: number = 0;\n\n  if (typeof claims === 'object') {\n    if (claims.hasOwnProperty('nbf')) {\n      validSince = claims['nbf'] as number;\n    } else if (claims.hasOwnProperty('iat')) {\n      validSince = claims['iat'] as number;\n    }\n\n    if (claims.hasOwnProperty('exp')) {\n      validUntil = claims['exp'] as number;\n    } else {\n      // token will expire after 24h by default\n      validUntil = validSince + 86400;\n    }\n  }\n\n  return (\n    !!now &&\n    !!validSince &&\n    !!validUntil &&\n    now >= validSince &&\n    now <= validUntil\n  );\n};\n\n/**\n * Decodes a Firebase auth. token and returns its issued at time if valid, null otherwise.\n *\n * Notes:\n * - May return null if there's no native base64 decoding support.\n * - Doesn't check if the token is actually valid.\n */\nexport const issuedAtTime = function (token: string): number | null {\n  const claims: Claims = decode(token).claims;\n  if (typeof claims === 'object' && claims.hasOwnProperty('iat')) {\n    return claims['iat'] as number;\n  }\n  return null;\n};\n\n/**\n * Decodes a Firebase auth. token and checks the validity of its format. Expects a valid issued-at time.\n *\n * Notes:\n * - May return a false negative if there's no native base64 decoding support.\n * - Doesn't check if the token is actually valid.\n */\nexport const isValidFormat = function (token: string): boolean {\n  const decoded = decode(token),\n    claims = decoded.claims;\n\n  return !!claims && typeof claims === 'object' && claims.hasOwnProperty('iat');\n};\n\n/**\n * Attempts to peer into an auth token and determine if it's an admin auth token by looking at the claims portion.\n *\n * Notes:\n * - May return a false negative if there's no native base64 decoding support.\n * - Doesn't check if the token is actually valid.\n */\nexport const isAdmin = function (token: string): boolean {\n  const claims: Claims = decode(token).claims;\n  return typeof claims === 'object' && claims['admin'] === true;\n};\n","/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Returns a querystring-formatted string (e.g. &arg=val&arg2=val2) from a\n * params object (e.g. {arg: 'val', arg2: 'val2'})\n * Note: You must prepend it with ? when adding it to a URL.\n */\nexport function querystring(querystringParams: {\n  [key: string]: string | number;\n}): string {\n  const params = [];\n  for (const [key, value] of Object.entries(querystringParams)) {\n    if (Array.isArray(value)) {\n      value.forEach(arrayVal => {\n        params.push(\n          encodeURIComponent(key) + '=' + encodeURIComponent(arrayVal)\n        );\n      });\n    } else {\n      params.push(encodeURIComponent(key) + '=' + encodeURIComponent(value));\n    }\n  }\n  return params.length ? '&' + params.join('&') : '';\n}\n\n/**\n * Decodes a querystring (e.g. ?arg=val&arg2=val2) into a params object\n * (e.g. {arg: 'val', arg2: 'val2'})\n */\nexport function querystringDecode(querystring: string): Record<string, string> {\n  const obj: Record<string, string> = {};\n  const tokens = querystring.replace(/^\\?/, '').split('&');\n\n  tokens.forEach(token => {\n    if (token) {\n      const [key, value] = token.split('=');\n      obj[decodeURIComponent(key)] = decodeURIComponent(value);\n    }\n  });\n  return obj;\n}\n\n/**\n * Extract the query string part of a URL, including the leading question mark (if present).\n */\nexport function extractQuerystring(url: string): string {\n  const queryStart = url.indexOf('?');\n  if (!queryStart) {\n    return '';\n  }\n  const fragmentStart = url.indexOf('#', queryStart);\n  return url.substring(\n    queryStart,\n    fragmentStart > 0 ? fragmentStart : undefined\n  );\n}\n","/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview SHA-1 cryptographic hash.\n * Variable names follow the notation in FIPS PUB 180-3:\n * http://csrc.nist.gov/publications/fips/fips180-3/fips180-3_final.pdf.\n *\n * Usage:\n *   var sha1 = new sha1();\n *   sha1.update(bytes);\n *   var hash = sha1.digest();\n *\n * Performance:\n *   Chrome 23:   ~400 Mbit/s\n *   Firefox 16:  ~250 Mbit/s\n *\n */\n\n/**\n * SHA-1 cryptographic hash constructor.\n *\n * The properties declared here are discussed in the above algorithm document.\n * @constructor\n * @final\n * @struct\n */\nexport class Sha1 {\n  /**\n   * Holds the previous values of accumulated variables a-e in the compress_\n   * function.\n   * @private\n   */\n  private chain_: number[] = [];\n\n  /**\n   * A buffer holding the partially computed hash result.\n   * @private\n   */\n  private buf_: number[] = [];\n\n  /**\n   * An array of 80 bytes, each a part of the message to be hashed.  Referred to\n   * as the message schedule in the docs.\n   * @private\n   */\n  private W_: number[] = [];\n\n  /**\n   * Contains data needed to pad messages less than 64 bytes.\n   * @private\n   */\n  private pad_: number[] = [];\n\n  /**\n   * @private {number}\n   */\n  private inbuf_: number = 0;\n\n  /**\n   * @private {number}\n   */\n  private total_: number = 0;\n\n  blockSize: number;\n\n  constructor() {\n    this.blockSize = 512 / 8;\n\n    this.pad_[0] = 128;\n    for (let i = 1; i < this.blockSize; ++i) {\n      this.pad_[i] = 0;\n    }\n\n    this.reset();\n  }\n\n  reset(): void {\n    this.chain_[0] = 0x67452301;\n    this.chain_[1] = 0xefcdab89;\n    this.chain_[2] = 0x98badcfe;\n    this.chain_[3] = 0x10325476;\n    this.chain_[4] = 0xc3d2e1f0;\n\n    this.inbuf_ = 0;\n    this.total_ = 0;\n  }\n\n  /**\n   * Internal compress helper function.\n   * @param buf Block to compress.\n   * @param offset Offset of the block in the buffer.\n   * @private\n   */\n  compress_(buf: number[] | Uint8Array | string, offset?: number): void {\n    if (!offset) {\n      offset = 0;\n    }\n\n    const W = this.W_;\n\n    // get 16 big endian words\n    if (typeof buf === 'string') {\n      for (let i = 0; i < 16; i++) {\n        // TODO(user): [bug 8140122] Recent versions of Safari for Mac OS and iOS\n        // have a bug that turns the post-increment ++ operator into pre-increment\n        // during JIT compilation.  We have code that depends heavily on SHA-1 for\n        // correctness and which is affected by this bug, so I've removed all uses\n        // of post-increment ++ in which the result value is used.  We can revert\n        // this change once the Safari bug\n        // (https://bugs.webkit.org/show_bug.cgi?id=109036) has been fixed and\n        // most clients have been updated.\n        W[i] =\n          (buf.charCodeAt(offset) << 24) |\n          (buf.charCodeAt(offset + 1) << 16) |\n          (buf.charCodeAt(offset + 2) << 8) |\n          buf.charCodeAt(offset + 3);\n        offset += 4;\n      }\n    } else {\n      for (let i = 0; i < 16; i++) {\n        W[i] =\n          (buf[offset] << 24) |\n          (buf[offset + 1] << 16) |\n          (buf[offset + 2] << 8) |\n          buf[offset + 3];\n        offset += 4;\n      }\n    }\n\n    // expand to 80 words\n    for (let i = 16; i < 80; i++) {\n      const t = W[i - 3] ^ W[i - 8] ^ W[i - 14] ^ W[i - 16];\n      W[i] = ((t << 1) | (t >>> 31)) & 0xffffffff;\n    }\n\n    let a = this.chain_[0];\n    let b = this.chain_[1];\n    let c = this.chain_[2];\n    let d = this.chain_[3];\n    let e = this.chain_[4];\n    let f, k;\n\n    // TODO(user): Try to unroll this loop to speed up the computation.\n    for (let i = 0; i < 80; i++) {\n      if (i < 40) {\n        if (i < 20) {\n          f = d ^ (b & (c ^ d));\n          k = 0x5a827999;\n        } else {\n          f = b ^ c ^ d;\n          k = 0x6ed9eba1;\n        }\n      } else {\n        if (i < 60) {\n          f = (b & c) | (d & (b | c));\n          k = 0x8f1bbcdc;\n        } else {\n          f = b ^ c ^ d;\n          k = 0xca62c1d6;\n        }\n      }\n\n      const t = (((a << 5) | (a >>> 27)) + f + e + k + W[i]) & 0xffffffff;\n      e = d;\n      d = c;\n      c = ((b << 30) | (b >>> 2)) & 0xffffffff;\n      b = a;\n      a = t;\n    }\n\n    this.chain_[0] = (this.chain_[0] + a) & 0xffffffff;\n    this.chain_[1] = (this.chain_[1] + b) & 0xffffffff;\n    this.chain_[2] = (this.chain_[2] + c) & 0xffffffff;\n    this.chain_[3] = (this.chain_[3] + d) & 0xffffffff;\n    this.chain_[4] = (this.chain_[4] + e) & 0xffffffff;\n  }\n\n  update(bytes?: number[] | Uint8Array | string, length?: number): void {\n    // TODO(johnlenz): tighten the function signature and remove this check\n    if (bytes == null) {\n      return;\n    }\n\n    if (length === undefined) {\n      length = bytes.length;\n    }\n\n    const lengthMinusBlock = length - this.blockSize;\n    let n = 0;\n    // Using local instead of member variables gives ~5% speedup on Firefox 16.\n    const buf = this.buf_;\n    let inbuf = this.inbuf_;\n\n    // The outer while loop should execute at most twice.\n    while (n < length) {\n      // When we have no data in the block to top up, we can directly process the\n      // input buffer (assuming it contains sufficient data). This gives ~25%\n      // speedup on Chrome 23 and ~15% speedup on Firefox 16, but requires that\n      // the data is provided in large chunks (or in multiples of 64 bytes).\n      if (inbuf === 0) {\n        while (n <= lengthMinusBlock) {\n          this.compress_(bytes, n);\n          n += this.blockSize;\n        }\n      }\n\n      if (typeof bytes === 'string') {\n        while (n < length) {\n          buf[inbuf] = bytes.charCodeAt(n);\n          ++inbuf;\n          ++n;\n          if (inbuf === this.blockSize) {\n            this.compress_(buf);\n            inbuf = 0;\n            // Jump to the outer loop so we use the full-block optimization.\n            break;\n          }\n        }\n      } else {\n        while (n < length) {\n          buf[inbuf] = bytes[n];\n          ++inbuf;\n          ++n;\n          if (inbuf === this.blockSize) {\n            this.compress_(buf);\n            inbuf = 0;\n            // Jump to the outer loop so we use the full-block optimization.\n            break;\n          }\n        }\n      }\n    }\n\n    this.inbuf_ = inbuf;\n    this.total_ += length;\n  }\n\n  /** @override */\n  digest(): number[] {\n    const digest: number[] = [];\n    let totalBits = this.total_ * 8;\n\n    // Add pad 0x80 0x00*.\n    if (this.inbuf_ < 56) {\n      this.update(this.pad_, 56 - this.inbuf_);\n    } else {\n      this.update(this.pad_, this.blockSize - (this.inbuf_ - 56));\n    }\n\n    // Add # bits.\n    for (let i = this.blockSize - 1; i >= 56; i--) {\n      this.buf_[i] = totalBits & 255;\n      totalBits /= 256; // Don't use bit-shifting here!\n    }\n\n    this.compress_(this.buf_);\n\n    let n = 0;\n    for (let i = 0; i < 5; i++) {\n      for (let j = 24; j >= 0; j -= 8) {\n        digest[n] = (this.chain_[i] >> j) & 255;\n        ++n;\n      }\n    }\n    return digest;\n  }\n}\n","/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport type NextFn<T> = (value: T) => void;\nexport type ErrorFn = (error: Error) => void;\nexport type CompleteFn = () => void;\n\nexport interface Observer<T> {\n  // Called once for each value in a stream of values.\n  next: NextFn<T>;\n\n  // A stream terminates by a single call to EITHER error() or complete().\n  error: ErrorFn;\n\n  // No events will be sent to next() once complete() is called.\n  complete: CompleteFn;\n}\n\nexport type PartialObserver<T> = Partial<Observer<T>>;\n\n// TODO: Support also Unsubscribe.unsubscribe?\nexport type Unsubscribe = () => void;\n\n/**\n * The Subscribe interface has two forms - passing the inline function\n * callbacks, or a object interface with callback properties.\n */\nexport interface Subscribe<T> {\n  (next?: NextFn<T>, error?: ErrorFn, complete?: CompleteFn): Unsubscribe;\n  (observer: PartialObserver<T>): Unsubscribe;\n}\n\nexport interface Observable<T> {\n  // Subscribe method\n  subscribe: Subscribe<T>;\n}\n\nexport type Executor<T> = (observer: Observer<T>) => void;\n\n/**\n * Helper to make a Subscribe function (just like Promise helps make a\n * Thenable).\n *\n * @param executor Function which can make calls to a single Observer\n *     as a proxy.\n * @param onNoObservers Callback when count of Observers goes to zero.\n */\nexport function createSubscribe<T>(\n  executor: Executor<T>,\n  onNoObservers?: Executor<T>\n): Subscribe<T> {\n  const proxy = new ObserverProxy<T>(executor, onNoObservers);\n  return proxy.subscribe.bind(proxy);\n}\n\n/**\n * Implement fan-out for any number of Observers attached via a subscribe\n * function.\n */\nclass ObserverProxy<T> implements Observer<T> {\n  private observers: Array<Observer<T>> | undefined = [];\n  private unsubscribes: Unsubscribe[] = [];\n  private onNoObservers: Executor<T> | undefined;\n  private observerCount = 0;\n  // Micro-task scheduling by calling task.then().\n  private task = Promise.resolve();\n  private finalized = false;\n  private finalError?: Error;\n\n  /**\n   * @param executor Function which can make calls to a single Observer\n   *     as a proxy.\n   * @param onNoObservers Callback when count of Observers goes to zero.\n   */\n  constructor(executor: Executor<T>, onNoObservers?: Executor<T>) {\n    this.onNoObservers = onNoObservers;\n    // Call the executor asynchronously so subscribers that are called\n    // synchronously after the creation of the subscribe function\n    // can still receive the very first value generated in the executor.\n    this.task\n      .then(() => {\n        executor(this);\n      })\n      .catch(e => {\n        this.error(e);\n      });\n  }\n\n  next(value: T): void {\n    this.forEachObserver((observer: Observer<T>) => {\n      observer.next(value);\n    });\n  }\n\n  error(error: Error): void {\n    this.forEachObserver((observer: Observer<T>) => {\n      observer.error(error);\n    });\n    this.close(error);\n  }\n\n  complete(): void {\n    this.forEachObserver((observer: Observer<T>) => {\n      observer.complete();\n    });\n    this.close();\n  }\n\n  /**\n   * Subscribe function that can be used to add an Observer to the fan-out list.\n   *\n   * - We require that no event is sent to a subscriber sychronously to their\n   *   call to subscribe().\n   */\n  subscribe(\n    nextOrObserver?: NextFn<T> | PartialObserver<T>,\n    error?: ErrorFn,\n    complete?: CompleteFn\n  ): Unsubscribe {\n    let observer: Observer<T>;\n\n    if (\n      nextOrObserver === undefined &&\n      error === undefined &&\n      complete === undefined\n    ) {\n      throw new Error('Missing Observer.');\n    }\n\n    // Assemble an Observer object when passed as callback functions.\n    if (\n      implementsAnyMethods(nextOrObserver as { [key: string]: unknown }, [\n        'next',\n        'error',\n        'complete'\n      ])\n    ) {\n      observer = nextOrObserver as Observer<T>;\n    } else {\n      observer = {\n        next: nextOrObserver as NextFn<T>,\n        error,\n        complete\n      } as Observer<T>;\n    }\n\n    if (observer.next === undefined) {\n      observer.next = noop as NextFn<T>;\n    }\n    if (observer.error === undefined) {\n      observer.error = noop as ErrorFn;\n    }\n    if (observer.complete === undefined) {\n      observer.complete = noop as CompleteFn;\n    }\n\n    const unsub = this.unsubscribeOne.bind(this, this.observers!.length);\n\n    // Attempt to subscribe to a terminated Observable - we\n    // just respond to the Observer with the final error or complete\n    // event.\n    if (this.finalized) {\n      // eslint-disable-next-line @typescript-eslint/no-floating-promises\n      this.task.then(() => {\n        try {\n          if (this.finalError) {\n            observer.error(this.finalError);\n          } else {\n            observer.complete();\n          }\n        } catch (e) {\n          // nothing\n        }\n        return;\n      });\n    }\n\n    this.observers!.push(observer as Observer<T>);\n\n    return unsub;\n  }\n\n  // Unsubscribe is synchronous - we guarantee that no events are sent to\n  // any unsubscribed Observer.\n  private unsubscribeOne(i: number): void {\n    if (this.observers === undefined || this.observers[i] === undefined) {\n      return;\n    }\n\n    delete this.observers[i];\n\n    this.observerCount -= 1;\n    if (this.observerCount === 0 && this.onNoObservers !== undefined) {\n      this.onNoObservers(this);\n    }\n  }\n\n  private forEachObserver(fn: (observer: Observer<T>) => void): void {\n    if (this.finalized) {\n      // Already closed by previous event....just eat the additional values.\n      return;\n    }\n\n    // Since sendOne calls asynchronously - there is no chance that\n    // this.observers will become undefined.\n    for (let i = 0; i < this.observers!.length; i++) {\n      this.sendOne(i, fn);\n    }\n  }\n\n  // Call the Observer via one of it's callback function. We are careful to\n  // confirm that the observe has not been unsubscribed since this asynchronous\n  // function had been queued.\n  private sendOne(i: number, fn: (observer: Observer<T>) => void): void {\n    // Execute the callback asynchronously\n    // eslint-disable-next-line @typescript-eslint/no-floating-promises\n    this.task.then(() => {\n      if (this.observers !== undefined && this.observers[i] !== undefined) {\n        try {\n          fn(this.observers[i]);\n        } catch (e) {\n          // Ignore exceptions raised in Observers or missing methods of an\n          // Observer.\n          // Log error to console. b/31404806\n          if (typeof console !== 'undefined' && console.error) {\n            console.error(e);\n          }\n        }\n      }\n    });\n  }\n\n  private close(err?: Error): void {\n    if (this.finalized) {\n      return;\n    }\n    this.finalized = true;\n    if (err !== undefined) {\n      this.finalError = err;\n    }\n    // Proxy is no longer needed - garbage collect references\n    // eslint-disable-next-line @typescript-eslint/no-floating-promises\n    this.task.then(() => {\n      this.observers = undefined;\n      this.onNoObservers = undefined;\n    });\n  }\n}\n\n/** Turn synchronous function into one called asynchronously. */\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function async(fn: Function, onError?: ErrorFn): Function {\n  return (...args: unknown[]) => {\n    Promise.resolve(true)\n      .then(() => {\n        fn(...args);\n      })\n      .catch((error: Error) => {\n        if (onError) {\n          onError(error);\n        }\n      });\n  };\n}\n\n/**\n * Return true if the object passed in implements any of the named methods.\n */\nfunction implementsAnyMethods(\n  obj: { [key: string]: unknown },\n  methods: string[]\n): boolean {\n  if (typeof obj !== 'object' || obj === null) {\n    return false;\n  }\n\n  for (const method of methods) {\n    if (method in obj && typeof obj[method] === 'function') {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction noop(): void {\n  // do nothing\n}\n","/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { assert } from './assert';\n\n// Code originally came from goog.crypt.stringToUtf8ByteArray, but for some reason they\n// automatically replaced '\\r\\n' with '\\n', and they didn't handle surrogate pairs,\n// so it's been modified.\n\n// Note that not all Unicode characters appear as single characters in JavaScript strings.\n// fromCharCode returns the UTF-16 encoding of a character - so some Unicode characters\n// use 2 characters in Javascript.  All 4-byte UTF-8 characters begin with a first\n// character in the range 0xD800 - 0xDBFF (the first character of a so-called surrogate\n// pair).\n// See http://www.ecma-international.org/ecma-262/5.1/#sec-15.1.3\n\n/**\n * @param {string} str\n * @return {Array}\n */\nexport const stringToByteArray = function (str: string): number[] {\n  const out: number[] = [];\n  let p = 0;\n  for (let i = 0; i < str.length; i++) {\n    let c = str.charCodeAt(i);\n\n    // Is this the lead surrogate in a surrogate pair?\n    if (c >= 0xd800 && c <= 0xdbff) {\n      const high = c - 0xd800; // the high 10 bits.\n      i++;\n      assert(i < str.length, 'Surrogate pair missing trail surrogate.');\n      const low = str.charCodeAt(i) - 0xdc00; // the low 10 bits.\n      c = 0x10000 + (high << 10) + low;\n    }\n\n    if (c < 128) {\n      out[p++] = c;\n    } else if (c < 2048) {\n      out[p++] = (c >> 6) | 192;\n      out[p++] = (c & 63) | 128;\n    } else if (c < 65536) {\n      out[p++] = (c >> 12) | 224;\n      out[p++] = ((c >> 6) & 63) | 128;\n      out[p++] = (c & 63) | 128;\n    } else {\n      out[p++] = (c >> 18) | 240;\n      out[p++] = ((c >> 12) & 63) | 128;\n      out[p++] = ((c >> 6) & 63) | 128;\n      out[p++] = (c & 63) | 128;\n    }\n  }\n  return out;\n};\n\n/**\n * Calculate length without actually converting; useful for doing cheaper validation.\n * @param {string} str\n * @return {number}\n */\nexport const stringLength = function (str: string): number {\n  let p = 0;\n  for (let i = 0; i < str.length; i++) {\n    const c = str.charCodeAt(i);\n    if (c < 128) {\n      p++;\n    } else if (c < 2048) {\n      p += 2;\n    } else if (c >= 0xd800 && c <= 0xdbff) {\n      // Lead surrogate of a surrogate pair.  The pair together will take 4 bytes to represent.\n      p += 4;\n      i++; // skip trail surrogate.\n    } else {\n      p += 3;\n    }\n  }\n  return p;\n};\n","/**\n * @license\n * Copyright 2022 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Copied from https://stackoverflow.com/a/2117523\n * Generates a new uuid.\n * @public\n */\nexport const uuidv4 = function (): string {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\n    const r = (Math.random() * 16) | 0,\n      v = c === 'x' ? r : (r & 0x3) | 0x8;\n    return v.toString(16);\n  });\n};\n","/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport type LogLevelString =\n  | 'debug'\n  | 'verbose'\n  | 'info'\n  | 'warn'\n  | 'error'\n  | 'silent';\n\nexport interface LogOptions {\n  level: LogLevelString;\n}\n\nexport type LogCallback = (callbackParams: LogCallbackParams) => void;\n\nexport interface LogCallbackParams {\n  level: LogLevelString;\n  message: string;\n  args: unknown[];\n  type: string;\n}\n\n/**\n * A container for all of the Logger instances\n */\nexport const instances: Logger[] = [];\n\n/**\n * The JS SDK supports 5 log levels and also allows a user the ability to\n * silence the logs altogether.\n *\n * The order is a follows:\n * DEBUG < VERBOSE < INFO < WARN < ERROR\n *\n * All of the log types above the current log level will be captured (i.e. if\n * you set the log level to `INFO`, errors will still be logged, but `DEBUG` and\n * `VERBOSE` logs will not)\n */\nexport enum LogLevel {\n  DEBUG,\n  VERBOSE,\n  INFO,\n  WARN,\n  ERROR,\n  SILENT\n}\n\nconst levelStringToEnum: { [key in LogLevelString]: LogLevel } = {\n  'debug': LogLevel.DEBUG,\n  'verbose': LogLevel.VERBOSE,\n  'info': LogLevel.INFO,\n  'warn': LogLevel.WARN,\n  'error': LogLevel.ERROR,\n  'silent': LogLevel.SILENT\n};\n\n/**\n * The default log level\n */\nconst defaultLogLevel: LogLevel = LogLevel.INFO;\n\n/**\n * We allow users the ability to pass their own log handler. We will pass the\n * type of log, the current log level, and any other arguments passed (i.e. the\n * messages that the user wants to log) to this function.\n */\nexport type LogHandler = (\n  loggerInstance: Logger,\n  logType: LogLevel,\n  ...args: unknown[]\n) => void;\n\n/**\n * By default, `console.debug` is not displayed in the developer console (in\n * chrome). To avoid forcing users to have to opt-in to these logs twice\n * (i.e. once for firebase, and once in the console), we are sending `DEBUG`\n * logs to the `console.log` function.\n */\nconst ConsoleMethod = {\n  [LogLevel.DEBUG]: 'log',\n  [LogLevel.VERBOSE]: 'log',\n  [LogLevel.INFO]: 'info',\n  [LogLevel.WARN]: 'warn',\n  [LogLevel.ERROR]: 'error'\n};\n\n/**\n * The default log handler will forward DEBUG, VERBOSE, INFO, WARN, and ERROR\n * messages on to their corresponding console counterparts (if the log method\n * is supported by the current log level)\n */\nconst defaultLogHandler: LogHandler = (instance, logType, ...args): void => {\n  if (logType < instance.logLevel) {\n    return;\n  }\n  const now = new Date().toISOString();\n  const method = ConsoleMethod[logType as keyof typeof ConsoleMethod];\n  if (method) {\n    console[method as 'log' | 'info' | 'warn' | 'error'](\n      `[${now}]  ${instance.name}:`,\n      ...args\n    );\n  } else {\n    throw new Error(\n      `Attempted to log a message with an invalid logType (value: ${logType})`\n    );\n  }\n};\n\nexport class Logger {\n  /**\n   * Gives you an instance of a Logger to capture messages according to\n   * Firebase's logging scheme.\n   *\n   * @param name The name that the logs will be associated with\n   */\n  constructor(public name: string) {\n    /**\n     * Capture the current instance for later use\n     */\n    instances.push(this);\n  }\n\n  /**\n   * The log level of the given Logger instance.\n   */\n  private _logLevel = defaultLogLevel;\n\n  get logLevel(): LogLevel {\n    return this._logLevel;\n  }\n\n  set logLevel(val: LogLevel) {\n    if (!(val in LogLevel)) {\n      throw new TypeError(`Invalid value \"${val}\" assigned to \\`logLevel\\``);\n    }\n    this._logLevel = val;\n  }\n\n  // Workaround for setter/getter having to be the same type.\n  setLogLevel(val: LogLevel | LogLevelString): void {\n    this._logLevel = typeof val === 'string' ? levelStringToEnum[val] : val;\n  }\n\n  /**\n   * The main (internal) log handler for the Logger instance.\n   * Can be set to a new function in internal package code but not by user.\n   */\n  private _logHandler: LogHandler = defaultLogHandler;\n  get logHandler(): LogHandler {\n    return this._logHandler;\n  }\n  set logHandler(val: LogHandler) {\n    if (typeof val !== 'function') {\n      throw new TypeError('Value assigned to `logHandler` must be a function');\n    }\n    this._logHandler = val;\n  }\n\n  /**\n   * The optional, additional, user-defined log handler for the Logger instance.\n   */\n  private _userLogHandler: LogHandler | null = null;\n  get userLogHandler(): LogHandler | null {\n    return this._userLogHandler;\n  }\n  set userLogHandler(val: LogHandler | null) {\n    this._userLogHandler = val;\n  }\n\n  /**\n   * The functions below are all based on the `console` interface\n   */\n\n  debug(...args: unknown[]): void {\n    this._userLogHandler && this._userLogHandler(this, LogLevel.DEBUG, ...args);\n    this._logHandler(this, LogLevel.DEBUG, ...args);\n  }\n  log(...args: unknown[]): void {\n    this._userLogHandler &&\n      this._userLogHandler(this, LogLevel.VERBOSE, ...args);\n    this._logHandler(this, LogLevel.VERBOSE, ...args);\n  }\n  info(...args: unknown[]): void {\n    this._userLogHandler && this._userLogHandler(this, LogLevel.INFO, ...args);\n    this._logHandler(this, LogLevel.INFO, ...args);\n  }\n  warn(...args: unknown[]): void {\n    this._userLogHandler && this._userLogHandler(this, LogLevel.WARN, ...args);\n    this._logHandler(this, LogLevel.WARN, ...args);\n  }\n  error(...args: unknown[]): void {\n    this._userLogHandler && this._userLogHandler(this, LogLevel.ERROR, ...args);\n    this._logHandler(this, LogLevel.ERROR, ...args);\n  }\n}\n\nexport function setLogLevel(level: LogLevelString | LogLevel): void {\n  instances.forEach(inst => {\n    inst.setLogLevel(level);\n  });\n}\n\nexport function setUserLogHandler(\n  logCallback: LogCallback | null,\n  options?: LogOptions\n): void {\n  for (const instance of instances) {\n    let customLogLevel: LogLevel | null = null;\n    if (options && options.level) {\n      customLogLevel = levelStringToEnum[options.level];\n    }\n    if (logCallback === null) {\n      instance.userLogHandler = null;\n    } else {\n      instance.userLogHandler = (\n        instance: Logger,\n        level: LogLevel,\n        ...args: unknown[]\n      ) => {\n        const message = args\n          .map(arg => {\n            if (arg == null) {\n              return null;\n            } else if (typeof arg === 'string') {\n              return arg;\n            } else if (typeof arg === 'number' || typeof arg === 'boolean') {\n              return arg.toString();\n            } else if (arg instanceof Error) {\n              return arg.message;\n            } else {\n              try {\n                return JSON.stringify(arg);\n              } catch (ignored) {\n                return null;\n              }\n            }\n          })\n          .filter(arg => arg)\n          .join(' ');\n        if (level >= (customLogLevel ?? instance.logLevel)) {\n          logCallback({\n            level: LogLevel[level].toLowerCase() as LogLevelString,\n            message,\n            args,\n            type: instance.name\n          });\n        }\n      };\n    }\n  }\n}\n","import { w as wrap, r as replaceTraps } from './wrap-idb-value.js';\nexport { u as unwrap, w as wrap } from './wrap-idb-value.js';\n\n/**\n * Open a database.\n *\n * @param name Name of the database.\n * @param version Schema version.\n * @param callbacks Additional callbacks.\n */\nfunction openDB(name, version, { blocked, upgrade, blocking, terminated } = {}) {\n    const request = indexedDB.open(name, version);\n    const openPromise = wrap(request);\n    if (upgrade) {\n        request.addEventListener('upgradeneeded', (event) => {\n            upgrade(wrap(request.result), event.oldVersion, event.newVersion, wrap(request.transaction));\n        });\n    }\n    if (blocked)\n        request.addEventListener('blocked', () => blocked());\n    openPromise\n        .then((db) => {\n        if (terminated)\n            db.addEventListener('close', () => terminated());\n        if (blocking)\n            db.addEventListener('versionchange', () => blocking());\n    })\n        .catch(() => { });\n    return openPromise;\n}\n/**\n * Delete a database.\n *\n * @param name Name of the database.\n */\nfunction deleteDB(name, { blocked } = {}) {\n    const request = indexedDB.deleteDatabase(name);\n    if (blocked)\n        request.addEventListener('blocked', () => blocked());\n    return wrap(request).then(() => undefined);\n}\n\nconst readMethods = ['get', 'getKey', 'getAll', 'getAllKeys', 'count'];\nconst writeMethods = ['put', 'add', 'delete', 'clear'];\nconst cachedMethods = new Map();\nfunction getMethod(target, prop) {\n    if (!(target instanceof IDBDatabase &&\n        !(prop in target) &&\n        typeof prop === 'string')) {\n        return;\n    }\n    if (cachedMethods.get(prop))\n        return cachedMethods.get(prop);\n    const targetFuncName = prop.replace(/FromIndex$/, '');\n    const useIndex = prop !== targetFuncName;\n    const isWrite = writeMethods.includes(targetFuncName);\n    if (\n    // Bail if the target doesn't exist on the target. Eg, getAll isn't in Edge.\n    !(targetFuncName in (useIndex ? IDBIndex : IDBObjectStore).prototype) ||\n        !(isWrite || readMethods.includes(targetFuncName))) {\n        return;\n    }\n    const method = async function (storeName, ...args) {\n        // isWrite ? 'readwrite' : undefined gzipps better, but fails in Edge :(\n        const tx = this.transaction(storeName, isWrite ? 'readwrite' : 'readonly');\n        let target = tx.store;\n        if (useIndex)\n            target = target.index(args.shift());\n        // Must reject if op rejects.\n        // If it's a write operation, must reject if tx.done rejects.\n        // Must reject with op rejection first.\n        // Must resolve with op value.\n        // Must handle both promises (no unhandled rejections)\n        return (await Promise.all([\n            target[targetFuncName](...args),\n            isWrite && tx.done,\n        ]))[0];\n    };\n    cachedMethods.set(prop, method);\n    return method;\n}\nreplaceTraps((oldTraps) => ({\n    ...oldTraps,\n    get: (target, prop, receiver) => getMethod(target, prop) || oldTraps.get(target, prop, receiver),\n    has: (target, prop) => !!getMethod(target, prop) || oldTraps.has(target, prop),\n}));\n\nexport { deleteDB, openDB };\n","const instanceOfAny = (object, constructors) => constructors.some((c) => object instanceof c);\n\nlet idbProxyableTypes;\nlet cursorAdvanceMethods;\n// This is a function to prevent it throwing up in node environments.\nfunction getIdbProxyableTypes() {\n    return (idbProxyableTypes ||\n        (idbProxyableTypes = [\n            IDBDatabase,\n            IDBObjectStore,\n            IDBIndex,\n            IDBCursor,\n            IDBTransaction,\n        ]));\n}\n// This is a function to prevent it throwing up in node environments.\nfunction getCursorAdvanceMethods() {\n    return (cursorAdvanceMethods ||\n        (cursorAdvanceMethods = [\n            IDBCursor.prototype.advance,\n            IDBCursor.prototype.continue,\n            IDBCursor.prototype.continuePrimaryKey,\n        ]));\n}\nconst cursorRequestMap = new WeakMap();\nconst transactionDoneMap = new WeakMap();\nconst transactionStoreNamesMap = new WeakMap();\nconst transformCache = new WeakMap();\nconst reverseTransformCache = new WeakMap();\nfunction promisifyRequest(request) {\n    const promise = new Promise((resolve, reject) => {\n        const unlisten = () => {\n            request.removeEventListener('success', success);\n            request.removeEventListener('error', error);\n        };\n        const success = () => {\n            resolve(wrap(request.result));\n            unlisten();\n        };\n        const error = () => {\n            reject(request.error);\n            unlisten();\n        };\n        request.addEventListener('success', success);\n        request.addEventListener('error', error);\n    });\n    promise\n        .then((value) => {\n        // Since cursoring reuses the IDBRequest (*sigh*), we cache it for later retrieval\n        // (see wrapFunction).\n        if (value instanceof IDBCursor) {\n            cursorRequestMap.set(value, request);\n        }\n        // Catching to avoid \"Uncaught Promise exceptions\"\n    })\n        .catch(() => { });\n    // This mapping exists in reverseTransformCache but doesn't doesn't exist in transformCache. This\n    // is because we create many promises from a single IDBRequest.\n    reverseTransformCache.set(promise, request);\n    return promise;\n}\nfunction cacheDonePromiseForTransaction(tx) {\n    // Early bail if we've already created a done promise for this transaction.\n    if (transactionDoneMap.has(tx))\n        return;\n    const done = new Promise((resolve, reject) => {\n        const unlisten = () => {\n            tx.removeEventListener('complete', complete);\n            tx.removeEventListener('error', error);\n            tx.removeEventListener('abort', error);\n        };\n        const complete = () => {\n            resolve();\n            unlisten();\n        };\n        const error = () => {\n            reject(tx.error || new DOMException('AbortError', 'AbortError'));\n            unlisten();\n        };\n        tx.addEventListener('complete', complete);\n        tx.addEventListener('error', error);\n        tx.addEventListener('abort', error);\n    });\n    // Cache it for later retrieval.\n    transactionDoneMap.set(tx, done);\n}\nlet idbProxyTraps = {\n    get(target, prop, receiver) {\n        if (target instanceof IDBTransaction) {\n            // Special handling for transaction.done.\n            if (prop === 'done')\n                return transactionDoneMap.get(target);\n            // Polyfill for objectStoreNames because of Edge.\n            if (prop === 'objectStoreNames') {\n                return target.objectStoreNames || transactionStoreNamesMap.get(target);\n            }\n            // Make tx.store return the only store in the transaction, or undefined if there are many.\n            if (prop === 'store') {\n                return receiver.objectStoreNames[1]\n                    ? undefined\n                    : receiver.objectStore(receiver.objectStoreNames[0]);\n            }\n        }\n        // Else transform whatever we get back.\n        return wrap(target[prop]);\n    },\n    set(target, prop, value) {\n        target[prop] = value;\n        return true;\n    },\n    has(target, prop) {\n        if (target instanceof IDBTransaction &&\n            (prop === 'done' || prop === 'store')) {\n            return true;\n        }\n        return prop in target;\n    },\n};\nfunction replaceTraps(callback) {\n    idbProxyTraps = callback(idbProxyTraps);\n}\nfunction wrapFunction(func) {\n    // Due to expected object equality (which is enforced by the caching in `wrap`), we\n    // only create one new func per func.\n    // Edge doesn't support objectStoreNames (booo), so we polyfill it here.\n    if (func === IDBDatabase.prototype.transaction &&\n        !('objectStoreNames' in IDBTransaction.prototype)) {\n        return function (storeNames, ...args) {\n            const tx = func.call(unwrap(this), storeNames, ...args);\n            transactionStoreNamesMap.set(tx, storeNames.sort ? storeNames.sort() : [storeNames]);\n            return wrap(tx);\n        };\n    }\n    // Cursor methods are special, as the behaviour is a little more different to standard IDB. In\n    // IDB, you advance the cursor and wait for a new 'success' on the IDBRequest that gave you the\n    // cursor. It's kinda like a promise that can resolve with many values. That doesn't make sense\n    // with real promises, so each advance methods returns a new promise for the cursor object, or\n    // undefined if the end of the cursor has been reached.\n    if (getCursorAdvanceMethods().includes(func)) {\n        return function (...args) {\n            // Calling the original function with the proxy as 'this' causes ILLEGAL INVOCATION, so we use\n            // the original object.\n            func.apply(unwrap(this), args);\n            return wrap(cursorRequestMap.get(this));\n        };\n    }\n    return function (...args) {\n        // Calling the original function with the proxy as 'this' causes ILLEGAL INVOCATION, so we use\n        // the original object.\n        return wrap(func.apply(unwrap(this), args));\n    };\n}\nfunction transformCachableValue(value) {\n    if (typeof value === 'function')\n        return wrapFunction(value);\n    // This doesn't return, it just creates a 'done' promise for the transaction,\n    // which is later returned for transaction.done (see idbObjectHandler).\n    if (value instanceof IDBTransaction)\n        cacheDonePromiseForTransaction(value);\n    if (instanceOfAny(value, getIdbProxyableTypes()))\n        return new Proxy(value, idbProxyTraps);\n    // Return the same value back if we're not going to transform it.\n    return value;\n}\nfunction wrap(value) {\n    // We sometimes generate multiple promises from a single IDBRequest (eg when cursoring), because\n    // IDB is weird and a single IDBRequest can yield many responses, so these can't be cached.\n    if (value instanceof IDBRequest)\n        return promisifyRequest(value);\n    // If we've already transformed this value before, reuse the transformed value.\n    // This is faster, but it also provides object equality.\n    if (transformCache.has(value))\n        return transformCache.get(value);\n    const newValue = transformCachableValue(value);\n    // Not all types are transformed.\n    // These may be primitive types, so they can't be WeakMap keys.\n    if (newValue !== value) {\n        transformCache.set(value, newValue);\n        reverseTransformCache.set(newValue, value);\n    }\n    return newValue;\n}\nconst unwrap = (value) => reverseTransformCache.get(value);\n\nexport { reverseTransformCache as a, instanceOfAny as i, replaceTraps as r, unwrap as u, wrap as w };\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { AuthErrorMap, User } from '../model/public_types';\nimport { ErrorFactory, ErrorMap } from '@firebase/util';\n\nimport { IdTokenMfaResponse } from '../api/authentication/mfa';\nimport { AppName } from '../model/auth';\nimport { AuthCredential } from './credentials';\n\n/**\n * Enumeration of Firebase Auth error codes.\n * \n * @internal\n */\nexport const enum AuthErrorCode {\n  ADMIN_ONLY_OPERATION = 'admin-restricted-operation',\n  ARGUMENT_ERROR = 'argument-error',\n  APP_NOT_AUTHORIZED = 'app-not-authorized',\n  APP_NOT_INSTALLED = 'app-not-installed',\n  CAPTCHA_CHECK_FAILED = 'captcha-check-failed',\n  CODE_EXPIRED = 'code-expired',\n  CORDOVA_NOT_READY = 'cordova-not-ready',\n  CORS_UNSUPPORTED = 'cors-unsupported',\n  CREDENTIAL_ALREADY_IN_USE = 'credential-already-in-use',\n  CREDENTIAL_MISMATCH = 'custom-token-mismatch',\n  CREDENTIAL_TOO_OLD_LOGIN_AGAIN = 'requires-recent-login',\n  DEPENDENT_SDK_INIT_BEFORE_AUTH = 'dependent-sdk-initialized-before-auth',\n  DYNAMIC_LINK_NOT_ACTIVATED = 'dynamic-link-not-activated',\n  EMAIL_CHANGE_NEEDS_VERIFICATION = 'email-change-needs-verification',\n  EMAIL_EXISTS = 'email-already-in-use',\n  EMULATOR_CONFIG_FAILED = 'emulator-config-failed',\n  EXPIRED_OOB_CODE = 'expired-action-code',\n  EXPIRED_POPUP_REQUEST = 'cancelled-popup-request',\n  INTERNAL_ERROR = 'internal-error',\n  INVALID_API_KEY = 'invalid-api-key',\n  INVALID_APP_CREDENTIAL = 'invalid-app-credential',\n  INVALID_APP_ID = 'invalid-app-id',\n  INVALID_AUTH = 'invalid-user-token',\n  INVALID_AUTH_EVENT = 'invalid-auth-event',\n  INVALID_CERT_HASH = 'invalid-cert-hash',\n  INVALID_CODE = 'invalid-verification-code',\n  INVALID_CONTINUE_URI = 'invalid-continue-uri',\n  INVALID_CORDOVA_CONFIGURATION = 'invalid-cordova-configuration',\n  INVALID_CUSTOM_TOKEN = 'invalid-custom-token',\n  INVALID_DYNAMIC_LINK_DOMAIN = 'invalid-dynamic-link-domain',\n  INVALID_EMAIL = 'invalid-email',\n  INVALID_EMULATOR_SCHEME = 'invalid-emulator-scheme',\n  INVALID_IDP_RESPONSE = 'invalid-credential',\n  INVALID_MESSAGE_PAYLOAD = 'invalid-message-payload',\n  INVALID_MFA_SESSION = 'invalid-multi-factor-session',\n  INVALID_OAUTH_CLIENT_ID = 'invalid-oauth-client-id',\n  INVALID_OAUTH_PROVIDER = 'invalid-oauth-provider',\n  INVALID_OOB_CODE = 'invalid-action-code',\n  INVALID_ORIGIN = 'unauthorized-domain',\n  INVALID_PASSWORD = 'wrong-password',\n  INVALID_PERSISTENCE = 'invalid-persistence-type',\n  INVALID_PHONE_NUMBER = 'invalid-phone-number',\n  INVALID_PROVIDER_ID = 'invalid-provider-id',\n  INVALID_RECIPIENT_EMAIL = 'invalid-recipient-email',\n  INVALID_SENDER = 'invalid-sender',\n  INVALID_SESSION_INFO = 'invalid-verification-id',\n  INVALID_TENANT_ID = 'invalid-tenant-id',\n  LOGIN_BLOCKED = 'login-blocked',\n  MFA_INFO_NOT_FOUND = 'multi-factor-info-not-found',\n  MFA_REQUIRED = 'multi-factor-auth-required',\n  MISSING_ANDROID_PACKAGE_NAME = 'missing-android-pkg-name',\n  MISSING_APP_CREDENTIAL = 'missing-app-credential',\n  MISSING_AUTH_DOMAIN = 'auth-domain-config-required',\n  MISSING_CODE = 'missing-verification-code',\n  MISSING_CONTINUE_URI = 'missing-continue-uri',\n  MISSING_IFRAME_START = 'missing-iframe-start',\n  MISSING_IOS_BUNDLE_ID = 'missing-ios-bundle-id',\n  MISSING_OR_INVALID_NONCE = 'missing-or-invalid-nonce',\n  MISSING_MFA_INFO = 'missing-multi-factor-info',\n  MISSING_MFA_SESSION = 'missing-multi-factor-session',\n  MISSING_PHONE_NUMBER = 'missing-phone-number',\n  MISSING_SESSION_INFO = 'missing-verification-id',\n  MODULE_DESTROYED = 'app-deleted',\n  NEED_CONFIRMATION = 'account-exists-with-different-credential',\n  NETWORK_REQUEST_FAILED = 'network-request-failed',\n  NULL_USER = 'null-user',\n  NO_AUTH_EVENT = 'no-auth-event',\n  NO_SUCH_PROVIDER = 'no-such-provider',\n  OPERATION_NOT_ALLOWED = 'operation-not-allowed',\n  OPERATION_NOT_SUPPORTED = 'operation-not-supported-in-this-environment',\n  POPUP_BLOCKED = 'popup-blocked',\n  POPUP_CLOSED_BY_USER = 'popup-closed-by-user',\n  PROVIDER_ALREADY_LINKED = 'provider-already-linked',\n  QUOTA_EXCEEDED = 'quota-exceeded',\n  REDIRECT_CANCELLED_BY_USER = 'redirect-cancelled-by-user',\n  REDIRECT_OPERATION_PENDING = 'redirect-operation-pending',\n  REJECTED_CREDENTIAL = 'rejected-credential',\n  SECOND_FACTOR_ALREADY_ENROLLED = 'second-factor-already-in-use',\n  SECOND_FACTOR_LIMIT_EXCEEDED = 'maximum-second-factor-count-exceeded',\n  TENANT_ID_MISMATCH = 'tenant-id-mismatch',\n  TIMEOUT = 'timeout',\n  TOKEN_EXPIRED = 'user-token-expired',\n  TOO_MANY_ATTEMPTS_TRY_LATER = 'too-many-requests',\n  UNAUTHORIZED_DOMAIN = 'unauthorized-continue-uri',\n  UNSUPPORTED_FIRST_FACTOR = 'unsupported-first-factor',\n  UNSUPPORTED_PERSISTENCE = 'unsupported-persistence-type',\n  UNSUPPORTED_TENANT_OPERATION = 'unsupported-tenant-operation',\n  UNVERIFIED_EMAIL = 'unverified-email',\n  USER_CANCELLED = 'user-cancelled',\n  USER_DELETED = 'user-not-found',\n  USER_DISABLED = 'user-disabled',\n  USER_MISMATCH = 'user-mismatch',\n  USER_SIGNED_OUT = 'user-signed-out',\n  WEAK_PASSWORD = 'weak-password',\n  WEB_STORAGE_UNSUPPORTED = 'web-storage-unsupported',\n  ALREADY_INITIALIZED = 'already-initialized'\n}\n\nfunction _debugErrorMap(): ErrorMap<AuthErrorCode> {\n  return {\n    [AuthErrorCode.ADMIN_ONLY_OPERATION]:\n      'This operation is restricted to administrators only.',\n    [AuthErrorCode.ARGUMENT_ERROR]: '',\n    [AuthErrorCode.APP_NOT_AUTHORIZED]:\n      \"This app, identified by the domain where it's hosted, is not \" +\n      'authorized to use Firebase Authentication with the provided API key. ' +\n      'Review your key configuration in the Google API console.',\n    [AuthErrorCode.APP_NOT_INSTALLED]:\n      'The requested mobile application corresponding to the identifier (' +\n      'Android package name or iOS bundle ID) provided is not installed on ' +\n      'this device.',\n    [AuthErrorCode.CAPTCHA_CHECK_FAILED]:\n      'The reCAPTCHA response token provided is either invalid, expired, ' +\n      'already used or the domain associated with it does not match the list ' +\n      'of whitelisted domains.',\n    [AuthErrorCode.CODE_EXPIRED]:\n      'The SMS code has expired. Please re-send the verification code to try ' +\n      'again.',\n    [AuthErrorCode.CORDOVA_NOT_READY]: 'Cordova framework is not ready.',\n    [AuthErrorCode.CORS_UNSUPPORTED]: 'This browser is not supported.',\n    [AuthErrorCode.CREDENTIAL_ALREADY_IN_USE]:\n      'This credential is already associated with a different user account.',\n    [AuthErrorCode.CREDENTIAL_MISMATCH]:\n      'The custom token corresponds to a different audience.',\n    [AuthErrorCode.CREDENTIAL_TOO_OLD_LOGIN_AGAIN]:\n      'This operation is sensitive and requires recent authentication. Log in ' +\n      'again before retrying this request.',\n    [AuthErrorCode.DEPENDENT_SDK_INIT_BEFORE_AUTH]:\n      'Another Firebase SDK was initialized and is trying to use Auth before Auth is ' +\n      'initialized. Please be sure to call `initializeAuth` or `getAuth` before ' +\n      'starting any other Firebase SDK.',\n    [AuthErrorCode.DYNAMIC_LINK_NOT_ACTIVATED]:\n      'Please activate Dynamic Links in the Firebase Console and agree to the terms and ' +\n      'conditions.',\n    [AuthErrorCode.EMAIL_CHANGE_NEEDS_VERIFICATION]:\n      'Multi-factor users must always have a verified email.',\n    [AuthErrorCode.EMAIL_EXISTS]:\n      'The email address is already in use by another account.',\n    [AuthErrorCode.EMULATOR_CONFIG_FAILED]:\n      'Auth instance has already been used to make a network call. Auth can ' +\n      'no longer be configured to use the emulator. Try calling ' +\n      '\"connectAuthEmulator()\" sooner.',\n    [AuthErrorCode.EXPIRED_OOB_CODE]: 'The action code has expired.',\n    [AuthErrorCode.EXPIRED_POPUP_REQUEST]:\n      'This operation has been cancelled due to another conflicting popup being opened.',\n    [AuthErrorCode.INTERNAL_ERROR]: 'An internal AuthError has occurred.',\n    [AuthErrorCode.INVALID_APP_CREDENTIAL]:\n      'The phone verification request contains an invalid application verifier.' +\n      ' The reCAPTCHA token response is either invalid or expired.',\n    [AuthErrorCode.INVALID_APP_ID]:\n      'The mobile app identifier is not registed for the current project.',\n    [AuthErrorCode.INVALID_AUTH]:\n      \"This user's credential isn't valid for this project. This can happen \" +\n      \"if the user's token has been tampered with, or if the user isn't for \" +\n      'the project associated with this API key.',\n    [AuthErrorCode.INVALID_AUTH_EVENT]: 'An internal AuthError has occurred.',\n    [AuthErrorCode.INVALID_CODE]:\n      'The SMS verification code used to create the phone auth credential is ' +\n      'invalid. Please resend the verification code sms and be sure to use the ' +\n      'verification code provided by the user.',\n    [AuthErrorCode.INVALID_CONTINUE_URI]:\n      'The continue URL provided in the request is invalid.',\n    [AuthErrorCode.INVALID_CORDOVA_CONFIGURATION]:\n      'The following Cordova plugins must be installed to enable OAuth sign-in: ' +\n      'cordova-plugin-buildinfo, cordova-universal-links-plugin, ' +\n      'cordova-plugin-browsertab, cordova-plugin-inappbrowser and ' +\n      'cordova-plugin-customurlscheme.',\n    [AuthErrorCode.INVALID_CUSTOM_TOKEN]:\n      'The custom token format is incorrect. Please check the documentation.',\n    [AuthErrorCode.INVALID_DYNAMIC_LINK_DOMAIN]:\n      'The provided dynamic link domain is not configured or authorized for the current project.',\n    [AuthErrorCode.INVALID_EMAIL]: 'The email address is badly formatted.',\n    [AuthErrorCode.INVALID_EMULATOR_SCHEME]:\n      'Emulator URL must start with a valid scheme (http:// or https://).',\n    [AuthErrorCode.INVALID_API_KEY]:\n      'Your API key is invalid, please check you have copied it correctly.',\n    [AuthErrorCode.INVALID_CERT_HASH]:\n      'The SHA-1 certificate hash provided is invalid.',\n    [AuthErrorCode.INVALID_IDP_RESPONSE]:\n      'The supplied auth credential is malformed or has expired.',\n    [AuthErrorCode.INVALID_MESSAGE_PAYLOAD]:\n      'The email template corresponding to this action contains invalid characters in its message. ' +\n      'Please fix by going to the Auth email templates section in the Firebase Console.',\n    [AuthErrorCode.INVALID_MFA_SESSION]:\n      'The request does not contain a valid proof of first factor successful sign-in.',\n    [AuthErrorCode.INVALID_OAUTH_PROVIDER]:\n      'EmailAuthProvider is not supported for this operation. This operation ' +\n      'only supports OAuth providers.',\n    [AuthErrorCode.INVALID_OAUTH_CLIENT_ID]:\n      'The OAuth client ID provided is either invalid or does not match the ' +\n      'specified API key.',\n    [AuthErrorCode.INVALID_ORIGIN]:\n      'This domain is not authorized for OAuth operations for your Firebase ' +\n      'project. Edit the list of authorized domains from the Firebase console.',\n    [AuthErrorCode.INVALID_OOB_CODE]:\n      'The action code is invalid. This can happen if the code is malformed, ' +\n      'expired, or has already been used.',\n    [AuthErrorCode.INVALID_PASSWORD]:\n      'The password is invalid or the user does not have a password.',\n    [AuthErrorCode.INVALID_PERSISTENCE]:\n      'The specified persistence type is invalid. It can only be local, session or none.',\n    [AuthErrorCode.INVALID_PHONE_NUMBER]:\n      'The format of the phone number provided is incorrect. Please enter the ' +\n      'phone number in a format that can be parsed into E.164 format. E.164 ' +\n      'phone numbers are written in the format [+][country code][subscriber ' +\n      'number including area code].',\n    [AuthErrorCode.INVALID_PROVIDER_ID]:\n      'The specified provider ID is invalid.',\n    [AuthErrorCode.INVALID_RECIPIENT_EMAIL]:\n      'The email corresponding to this action failed to send as the provided ' +\n      'recipient email address is invalid.',\n    [AuthErrorCode.INVALID_SENDER]:\n      'The email template corresponding to this action contains an invalid sender email or name. ' +\n      'Please fix by going to the Auth email templates section in the Firebase Console.',\n    [AuthErrorCode.INVALID_SESSION_INFO]:\n      'The verification ID used to create the phone auth credential is invalid.',\n    [AuthErrorCode.INVALID_TENANT_ID]:\n      \"The Auth instance's tenant ID is invalid.\",\n    [AuthErrorCode.LOGIN_BLOCKED]: \"Login blocked by user-provided method: {$originalMessage}\",\n    [AuthErrorCode.MISSING_ANDROID_PACKAGE_NAME]:\n      'An Android Package Name must be provided if the Android App is required to be installed.',\n    [AuthErrorCode.MISSING_AUTH_DOMAIN]:\n      'Be sure to include authDomain when calling firebase.initializeApp(), ' +\n      'by following the instructions in the Firebase console.',\n    [AuthErrorCode.MISSING_APP_CREDENTIAL]:\n      'The phone verification request is missing an application verifier ' +\n      'assertion. A reCAPTCHA response token needs to be provided.',\n    [AuthErrorCode.MISSING_CODE]:\n      'The phone auth credential was created with an empty SMS verification code.',\n    [AuthErrorCode.MISSING_CONTINUE_URI]:\n      'A continue URL must be provided in the request.',\n    [AuthErrorCode.MISSING_IFRAME_START]: 'An internal AuthError has occurred.',\n    [AuthErrorCode.MISSING_IOS_BUNDLE_ID]:\n      'An iOS Bundle ID must be provided if an App Store ID is provided.',\n    [AuthErrorCode.MISSING_OR_INVALID_NONCE]:\n      'The request does not contain a valid nonce. This can occur if the ' +\n      'SHA-256 hash of the provided raw nonce does not match the hashed nonce ' +\n      'in the ID token payload.',\n    [AuthErrorCode.MISSING_MFA_INFO]:\n      'No second factor identifier is provided.',\n    [AuthErrorCode.MISSING_MFA_SESSION]:\n      'The request is missing proof of first factor successful sign-in.',\n    [AuthErrorCode.MISSING_PHONE_NUMBER]:\n      'To send verification codes, provide a phone number for the recipient.',\n    [AuthErrorCode.MISSING_SESSION_INFO]:\n      'The phone auth credential was created with an empty verification ID.',\n    [AuthErrorCode.MODULE_DESTROYED]:\n      'This instance of FirebaseApp has been deleted.',\n    [AuthErrorCode.MFA_INFO_NOT_FOUND]:\n      'The user does not have a second factor matching the identifier provided.',\n    [AuthErrorCode.MFA_REQUIRED]:\n      'Proof of ownership of a second factor is required to complete sign-in.',\n    [AuthErrorCode.NEED_CONFIRMATION]:\n      'An account already exists with the same email address but different ' +\n      'sign-in credentials. Sign in using a provider associated with this ' +\n      'email address.',\n    [AuthErrorCode.NETWORK_REQUEST_FAILED]:\n      'A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.',\n    [AuthErrorCode.NO_AUTH_EVENT]: 'An internal AuthError has occurred.',\n    [AuthErrorCode.NO_SUCH_PROVIDER]:\n      'User was not linked to an account with the given provider.',\n    [AuthErrorCode.NULL_USER]:\n      'A null user object was provided as the argument for an operation which ' +\n      'requires a non-null user object.',\n    [AuthErrorCode.OPERATION_NOT_ALLOWED]:\n      'The given sign-in provider is disabled for this Firebase project. ' +\n      'Enable it in the Firebase console, under the sign-in method tab of the ' +\n      'Auth section.',\n    [AuthErrorCode.OPERATION_NOT_SUPPORTED]:\n      'This operation is not supported in the environment this application is ' +\n      'running on. \"location.protocol\" must be http, https or chrome-extension' +\n      ' and web storage must be enabled.',\n    [AuthErrorCode.POPUP_BLOCKED]:\n      'Unable to establish a connection with the popup. It may have been blocked by the browser.',\n    [AuthErrorCode.POPUP_CLOSED_BY_USER]:\n      'The popup has been closed by the user before finalizing the operation.',\n    [AuthErrorCode.PROVIDER_ALREADY_LINKED]:\n      'User can only be linked to one identity for the given provider.',\n    [AuthErrorCode.QUOTA_EXCEEDED]:\n      \"The project's quota for this operation has been exceeded.\",\n    [AuthErrorCode.REDIRECT_CANCELLED_BY_USER]:\n      'The redirect operation has been cancelled by the user before finalizing.',\n    [AuthErrorCode.REDIRECT_OPERATION_PENDING]:\n      'A redirect sign-in operation is already pending.',\n    [AuthErrorCode.REJECTED_CREDENTIAL]:\n      'The request contains malformed or mismatching credentials.',\n    [AuthErrorCode.SECOND_FACTOR_ALREADY_ENROLLED]:\n      'The second factor is already enrolled on this account.',\n    [AuthErrorCode.SECOND_FACTOR_LIMIT_EXCEEDED]:\n      'The maximum allowed number of second factors on a user has been exceeded.',\n    [AuthErrorCode.TENANT_ID_MISMATCH]:\n      \"The provided tenant ID does not match the Auth instance's tenant ID\",\n    [AuthErrorCode.TIMEOUT]: 'The operation has timed out.',\n    [AuthErrorCode.TOKEN_EXPIRED]:\n      \"The user's credential is no longer valid. The user must sign in again.\",\n    [AuthErrorCode.TOO_MANY_ATTEMPTS_TRY_LATER]:\n      'We have blocked all requests from this device due to unusual activity. ' +\n      'Try again later.',\n    [AuthErrorCode.UNAUTHORIZED_DOMAIN]:\n      'The domain of the continue URL is not whitelisted.  Please whitelist ' +\n      'the domain in the Firebase console.',\n    [AuthErrorCode.UNSUPPORTED_FIRST_FACTOR]:\n      'Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.',\n    [AuthErrorCode.UNSUPPORTED_PERSISTENCE]:\n      'The current environment does not support the specified persistence type.',\n    [AuthErrorCode.UNSUPPORTED_TENANT_OPERATION]:\n      'This operation is not supported in a multi-tenant context.',\n    [AuthErrorCode.UNVERIFIED_EMAIL]:\n      'The operation requires a verified email.',\n    [AuthErrorCode.USER_CANCELLED]:\n      'The user did not grant your application the permissions it requested.',\n    [AuthErrorCode.USER_DELETED]:\n      'There is no user record corresponding to this identifier. The user may ' +\n      'have been deleted.',\n    [AuthErrorCode.USER_DISABLED]:\n      'The user account has been disabled by an administrator.',\n    [AuthErrorCode.USER_MISMATCH]:\n      'The supplied credentials do not correspond to the previously signed in user.',\n    [AuthErrorCode.USER_SIGNED_OUT]: '',\n    [AuthErrorCode.WEAK_PASSWORD]:\n      'The password must be 6 characters long or more.',\n    [AuthErrorCode.WEB_STORAGE_UNSUPPORTED]:\n      'This browser is not supported or 3rd party cookies and data may be disabled.',\n    [AuthErrorCode.ALREADY_INITIALIZED]:\n      'initializeAuth() has already been called with ' +\n      'different options. To avoid this error, call initializeAuth() with the ' +\n      'same options as when it was originally called, or call getAuth() to return the' +\n      ' already initialized instance.'\n  };\n}\n\nexport interface ErrorMapRetriever extends AuthErrorMap {\n  (): ErrorMap<AuthErrorCode>;\n}\n\nfunction _prodErrorMap(): ErrorMap<AuthErrorCode> {\n  // We will include this one message in the prod error map since by the very\n  // nature of this error, developers will never be able to see the message\n  // using the debugErrorMap (which is installed during auth initialization).\n  return {\n    [AuthErrorCode.DEPENDENT_SDK_INIT_BEFORE_AUTH]:\n      'Another Firebase SDK was initialized and is trying to use Auth before Auth is ' +\n      'initialized. Please be sure to call `initializeAuth` or `getAuth` before ' +\n      'starting any other Firebase SDK.'\n  } as ErrorMap<AuthErrorCode>;\n}\n\n/**\n * A verbose error map with detailed descriptions for most error codes.\n *\n * See discussion at {@link AuthErrorMap}\n *\n * @public\n */\nexport const debugErrorMap: AuthErrorMap = _debugErrorMap;\n\n/**\n * A minimal error map with all verbose error messages stripped.\n *\n * See discussion at {@link AuthErrorMap}\n *\n * @public\n */\nexport const prodErrorMap: AuthErrorMap = _prodErrorMap;\n\nexport interface NamedErrorParams {\n  appName: AppName;\n  credential?: AuthCredential;\n  email?: string;\n  phoneNumber?: string;\n  tenantId?: string;\n  user?: User;\n  _serverResponse?: object;\n}\n\n/**\n * @internal\n */\ntype GenericAuthErrorParams = {\n  [key in Exclude<\n    AuthErrorCode,\n    | AuthErrorCode.ARGUMENT_ERROR\n    | AuthErrorCode.DEPENDENT_SDK_INIT_BEFORE_AUTH\n    | AuthErrorCode.INTERNAL_ERROR\n    | AuthErrorCode.MFA_REQUIRED\n    | AuthErrorCode.NO_AUTH_EVENT\n    | AuthErrorCode.OPERATION_NOT_SUPPORTED\n  >]: {\n    appName?: AppName;\n    email?: string;\n    phoneNumber?: string;\n    message?: string;\n  };\n};\n\n/**\n * @internal\n */\nexport interface AuthErrorParams extends GenericAuthErrorParams {\n  [AuthErrorCode.ARGUMENT_ERROR]: { appName?: AppName };\n  [AuthErrorCode.DEPENDENT_SDK_INIT_BEFORE_AUTH]: { appName?: AppName };\n  [AuthErrorCode.INTERNAL_ERROR]: { appName?: AppName };\n  [AuthErrorCode.LOGIN_BLOCKED]: { appName?: AppName, originalMessage?: string };\n  [AuthErrorCode.OPERATION_NOT_SUPPORTED]: { appName?: AppName };\n  [AuthErrorCode.NO_AUTH_EVENT]: { appName?: AppName };\n  [AuthErrorCode.MFA_REQUIRED]: {\n    appName: AppName;\n    _serverResponse: IdTokenMfaResponse;\n  };\n  [AuthErrorCode.INVALID_CORDOVA_CONFIGURATION]: {\n    appName: AppName;\n    missingPlugin?: string;\n  };\n}\n\nexport const _DEFAULT_AUTH_ERROR_FACTORY = new ErrorFactory<\n  AuthErrorCode,\n  AuthErrorParams\n>('auth', 'Firebase', _prodErrorMap());\n\n/**\n * A map of potential `Auth` error codes, for easier comparison with errors\n * thrown by the SDK.\n *\n * @remarks\n * Note that you can't tree-shake individual keys\n * in the map, so by using the map you might substantially increase your\n * bundle size.\n *\n * @public\n */\nexport const AUTH_ERROR_CODES_MAP_DO_NOT_USE_INTERNALLY = {\n  ADMIN_ONLY_OPERATION: 'auth/admin-restricted-operation',\n  ARGUMENT_ERROR: 'auth/argument-error',\n  APP_NOT_AUTHORIZED: 'auth/app-not-authorized',\n  APP_NOT_INSTALLED: 'auth/app-not-installed',\n  CAPTCHA_CHECK_FAILED: 'auth/captcha-check-failed',\n  CODE_EXPIRED: 'auth/code-expired',\n  CORDOVA_NOT_READY: 'auth/cordova-not-ready',\n  CORS_UNSUPPORTED: 'auth/cors-unsupported',\n  CREDENTIAL_ALREADY_IN_USE: 'auth/credential-already-in-use',\n  CREDENTIAL_MISMATCH: 'auth/custom-token-mismatch',\n  CREDENTIAL_TOO_OLD_LOGIN_AGAIN: 'auth/requires-recent-login',\n  DEPENDENT_SDK_INIT_BEFORE_AUTH: 'auth/dependent-sdk-initialized-before-auth',\n  DYNAMIC_LINK_NOT_ACTIVATED: 'auth/dynamic-link-not-activated',\n  EMAIL_CHANGE_NEEDS_VERIFICATION: 'auth/email-change-needs-verification',\n  EMAIL_EXISTS: 'auth/email-already-in-use',\n  EMULATOR_CONFIG_FAILED: 'auth/emulator-config-failed',\n  EXPIRED_OOB_CODE: 'auth/expired-action-code',\n  EXPIRED_POPUP_REQUEST: 'auth/cancelled-popup-request',\n  INTERNAL_ERROR: 'auth/internal-error',\n  INVALID_API_KEY: 'auth/invalid-api-key',\n  INVALID_APP_CREDENTIAL: 'auth/invalid-app-credential',\n  INVALID_APP_ID: 'auth/invalid-app-id',\n  INVALID_AUTH: 'auth/invalid-user-token',\n  INVALID_AUTH_EVENT: 'auth/invalid-auth-event',\n  INVALID_CERT_HASH: 'auth/invalid-cert-hash',\n  INVALID_CODE: 'auth/invalid-verification-code',\n  INVALID_CONTINUE_URI: 'auth/invalid-continue-uri',\n  INVALID_CORDOVA_CONFIGURATION: 'auth/invalid-cordova-configuration',\n  INVALID_CUSTOM_TOKEN: 'auth/invalid-custom-token',\n  INVALID_DYNAMIC_LINK_DOMAIN: 'auth/invalid-dynamic-link-domain',\n  INVALID_EMAIL: 'auth/invalid-email',\n  INVALID_EMULATOR_SCHEME: 'auth/invalid-emulator-scheme',\n  INVALID_IDP_RESPONSE: 'auth/invalid-credential',\n  INVALID_MESSAGE_PAYLOAD: 'auth/invalid-message-payload',\n  INVALID_MFA_SESSION: 'auth/invalid-multi-factor-session',\n  INVALID_OAUTH_CLIENT_ID: 'auth/invalid-oauth-client-id',\n  INVALID_OAUTH_PROVIDER: 'auth/invalid-oauth-provider',\n  INVALID_OOB_CODE: 'auth/invalid-action-code',\n  INVALID_ORIGIN: 'auth/unauthorized-domain',\n  INVALID_PASSWORD: 'auth/wrong-password',\n  INVALID_PERSISTENCE: 'auth/invalid-persistence-type',\n  INVALID_PHONE_NUMBER: 'auth/invalid-phone-number',\n  INVALID_PROVIDER_ID: 'auth/invalid-provider-id',\n  INVALID_RECIPIENT_EMAIL: 'auth/invalid-recipient-email',\n  INVALID_SENDER: 'auth/invalid-sender',\n  INVALID_SESSION_INFO: 'auth/invalid-verification-id',\n  INVALID_TENANT_ID: 'auth/invalid-tenant-id',\n  MFA_INFO_NOT_FOUND: 'auth/multi-factor-info-not-found',\n  MFA_REQUIRED: 'auth/multi-factor-auth-required',\n  MISSING_ANDROID_PACKAGE_NAME: 'auth/missing-android-pkg-name',\n  MISSING_APP_CREDENTIAL: 'auth/missing-app-credential',\n  MISSING_AUTH_DOMAIN: 'auth/auth-domain-config-required',\n  MISSING_CODE: 'auth/missing-verification-code',\n  MISSING_CONTINUE_URI: 'auth/missing-continue-uri',\n  MISSING_IFRAME_START: 'auth/missing-iframe-start',\n  MISSING_IOS_BUNDLE_ID: 'auth/missing-ios-bundle-id',\n  MISSING_OR_INVALID_NONCE: 'auth/missing-or-invalid-nonce',\n  MISSING_MFA_INFO: 'auth/missing-multi-factor-info',\n  MISSING_MFA_SESSION: 'auth/missing-multi-factor-session',\n  MISSING_PHONE_NUMBER: 'auth/missing-phone-number',\n  MISSING_SESSION_INFO: 'auth/missing-verification-id',\n  MODULE_DESTROYED: 'auth/app-deleted',\n  NEED_CONFIRMATION: 'auth/account-exists-with-different-credential',\n  NETWORK_REQUEST_FAILED: 'auth/network-request-failed',\n  NULL_USER: 'auth/null-user',\n  NO_AUTH_EVENT: 'auth/no-auth-event',\n  NO_SUCH_PROVIDER: 'auth/no-such-provider',\n  OPERATION_NOT_ALLOWED: 'auth/operation-not-allowed',\n  OPERATION_NOT_SUPPORTED: 'auth/operation-not-supported-in-this-environment',\n  POPUP_BLOCKED: 'auth/popup-blocked',\n  POPUP_CLOSED_BY_USER: 'auth/popup-closed-by-user',\n  PROVIDER_ALREADY_LINKED: 'auth/provider-already-linked',\n  QUOTA_EXCEEDED: 'auth/quota-exceeded',\n  REDIRECT_CANCELLED_BY_USER: 'auth/redirect-cancelled-by-user',\n  REDIRECT_OPERATION_PENDING: 'auth/redirect-operation-pending',\n  REJECTED_CREDENTIAL: 'auth/rejected-credential',\n  SECOND_FACTOR_ALREADY_ENROLLED: 'auth/second-factor-already-in-use',\n  SECOND_FACTOR_LIMIT_EXCEEDED: 'auth/maximum-second-factor-count-exceeded',\n  TENANT_ID_MISMATCH: 'auth/tenant-id-mismatch',\n  TIMEOUT: 'auth/timeout',\n  TOKEN_EXPIRED: 'auth/user-token-expired',\n  TOO_MANY_ATTEMPTS_TRY_LATER: 'auth/too-many-requests',\n  UNAUTHORIZED_DOMAIN: 'auth/unauthorized-continue-uri',\n  UNSUPPORTED_FIRST_FACTOR: 'auth/unsupported-first-factor',\n  UNSUPPORTED_PERSISTENCE: 'auth/unsupported-persistence-type',\n  UNSUPPORTED_TENANT_OPERATION: 'auth/unsupported-tenant-operation',\n  UNVERIFIED_EMAIL: 'auth/unverified-email',\n  USER_CANCELLED: 'auth/user-cancelled',\n  USER_DELETED: 'auth/user-not-found',\n  USER_DISABLED: 'auth/user-disabled',\n  USER_MISMATCH: 'auth/user-mismatch',\n  USER_SIGNED_OUT: 'auth/user-signed-out',\n  WEAK_PASSWORD: 'auth/weak-password',\n  WEB_STORAGE_UNSUPPORTED: 'auth/web-storage-unsupported',\n  ALREADY_INITIALIZED: 'auth/already-initialized'\n} as const;\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { _getProvider, FirebaseApp } from '@firebase/app';\nimport { deepEqual } from '@firebase/util';\nimport { Auth, Dependencies } from '../../model/public_types';\n\nimport { AuthErrorCode } from '../errors';\nimport { PersistenceInternal } from '../persistence';\nimport { _fail } from '../util/assert';\nimport { _getInstance } from '../util/instantiator';\nimport { AuthImpl } from './auth_impl';\n\n/**\n * Initializes an {@link Auth} instance with fine-grained control over\n * {@link Dependencies}.\n *\n * @remarks\n *\n * This function allows more control over the {@link Auth} instance than\n * {@link getAuth}. `getAuth` uses platform-specific defaults to supply\n * the {@link Dependencies}. In general, `getAuth` is the easiest way to\n * initialize Auth and works for most use cases. Use `initializeAuth` if you\n * need control over which persistence layer is used, or to minimize bundle\n * size if you're not using either `signInWithPopup` or `signInWithRedirect`.\n *\n * For example, if your app only uses anonymous accounts and you only want\n * accounts saved for the current session, initialize `Auth` with:\n *\n * ```js\n * const auth = initializeAuth(app, {\n *   persistence: browserSessionPersistence,\n *   popupRedirectResolver: undefined,\n * });\n * ```\n *\n * @public\n */\nexport function initializeAuth(app: FirebaseApp, deps?: Dependencies): Auth {\n  const provider = _getProvider(app, 'auth');\n\n  if (provider.isInitialized()) {\n    const auth = provider.getImmediate() as AuthImpl;\n    const initialOptions = provider.getOptions() as Dependencies;\n    if (deepEqual(initialOptions, deps ?? {})) {\n      return auth;\n    } else {\n      _fail(auth, AuthErrorCode.ALREADY_INITIALIZED);\n    }\n  }\n\n  const auth = provider.initialize({ options: deps }) as AuthImpl;\n\n  return auth;\n}\n\nexport function _initializeAuthInstance(\n  auth: AuthImpl,\n  deps?: Dependencies\n): void {\n  const persistence = deps?.persistence || [];\n  const hierarchy = (\n    Array.isArray(persistence) ? persistence : [persistence]\n  ).map<PersistenceInternal>(_getInstance);\n  if (deps?.errorMap) {\n    auth._updateErrorMap(deps.errorMap);\n  }\n\n  // This promise is intended to float; auth initialization happens in the\n  // background, meanwhile the auth object may be used by the app.\n  // eslint-disable-next-line @typescript-eslint/no-floating-promises\n  auth._initializeWithPersistence(hierarchy, deps?.popupRedirectResolver);\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport function _getCurrentUrl(): string {\n  return (typeof self !== 'undefined' && self.location?.href) || '';\n}\n\nexport function _isHttpOrHttps(): boolean {\n  return _getCurrentScheme() === 'http:' || _getCurrentScheme() === 'https:';\n}\n\nexport function _getCurrentScheme(): string | null {\n  return (typeof self !== 'undefined' && self.location?.protocol) || null;\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { isBrowserExtension } from '@firebase/util';\nimport { _isHttpOrHttps } from './location';\n\n/**\n * Determine whether the browser is working online\n */\nexport function _isOnline(): boolean {\n  if (\n    typeof navigator !== 'undefined' &&\n    navigator &&\n    'onLine' in navigator &&\n    typeof navigator.onLine === 'boolean' &&\n    // Apply only for traditional web apps and Chrome extensions.\n    // This is especially true for Cordova apps which have unreliable\n    // navigator.onLine behavior unless cordova-plugin-network-information is\n    // installed which overwrites the native navigator.onLine value and\n    // defines navigator.connection.\n    (_isHttpOrHttps() || isBrowserExtension() || 'connection' in navigator)\n  ) {\n    return navigator.onLine;\n  }\n  // If we can't determine the state, assume it is online.\n  return true;\n}\n\nexport function _getUserLanguage(): string | null {\n  if (typeof navigator === 'undefined') {\n    return null;\n  }\n  const navigatorLanguage: NavigatorLanguage = navigator;\n  return (\n    // Most reliable, but only supported in Chrome/Firefox.\n    (navigatorLanguage.languages && navigatorLanguage.languages[0]) ||\n    // Supported in most browsers, but returns the language of the browser\n    // UI, not the language set in browser settings.\n    navigatorLanguage.language ||\n    // Couldn't determine language.\n    null\n  );\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { isMobileCordova, isReactNative } from '@firebase/util';\nimport { _isOnline } from './navigator';\nimport { debugAssert } from './assert';\n\nexport const enum DelayMin {\n  OFFLINE = 5000\n}\n\n/**\n * A structure to help pick between a range of long and short delay durations\n * depending on the current environment. In general, the long delay is used for\n * mobile environments whereas short delays are used for desktop environments.\n */\nexport class Delay {\n  // The default value for the offline delay timeout in ms.\n\n  private readonly isMobile: boolean;\n  constructor(\n    private readonly shortDelay: number,\n    private readonly longDelay: number\n  ) {\n    // Internal error when improperly initialized.\n    debugAssert(\n      longDelay > shortDelay,\n      'Short delay should be less than long delay!'\n    );\n    this.isMobile = isMobileCordova() || isReactNative();\n  }\n\n  get(): number {\n    if (!_isOnline()) {\n      // Pick the shorter timeout.\n      return Math.min(DelayMin.OFFLINE, this.shortDelay);\n    }\n    // If running in a mobile environment, return the long delay, otherwise\n    // return the short delay.\n    // This could be improved in the future to dynamically change based on other\n    // variables instead of just reading the current environment.\n    return this.isMobile ? this.longDelay : this.shortDelay;\n  }\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ConfigInternal } from '../../model/auth';\nimport { debugAssert } from './assert';\n\nexport function _emulatorUrl(config: ConfigInternal, path?: string): string {\n  debugAssert(config.emulator, 'Emulator should always be set here');\n  const { url } = config.emulator;\n\n  if (!path) {\n    return url;\n  }\n\n  return `${url}${path.startsWith('/') ? path.slice(1) : path}`;\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { debugFail } from './assert';\n\nexport class FetchProvider {\n  private static fetchImpl: typeof fetch | null;\n  private static headersImpl: typeof Headers | null;\n  private static responseImpl: typeof Response | null;\n\n  static initialize(\n    fetchImpl: typeof fetch,\n    headersImpl?: typeof Headers,\n    responseImpl?: typeof Response\n  ): void {\n    this.fetchImpl = fetchImpl;\n    if (headersImpl) {\n      this.headersImpl = headersImpl;\n    }\n    if (responseImpl) {\n      this.responseImpl = responseImpl;\n    }\n  }\n\n  static fetch(): typeof fetch {\n    if (this.fetchImpl) {\n      return this.fetchImpl;\n    }\n    if (typeof self !== 'undefined' && 'fetch' in self) {\n      return self.fetch;\n    }\n    debugFail(\n      'Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill'\n    );\n  }\n\n  static headers(): typeof Headers {\n    if (this.headersImpl) {\n      return this.headersImpl;\n    }\n    if (typeof self !== 'undefined' && 'Headers' in self) {\n      return self.Headers;\n    }\n    debugFail(\n      'Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill'\n    );\n  }\n\n  static response(): typeof Response {\n    if (this.responseImpl) {\n      return this.responseImpl;\n    }\n    if (typeof self !== 'undefined' && 'Response' in self) {\n      return self.Response;\n    }\n    debugFail(\n      'Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill'\n    );\n  }\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { AuthErrorCode } from '../core/errors';\n\n/**\n * Errors that can be returned by the backend\n */\nexport const enum ServerError {\n  ADMIN_ONLY_OPERATION = 'ADMIN_ONLY_OPERATION',\n  BLOCKING_FUNCTION_ERROR_RESPONSE = 'BLOCKING_FUNCTION_ERROR_RESPONSE',\n  CAPTCHA_CHECK_FAILED = 'CAPTCHA_CHECK_FAILED',\n  CORS_UNSUPPORTED = 'CORS_UNSUPPORTED',\n  CREDENTIAL_MISMATCH = 'CREDENTIAL_MISMATCH',\n  CREDENTIAL_TOO_OLD_LOGIN_AGAIN = 'CREDENTIAL_TOO_OLD_LOGIN_AGAIN',\n  DYNAMIC_LINK_NOT_ACTIVATED = 'DYNAMIC_LINK_NOT_ACTIVATED',\n  EMAIL_CHANGE_NEEDS_VERIFICATION = 'EMAIL_CHANGE_NEEDS_VERIFICATION',\n  EMAIL_EXISTS = 'EMAIL_EXISTS',\n  EMAIL_NOT_FOUND = 'EMAIL_NOT_FOUND',\n  EXPIRED_OOB_CODE = 'EXPIRED_OOB_CODE',\n  FEDERATED_USER_ID_ALREADY_LINKED = 'FEDERATED_USER_ID_ALREADY_LINKED',\n  INVALID_APP_CREDENTIAL = 'INVALID_APP_CREDENTIAL',\n  INVALID_APP_ID = 'INVALID_APP_ID',\n  INVALID_CERT_HASH = 'INVALID_CERT_HASH',\n  INVALID_CODE = 'INVALID_CODE',\n  INVALID_CONTINUE_URI = 'INVALID_CONTINUE_URI',\n  INVALID_CUSTOM_TOKEN = 'INVALID_CUSTOM_TOKEN',\n  INVALID_DYNAMIC_LINK_DOMAIN = 'INVALID_DYNAMIC_LINK_DOMAIN',\n  INVALID_EMAIL = 'INVALID_EMAIL',\n  INVALID_ID_TOKEN = 'INVALID_ID_TOKEN',\n  INVALID_IDP_RESPONSE = 'INVALID_IDP_RESPONSE',\n  INVALID_IDENTIFIER = 'INVALID_IDENTIFIER',\n  INVALID_MESSAGE_PAYLOAD = 'INVALID_MESSAGE_PAYLOAD',\n  INVALID_MFA_PENDING_CREDENTIAL = 'INVALID_MFA_PENDING_CREDENTIAL',\n  INVALID_OAUTH_CLIENT_ID = 'INVALID_OAUTH_CLIENT_ID',\n  INVALID_OOB_CODE = 'INVALID_OOB_CODE',\n  INVALID_PASSWORD = 'INVALID_PASSWORD',\n  INVALID_PENDING_TOKEN = 'INVALID_PENDING_TOKEN',\n  INVALID_PHONE_NUMBER = 'INVALID_PHONE_NUMBER',\n  INVALID_PROVIDER_ID = 'INVALID_PROVIDER_ID',\n  INVALID_RECIPIENT_EMAIL = 'INVALID_RECIPIENT_EMAIL',\n  INVALID_SENDER = 'INVALID_SENDER',\n  INVALID_SESSION_INFO = 'INVALID_SESSION_INFO',\n  INVALID_TEMPORARY_PROOF = 'INVALID_TEMPORARY_PROOF',\n  INVALID_TENANT_ID = 'INVALID_TENANT_ID',\n  MFA_ENROLLMENT_NOT_FOUND = 'MFA_ENROLLMENT_NOT_FOUND',\n  MISSING_ANDROID_PACKAGE_NAME = 'MISSING_ANDROID_PACKAGE_NAME',\n  MISSING_APP_CREDENTIAL = 'MISSING_APP_CREDENTIAL',\n  MISSING_CODE = 'MISSING_CODE',\n  MISSING_CONTINUE_URI = 'MISSING_CONTINUE_URI',\n  MISSING_CUSTOM_TOKEN = 'MISSING_CUSTOM_TOKEN',\n  MISSING_IOS_BUNDLE_ID = 'MISSING_IOS_BUNDLE_ID',\n  MISSING_MFA_ENROLLMENT_ID = 'MISSING_MFA_ENROLLMENT_ID',\n  MISSING_MFA_PENDING_CREDENTIAL = 'MISSING_MFA_PENDING_CREDENTIAL',\n  MISSING_OOB_CODE = 'MISSING_OOB_CODE',\n  MISSING_OR_INVALID_NONCE = 'MISSING_OR_INVALID_NONCE',\n  MISSING_PASSWORD = 'MISSING_PASSWORD',\n  MISSING_REQ_TYPE = 'MISSING_REQ_TYPE',\n  MISSING_PHONE_NUMBER = 'MISSING_PHONE_NUMBER',\n  MISSING_SESSION_INFO = 'MISSING_SESSION_INFO',\n  OPERATION_NOT_ALLOWED = 'OPERATION_NOT_ALLOWED',\n  PASSWORD_LOGIN_DISABLED = 'PASSWORD_LOGIN_DISABLED',\n  QUOTA_EXCEEDED = 'QUOTA_EXCEEDED',\n  RESET_PASSWORD_EXCEED_LIMIT = 'RESET_PASSWORD_EXCEED_LIMIT',\n  REJECTED_CREDENTIAL = 'REJECTED_CREDENTIAL',\n  SECOND_FACTOR_EXISTS = 'SECOND_FACTOR_EXISTS',\n  SECOND_FACTOR_LIMIT_EXCEEDED = 'SECOND_FACTOR_LIMIT_EXCEEDED',\n  SESSION_EXPIRED = 'SESSION_EXPIRED',\n  TENANT_ID_MISMATCH = 'TENANT_ID_MISMATCH',\n  TOKEN_EXPIRED = 'TOKEN_EXPIRED',\n  TOO_MANY_ATTEMPTS_TRY_LATER = 'TOO_MANY_ATTEMPTS_TRY_LATER',\n  UNSUPPORTED_FIRST_FACTOR = 'UNSUPPORTED_FIRST_FACTOR',\n  UNSUPPORTED_TENANT_OPERATION = 'UNSUPPORTED_TENANT_OPERATION',\n  UNAUTHORIZED_DOMAIN = 'UNAUTHORIZED_DOMAIN',\n  UNVERIFIED_EMAIL = 'UNVERIFIED_EMAIL',\n  USER_CANCELLED = 'USER_CANCELLED',\n  USER_DISABLED = 'USER_DISABLED',\n  USER_NOT_FOUND = 'USER_NOT_FOUND',\n  WEAK_PASSWORD = 'WEAK_PASSWORD'\n}\n\n/**\n * API Response in the event of an error\n */\nexport interface JsonError {\n  error: {\n    code: number;\n    message: string;\n    errors?: [\n      {\n        message: ServerError;\n        domain: string;\n        reason: string;\n      }\n    ];\n  };\n}\n\n/**\n * Type definition for a map from server errors to developer visible errors\n */\nexport declare type ServerErrorMap<ApiError extends string> = {\n  readonly [K in ApiError]: AuthErrorCode;\n};\n\n/**\n * Map from errors returned by the server to errors to developer visible errors\n */\nexport const SERVER_ERROR_MAP: Partial<ServerErrorMap<ServerError>> = {\n  // Custom token errors.\n  [ServerError.CREDENTIAL_MISMATCH]: AuthErrorCode.CREDENTIAL_MISMATCH,\n  // This can only happen if the SDK sends a bad request.\n  [ServerError.MISSING_CUSTOM_TOKEN]: AuthErrorCode.INTERNAL_ERROR,\n\n  // Create Auth URI errors.\n  [ServerError.INVALID_IDENTIFIER]: AuthErrorCode.INVALID_EMAIL,\n  // This can only happen if the SDK sends a bad request.\n  [ServerError.MISSING_CONTINUE_URI]: AuthErrorCode.INTERNAL_ERROR,\n\n  // Sign in with email and password errors (some apply to sign up too).\n  [ServerError.INVALID_PASSWORD]: AuthErrorCode.INVALID_PASSWORD,\n  // This can only happen if the SDK sends a bad request.\n  [ServerError.MISSING_PASSWORD]: AuthErrorCode.INTERNAL_ERROR,\n\n  // Sign up with email and password errors.\n  [ServerError.EMAIL_EXISTS]: AuthErrorCode.EMAIL_EXISTS,\n  [ServerError.PASSWORD_LOGIN_DISABLED]: AuthErrorCode.OPERATION_NOT_ALLOWED,\n\n  // Verify assertion for sign in with credential errors:\n  [ServerError.INVALID_IDP_RESPONSE]: AuthErrorCode.INVALID_IDP_RESPONSE,\n  [ServerError.INVALID_PENDING_TOKEN]: AuthErrorCode.INVALID_IDP_RESPONSE,\n  [ServerError.FEDERATED_USER_ID_ALREADY_LINKED]:\n    AuthErrorCode.CREDENTIAL_ALREADY_IN_USE,\n\n  // This can only happen if the SDK sends a bad request.\n  [ServerError.MISSING_REQ_TYPE]: AuthErrorCode.INTERNAL_ERROR,\n\n  // Send Password reset email errors:\n  [ServerError.EMAIL_NOT_FOUND]: AuthErrorCode.USER_DELETED,\n  [ServerError.RESET_PASSWORD_EXCEED_LIMIT]:\n    AuthErrorCode.TOO_MANY_ATTEMPTS_TRY_LATER,\n\n  [ServerError.EXPIRED_OOB_CODE]: AuthErrorCode.EXPIRED_OOB_CODE,\n  [ServerError.INVALID_OOB_CODE]: AuthErrorCode.INVALID_OOB_CODE,\n  // This can only happen if the SDK sends a bad request.\n  [ServerError.MISSING_OOB_CODE]: AuthErrorCode.INTERNAL_ERROR,\n\n  // Operations that require ID token in request:\n  [ServerError.CREDENTIAL_TOO_OLD_LOGIN_AGAIN]:\n    AuthErrorCode.CREDENTIAL_TOO_OLD_LOGIN_AGAIN,\n  [ServerError.INVALID_ID_TOKEN]: AuthErrorCode.INVALID_AUTH,\n  [ServerError.TOKEN_EXPIRED]: AuthErrorCode.TOKEN_EXPIRED,\n  [ServerError.USER_NOT_FOUND]: AuthErrorCode.TOKEN_EXPIRED,\n\n  // Other errors.\n  [ServerError.TOO_MANY_ATTEMPTS_TRY_LATER]:\n    AuthErrorCode.TOO_MANY_ATTEMPTS_TRY_LATER,\n\n  // Phone Auth related errors.\n  [ServerError.INVALID_CODE]: AuthErrorCode.INVALID_CODE,\n  [ServerError.INVALID_SESSION_INFO]: AuthErrorCode.INVALID_SESSION_INFO,\n  [ServerError.INVALID_TEMPORARY_PROOF]: AuthErrorCode.INVALID_IDP_RESPONSE,\n  [ServerError.MISSING_SESSION_INFO]: AuthErrorCode.MISSING_SESSION_INFO,\n  [ServerError.SESSION_EXPIRED]: AuthErrorCode.CODE_EXPIRED,\n\n  // Other action code errors when additional settings passed.\n  // MISSING_CONTINUE_URI is getting mapped to INTERNAL_ERROR above.\n  // This is OK as this error will be caught by client side validation.\n  [ServerError.MISSING_ANDROID_PACKAGE_NAME]:\n    AuthErrorCode.MISSING_ANDROID_PACKAGE_NAME,\n  [ServerError.UNAUTHORIZED_DOMAIN]: AuthErrorCode.UNAUTHORIZED_DOMAIN,\n\n  // getProjectConfig errors when clientId is passed.\n  [ServerError.INVALID_OAUTH_CLIENT_ID]: AuthErrorCode.INVALID_OAUTH_CLIENT_ID,\n\n  // User actions (sign-up or deletion) disabled errors.\n  [ServerError.ADMIN_ONLY_OPERATION]: AuthErrorCode.ADMIN_ONLY_OPERATION,\n\n  // Multi factor related errors.\n  [ServerError.INVALID_MFA_PENDING_CREDENTIAL]:\n    AuthErrorCode.INVALID_MFA_SESSION,\n  [ServerError.MFA_ENROLLMENT_NOT_FOUND]: AuthErrorCode.MFA_INFO_NOT_FOUND,\n  [ServerError.MISSING_MFA_ENROLLMENT_ID]: AuthErrorCode.MISSING_MFA_INFO,\n  [ServerError.MISSING_MFA_PENDING_CREDENTIAL]:\n    AuthErrorCode.MISSING_MFA_SESSION,\n  [ServerError.SECOND_FACTOR_EXISTS]:\n    AuthErrorCode.SECOND_FACTOR_ALREADY_ENROLLED,\n  [ServerError.SECOND_FACTOR_LIMIT_EXCEEDED]:\n    AuthErrorCode.SECOND_FACTOR_LIMIT_EXCEEDED,\n\n  // Blocking functions related errors.\n  [ServerError.BLOCKING_FUNCTION_ERROR_RESPONSE]: AuthErrorCode.INTERNAL_ERROR,\n};\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FirebaseError, querystring } from '@firebase/util';\n\nimport { AuthErrorCode, NamedErrorParams } from '../core/errors';\nimport { _createError, _errorWithCustomMessage, _fail } from '../core/util/assert';\nimport { Delay } from '../core/util/delay';\nimport { _emulatorUrl } from '../core/util/emulator';\nimport { FetchProvider } from '../core/util/fetch_provider';\nimport { Auth } from '../model/public_types';\nimport { AuthInternal, ConfigInternal } from '../model/auth';\nimport { IdTokenResponse, TaggedWithTokenResponse } from '../model/id_token';\nimport { IdTokenMfaResponse } from './authentication/mfa';\nimport { SERVER_ERROR_MAP, ServerError, ServerErrorMap } from './errors';\n\nexport const enum HttpMethod {\n  POST = 'POST',\n  GET = 'GET'\n}\n\nexport const enum HttpHeader {\n  CONTENT_TYPE = 'Content-Type',\n  X_FIREBASE_LOCALE = 'X-Firebase-Locale',\n  X_CLIENT_VERSION = 'X-Client-Version',\n  X_FIREBASE_GMPID = 'X-Firebase-gmpid',\n  X_FIREBASE_CLIENT = 'X-Firebase-Client',\n}\n\nexport const enum Endpoint {\n  CREATE_AUTH_URI = '/v1/accounts:createAuthUri',\n  DELETE_ACCOUNT = '/v1/accounts:delete',\n  RESET_PASSWORD = '/v1/accounts:resetPassword',\n  SIGN_UP = '/v1/accounts:signUp',\n  SIGN_IN_WITH_CUSTOM_TOKEN = '/v1/accounts:signInWithCustomToken',\n  SIGN_IN_WITH_EMAIL_LINK = '/v1/accounts:signInWithEmailLink',\n  SIGN_IN_WITH_IDP = '/v1/accounts:signInWithIdp',\n  SIGN_IN_WITH_PASSWORD = '/v1/accounts:signInWithPassword',\n  SIGN_IN_WITH_PHONE_NUMBER = '/v1/accounts:signInWithPhoneNumber',\n  SEND_VERIFICATION_CODE = '/v1/accounts:sendVerificationCode',\n  SEND_OOB_CODE = '/v1/accounts:sendOobCode',\n  SET_ACCOUNT_INFO = '/v1/accounts:update',\n  GET_ACCOUNT_INFO = '/v1/accounts:lookup',\n  GET_RECAPTCHA_PARAM = '/v1/recaptchaParams',\n  START_PHONE_MFA_ENROLLMENT = '/v2/accounts/mfaEnrollment:start',\n  FINALIZE_PHONE_MFA_ENROLLMENT = '/v2/accounts/mfaEnrollment:finalize',\n  START_PHONE_MFA_SIGN_IN = '/v2/accounts/mfaSignIn:start',\n  FINALIZE_PHONE_MFA_SIGN_IN = '/v2/accounts/mfaSignIn:finalize',\n  WITHDRAW_MFA = '/v2/accounts/mfaEnrollment:withdraw',\n  GET_PROJECT_CONFIG = '/v1/projects'\n}\n\nexport const DEFAULT_API_TIMEOUT_MS = new Delay(30_000, 60_000);\n\nexport function _addTidIfNecessary<T extends { tenantId?: string }>(\n  auth: Auth,\n  request: T\n): T {\n  if (auth.tenantId && !request.tenantId) {\n    return {\n      ...request,\n      tenantId: auth.tenantId\n    };\n  }\n  return request;\n}\n\nexport async function _performApiRequest<T, V>(\n  auth: Auth,\n  method: HttpMethod,\n  path: Endpoint,\n  request?: T,\n  customErrorMap: Partial<ServerErrorMap<ServerError>> = {}\n): Promise<V> {\n  return _performFetchWithErrorHandling(auth, customErrorMap, async () => {\n    let body = {};\n    let params = {};\n    if (request) {\n      if (method === HttpMethod.GET) {\n        params = request;\n      } else {\n        body = {\n          body: JSON.stringify(request)\n        };\n      }\n    }\n\n    const query = querystring({\n      key: auth.config.apiKey,\n      ...params\n    }).slice(1);\n\n    const headers = await (auth as AuthInternal)._getAdditionalHeaders();\n    headers[HttpHeader.CONTENT_TYPE] = 'application/json';\n\n    if (auth.languageCode) {\n      headers[HttpHeader.X_FIREBASE_LOCALE] = auth.languageCode;\n    }\n\n    return FetchProvider.fetch()(\n      _getFinalTarget(auth, auth.config.apiHost, path, query),\n      {\n        method,\n        headers,\n        referrerPolicy: 'no-referrer',\n        ...body\n      }\n    );\n  });\n}\n\nexport async function _performFetchWithErrorHandling<V>(\n  auth: Auth,\n  customErrorMap: Partial<ServerErrorMap<ServerError>>,\n  fetchFn: () => Promise<Response>\n): Promise<V> {\n  (auth as AuthInternal)._canInitEmulator = false;\n  const errorMap = { ...SERVER_ERROR_MAP, ...customErrorMap };\n  try {\n    const networkTimeout = new NetworkTimeout<Response>(auth);\n    const response: Response = await Promise.race<Promise<Response>>([\n      fetchFn(),\n      networkTimeout.promise\n    ]);\n\n    // If we've reached this point, the fetch succeeded and the networkTimeout\n    // didn't throw; clear the network timeout delay so that Node won't hang\n    networkTimeout.clearNetworkTimeout();\n\n    const json = await response.json();\n    if ('needConfirmation' in json) {\n      throw _makeTaggedError(auth, AuthErrorCode.NEED_CONFIRMATION, json);\n    }\n\n    if (response.ok && !('errorMessage' in json)) {\n      return json;\n    } else {\n      const errorMessage = response.ok ? json.errorMessage : json.error.message;\n      const [serverErrorCode, serverErrorMessage] = errorMessage.split(' : ');\n      if (serverErrorCode === ServerError.FEDERATED_USER_ID_ALREADY_LINKED) {\n        throw _makeTaggedError(\n          auth,\n          AuthErrorCode.CREDENTIAL_ALREADY_IN_USE,\n          json\n        );\n      } else if (serverErrorCode === ServerError.EMAIL_EXISTS) {\n        throw _makeTaggedError(auth, AuthErrorCode.EMAIL_EXISTS, json);\n      } else if (serverErrorCode === ServerError.USER_DISABLED) {\n        throw _makeTaggedError(auth, AuthErrorCode.USER_DISABLED, json);\n      }\n      const authError =\n        errorMap[serverErrorCode as ServerError] ||\n        ((serverErrorCode\n          .toLowerCase()\n          .replace(/[_\\s]+/g, '-') as unknown) as AuthErrorCode);\n      if (serverErrorMessage) {\n        throw _errorWithCustomMessage(auth, authError, serverErrorMessage);\n      } else {\n        _fail(auth, authError);\n      }\n    }\n  } catch (e) {\n    if (e instanceof FirebaseError) {\n      throw e;\n    }\n    _fail(auth, AuthErrorCode.NETWORK_REQUEST_FAILED);\n  }\n}\n\nexport async function _performSignInRequest<T, V extends IdTokenResponse>(\n  auth: Auth,\n  method: HttpMethod,\n  path: Endpoint,\n  request?: T,\n  customErrorMap: Partial<ServerErrorMap<ServerError>> = {}\n): Promise<V> {\n  const serverResponse = (await _performApiRequest<T, V | IdTokenMfaResponse>(\n    auth,\n    method,\n    path,\n    request,\n    customErrorMap\n  )) as V;\n  if ('mfaPendingCredential' in serverResponse) {\n    _fail(auth, AuthErrorCode.MFA_REQUIRED, {\n      _serverResponse: serverResponse\n    });\n  }\n\n  return serverResponse;\n}\n\nexport function _getFinalTarget(\n  auth: Auth,\n  host: string,\n  path: string,\n  query: string\n): string {\n  const base = `${host}${path}?${query}`;\n\n  if (!(auth as AuthInternal).config.emulator) {\n    return `${auth.config.apiScheme}://${base}`;\n  }\n\n  return _emulatorUrl(auth.config as ConfigInternal, base);\n}\n\nclass NetworkTimeout<T> {\n  // Node timers and browser timers are fundamentally incompatible, but we\n  // don't care about the value here\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private timer: any | null = null;\n  readonly promise = new Promise<T>((_, reject) => {\n    this.timer = setTimeout(() => {\n      return reject(_createError(this.auth, AuthErrorCode.NETWORK_REQUEST_FAILED));\n    }, DEFAULT_API_TIMEOUT_MS.get());\n  });\n\n  clearNetworkTimeout(): void {\n    clearTimeout(this.timer);\n  }\n\n  constructor(private readonly auth: Auth) {}\n}\n\ninterface PotentialResponse extends IdTokenResponse {\n  email?: string;\n  phoneNumber?: string;\n}\n\nexport function _makeTaggedError(\n  auth: Auth,\n  code: AuthErrorCode,\n  response: PotentialResponse\n): FirebaseError {\n  const errorParams: NamedErrorParams = {\n    appName: auth.name\n  };\n\n  if (response.email) {\n    errorParams.email = response.email;\n  }\n  if (response.phoneNumber) {\n    errorParams.phoneNumber = response.phoneNumber;\n  }\n\n  const error = _createError(auth, code, errorParams);\n\n  // We know customData is defined on error because errorParams is defined\n  (error.customData! as TaggedWithTokenResponse)._tokenResponse = response;\n  return error;\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport function utcTimestampToDateString(\n  utcTimestamp?: string | number\n): string | undefined {\n  if (!utcTimestamp) {\n    return undefined;\n  }\n  try {\n    // Convert to date object.\n    const date = new Date(Number(utcTimestamp));\n    // Test date is valid.\n    if (!isNaN(date.getTime())) {\n      // Convert to UTC date string.\n      return date.toUTCString();\n    }\n  } catch (e) {\n    // Do nothing. undefined will be returned.\n  }\n  return undefined;\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { IdTokenResult, ParsedToken, User } from '../../model/public_types';\nimport { base64Decode, getModularInstance } from '@firebase/util';\n\nimport { UserInternal } from '../../model/user';\nimport { _assert } from '../util/assert';\nimport { _logError } from '../util/log';\nimport { utcTimestampToDateString } from '../util/time';\nimport { AuthErrorCode } from '../errors';\n\n/**\n * Returns a JSON Web Token (JWT) used to identify the user to a Firebase service.\n *\n * @remarks\n * Returns the current token if it has not expired or if it will not expire in the next five\n * minutes. Otherwise, this will refresh the token and return a new one.\n *\n * @param user - The user.\n * @param forceRefresh - Force refresh regardless of token expiration.\n *\n * @public\n */\nexport function getIdToken(user: User, forceRefresh = false): Promise<string> {\n  return getModularInstance(user).getIdToken(forceRefresh);\n}\n\n/**\n * Returns a deserialized JSON Web Token (JWT) used to identitfy the user to a Firebase service.\n *\n * @remarks\n * Returns the current token if it has not expired or if it will not expire in the next five\n * minutes. Otherwise, this will refresh the token and return a new one.\n *\n * @param user - The user.\n * @param forceRefresh - Force refresh regardless of token expiration.\n *\n * @public\n */\nexport async function getIdTokenResult(\n  user: User,\n  forceRefresh = false\n): Promise<IdTokenResult> {\n  const userInternal = getModularInstance(user) as UserInternal;\n  const token = await userInternal.getIdToken(forceRefresh);\n  const claims = _parseToken(token);\n\n  _assert(\n    claims && claims.exp && claims.auth_time && claims.iat,\n    userInternal.auth,\n    AuthErrorCode.INTERNAL_ERROR\n  );\n  const firebase =\n    typeof claims.firebase === 'object' ? claims.firebase : undefined;\n\n  const signInProvider: string | undefined = firebase?.['sign_in_provider'];\n\n  return {\n    claims,\n    token,\n    authTime: utcTimestampToDateString(\n      secondsStringToMilliseconds(claims.auth_time)\n    )!,\n    issuedAtTime: utcTimestampToDateString(\n      secondsStringToMilliseconds(claims.iat)\n    )!,\n    expirationTime: utcTimestampToDateString(\n      secondsStringToMilliseconds(claims.exp)\n    )!,\n    signInProvider: signInProvider || null,\n    signInSecondFactor: firebase?.['sign_in_second_factor'] || null\n  };\n}\n\nfunction secondsStringToMilliseconds(seconds: string): number {\n  return Number(seconds) * 1000;\n}\n\nexport function _parseToken(token: string): ParsedToken | null {\n  const [algorithm, payload, signature] = token.split('.');\n  if (\n    algorithm === undefined ||\n    payload === undefined ||\n    signature === undefined\n  ) {\n    _logError('JWT malformed, contained fewer than 3 sections');\n    return null;\n  }\n\n  try {\n    const decoded = base64Decode(payload);\n    if (!decoded) {\n      _logError('Failed to decode base64 JWT payload');\n      return null;\n    }\n    return JSON.parse(decoded);\n  } catch (e) {\n    _logError('Caught error parsing JWT payload as JSON', (e as Error)?.toString());\n    return null;\n  }\n}\n\n/**\n * Extract expiresIn TTL from a token by subtracting the expiration from the issuance.\n */\nexport function _tokenExpiresIn(token: string): number {\n  const parsedToken = _parseToken(token);\n  _assert(parsedToken, AuthErrorCode.INTERNAL_ERROR);\n  _assert(typeof parsedToken.exp !== 'undefined', AuthErrorCode.INTERNAL_ERROR);\n  _assert(typeof parsedToken.iat !== 'undefined', AuthErrorCode.INTERNAL_ERROR);\n  return Number(parsedToken.exp) - Number(parsedToken.iat);\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FirebaseError } from '@firebase/util';\n\nimport { UserInternal } from '../../model/user';\nimport { AuthErrorCode } from '../errors';\n\nexport async function _logoutIfInvalidated<T>(\n  user: UserInternal,\n  promise: Promise<T>,\n  bypassAuthState = false\n): Promise<T> {\n  if (bypassAuthState) {\n    return promise;\n  }\n  try {\n    return await promise;\n  } catch (e) {\n    if (e instanceof FirebaseError && isUserInvalidated(e)) {\n      if (user.auth.currentUser === user) {\n        await user.auth.signOut();\n      }\n    }\n\n    throw e;\n  }\n}\n\nfunction isUserInvalidated({ code }: FirebaseError): boolean {\n  return (\n    code === `auth/${AuthErrorCode.USER_DISABLED}` ||\n    code === `auth/${AuthErrorCode.TOKEN_EXPIRED}`\n  );\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FirebaseError } from '@firebase/util';\nimport { UserInternal } from '../../model/user';\nimport { AuthErrorCode } from '../errors';\n\n// Refresh the token five minutes before expiration\nexport const enum Duration {\n  OFFSET = 5 * 1000 * 60,\n  RETRY_BACKOFF_MIN = 30 * 1000,\n  RETRY_BACKOFF_MAX = 16 * 60 * 1000\n}\n\nexport class ProactiveRefresh {\n  private isRunning = false;\n\n  // Node timers and browser timers return fundamentally different types.\n  // We don't actually care what the value is but TS won't accept unknown and\n  // we can't cast properly in both environments.\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private timerId: any | null = null;\n  private errorBackoff = Duration.RETRY_BACKOFF_MIN;\n\n  constructor(private readonly user: UserInternal) {}\n\n  _start(): void {\n    if (this.isRunning) {\n      return;\n    }\n\n    this.isRunning = true;\n    this.schedule();\n  }\n\n  _stop(): void {\n    if (!this.isRunning) {\n      return;\n    }\n\n    this.isRunning = false;\n    if (this.timerId !== null) {\n      clearTimeout(this.timerId);\n    }\n  }\n\n  private getInterval(wasError: boolean): number {\n    if (wasError) {\n      const interval = this.errorBackoff;\n      this.errorBackoff = Math.min(\n        this.errorBackoff * 2,\n        Duration.RETRY_BACKOFF_MAX\n      );\n      return interval;\n    } else {\n      // Reset the error backoff\n      this.errorBackoff = Duration.RETRY_BACKOFF_MIN;\n      const expTime = this.user.stsTokenManager.expirationTime ?? 0;\n      const interval = expTime - Date.now() - Duration.OFFSET;\n\n      return Math.max(0, interval);\n    }\n  }\n\n  private schedule(wasError = false): void {\n    if (!this.isRunning) {\n      // Just in case...\n      return;\n    }\n\n    const interval = this.getInterval(wasError);\n    this.timerId = setTimeout(async () => {\n      await this.iteration();\n    }, interval);\n  }\n\n  private async iteration(): Promise<void> {\n    try {\n      await this.user.getIdToken(true);\n    } catch (e) {\n      // Only retry on network errors\n      if ((e as FirebaseError)?.code === `auth/${AuthErrorCode.NETWORK_REQUEST_FAILED}`) {\n        this.schedule(/* wasError */ true);\n      }\n\n      return;\n    }\n    this.schedule();\n  }\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { UserMetadata as UserMetadataType } from '../../model/public_types';\n\nimport { utcTimestampToDateString } from '../util/time';\n\nexport class UserMetadata implements UserMetadataType {\n  creationTime?: string;\n  lastSignInTime?: string;\n\n  constructor(\n    private createdAt?: string | number,\n    private lastLoginAt?: string | number\n  ) {\n    this._initializeTime();\n  }\n\n  private _initializeTime(): void {\n    this.lastSignInTime = utcTimestampToDateString(this.lastLoginAt);\n    this.creationTime = utcTimestampToDateString(this.createdAt);\n  }\n\n  _copy(metadata: UserMetadata): void {\n    this.createdAt = metadata.createdAt;\n    this.lastLoginAt = metadata.lastLoginAt;\n    this._initializeTime();\n  }\n\n  toJSON(): object {\n    return {\n      createdAt: this.createdAt,\n      lastLoginAt: this.lastLoginAt\n    };\n  }\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { User, UserInfo } from '../../model/public_types';\n\nimport {\n  getAccountInfo,\n  ProviderUserInfo\n} from '../../api/account_management/account';\nimport { UserInternal } from '../../model/user';\nimport { AuthErrorCode } from '../errors';\nimport { _assert } from '../util/assert';\nimport { _logoutIfInvalidated } from './invalidation';\nimport { UserMetadata } from './user_metadata';\nimport { getModularInstance } from '@firebase/util';\n\nexport async function _reloadWithoutSaving(user: UserInternal): Promise<void> {\n  const auth = user.auth;\n  const idToken = await user.getIdToken();\n  const response = await _logoutIfInvalidated(\n    user,\n    getAccountInfo(auth, { idToken })\n  );\n\n  _assert(response?.users.length, auth, AuthErrorCode.INTERNAL_ERROR);\n\n  const coreAccount = response.users[0];\n\n  user._notifyReloadListener(coreAccount);\n\n  const newProviderData = coreAccount.providerUserInfo?.length\n    ? extractProviderData(coreAccount.providerUserInfo)\n    : [];\n\n  const providerData = mergeProviderData(user.providerData, newProviderData);\n\n  // Preserves the non-nonymous status of the stored user, even if no more\n  // credentials (federated or email/password) are linked to the user. If\n  // the user was previously anonymous, then use provider data to update.\n  // On the other hand, if it was not anonymous before, it should never be\n  // considered anonymous now.\n  const oldIsAnonymous = user.isAnonymous;\n  const newIsAnonymous =\n    !(user.email && coreAccount.passwordHash) && !providerData?.length;\n  const isAnonymous = !oldIsAnonymous ? false : newIsAnonymous;\n\n  const updates: Partial<UserInternal> = {\n    uid: coreAccount.localId,\n    displayName: coreAccount.displayName || null,\n    photoURL: coreAccount.photoUrl || null,\n    email: coreAccount.email || null,\n    emailVerified: coreAccount.emailVerified || false,\n    phoneNumber: coreAccount.phoneNumber || null,\n    tenantId: coreAccount.tenantId || null,\n    providerData,\n    metadata: new UserMetadata(coreAccount.createdAt, coreAccount.lastLoginAt),\n    isAnonymous\n  };\n\n  Object.assign(user, updates);\n}\n\n/**\n * Reloads user account data, if signed in.\n *\n * @param user - The user.\n *\n * @public\n */\nexport async function reload(user: User): Promise<void> {\n  const userInternal: UserInternal = getModularInstance(user) as UserInternal;\n  await _reloadWithoutSaving(userInternal);\n\n  // Even though the current user hasn't changed, update\n  // current user will trigger a persistence update w/ the\n  // new info.\n  await userInternal.auth._persistUserIfCurrent(userInternal);\n  userInternal.auth._notifyListenersIfCurrent(userInternal);\n}\n\nfunction mergeProviderData(\n  original: UserInfo[],\n  newData: UserInfo[]\n): UserInfo[] {\n  const deduped = original.filter(\n    o => !newData.some(n => n.providerId === o.providerId)\n  );\n  return [...deduped, ...newData];\n}\n\nfunction extractProviderData(providers: ProviderUserInfo[]): UserInfo[] {\n  return providers.map(({ providerId, ...provider }) => {\n    return {\n      providerId,\n      uid: provider.rawId || '',\n      displayName: provider.displayName || null,\n      email: provider.email || null,\n      phoneNumber: provider.phoneNumber || null,\n      photoURL: provider.photoUrl || null\n    };\n  });\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* eslint-disable camelcase */\n\nimport { querystring } from '@firebase/util';\n\nimport {\n  _getFinalTarget,\n  _performFetchWithErrorHandling,\n  HttpMethod,\n  HttpHeader\n} from '../index';\nimport { FetchProvider } from '../../core/util/fetch_provider';\nimport { Auth } from '../../model/public_types';\nimport { AuthInternal } from '../../model/auth';\n\nexport const enum Endpoint {\n  TOKEN = '/v1/token'\n}\n\n/** The server responses with snake_case; we convert to camelCase */\ninterface RequestStsTokenServerResponse {\n  access_token: string;\n  expires_in: string;\n  refresh_token: string;\n}\n\nexport interface RequestStsTokenResponse {\n  accessToken: string;\n  expiresIn: string;\n  refreshToken: string;\n}\n\nexport async function requestStsToken(\n  auth: Auth,\n  refreshToken: string\n): Promise<RequestStsTokenResponse> {\n  const response = await _performFetchWithErrorHandling<RequestStsTokenServerResponse>(\n    auth,\n    {},\n    async () => {\n      const body = querystring({\n        'grant_type': 'refresh_token',\n        'refresh_token': refreshToken\n      }).slice(1);\n      const { tokenApiHost, apiKey } = auth.config;\n      const url = _getFinalTarget(\n        auth,\n        tokenApiHost,\n        Endpoint.TOKEN,\n        `key=${apiKey}`\n      );\n\n      const headers = await (auth as AuthInternal)._getAdditionalHeaders();\n      headers[HttpHeader.CONTENT_TYPE] = 'application/x-www-form-urlencoded';\n\n      return FetchProvider.fetch()(url, {\n        method: HttpMethod.POST,\n        headers,\n        body\n      });\n    }\n  );\n\n  // The response comes back in snake_case. Convert to camel:\n  return {\n    accessToken: response.access_token,\n    expiresIn: response.expires_in,\n    refreshToken: response.refresh_token\n  };\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FinalizeMfaResponse } from '../../api/authentication/mfa';\nimport { requestStsToken } from '../../api/authentication/token';\nimport { AuthInternal } from '../../model/auth';\nimport { IdTokenResponse } from '../../model/id_token';\nimport { AuthErrorCode } from '../errors';\nimport { PersistedBlob } from '../persistence';\nimport { _assert, debugFail } from '../util/assert';\nimport { _tokenExpiresIn } from './id_token_result';\n\n/**\n * The number of milliseconds before the official expiration time of a token\n * to refresh that token, to provide a buffer for RPCs to complete.\n */\nexport const enum Buffer {\n  TOKEN_REFRESH = 30_000\n}\n\n/**\n * We need to mark this class as internal explicitly to exclude it in the public typings, because\n * it references AuthInternal which has a circular dependency with UserInternal.\n *\n * @internal\n */\nexport class StsTokenManager {\n  refreshToken: string | null = null;\n  accessToken: string | null = null;\n  expirationTime: number | null = null;\n\n  get isExpired(): boolean {\n    return (\n      !this.expirationTime ||\n      Date.now() > this.expirationTime - Buffer.TOKEN_REFRESH\n    );\n  }\n\n  updateFromServerResponse(\n    response: IdTokenResponse | FinalizeMfaResponse\n  ): void {\n    _assert(response.idToken, AuthErrorCode.INTERNAL_ERROR);\n    _assert(\n      typeof response.idToken !== 'undefined',\n      AuthErrorCode.INTERNAL_ERROR\n    );\n    _assert(\n      typeof response.refreshToken !== 'undefined',\n      AuthErrorCode.INTERNAL_ERROR\n    );\n    const expiresIn =\n      'expiresIn' in response && typeof response.expiresIn !== 'undefined'\n        ? Number(response.expiresIn)\n        : _tokenExpiresIn(response.idToken);\n    this.updateTokensAndExpiration(\n      response.idToken,\n      response.refreshToken,\n      expiresIn\n    );\n  }\n\n  async getToken(\n    auth: AuthInternal,\n    forceRefresh = false\n  ): Promise<string | null> {\n    _assert(\n      !this.accessToken || this.refreshToken,\n      auth,\n      AuthErrorCode.TOKEN_EXPIRED\n    );\n\n    if (!forceRefresh && this.accessToken && !this.isExpired) {\n      return this.accessToken;\n    }\n\n    if (this.refreshToken) {\n      await this.refresh(auth, this.refreshToken!);\n      return this.accessToken;\n    }\n\n    return null;\n  }\n\n  clearRefreshToken(): void {\n    this.refreshToken = null;\n  }\n\n  private async refresh(auth: AuthInternal, oldToken: string): Promise<void> {\n    const { accessToken, refreshToken, expiresIn } = await requestStsToken(\n      auth,\n      oldToken\n    );\n    this.updateTokensAndExpiration(\n      accessToken,\n      refreshToken,\n      Number(expiresIn)\n    );\n  }\n\n  private updateTokensAndExpiration(\n    accessToken: string,\n    refreshToken: string,\n    expiresInSec: number\n  ): void {\n    this.refreshToken = refreshToken || null;\n    this.accessToken = accessToken || null;\n    this.expirationTime = Date.now() + expiresInSec * 1000;\n  }\n\n  static fromJSON(appName: string, object: PersistedBlob): StsTokenManager {\n    const { refreshToken, accessToken, expirationTime } = object;\n\n    const manager = new StsTokenManager();\n    if (refreshToken) {\n      _assert(typeof refreshToken === 'string', AuthErrorCode.INTERNAL_ERROR, {\n        appName\n      });\n      manager.refreshToken = refreshToken;\n    }\n    if (accessToken) {\n      _assert(typeof accessToken === 'string', AuthErrorCode.INTERNAL_ERROR, {\n        appName\n      });\n      manager.accessToken = accessToken;\n    }\n    if (expirationTime) {\n      _assert(\n        typeof expirationTime === 'number',\n        AuthErrorCode.INTERNAL_ERROR,\n        {\n          appName\n        }\n      );\n      manager.expirationTime = expirationTime;\n    }\n    return manager;\n  }\n\n  toJSON(): object {\n    return {\n      refreshToken: this.refreshToken,\n      accessToken: this.accessToken,\n      expirationTime: this.expirationTime\n    };\n  }\n\n  _assign(stsTokenManager: StsTokenManager): void {\n    this.accessToken = stsTokenManager.accessToken;\n    this.refreshToken = stsTokenManager.refreshToken;\n    this.expirationTime = stsTokenManager.expirationTime;\n  }\n\n  _clone(): StsTokenManager {\n    return Object.assign(new StsTokenManager(), this.toJSON());\n  }\n\n  _performRefresh(): never {\n    return debugFail('not implemented');\n  }\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { IdTokenResult } from '../../model/public_types';\nimport { NextFn } from '@firebase/util';\n\nimport {\n  APIUserInfo,\n  deleteAccount\n} from '../../api/account_management/account';\nimport { FinalizeMfaResponse } from '../../api/authentication/mfa';\nimport { AuthInternal } from '../../model/auth';\nimport { IdTokenResponse } from '../../model/id_token';\nimport {\n  MutableUserInfo,\n  UserInternal,\n  UserParameters\n} from '../../model/user';\nimport { AuthErrorCode } from '../errors';\nimport { PersistedBlob } from '../persistence';\nimport { _assert } from '../util/assert';\nimport { getIdTokenResult } from './id_token_result';\nimport { _logoutIfInvalidated } from './invalidation';\nimport { ProactiveRefresh } from './proactive_refresh';\nimport { _reloadWithoutSaving, reload } from './reload';\nimport { StsTokenManager } from './token_manager';\nimport { UserMetadata } from './user_metadata';\nimport { ProviderId } from '../../model/enums';\n\nfunction assertStringOrUndefined(\n  assertion: unknown,\n  appName: string\n): asserts assertion is string | undefined {\n  _assert(\n    typeof assertion === 'string' || typeof assertion === 'undefined',\n    AuthErrorCode.INTERNAL_ERROR,\n    { appName }\n  );\n}\n\nexport class UserImpl implements UserInternal {\n  // For the user object, provider is always Firebase.\n  readonly providerId = ProviderId.FIREBASE;\n  stsTokenManager: StsTokenManager;\n  // Last known accessToken so we know when it changes\n  private accessToken: string | null;\n\n  uid: string;\n  auth: AuthInternal;\n  emailVerified: boolean;\n  isAnonymous: boolean;\n  tenantId: string | null;\n  readonly metadata: UserMetadata;\n  providerData: MutableUserInfo[];\n\n  // Optional fields from UserInfo\n  displayName: string | null;\n  email: string | null;\n  phoneNumber: string | null;\n  photoURL: string | null;\n\n  _redirectEventId?: string;\n  private readonly proactiveRefresh = new ProactiveRefresh(this);\n\n  constructor({ uid, auth, stsTokenManager, ...opt }: UserParameters) {\n    this.uid = uid;\n    this.auth = auth;\n    this.stsTokenManager = stsTokenManager;\n    this.accessToken = stsTokenManager.accessToken;\n    this.displayName = opt.displayName || null;\n    this.email = opt.email || null;\n    this.emailVerified = opt.emailVerified || false;\n    this.phoneNumber = opt.phoneNumber || null;\n    this.photoURL = opt.photoURL || null;\n    this.isAnonymous = opt.isAnonymous || false;\n    this.tenantId = opt.tenantId || null;\n    this.providerData = opt.providerData ? [...opt.providerData] : [];\n    this.metadata = new UserMetadata(\n      opt.createdAt || undefined,\n      opt.lastLoginAt || undefined\n    );\n  }\n\n  async getIdToken(forceRefresh?: boolean): Promise<string> {\n    const accessToken = await _logoutIfInvalidated(\n      this,\n      this.stsTokenManager.getToken(this.auth, forceRefresh)\n    );\n    _assert(accessToken, this.auth, AuthErrorCode.INTERNAL_ERROR);\n\n    if (this.accessToken !== accessToken) {\n      this.accessToken = accessToken;\n      await this.auth._persistUserIfCurrent(this);\n      this.auth._notifyListenersIfCurrent(this);\n    }\n\n    return accessToken;\n  }\n\n  getIdTokenResult(forceRefresh?: boolean): Promise<IdTokenResult> {\n    return getIdTokenResult(this, forceRefresh);\n  }\n\n  reload(): Promise<void> {\n    return reload(this);\n  }\n\n  private reloadUserInfo: APIUserInfo | null = null;\n  private reloadListener: NextFn<APIUserInfo> | null = null;\n\n  _assign(user: UserInternal): void {\n    if (this === user) {\n      return;\n    }\n    _assert(this.uid === user.uid, this.auth, AuthErrorCode.INTERNAL_ERROR);\n    this.displayName = user.displayName;\n    this.photoURL = user.photoURL;\n    this.email = user.email;\n    this.emailVerified = user.emailVerified;\n    this.phoneNumber = user.phoneNumber;\n    this.isAnonymous = user.isAnonymous;\n    this.tenantId = user.tenantId;\n    this.providerData = user.providerData.map(userInfo => ({ ...userInfo }));\n    this.metadata._copy(user.metadata);\n    this.stsTokenManager._assign(user.stsTokenManager);\n  }\n\n  _clone(auth: AuthInternal): UserInternal {\n    return new UserImpl({\n      ...this,\n      auth,\n      stsTokenManager: this.stsTokenManager._clone()\n    });\n  }\n\n  _onReload(callback: NextFn<APIUserInfo>): void {\n    // There should only ever be one listener, and that is a single instance of MultiFactorUser\n    _assert(!this.reloadListener, this.auth, AuthErrorCode.INTERNAL_ERROR);\n    this.reloadListener = callback;\n    if (this.reloadUserInfo) {\n      this._notifyReloadListener(this.reloadUserInfo);\n      this.reloadUserInfo = null;\n    }\n  }\n\n  _notifyReloadListener(userInfo: APIUserInfo): void {\n    if (this.reloadListener) {\n      this.reloadListener(userInfo);\n    } else {\n      // If no listener is subscribed yet, save the result so it's available when they do subscribe\n      this.reloadUserInfo = userInfo;\n    }\n  }\n\n  _startProactiveRefresh(): void {\n    this.proactiveRefresh._start();\n  }\n\n  _stopProactiveRefresh(): void {\n    this.proactiveRefresh._stop();\n  }\n\n  async _updateTokensIfNecessary(\n    response: IdTokenResponse | FinalizeMfaResponse,\n    reload = false\n  ): Promise<void> {\n    let tokensRefreshed = false;\n    if (\n      response.idToken &&\n      response.idToken !== this.stsTokenManager.accessToken\n    ) {\n      this.stsTokenManager.updateFromServerResponse(response);\n      tokensRefreshed = true;\n    }\n\n    if (reload) {\n      await _reloadWithoutSaving(this);\n    }\n\n    await this.auth._persistUserIfCurrent(this);\n    if (tokensRefreshed) {\n      this.auth._notifyListenersIfCurrent(this);\n    }\n  }\n\n  async delete(): Promise<void> {\n    const idToken = await this.getIdToken();\n    await _logoutIfInvalidated(this, deleteAccount(this.auth, { idToken }));\n    this.stsTokenManager.clearRefreshToken();\n\n    // TODO: Determine if cancellable-promises are necessary to use in this class so that delete()\n    //       cancels pending actions...\n\n    return this.auth.signOut();\n  }\n\n  toJSON(): PersistedBlob {\n    return {\n      uid: this.uid,\n      email: this.email || undefined,\n      emailVerified: this.emailVerified,\n      displayName: this.displayName || undefined,\n      isAnonymous: this.isAnonymous,\n      photoURL: this.photoURL || undefined,\n      phoneNumber: this.phoneNumber || undefined,\n      tenantId: this.tenantId || undefined,\n      providerData: this.providerData.map(userInfo => ({ ...userInfo })),\n      stsTokenManager: this.stsTokenManager.toJSON(),\n      // Redirect event ID must be maintained in case there is a pending\n      // redirect event.\n      _redirectEventId: this._redirectEventId,\n      ...this.metadata.toJSON(),\n\n      // Required for compatibility with the legacy SDK (go/firebase-auth-sdk-persistence-parsing):\n      apiKey: this.auth.config.apiKey,\n      appName: this.auth.name\n      // Missing authDomain will be tolerated by the legacy SDK.\n      // stsTokenManager.apiKey isn't actually required (despite the legacy SDK persisting it).\n    };\n  }\n\n  get refreshToken(): string {\n    return this.stsTokenManager.refreshToken || '';\n  }\n\n  static _fromJSON(auth: AuthInternal, object: PersistedBlob): UserInternal {\n    const displayName = object.displayName ?? undefined;\n    const email = object.email ?? undefined;\n    const phoneNumber = object.phoneNumber ?? undefined;\n    const photoURL = object.photoURL ?? undefined;\n    const tenantId = object.tenantId ?? undefined;\n    const _redirectEventId = object._redirectEventId ?? undefined;\n    const createdAt = object.createdAt ?? undefined;\n    const lastLoginAt = object.lastLoginAt ?? undefined;\n    const {\n      uid,\n      emailVerified,\n      isAnonymous,\n      providerData,\n      stsTokenManager: plainObjectTokenManager\n    } = object;\n\n    _assert(uid && plainObjectTokenManager, auth, AuthErrorCode.INTERNAL_ERROR);\n\n    const stsTokenManager = StsTokenManager.fromJSON(\n      this.name,\n      plainObjectTokenManager as PersistedBlob\n    );\n\n    _assert(typeof uid === 'string', auth, AuthErrorCode.INTERNAL_ERROR);\n    assertStringOrUndefined(displayName, auth.name);\n    assertStringOrUndefined(email, auth.name);\n    _assert(\n      typeof emailVerified === 'boolean',\n      auth,\n      AuthErrorCode.INTERNAL_ERROR\n    );\n    _assert(\n      typeof isAnonymous === 'boolean',\n      auth,\n      AuthErrorCode.INTERNAL_ERROR\n    );\n    assertStringOrUndefined(phoneNumber, auth.name);\n    assertStringOrUndefined(photoURL, auth.name);\n    assertStringOrUndefined(tenantId, auth.name);\n    assertStringOrUndefined(_redirectEventId, auth.name);\n    assertStringOrUndefined(createdAt, auth.name);\n    assertStringOrUndefined(lastLoginAt, auth.name);\n    const user = new UserImpl({\n      uid,\n      auth,\n      email,\n      emailVerified,\n      displayName,\n      isAnonymous,\n      photoURL,\n      phoneNumber,\n      tenantId,\n      stsTokenManager,\n      createdAt,\n      lastLoginAt\n    });\n\n    if (providerData && Array.isArray(providerData)) {\n      user.providerData = providerData.map(userInfo => ({ ...userInfo }));\n    }\n\n    if (_redirectEventId) {\n      user._redirectEventId = _redirectEventId;\n    }\n\n    return user;\n  }\n\n  /**\n   * Initialize a User from an idToken server response\n   * @param auth\n   * @param idTokenResponse\n   */\n  static async _fromIdTokenResponse(\n    auth: AuthInternal,\n    idTokenResponse: IdTokenResponse,\n    isAnonymous: boolean = false\n  ): Promise<UserInternal> {\n    const stsTokenManager = new StsTokenManager();\n    stsTokenManager.updateFromServerResponse(idTokenResponse);\n\n    // Initialize the Firebase Auth user.\n    const user = new UserImpl({\n      uid: idTokenResponse.localId,\n      auth,\n      stsTokenManager,\n      isAnonymous\n    });\n\n    // Updates the user info and data and resolves with a user instance.\n    await _reloadWithoutSaving(user);\n    return user;\n  }\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Persistence } from '../../model/public_types';\n\nimport {\n  PersistenceInternal,\n  PersistenceType,\n  PersistenceValue,\n  StorageEventListener\n} from '../persistence';\n\nexport class InMemoryPersistence implements PersistenceInternal {\n  static type: 'NONE' = 'NONE';\n  readonly type = PersistenceType.NONE;\n  storage: Record<string, PersistenceValue> = {};\n\n  async _isAvailable(): Promise<boolean> {\n    return true;\n  }\n\n  async _set(key: string, value: PersistenceValue): Promise<void> {\n    this.storage[key] = value;\n  }\n\n  async _get<T extends PersistenceValue>(key: string): Promise<T | null> {\n    const value = this.storage[key];\n    return value === undefined ? null : (value as T);\n  }\n\n  async _remove(key: string): Promise<void> {\n    delete this.storage[key];\n  }\n\n  _addListener(_key: string, _listener: StorageEventListener): void {\n    // Listeners are not supported for in-memory storage since it cannot be shared across windows/workers\n    return;\n  }\n\n  _removeListener(_key: string, _listener: StorageEventListener): void {\n    // Listeners are not supported for in-memory storage since it cannot be shared across windows/workers\n    return;\n  }\n}\n\n/**\n * An implementation of {@link Persistence} of type 'NONE'.\n *\n * @public\n */\nexport const inMemoryPersistence: Persistence = InMemoryPersistence;\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ApiKey, AppName, AuthInternal } from '../../model/auth';\nimport { UserInternal } from '../../model/user';\nimport { PersistedBlob, PersistenceInternal } from '../persistence';\nimport { UserImpl } from '../user/user_impl';\nimport { _getInstance } from '../util/instantiator';\nimport { inMemoryPersistence } from './in_memory';\n\nexport const enum KeyName {\n  AUTH_USER = 'authUser',\n  AUTH_EVENT = 'authEvent',\n  REDIRECT_USER = 'redirectUser',\n  PERSISTENCE_USER = 'persistence'\n}\nexport const enum Namespace {\n  PERSISTENCE = 'firebase'\n}\n\nexport function _persistenceKeyName(\n  key: string,\n  apiKey: ApiKey,\n  appName: AppName\n): string {\n  return `${Namespace.PERSISTENCE}:${key}:${apiKey}:${appName}`;\n}\n\nexport class PersistenceUserManager {\n  private readonly fullUserKey: string;\n  private readonly fullPersistenceKey: string;\n  private readonly boundEventHandler: () => void;\n\n  private constructor(\n    public persistence: PersistenceInternal,\n    private readonly auth: AuthInternal,\n    private readonly userKey: string\n  ) {\n    const { config, name } = this.auth;\n    this.fullUserKey = _persistenceKeyName(this.userKey, config.apiKey, name);\n    this.fullPersistenceKey = _persistenceKeyName(\n      KeyName.PERSISTENCE_USER,\n      config.apiKey,\n      name\n    );\n    this.boundEventHandler = auth._onStorageEvent.bind(auth);\n    this.persistence._addListener(this.fullUserKey, this.boundEventHandler);\n  }\n\n  setCurrentUser(user: UserInternal): Promise<void> {\n    return this.persistence._set(this.fullUserKey, user.toJSON());\n  }\n\n  async getCurrentUser(): Promise<UserInternal | null> {\n    const blob = await this.persistence._get<PersistedBlob>(this.fullUserKey);\n    return blob ? UserImpl._fromJSON(this.auth, blob) : null;\n  }\n\n  removeCurrentUser(): Promise<void> {\n    return this.persistence._remove(this.fullUserKey);\n  }\n\n  savePersistenceForRedirect(): Promise<void> {\n    return this.persistence._set(\n      this.fullPersistenceKey,\n      this.persistence.type\n    );\n  }\n\n  async setPersistence(newPersistence: PersistenceInternal): Promise<void> {\n    if (this.persistence === newPersistence) {\n      return;\n    }\n\n    const currentUser = await this.getCurrentUser();\n    await this.removeCurrentUser();\n\n    this.persistence = newPersistence;\n\n    if (currentUser) {\n      return this.setCurrentUser(currentUser);\n    }\n  }\n\n  delete(): void {\n    this.persistence._removeListener(this.fullUserKey, this.boundEventHandler);\n  }\n\n  static async create(\n    auth: AuthInternal,\n    persistenceHierarchy: PersistenceInternal[],\n    userKey = KeyName.AUTH_USER\n  ): Promise<PersistenceUserManager> {\n    if (!persistenceHierarchy.length) {\n      return new PersistenceUserManager(\n        _getInstance(inMemoryPersistence),\n        auth,\n        userKey\n      );\n    }\n\n    // Eliminate any persistences that are not available\n    const availablePersistences = (\n      await Promise.all(\n        persistenceHierarchy.map(async persistence => {\n          if (await persistence._isAvailable()) {\n            return persistence;\n          }\n          return undefined;\n        })\n      )\n    ).filter(persistence => persistence) as PersistenceInternal[];\n\n    // Fall back to the first persistence listed, or in memory if none available\n    let selectedPersistence =\n      availablePersistences[0] ||\n      _getInstance<PersistenceInternal>(inMemoryPersistence);\n\n    const key = _persistenceKeyName(userKey, auth.config.apiKey, auth.name);\n\n    // Pull out the existing user, setting the chosen persistence to that\n    // persistence if the user exists.\n    let userToMigrate: UserInternal | null = null;\n    // Note, here we check for a user in _all_ persistences, not just the\n    // ones deemed available. If we can migrate a user out of a broken\n    // persistence, we will (but only if that persistence supports migration).\n    for (const persistence of persistenceHierarchy) {\n      try {\n        const blob = await persistence._get<PersistedBlob>(key);\n        if (blob) {\n          const user = UserImpl._fromJSON(auth, blob); // throws for unparsable blob (wrong format)\n          if (persistence !== selectedPersistence) {\n            userToMigrate = user;\n          }\n          selectedPersistence = persistence;\n          break;\n        }\n      } catch {}\n    }\n\n    // If we find the user in a persistence that does support migration, use\n    // that migration path (of only persistences that support migration)\n    const migrationHierarchy = availablePersistences.filter(\n      p => p._shouldAllowMigration\n    );\n\n    // If the persistence does _not_ allow migration, just finish off here\n    if (\n      !selectedPersistence._shouldAllowMigration ||\n      !migrationHierarchy.length\n    ) {\n      return new PersistenceUserManager(selectedPersistence, auth, userKey);\n    }\n\n    selectedPersistence = migrationHierarchy[0];\n    if (userToMigrate) {\n      // This normally shouldn't throw since chosenPersistence.isAvailable() is true, but if it does\n      // we'll just let it bubble to surface the error.\n      await selectedPersistence._set(key, userToMigrate.toJSON());\n    }\n\n    // Attempt to clear the key in other persistences but ignore errors. This helps prevent issues\n    // such as users getting stuck with a previous account after signing out and refreshing the tab.\n    await Promise.all(\n      persistenceHierarchy.map(async persistence => {\n        if (persistence !== selectedPersistence) {\n          try {\n            await persistence._remove(key);\n          } catch {}\n        }\n      })\n    );\n    return new PersistenceUserManager(selectedPersistence, auth, userKey);\n  }\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { isIE, getUA } from '@firebase/util';\n\ninterface NavigatorStandalone extends Navigator {\n  standalone?: unknown;\n}\n\ninterface Document {\n  documentMode?: number;\n}\n\n/**\n * Enums for Browser name.\n */\nexport const enum BrowserName {\n  ANDROID = 'Android',\n  BLACKBERRY = 'Blackberry',\n  EDGE = 'Edge',\n  FIREFOX = 'Firefox',\n  IE = 'IE',\n  IEMOBILE = 'IEMobile',\n  OPERA = 'Opera',\n  OTHER = 'Other',\n  CHROME = 'Chrome',\n  SAFARI = 'Safari',\n  SILK = 'Silk',\n  WEBOS = 'Webos'\n}\n\n/**\n * Determine the browser for the purposes of reporting usage to the API\n */\nexport function _getBrowserName(userAgent: string): BrowserName | string {\n  const ua = userAgent.toLowerCase();\n  if (ua.includes('opera/') || ua.includes('opr/') || ua.includes('opios/')) {\n    return BrowserName.OPERA;\n  } else if (_isIEMobile(ua)) {\n    // Windows phone IEMobile browser.\n    return BrowserName.IEMOBILE;\n  } else if (ua.includes('msie') || ua.includes('trident/')) {\n    return BrowserName.IE;\n  } else if (ua.includes('edge/')) {\n    return BrowserName.EDGE;\n  } else if (_isFirefox(ua)) {\n    return BrowserName.FIREFOX;\n  } else if (ua.includes('silk/')) {\n    return BrowserName.SILK;\n  } else if (_isBlackBerry(ua)) {\n    // Blackberry browser.\n    return BrowserName.BLACKBERRY;\n  } else if (_isWebOS(ua)) {\n    // WebOS default browser.\n    return BrowserName.WEBOS;\n  } else if (_isSafari(ua)) {\n    return BrowserName.SAFARI;\n  } else if (\n    (ua.includes('chrome/') || _isChromeIOS(ua)) &&\n    !ua.includes('edge/')\n  ) {\n    return BrowserName.CHROME;\n  } else if (_isAndroid(ua)) {\n    // Android stock browser.\n    return BrowserName.ANDROID;\n  } else {\n    // Most modern browsers have name/version at end of user agent string.\n    const re = /([a-zA-Z\\d\\.]+)\\/[a-zA-Z\\d\\.]*$/;\n    const matches = userAgent.match(re);\n    if (matches?.length === 2) {\n      return matches[1];\n    }\n  }\n  return BrowserName.OTHER;\n}\n\nexport function _isFirefox(ua = getUA()): boolean {\n  return /firefox\\//i.test(ua);\n}\n\nexport function _isSafari(userAgent = getUA()): boolean {\n  const ua = userAgent.toLowerCase();\n  return (\n    ua.includes('safari/') &&\n    !ua.includes('chrome/') &&\n    !ua.includes('crios/') &&\n    !ua.includes('android')\n  );\n}\n\nexport function _isChromeIOS(ua = getUA()): boolean {\n  return /crios\\//i.test(ua);\n}\n\nexport function _isIEMobile(ua = getUA()): boolean {\n  return /iemobile/i.test(ua);\n}\n\nexport function _isAndroid(ua = getUA()): boolean {\n  return /android/i.test(ua);\n}\n\nexport function _isBlackBerry(ua = getUA()): boolean {\n  return /blackberry/i.test(ua);\n}\n\nexport function _isWebOS(ua = getUA()): boolean {\n  return /webos/i.test(ua);\n}\n\nexport function _isIOS(ua = getUA()): boolean {\n  return /iphone|ipad|ipod/i.test(ua) ||\n      (/macintosh/i.test(ua) && /mobile/i.test(ua));\n}\n\nexport function _isIOS7Or8(ua = getUA()): boolean {\n  return (\n    /(iPad|iPhone|iPod).*OS 7_\\d/i.test(ua) ||\n    /(iPad|iPhone|iPod).*OS 8_\\d/i.test(ua)\n  );\n}\n\nexport function _isIOSStandalone(ua = getUA()): boolean {\n  return _isIOS(ua) && !!(window.navigator as NavigatorStandalone)?.standalone;\n}\n\nexport function _isIE10(): boolean {\n  return isIE() && (document as Document).documentMode === 10;\n}\n\nexport function _isMobileBrowser(ua: string = getUA()): boolean {\n  // TODO: implement getBrowserName equivalent for OS.\n  return (\n    _isIOS(ua) ||\n    _isAndroid(ua) ||\n    _isWebOS(ua) ||\n    _isBlackBerry(ua) ||\n    /windows phone/i.test(ua) ||\n    _isIEMobile(ua)\n  );\n}\n\nexport function _isIframe(): boolean {\n  try {\n    // Check that the current window is not the top window.\n    // If so, return true.\n    return !!(window && window !== window.top);\n  } catch (e) {\n    return false;\n  }\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { SDK_VERSION } from '@firebase/app';\nimport { _getBrowserName } from './browser';\nimport { getUA } from '@firebase/util';\n\nexport const enum ClientImplementation {\n  CORE = 'JsCore'\n}\n\n/**\n * @internal\n */\nexport const enum ClientPlatform {\n  BROWSER = 'Browser',\n  NODE = 'Node',\n  REACT_NATIVE = 'ReactNative',\n  CORDOVA = 'Cordova',\n  WORKER = 'Worker'\n}\n\n/*\n * Determine the SDK version string\n */\nexport function _getClientVersion(\n  clientPlatform: ClientPlatform,\n  frameworks: readonly string[] = []\n): string {\n  let reportedPlatform: string;\n  switch (clientPlatform) {\n    case ClientPlatform.BROWSER:\n      // In a browser environment, report the browser name.\n      reportedPlatform = _getBrowserName(getUA());\n      break;\n    case ClientPlatform.WORKER:\n      // Technically a worker runs from a browser but we need to differentiate a\n      // worker from a browser.\n      // For example: Chrome-Worker/JsCore/4.9.1/FirebaseCore-web.\n      reportedPlatform = `${_getBrowserName(getUA())}-${clientPlatform}`;\n      break;\n    default:\n      reportedPlatform = clientPlatform;\n  }\n  const reportedFrameworks = frameworks.length\n    ? frameworks.join(',')\n    : 'FirebaseCore-web'; /* default value if no other framework is used */\n  return `${reportedPlatform}/${ClientImplementation.CORE}/${SDK_VERSION}/${reportedFrameworks}`;\n}\n","/**\n * @license\n * Copyright 2022 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { AuthInternal } from '../../model/auth';\nimport { Unsubscribe, User } from '../../model/public_types';\nimport { AuthErrorCode } from '../errors';\n\ninterface MiddlewareEntry {\n  (user: User | null): Promise<void>;\n  onAbort?: () => void;\n}\n\nexport class AuthMiddlewareQueue {\n  private readonly queue: MiddlewareEntry[] = [];\n\n  constructor(private readonly auth: AuthInternal) {}\n\n  pushCallback(\n      callback: (user: User | null) => void | Promise<void>,\n      onAbort?: () => void): Unsubscribe {\n    // The callback could be sync or async. Wrap it into a\n    // function that is always async.\n    const wrappedCallback: MiddlewareEntry =\n      (user: User | null): Promise<void> => new Promise((resolve, reject) => {\n        try {\n          const result = callback(user);\n          // Either resolve with existing promise or wrap a non-promise\n          // return value into a promise.\n          resolve(result);\n        } catch (e) {\n          // Sync callback throws.\n          reject(e);\n        }\n      });\n    // Attach the onAbort if present\n    wrappedCallback.onAbort = onAbort;\n    this.queue.push(wrappedCallback);\n\n    const index = this.queue.length - 1;\n    return () => {\n      // Unsubscribe. Replace with no-op. Do not remove from array, or it will disturb\n      // indexing of other elements.\n      this.queue[index] = () => Promise.resolve();\n    };\n  }\n\n  async runMiddleware(nextUser: User | null): Promise<void> {\n    if (this.auth.currentUser === nextUser) {\n      return;\n    }\n\n    // While running the middleware, build a temporary stack of onAbort\n    // callbacks to call if one middleware callback rejects.\n\n    const onAbortStack: Array<() => void> = [];\n    try {\n      for (const beforeStateCallback of this.queue) {\n        await beforeStateCallback(nextUser);\n\n        // Only push the onAbort if the callback succeeds\n        if (beforeStateCallback.onAbort) {\n          onAbortStack.push(beforeStateCallback.onAbort);\n        }\n      }\n    } catch (e) {\n      // Run all onAbort, with separate try/catch to ignore any errors and\n      // continue\n      onAbortStack.reverse();\n      for (const onAbort of onAbortStack) {\n        try {\n          onAbort();\n        } catch (_) { /* swallow error */}\n      }\n\n      throw this.auth._errorFactory.create(\n        AuthErrorCode.LOGIN_BLOCKED, { originalMessage: (e as Error)?.message });\n    }\n  }\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { _FirebaseService, FirebaseApp } from '@firebase/app';\nimport { Provider } from '@firebase/component';\nimport {\n  Auth,\n  AuthErrorMap,\n  AuthSettings,\n  EmulatorConfig,\n  NextOrObserver,\n  Persistence,\n  PopupRedirectResolver,\n  User,\n  UserCredential,\n  CompleteFn,\n  ErrorFn,\n  NextFn,\n  Unsubscribe\n} from '../../model/public_types';\nimport {\n  createSubscribe,\n  ErrorFactory,\n  FirebaseError,\n  getModularInstance,\n  Observer,\n  Subscribe\n} from '@firebase/util';\n\nimport { AuthInternal, ConfigInternal } from '../../model/auth';\nimport { PopupRedirectResolverInternal } from '../../model/popup_redirect';\nimport { UserInternal } from '../../model/user';\nimport {\n  AuthErrorCode,\n  AuthErrorParams,\n  ErrorMapRetriever,\n  _DEFAULT_AUTH_ERROR_FACTORY\n} from '../errors';\nimport { PersistenceInternal } from '../persistence';\nimport {\n  KeyName,\n  PersistenceUserManager\n} from '../persistence/persistence_user_manager';\nimport { _reloadWithoutSaving } from '../user/reload';\nimport { _assert } from '../util/assert';\nimport { _getInstance } from '../util/instantiator';\nimport { _getUserLanguage } from '../util/navigator';\nimport { _getClientVersion } from '../util/version';\nimport { HttpHeader } from '../../api';\nimport { AuthMiddlewareQueue } from './middleware';\n\ninterface AsyncAction {\n  (): Promise<void>;\n}\n\nexport const enum DefaultConfig {\n  TOKEN_API_HOST = 'securetoken.googleapis.com',\n  API_HOST = 'identitytoolkit.googleapis.com',\n  API_SCHEME = 'https'\n}\n\nexport class AuthImpl implements AuthInternal, _FirebaseService {\n  currentUser: User | null = null;\n  emulatorConfig: EmulatorConfig | null = null;\n  private operations = Promise.resolve();\n  private persistenceManager?: PersistenceUserManager;\n  private redirectPersistenceManager?: PersistenceUserManager;\n  private authStateSubscription = new Subscription<User>(this);\n  private idTokenSubscription = new Subscription<User>(this);\n  private readonly beforeStateQueue = new AuthMiddlewareQueue(this);\n  private redirectUser: UserInternal | null = null;\n  private isProactiveRefreshEnabled = false;\n\n  // Any network calls will set this to true and prevent subsequent emulator\n  // initialization\n  _canInitEmulator = true;\n  _isInitialized = false;\n  _deleted = false;\n  _initializationPromise: Promise<void> | null = null;\n  _popupRedirectResolver: PopupRedirectResolverInternal | null = null;\n  _errorFactory: ErrorFactory<AuthErrorCode, AuthErrorParams> =\n    _DEFAULT_AUTH_ERROR_FACTORY;\n  readonly name: string;\n\n  // Tracks the last notified UID for state change listeners to prevent\n  // repeated calls to the callbacks. Undefined means it's never been\n  // called, whereas null means it's been called with a signed out user\n  private lastNotifiedUid: string | null | undefined = undefined;\n\n  languageCode: string | null = null;\n  tenantId: string | null = null;\n  settings: AuthSettings = { appVerificationDisabledForTesting: false };\n\n  constructor(\n    public readonly app: FirebaseApp,\n    private readonly heartbeatServiceProvider: Provider<'heartbeat'>,\n    public readonly config: ConfigInternal\n  ) {\n    this.name = app.name;\n    this.clientVersion = config.sdkClientVersion;\n  }\n\n  _initializeWithPersistence(\n    persistenceHierarchy: PersistenceInternal[],\n    popupRedirectResolver?: PopupRedirectResolver\n  ): Promise<void> {\n    if (popupRedirectResolver) {\n      this._popupRedirectResolver = _getInstance(popupRedirectResolver);\n    }\n\n    // Have to check for app deletion throughout initialization (after each\n    // promise resolution)\n    this._initializationPromise = this.queue(async () => {\n      if (this._deleted) {\n        return;\n      }\n\n      this.persistenceManager = await PersistenceUserManager.create(\n        this,\n        persistenceHierarchy\n      );\n\n      if (this._deleted) {\n        return;\n      }\n\n      // Initialize the resolver early if necessary (only applicable to web:\n      // this will cause the iframe to load immediately in certain cases)\n      if (this._popupRedirectResolver?._shouldInitProactively) {\n        // If this fails, don't halt auth loading\n        try {\n          await this._popupRedirectResolver._initialize(this);\n        } catch (e) { /* Ignore the error */ }\n      }\n\n      await this.initializeCurrentUser(popupRedirectResolver);\n      this.lastNotifiedUid = this.currentUser?.uid || null;\n\n      if (this._deleted) {\n        return;\n      }\n\n      this._isInitialized = true;\n    });\n\n    return this._initializationPromise;\n  }\n\n  /**\n   * If the persistence is changed in another window, the user manager will let us know\n   */\n  async _onStorageEvent(): Promise<void> {\n    if (this._deleted) {\n      return;\n    }\n\n    const user = await this.assertedPersistence.getCurrentUser();\n\n    if (!this.currentUser && !user) {\n      // No change, do nothing (was signed out and remained signed out).\n      return;\n    }\n\n    // If the same user is to be synchronized.\n    if (this.currentUser && user && this.currentUser.uid === user.uid) {\n      // Data update, simply copy data changes.\n      this._currentUser._assign(user);\n      // If tokens changed from previous user tokens, this will trigger\n      // notifyAuthListeners_.\n      await this.currentUser.getIdToken();\n      return;\n    }\n\n    // Update current Auth state. Either a new login or logout.\n    // Skip blocking callbacks, they should not apply to a change in another tab.\n    await this._updateCurrentUser(user, /* skipBeforeStateCallbacks */ true);\n  }\n\n  private async initializeCurrentUser(\n    popupRedirectResolver?: PopupRedirectResolver\n  ): Promise<void> {\n    // First check to see if we have a pending redirect event.\n    const previouslyStoredUser =\n      (await this.assertedPersistence.getCurrentUser()) as UserInternal | null;\n    let futureCurrentUser = previouslyStoredUser;\n    let needsTocheckMiddleware = false;\n    if (popupRedirectResolver && this.config.authDomain) {\n      await this.getOrInitRedirectPersistenceManager();\n      const redirectUserEventId = this.redirectUser?._redirectEventId;\n      const storedUserEventId = futureCurrentUser?._redirectEventId;\n      const result = await this.tryRedirectSignIn(popupRedirectResolver);\n\n      // If the stored user (i.e. the old \"currentUser\") has a redirectId that\n      // matches the redirect user, then we want to initially sign in with the\n      // new user object from result.\n      // TODO(samgho): More thoroughly test all of this\n      if (\n        (!redirectUserEventId || redirectUserEventId === storedUserEventId) &&\n        result?.user\n      ) {\n        futureCurrentUser = result.user as UserInternal;\n        needsTocheckMiddleware = true;\n      }\n    }\n\n    // If no user in persistence, there is no current user. Set to null.\n    if (!futureCurrentUser) {\n      return this.directlySetCurrentUser(null);\n    }\n\n    if (!futureCurrentUser._redirectEventId) {\n      // This isn't a redirect link operation, we can reload and bail.\n      // First though, ensure that we check the middleware is happy.\n      if (needsTocheckMiddleware) {\n        try {\n          await this.beforeStateQueue.runMiddleware(futureCurrentUser);\n        } catch(e) {\n          futureCurrentUser = previouslyStoredUser;\n          // We know this is available since the bit is only set when the\n          // resolver is available\n          this._popupRedirectResolver!._overrideRedirectResult(this, () => Promise.reject(e));\n        }\n      }\n  \n      if (futureCurrentUser) {\n        return this.reloadAndSetCurrentUserOrClear(futureCurrentUser);\n      } else {\n        return this.directlySetCurrentUser(null);\n      }\n    }\n\n    _assert(this._popupRedirectResolver, this, AuthErrorCode.ARGUMENT_ERROR);\n    await this.getOrInitRedirectPersistenceManager();\n\n    // If the redirect user's event ID matches the current user's event ID,\n    // DO NOT reload the current user, otherwise they'll be cleared from storage.\n    // This is important for the reauthenticateWithRedirect() flow.\n    if (\n      this.redirectUser &&\n      this.redirectUser._redirectEventId === futureCurrentUser._redirectEventId\n    ) {\n      return this.directlySetCurrentUser(futureCurrentUser);\n    }\n\n    return this.reloadAndSetCurrentUserOrClear(futureCurrentUser);\n  }\n\n  private async tryRedirectSignIn(\n    redirectResolver: PopupRedirectResolver\n  ): Promise<UserCredential | null> {\n    // The redirect user needs to be checked (and signed in if available)\n    // during auth initialization. All of the normal sign in and link/reauth\n    // flows call back into auth and push things onto the promise queue. We\n    // need to await the result of the redirect sign in *inside the promise\n    // queue*. This presents a problem: we run into deadlock. See:\n    //    > [Initialization] \n    //    > [<other queue tasks>] \n    //     [getRedirectResult] <\n    //    where [] are tasks on the queue and arrows denote awaits\n    // Initialization will never complete because it's waiting on something\n    // that's waiting for initialization to complete!\n    //\n    // Instead, this method calls getRedirectResult() (stored in\n    // _completeRedirectFn) with an optional parameter that instructs all of\n    // the underlying auth operations to skip anything that mutates auth state.\n\n    let result: UserCredential | null = null;\n    try {\n      // We know this._popupRedirectResolver is set since redirectResolver\n      // is passed in. The _completeRedirectFn expects the unwrapped extern.\n      result = await this._popupRedirectResolver!._completeRedirectFn(\n        this,\n        redirectResolver,\n        true\n      );\n    } catch (e) {\n      // Swallow any errors here; the code can retrieve them in\n      // getRedirectResult().\n      await this._setRedirectUser(null);\n    }\n\n    return result;\n  }\n\n  private async reloadAndSetCurrentUserOrClear(\n    user: UserInternal\n  ): Promise<void> {\n    try {\n      await _reloadWithoutSaving(user);\n    } catch (e) {\n      if ((e as FirebaseError)?.code !== `auth/${AuthErrorCode.NETWORK_REQUEST_FAILED}`) {\n        // Something's wrong with the user's token. Log them out and remove\n        // them from storage\n        return this.directlySetCurrentUser(null);\n      }\n    }\n\n    return this.directlySetCurrentUser(user);\n  }\n\n  useDeviceLanguage(): void {\n    this.languageCode = _getUserLanguage();\n  }\n\n  async _delete(): Promise<void> {\n    this._deleted = true;\n  }\n\n  async updateCurrentUser(userExtern: User | null): Promise<void> {\n    // The public updateCurrentUser method needs to make a copy of the user,\n    // and also check that the project matches\n    const user = userExtern\n      ? (getModularInstance(userExtern) as UserInternal)\n      : null;\n    if (user) {\n      _assert(\n        user.auth.config.apiKey === this.config.apiKey,\n        this,\n        AuthErrorCode.INVALID_AUTH\n      );\n    }\n    return this._updateCurrentUser(user && user._clone(this));\n  }\n\n  async _updateCurrentUser(user: User | null, skipBeforeStateCallbacks: boolean = false): Promise<void> {\n    if (this._deleted) {\n      return;\n    }\n    if (user) {\n      _assert(\n        this.tenantId === user.tenantId,\n        this,\n        AuthErrorCode.TENANT_ID_MISMATCH\n      );\n    }\n\n    if (!skipBeforeStateCallbacks) {\n      await this.beforeStateQueue.runMiddleware(user);\n    }\n\n    return this.queue(async () => {\n      await this.directlySetCurrentUser(user as UserInternal | null);\n      this.notifyAuthListeners();\n    });\n  }\n\n  async signOut(): Promise<void> {\n    // Run first, to block _setRedirectUser() if any callbacks fail.\n    await this.beforeStateQueue.runMiddleware(null);\n    // Clear the redirect user when signOut is called\n    if (this.redirectPersistenceManager || this._popupRedirectResolver) {\n      await this._setRedirectUser(null);\n    }\n\n    // Prevent callbacks from being called again in _updateCurrentUser, as\n    // they were already called in the first line.\n    return this._updateCurrentUser(null, /* skipBeforeStateCallbacks */ true);\n  }\n\n  setPersistence(persistence: Persistence): Promise<void> {\n    return this.queue(async () => {\n      await this.assertedPersistence.setPersistence(_getInstance(persistence));\n    });\n  }\n\n  _getPersistence(): string {\n    return this.assertedPersistence.persistence.type;\n  }\n\n  _updateErrorMap(errorMap: AuthErrorMap): void {\n    this._errorFactory = new ErrorFactory<AuthErrorCode, AuthErrorParams>(\n      'auth',\n      'Firebase',\n      (errorMap as ErrorMapRetriever)()\n    );\n  }\n\n  onAuthStateChanged(\n    nextOrObserver: NextOrObserver<User>,\n    error?: ErrorFn,\n    completed?: CompleteFn\n  ): Unsubscribe {\n    return this.registerStateListener(\n      this.authStateSubscription,\n      nextOrObserver,\n      error,\n      completed\n    );\n  }\n\n  beforeAuthStateChanged(\n    callback: (user: User | null) => void | Promise<void>,\n    onAbort?: () => void,\n  ): Unsubscribe {\n    return this.beforeStateQueue.pushCallback(callback, onAbort);\n  }\n\n  onIdTokenChanged(\n    nextOrObserver: NextOrObserver<User>,\n    error?: ErrorFn,\n    completed?: CompleteFn\n  ): Unsubscribe {\n    return this.registerStateListener(\n      this.idTokenSubscription,\n      nextOrObserver,\n      error,\n      completed\n    );\n  }\n\n  toJSON(): object {\n    return {\n      apiKey: this.config.apiKey,\n      authDomain: this.config.authDomain,\n      appName: this.name,\n      currentUser: this._currentUser?.toJSON()\n    };\n  }\n\n  async _setRedirectUser(\n    user: UserInternal | null,\n    popupRedirectResolver?: PopupRedirectResolver\n  ): Promise<void> {\n    const redirectManager = await this.getOrInitRedirectPersistenceManager(\n      popupRedirectResolver\n    );\n    return user === null\n      ? redirectManager.removeCurrentUser()\n      : redirectManager.setCurrentUser(user);\n  }\n\n  private async getOrInitRedirectPersistenceManager(\n    popupRedirectResolver?: PopupRedirectResolver\n  ): Promise<PersistenceUserManager> {\n    if (!this.redirectPersistenceManager) {\n      const resolver: PopupRedirectResolverInternal | null =\n        (popupRedirectResolver && _getInstance(popupRedirectResolver)) ||\n        this._popupRedirectResolver;\n      _assert(resolver, this, AuthErrorCode.ARGUMENT_ERROR);\n      this.redirectPersistenceManager = await PersistenceUserManager.create(\n        this,\n        [_getInstance(resolver._redirectPersistence)],\n        KeyName.REDIRECT_USER\n      );\n      this.redirectUser =\n        await this.redirectPersistenceManager.getCurrentUser();\n    }\n\n    return this.redirectPersistenceManager;\n  }\n\n  async _redirectUserForId(id: string): Promise<UserInternal | null> {\n    // Make sure we've cleared any pending persistence actions if we're not in\n    // the initializer\n    if (this._isInitialized) {\n      await this.queue(async () => { });\n    }\n\n    if (this._currentUser?._redirectEventId === id) {\n      return this._currentUser;\n    }\n\n    if (this.redirectUser?._redirectEventId === id) {\n      return this.redirectUser;\n    }\n\n    return null;\n  }\n\n  async _persistUserIfCurrent(user: UserInternal): Promise<void> {\n    if (user === this.currentUser) {\n      return this.queue(async () => this.directlySetCurrentUser(user));\n    }\n  }\n\n  /** Notifies listeners only if the user is current */\n  _notifyListenersIfCurrent(user: UserInternal): void {\n    if (user === this.currentUser) {\n      this.notifyAuthListeners();\n    }\n  }\n\n  _key(): string {\n    return `${this.config.authDomain}:${this.config.apiKey}:${this.name}`;\n  }\n\n  _startProactiveRefresh(): void {\n    this.isProactiveRefreshEnabled = true;\n    if (this.currentUser) {\n      this._currentUser._startProactiveRefresh();\n    }\n  }\n\n  _stopProactiveRefresh(): void {\n    this.isProactiveRefreshEnabled = false;\n    if (this.currentUser) {\n      this._currentUser._stopProactiveRefresh();\n    }\n  }\n\n  /** Returns the current user cast as the internal type */\n  get _currentUser(): UserInternal {\n    return this.currentUser as UserInternal;\n  }\n\n  private notifyAuthListeners(): void {\n    if (!this._isInitialized) {\n      return;\n    }\n\n    this.idTokenSubscription.next(this.currentUser);\n\n    const currentUid = this.currentUser?.uid ?? null;\n    if (this.lastNotifiedUid !== currentUid) {\n      this.lastNotifiedUid = currentUid;\n      this.authStateSubscription.next(this.currentUser);\n    }\n  }\n\n  private registerStateListener(\n    subscription: Subscription<User>,\n    nextOrObserver: NextOrObserver<User>,\n    error?: ErrorFn,\n    completed?: CompleteFn\n  ): Unsubscribe {\n    if (this._deleted) {\n      return () => { };\n    }\n\n    const cb =\n      typeof nextOrObserver === 'function'\n        ? nextOrObserver\n        : nextOrObserver.next.bind(nextOrObserver);\n\n    const promise = this._isInitialized\n      ? Promise.resolve()\n      : this._initializationPromise;\n    _assert(promise, this, AuthErrorCode.INTERNAL_ERROR);\n    // The callback needs to be called asynchronously per the spec.\n    // eslint-disable-next-line @typescript-eslint/no-floating-promises\n    promise.then(() => cb(this.currentUser));\n\n    if (typeof nextOrObserver === 'function') {\n      return subscription.addObserver(nextOrObserver, error, completed);\n    } else {\n      return subscription.addObserver(nextOrObserver);\n    }\n  }\n\n  /**\n   * Unprotected (from race conditions) method to set the current user. This\n   * should only be called from within a queued callback. This is necessary\n   * because the queue shouldn't rely on another queued callback.\n   */\n  private async directlySetCurrentUser(\n    user: UserInternal | null\n  ): Promise<void> {\n    if (this.currentUser && this.currentUser !== user) {\n      this._currentUser._stopProactiveRefresh();\n      if (user && this.isProactiveRefreshEnabled) {\n        user._startProactiveRefresh();\n      }\n    }\n\n    this.currentUser = user;\n\n    if (user) {\n      await this.assertedPersistence.setCurrentUser(user);\n    } else {\n      await this.assertedPersistence.removeCurrentUser();\n    }\n  }\n\n  private queue(action: AsyncAction): Promise<void> {\n    // In case something errors, the callback still should be called in order\n    // to keep the promise chain alive\n    this.operations = this.operations.then(action, action);\n    return this.operations;\n  }\n\n  private get assertedPersistence(): PersistenceUserManager {\n    _assert(this.persistenceManager, this, AuthErrorCode.INTERNAL_ERROR);\n    return this.persistenceManager;\n  }\n\n  private frameworks: string[] = [];\n  private clientVersion: string;\n  _logFramework(framework: string): void {\n    if (!framework || this.frameworks.includes(framework)) {\n      return;\n    }\n    this.frameworks.push(framework);\n\n    // Sort alphabetically so that \"FirebaseCore-web,FirebaseUI-web\" and\n    // \"FirebaseUI-web,FirebaseCore-web\" aren't viewed as different.\n    this.frameworks.sort();\n    this.clientVersion = _getClientVersion(\n      this.config.clientPlatform,\n      this._getFrameworks()\n    );\n  }\n  _getFrameworks(): readonly string[] {\n    return this.frameworks;\n  }\n  async _getAdditionalHeaders(): Promise<Record<string, string>> {\n    // Additional headers on every request\n    const headers: Record<string, string> = {\n      [HttpHeader.X_CLIENT_VERSION]: this.clientVersion,\n    };\n\n    if (this.app.options.appId) {\n      headers[HttpHeader.X_FIREBASE_GMPID] = this.app.options.appId;\n    }\n\n    // If the heartbeat service exists, add the heartbeat string\n    const heartbeatsHeader = await this.heartbeatServiceProvider.getImmediate({\n      optional: true,\n    })?.getHeartbeatsHeader();\n    if (heartbeatsHeader) {\n      headers[HttpHeader.X_FIREBASE_CLIENT] = heartbeatsHeader;\n    }\n    return headers;\n  }\n}\n\n/**\n * Method to be used to cast down to our private implmentation of Auth.\n * It will also handle unwrapping from the compat type if necessary\n *\n * @param auth Auth object passed in from developer\n */\nexport function _castAuth(auth: Auth): AuthInternal {\n  return getModularInstance(auth) as AuthInternal;\n}\n\n/** Helper class to wrap subscriber logic */\nclass Subscription<T> {\n  private observer: Observer<T | null> | null = null;\n  readonly addObserver: Subscribe<T | null> = createSubscribe(\n    observer => (this.observer = observer)\n  );\n\n  constructor(readonly auth: AuthInternal) { }\n\n  get next(): NextFn<T | null> {\n    _assert(this.observer, this.auth, AuthErrorCode.INTERNAL_ERROR);\n    return this.observer.next.bind(this.observer);\n  }\n}\n","/**\n * @license\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Auth } from '../../model/public_types';\nimport { AuthErrorCode } from '../errors';\nimport { _assert } from '../util/assert';\nimport { _castAuth } from './auth_impl';\n\n/**\n * Changes the {@link Auth} instance to communicate with the Firebase Auth Emulator, instead of production\n * Firebase Auth services.\n *\n * @remarks\n * This must be called synchronously immediately following the first call to\n * {@link initializeAuth}.  Do not use with production credentials as emulator\n * traffic is not encrypted.\n *\n *\n * @example\n * ```javascript\n * connectAuthEmulator(auth, 'http://127.0.0.1:9099', { disableWarnings: true });\n * ```\n *\n * @param auth - The {@link Auth} instance.\n * @param url - The URL at which the emulator is running (eg, 'http://localhost:9099').\n * @param options - Optional. `options.disableWarnings` defaults to `false`. Set it to\n * `true` to disable the warning banner attached to the DOM.\n *\n * @public\n */\nexport function connectAuthEmulator(\n  auth: Auth,\n  url: string,\n  options?: { disableWarnings: boolean }\n): void {\n  const authInternal = _castAuth(auth);\n  _assert(\n    authInternal._canInitEmulator,\n    authInternal,\n    AuthErrorCode.EMULATOR_CONFIG_FAILED\n  );\n\n  _assert(\n    /^https?:\\/\\//.test(url),\n    authInternal,\n    AuthErrorCode.INVALID_EMULATOR_SCHEME\n  );\n\n  const disableWarnings = !!options?.disableWarnings;\n\n  const protocol = extractProtocol(url);\n  const { host, port } = extractHostAndPort(url);\n  const portStr = port === null ? '' : `:${port}`;\n\n  // Always replace path with \"/\" (even if input url had no path at all, or had a different one).\n  authInternal.config.emulator = { url: `${protocol}//${host}${portStr}/` };\n  authInternal.settings.appVerificationDisabledForTesting = true;\n  authInternal.emulatorConfig = Object.freeze({\n    host,\n    port,\n    protocol: protocol.replace(':', ''),\n    options: Object.freeze({ disableWarnings })\n  });\n\n  if (!disableWarnings) {\n    emitEmulatorWarning();\n  }\n}\n\nfunction extractProtocol(url: string): string {\n  const protocolEnd = url.indexOf(':');\n  return protocolEnd < 0 ? '' : url.substr(0, protocolEnd + 1);\n}\n\nfunction extractHostAndPort(url: string): {\n  host: string;\n  port: number | null;\n} {\n  const protocol = extractProtocol(url);\n  const authority = /(\\/\\/)?([^?#/]+)/.exec(url.substr(protocol.length)); // Between // and /, ? or #.\n  if (!authority) {\n    return { host: '', port: null };\n  }\n  const hostAndPort = authority[2].split('@').pop() || ''; // Strip out \"username:password@\".\n  const bracketedIPv6 = /^(\\[[^\\]]+\\])(:|$)/.exec(hostAndPort);\n  if (bracketedIPv6) {\n    const host = bracketedIPv6[1];\n    return { host, port: parsePort(hostAndPort.substr(host.length + 1)) };\n  } else {\n    const [host, port] = hostAndPort.split(':');\n    return { host, port: parsePort(port) };\n  }\n}\n\nfunction parsePort(portStr: string): number | null {\n  if (!portStr) {\n    return null;\n  }\n  const port = Number(portStr);\n  if (isNaN(port)) {\n    return null;\n  }\n  return port;\n}\n\nfunction emitEmulatorWarning(): void {\n  function attachBanner(): void {\n    const el = document.createElement('p');\n    const sty = el.style;\n    el.innerText =\n      'Running in emulator mode. Do not use with production credentials.';\n    sty.position = 'fixed';\n    sty.width = '100%';\n    sty.backgroundColor = '#ffffff';\n    sty.border = '.1em solid #000000';\n    sty.color = '#b50000';\n    sty.bottom = '0px';\n    sty.left = '0px';\n    sty.margin = '0px';\n    sty.zIndex = '10000';\n    sty.textAlign = 'center';\n    el.classList.add('firebase-emulator-warning');\n    document.body.appendChild(el);\n  }\n\n  if (typeof console !== 'undefined' && typeof console.info === 'function') {\n    console.info(\n      'WARNING: You are using the Auth Emulator,' +\n        ' which is intended for local testing only.  Do not use with' +\n        ' production credentials.'\n    );\n  }\n  if (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  ) {\n    if (document.readyState === 'loading') {\n      window.addEventListener('DOMContentLoaded', attachBanner);\n    } else {\n      attachBanner();\n    }\n  }\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { PhoneOrOauthTokenResponse } from '../../api/authentication/mfa';\nimport { AuthInternal } from '../../model/auth';\nimport { IdTokenResponse } from '../../model/id_token';\nimport { debugFail } from '../util/assert';\n\n/**\n * Interface that represents the credentials returned by an {@link AuthProvider}.\n *\n * @remarks\n * Implementations specify the details about each auth provider's credential requirements.\n *\n * @public\n */\nexport class AuthCredential {\n  /** @internal */\n  protected constructor(\n    /**\n     * The authentication provider ID for the credential.\n     *\n     * @remarks\n     * For example, 'facebook.com', or 'google.com'.\n     */\n    readonly providerId: string,\n    /**\n     * The authentication sign in method for the credential.\n     *\n     * @remarks\n     * For example, {@link SignInMethod}.EMAIL_PASSWORD, or\n     * {@link SignInMethod}.EMAIL_LINK. This corresponds to the sign-in method\n     * identifier as returned in {@link fetchSignInMethodsForEmail}.\n     */\n    readonly signInMethod: string\n  ) {}\n\n  /**\n   * Returns a JSON-serializable representation of this object.\n   *\n   * @returns a JSON-serializable representation of this object.\n   */\n  toJSON(): object {\n    return debugFail('not implemented');\n  }\n\n  /** @internal */\n  _getIdTokenResponse(_auth: AuthInternal): Promise<PhoneOrOauthTokenResponse> {\n    return debugFail('not implemented');\n  }\n  /** @internal */\n  _linkToIdToken(\n    _auth: AuthInternal,\n    _idToken: string\n  ): Promise<IdTokenResponse> {\n    return debugFail('not implemented');\n  }\n  /** @internal */\n  _getReauthenticationResolver(_auth: AuthInternal): Promise<IdTokenResponse> {\n    return debugFail('not implemented');\n  }\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ActionCodeOperation, Auth } from '../../model/public_types';\n\nimport {\n  Endpoint,\n  HttpMethod,\n  _addTidIfNecessary,\n  _performApiRequest,\n  _performSignInRequest\n} from '../index';\nimport { IdToken, IdTokenResponse } from '../../model/id_token';\n\nexport interface SignInWithPasswordRequest {\n  returnSecureToken?: boolean;\n  email: string;\n  password: string;\n  tenantId?: string;\n}\n\nexport interface SignInWithPasswordResponse extends IdTokenResponse {\n  email: string;\n  displayName: string;\n}\n\nexport async function signInWithPassword(\n  auth: Auth,\n  request: SignInWithPasswordRequest\n): Promise<SignInWithPasswordResponse> {\n  return _performSignInRequest<\n    SignInWithPasswordRequest,\n    SignInWithPasswordResponse\n  >(\n    auth,\n    HttpMethod.POST,\n    Endpoint.SIGN_IN_WITH_PASSWORD,\n    _addTidIfNecessary(auth, request)\n  );\n}\n\nexport interface GetOobCodeRequest {\n  email?: string; // Everything except VERIFY_AND_CHANGE_EMAIL\n  continueUrl?: string;\n  iOSBundleId?: string;\n  iosAppStoreId?: string;\n  androidPackageName?: string;\n  androidInstallApp?: boolean;\n  androidMinimumVersionCode?: string;\n  canHandleCodeInApp?: boolean;\n  dynamicLinkDomain?: string;\n  tenantId?: string;\n  targetProjectid?: string;\n}\n\nexport interface VerifyEmailRequest extends GetOobCodeRequest {\n  requestType: ActionCodeOperation.VERIFY_EMAIL;\n  idToken: IdToken;\n}\n\nexport interface PasswordResetRequest extends GetOobCodeRequest {\n  requestType: ActionCodeOperation.PASSWORD_RESET;\n  email: string;\n  captchaResp?: string;\n}\n\nexport interface EmailSignInRequest extends GetOobCodeRequest {\n  requestType: ActionCodeOperation.EMAIL_SIGNIN;\n  email: string;\n}\n\nexport interface VerifyAndChangeEmailRequest extends GetOobCodeRequest {\n  requestType: ActionCodeOperation.VERIFY_AND_CHANGE_EMAIL;\n  idToken: IdToken;\n  newEmail: string;\n}\n\ninterface GetOobCodeResponse {\n  email: string;\n}\n\nexport interface VerifyEmailResponse extends GetOobCodeResponse {}\nexport interface PasswordResetResponse extends GetOobCodeResponse {}\nexport interface EmailSignInResponse extends GetOobCodeResponse {}\nexport interface VerifyAndChangeEmailResponse extends GetOobCodeRequest {}\n\nasync function sendOobCode(\n  auth: Auth,\n  request: GetOobCodeRequest\n): Promise<GetOobCodeResponse> {\n  return _performApiRequest<GetOobCodeRequest, GetOobCodeResponse>(\n    auth,\n    HttpMethod.POST,\n    Endpoint.SEND_OOB_CODE,\n    _addTidIfNecessary(auth, request)\n  );\n}\n\nexport async function sendEmailVerification(\n  auth: Auth,\n  request: VerifyEmailRequest\n): Promise<VerifyEmailResponse> {\n  return sendOobCode(auth, request);\n}\n\nexport async function sendPasswordResetEmail(\n  auth: Auth,\n  request: PasswordResetRequest\n): Promise<PasswordResetResponse> {\n  return sendOobCode(auth, request);\n}\n\nexport async function sendSignInLinkToEmail(\n  auth: Auth,\n  request: EmailSignInRequest\n): Promise<EmailSignInResponse> {\n  return sendOobCode(auth, request);\n}\n\nexport async function verifyAndChangeEmail(\n  auth: Auth,\n  request: VerifyAndChangeEmailRequest\n): Promise<VerifyAndChangeEmailResponse> {\n  return sendOobCode(auth, request);\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  _performSignInRequest,\n  Endpoint,\n  HttpMethod,\n  _addTidIfNecessary\n} from '../index';\nimport { IdTokenResponse } from '../../model/id_token';\nimport { Auth } from '../../model/public_types';\n\nexport interface SignInWithEmailLinkRequest {\n  email: string;\n  oobCode: string;\n  tenantId?: string;\n}\n\nexport interface SignInWithEmailLinkResponse extends IdTokenResponse {\n  email: string;\n  isNewUser: boolean;\n}\n\nexport async function signInWithEmailLink(\n  auth: Auth,\n  request: SignInWithEmailLinkRequest\n): Promise<SignInWithEmailLinkResponse> {\n  return _performSignInRequest<\n    SignInWithEmailLinkRequest,\n    SignInWithEmailLinkResponse\n  >(\n    auth,\n    HttpMethod.POST,\n    Endpoint.SIGN_IN_WITH_EMAIL_LINK,\n    _addTidIfNecessary(auth, request)\n  );\n}\n\nexport interface SignInWithEmailLinkForLinkingRequest\n  extends SignInWithEmailLinkRequest {\n  idToken: string;\n}\n\nexport async function signInWithEmailLinkForLinking(\n  auth: Auth,\n  request: SignInWithEmailLinkForLinkingRequest\n): Promise<SignInWithEmailLinkResponse> {\n  return _performSignInRequest<\n    SignInWithEmailLinkForLinkingRequest,\n    SignInWithEmailLinkResponse\n  >(\n    auth,\n    HttpMethod.POST,\n    Endpoint.SIGN_IN_WITH_EMAIL_LINK,\n    _addTidIfNecessary(auth, request)\n  );\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ProviderId, SignInMethod } from '../../model/enums';\n\nimport { updateEmailPassword } from '../../api/account_management/email_and_password';\nimport { signInWithPassword } from '../../api/authentication/email_and_password';\nimport {\n  signInWithEmailLink,\n  signInWithEmailLinkForLinking\n} from '../../api/authentication/email_link';\nimport { AuthInternal } from '../../model/auth';\nimport { IdTokenResponse } from '../../model/id_token';\nimport { AuthErrorCode } from '../errors';\nimport { _fail } from '../util/assert';\nimport { AuthCredential } from './auth_credential';\n\n/**\n * Interface that represents the credentials returned by {@link EmailAuthProvider} for\n * {@link ProviderId}.PASSWORD\n *\n * @remarks\n * Covers both {@link SignInMethod}.EMAIL_PASSWORD and\n * {@link SignInMethod}.EMAIL_LINK.\n *\n * @public\n */\nexport class EmailAuthCredential extends AuthCredential {\n  /** @internal */\n  private constructor(\n    /** @internal */\n    readonly _email: string,\n    /** @internal */\n    readonly _password: string,\n    signInMethod: SignInMethod,\n    /** @internal */\n    readonly _tenantId: string | null = null\n  ) {\n    super(ProviderId.PASSWORD, signInMethod);\n  }\n\n  /** @internal */\n  static _fromEmailAndPassword(\n    email: string,\n    password: string\n  ): EmailAuthCredential {\n    return new EmailAuthCredential(\n      email,\n      password,\n      SignInMethod.EMAIL_PASSWORD\n    );\n  }\n\n  /** @internal */\n  static _fromEmailAndCode(\n    email: string,\n    oobCode: string,\n    tenantId: string | null = null\n  ): EmailAuthCredential {\n    return new EmailAuthCredential(\n      email,\n      oobCode,\n      SignInMethod.EMAIL_LINK,\n      tenantId\n    );\n  }\n\n  /** {@inheritdoc AuthCredential.toJSON} */\n  toJSON(): object {\n    return {\n      email: this._email,\n      password: this._password,\n      signInMethod: this.signInMethod,\n      tenantId: this._tenantId\n    };\n  }\n\n  /**\n   * Static method to deserialize a JSON representation of an object into an {@link  AuthCredential}.\n   *\n   * @param json - Either `object` or the stringified representation of the object. When string is\n   * provided, `JSON.parse` would be called first.\n   *\n   * @returns If the JSON input does not represent an {@link AuthCredential}, null is returned.\n   */\n  static fromJSON(json: object | string): EmailAuthCredential | null {\n    const obj = typeof json === 'string' ? JSON.parse(json) : json;\n    if (obj?.email && obj?.password) {\n      if (obj.signInMethod === SignInMethod.EMAIL_PASSWORD) {\n        return this._fromEmailAndPassword(obj.email, obj.password);\n      } else if (obj.signInMethod === SignInMethod.EMAIL_LINK) {\n        return this._fromEmailAndCode(obj.email, obj.password, obj.tenantId);\n      }\n    }\n    return null;\n  }\n\n  /** @internal */\n  async _getIdTokenResponse(auth: AuthInternal): Promise<IdTokenResponse> {\n    switch (this.signInMethod) {\n      case SignInMethod.EMAIL_PASSWORD:\n        return signInWithPassword(auth, {\n          returnSecureToken: true,\n          email: this._email,\n          password: this._password\n        });\n      case SignInMethod.EMAIL_LINK:\n        return signInWithEmailLink(auth, {\n          email: this._email,\n          oobCode: this._password\n        });\n      default:\n        _fail(auth, AuthErrorCode.INTERNAL_ERROR);\n    }\n  }\n\n  /** @internal */\n  async _linkToIdToken(\n    auth: AuthInternal,\n    idToken: string\n  ): Promise<IdTokenResponse> {\n    switch (this.signInMethod) {\n      case SignInMethod.EMAIL_PASSWORD:\n        return updateEmailPassword(auth, {\n          idToken,\n          returnSecureToken: true,\n          email: this._email,\n          password: this._password\n        });\n      case SignInMethod.EMAIL_LINK:\n        return signInWithEmailLinkForLinking(auth, {\n          idToken,\n          email: this._email,\n          oobCode: this._password\n        });\n      default:\n        _fail(auth, AuthErrorCode.INTERNAL_ERROR);\n    }\n  }\n\n  /** @internal */\n  _getReauthenticationResolver(auth: AuthInternal): Promise<IdTokenResponse> {\n    return this._getIdTokenResponse(auth);\n  }\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { querystring } from '@firebase/util';\n\nimport {\n  signInWithIdp,\n  SignInWithIdpRequest\n} from '../../api/authentication/idp';\nimport { AuthInternal } from '../../model/auth';\nimport { IdTokenResponse } from '../../model/id_token';\nimport { AuthErrorCode } from '../errors';\nimport { _fail } from '../util/assert';\nimport { AuthCredential } from './auth_credential';\n\nconst IDP_REQUEST_URI = 'http://localhost';\n\nexport interface OAuthCredentialParams {\n  // OAuth 2 uses either id token or access token\n  idToken?: string | null;\n  accessToken?: string | null;\n\n  // These fields are used with OAuth 1\n  oauthToken?: string;\n  secret?: string;\n  oauthTokenSecret?: string;\n\n  // Nonce is only set if pendingToken is not present\n  nonce?: string;\n  pendingToken?: string;\n\n  // Utilities\n  providerId: string;\n  signInMethod: string;\n}\n\n/**\n * Represents the OAuth credentials returned by an {@link OAuthProvider}.\n *\n * @remarks\n * Implementations specify the details about each auth provider's credential requirements.\n *\n * @public\n */\nexport class OAuthCredential extends AuthCredential {\n  /**\n   * The OAuth ID token associated with the credential if it belongs to an OIDC provider,\n   * such as `google.com`.\n   * @readonly\n   */\n  idToken?: string;\n  /**\n   * The OAuth access token associated with the credential if it belongs to an\n   * {@link OAuthProvider}, such as `facebook.com`, `twitter.com`, etc.\n   * @readonly\n   */\n  accessToken?: string;\n  /**\n   * The OAuth access token secret associated with the credential if it belongs to an OAuth 1.0\n   * provider, such as `twitter.com`.\n   * @readonly\n   */\n  secret?: string;\n  \n  private nonce?: string;\n  private pendingToken: string | null = null;\n\n  /** @internal */\n  static _fromParams(params: OAuthCredentialParams): OAuthCredential {\n    const cred = new OAuthCredential(params.providerId, params.signInMethod);\n\n    if (params.idToken || params.accessToken) {\n      // OAuth 2 and either ID token or access token.\n      if (params.idToken) {\n        cred.idToken = params.idToken;\n      }\n\n      if (params.accessToken) {\n        cred.accessToken = params.accessToken;\n      }\n\n      // Add nonce if available and no pendingToken is present.\n      if (params.nonce && !params.pendingToken) {\n        cred.nonce = params.nonce;\n      }\n\n      if (params.pendingToken) {\n        cred.pendingToken = params.pendingToken;\n      }\n    } else if (params.oauthToken && params.oauthTokenSecret) {\n      // OAuth 1 and OAuth token with token secret\n      cred.accessToken = params.oauthToken;\n      cred.secret = params.oauthTokenSecret;\n    } else {\n      _fail(AuthErrorCode.ARGUMENT_ERROR);\n    }\n\n    return cred;\n  }\n\n  /** {@inheritdoc AuthCredential.toJSON}  */\n  toJSON(): object {\n    return {\n      idToken: this.idToken,\n      accessToken: this.accessToken,\n      secret: this.secret,\n      nonce: this.nonce,\n      pendingToken: this.pendingToken,\n      providerId: this.providerId,\n      signInMethod: this.signInMethod\n    };\n  }\n\n  /**\n   * Static method to deserialize a JSON representation of an object into an\n   * {@link  AuthCredential}.\n   *\n   * @param json - Input can be either Object or the stringified representation of the object.\n   * When string is provided, JSON.parse would be called first.\n   *\n   * @returns If the JSON input does not represent an {@link  AuthCredential}, null is returned.\n   */\n  static fromJSON(json: string | object): OAuthCredential | null {\n    const obj = typeof json === 'string' ? JSON.parse(json) : json;\n    const { providerId, signInMethod, ...rest }: OAuthCredentialParams = obj;\n    if (!providerId || !signInMethod) {\n      return null;\n    }\n\n    const cred = new OAuthCredential(providerId, signInMethod);\n    cred.idToken = rest.idToken || undefined;\n    cred.accessToken = rest.accessToken || undefined;\n    cred.secret = rest.secret;\n    cred.nonce = rest.nonce;\n    cred.pendingToken = rest.pendingToken || null;\n    return cred;\n  }\n\n  /** @internal */\n  _getIdTokenResponse(auth: AuthInternal): Promise<IdTokenResponse> {\n    const request = this.buildRequest();\n    return signInWithIdp(auth, request);\n  }\n\n  /** @internal */\n  _linkToIdToken(\n    auth: AuthInternal,\n    idToken: string\n  ): Promise<IdTokenResponse> {\n    const request = this.buildRequest();\n    request.idToken = idToken;\n    return signInWithIdp(auth, request);\n  }\n\n  /** @internal */\n  _getReauthenticationResolver(auth: AuthInternal): Promise<IdTokenResponse> {\n    const request = this.buildRequest();\n    request.autoCreate = false;\n    return signInWithIdp(auth, request);\n  }\n\n  private buildRequest(): SignInWithIdpRequest {\n    const request: SignInWithIdpRequest = {\n      requestUri: IDP_REQUEST_URI,\n      returnSecureToken: true\n    };\n\n    if (this.pendingToken) {\n      request.pendingToken = this.pendingToken;\n    } else {\n      const postBody: Record<string, string> = {};\n      if (this.idToken) {\n        postBody['id_token'] = this.idToken;\n      }\n      if (this.accessToken) {\n        postBody['access_token'] = this.accessToken;\n      }\n      if (this.secret) {\n        postBody['oauth_token_secret'] = this.secret;\n      }\n\n      postBody['providerId'] = this.providerId;\n      if (this.nonce && !this.pendingToken) {\n        postBody['nonce'] = this.nonce;\n      }\n\n      request.postBody = querystring(postBody);\n    }\n\n    return request;\n  }\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  Endpoint,\n  HttpMethod,\n  _addTidIfNecessary,\n  _performSignInRequest\n} from '../index';\nimport { IdToken, IdTokenResponse } from '../../model/id_token';\nimport { Auth } from '../../model/public_types';\n\nexport interface SignInWithIdpRequest {\n  requestUri: string;\n  postBody?: string;\n  sessionId?: string;\n  tenantId?: string;\n  returnSecureToken: boolean;\n  returnIdpCredential?: boolean;\n  idToken?: IdToken;\n  autoCreate?: boolean;\n  pendingToken?: string;\n}\n\n/**\n * @internal\n */\nexport interface SignInWithIdpResponse extends IdTokenResponse {\n  oauthAccessToken?: string;\n  oauthTokenSecret?: string;\n  nonce?: string;\n  oauthIdToken?: string;\n  pendingToken?: string;\n}\n\nexport async function signInWithIdp(\n  auth: Auth,\n  request: SignInWithIdpRequest\n): Promise<SignInWithIdpResponse> {\n  return _performSignInRequest<SignInWithIdpRequest, SignInWithIdpResponse>(\n    auth,\n    HttpMethod.POST,\n    Endpoint.SIGN_IN_WITH_IDP,\n    _addTidIfNecessary(auth, request)\n  );\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  Endpoint,\n  HttpMethod,\n  _addTidIfNecessary,\n  _makeTaggedError,\n  _performApiRequest,\n  _performSignInRequest\n} from '../index';\nimport { AuthErrorCode } from '../../core/errors';\nimport { IdTokenResponse } from '../../model/id_token';\nimport { ServerError, ServerErrorMap } from '../errors';\nimport { Auth } from '../../model/public_types';\n\nexport interface SendPhoneVerificationCodeRequest {\n  phoneNumber: string;\n  recaptchaToken: string;\n  tenantId?: string;\n}\n\nexport interface SendPhoneVerificationCodeResponse {\n  sessionInfo: string;\n}\n\nexport async function sendPhoneVerificationCode(\n  auth: Auth,\n  request: SendPhoneVerificationCodeRequest\n): Promise<SendPhoneVerificationCodeResponse> {\n  return _performApiRequest<\n    SendPhoneVerificationCodeRequest,\n    SendPhoneVerificationCodeResponse\n  >(\n    auth,\n    HttpMethod.POST,\n    Endpoint.SEND_VERIFICATION_CODE,\n    _addTidIfNecessary(auth, request)\n  );\n}\n\n/**\n * @internal\n */\nexport interface SignInWithPhoneNumberRequest {\n  temporaryProof?: string;\n  phoneNumber?: string;\n  sessionInfo?: string;\n  code?: string;\n  tenantId?: string;\n}\n\nexport interface LinkWithPhoneNumberRequest\n  extends SignInWithPhoneNumberRequest {\n  idToken: string;\n}\n\n/**\n * @internal\n */\nexport interface SignInWithPhoneNumberResponse extends IdTokenResponse {\n  temporaryProof?: string;\n  phoneNumber?: string;\n}\n\nexport async function signInWithPhoneNumber(\n  auth: Auth,\n  request: SignInWithPhoneNumberRequest\n): Promise<SignInWithPhoneNumberResponse> {\n  return _performSignInRequest<\n    SignInWithPhoneNumberRequest,\n    SignInWithPhoneNumberResponse\n  >(\n    auth,\n    HttpMethod.POST,\n    Endpoint.SIGN_IN_WITH_PHONE_NUMBER,\n    _addTidIfNecessary(auth, request)\n  );\n}\n\nexport async function linkWithPhoneNumber(\n  auth: Auth,\n  request: LinkWithPhoneNumberRequest\n): Promise<SignInWithPhoneNumberResponse> {\n  const response = await _performSignInRequest<\n    LinkWithPhoneNumberRequest,\n    SignInWithPhoneNumberResponse\n  >(\n    auth,\n    HttpMethod.POST,\n    Endpoint.SIGN_IN_WITH_PHONE_NUMBER,\n    _addTidIfNecessary(auth, request)\n  );\n  if (response.temporaryProof) {\n    throw _makeTaggedError(auth, AuthErrorCode.NEED_CONFIRMATION, response);\n  }\n  return response;\n}\n\ninterface VerifyPhoneNumberForExistingRequest\n  extends SignInWithPhoneNumberRequest {\n  operation: 'REAUTH';\n}\n\nconst VERIFY_PHONE_NUMBER_FOR_EXISTING_ERROR_MAP_: Partial<\n  ServerErrorMap<ServerError>\n> = {\n  [ServerError.USER_NOT_FOUND]: AuthErrorCode.USER_DELETED\n};\n\nexport async function verifyPhoneNumberForExisting(\n  auth: Auth,\n  request: SignInWithPhoneNumberRequest\n): Promise<SignInWithPhoneNumberResponse> {\n  const apiRequest: VerifyPhoneNumberForExistingRequest = {\n    ...request,\n    operation: 'REAUTH'\n  };\n  return _performSignInRequest<\n    VerifyPhoneNumberForExistingRequest,\n    SignInWithPhoneNumberResponse\n  >(\n    auth,\n    HttpMethod.POST,\n    Endpoint.SIGN_IN_WITH_PHONE_NUMBER,\n    _addTidIfNecessary(auth, apiRequest),\n    VERIFY_PHONE_NUMBER_FOR_EXISTING_ERROR_MAP_\n  );\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ProviderId, SignInMethod } from '../../model/enums';\n\nimport { PhoneOrOauthTokenResponse } from '../../api/authentication/mfa';\nimport {\n  linkWithPhoneNumber,\n  signInWithPhoneNumber,\n  SignInWithPhoneNumberRequest,\n  verifyPhoneNumberForExisting\n} from '../../api/authentication/sms';\nimport { AuthInternal } from '../../model/auth';\nimport { IdTokenResponse } from '../../model/id_token';\nimport { AuthCredential } from './auth_credential';\n\nexport interface PhoneAuthCredentialParameters {\n  verificationId?: string;\n  verificationCode?: string;\n  phoneNumber?: string;\n  temporaryProof?: string;\n}\n\n/**\n * Represents the credentials returned by {@link PhoneAuthProvider}.\n *\n * @public\n */\nexport class PhoneAuthCredential extends AuthCredential {\n  private constructor(private readonly params: PhoneAuthCredentialParameters) {\n    super(ProviderId.PHONE, SignInMethod.PHONE);\n  }\n\n  /** @internal */\n  static _fromVerification(\n    verificationId: string,\n    verificationCode: string\n  ): PhoneAuthCredential {\n    return new PhoneAuthCredential({ verificationId, verificationCode });\n  }\n\n  /** @internal */\n  static _fromTokenResponse(\n    phoneNumber: string,\n    temporaryProof: string\n  ): PhoneAuthCredential {\n    return new PhoneAuthCredential({ phoneNumber, temporaryProof });\n  }\n\n  /** @internal */\n  _getIdTokenResponse(auth: AuthInternal): Promise<PhoneOrOauthTokenResponse> {\n    return signInWithPhoneNumber(auth, this._makeVerificationRequest());\n  }\n\n  /** @internal */\n  _linkToIdToken(\n    auth: AuthInternal,\n    idToken: string\n  ): Promise<IdTokenResponse> {\n    return linkWithPhoneNumber(auth, {\n      idToken,\n      ...this._makeVerificationRequest()\n    });\n  }\n\n  /** @internal */\n  _getReauthenticationResolver(auth: AuthInternal): Promise<IdTokenResponse> {\n    return verifyPhoneNumberForExisting(auth, this._makeVerificationRequest());\n  }\n\n  /** @internal */\n  _makeVerificationRequest(): SignInWithPhoneNumberRequest {\n    const { temporaryProof, phoneNumber, verificationId, verificationCode } =\n      this.params;\n    if (temporaryProof && phoneNumber) {\n      return { temporaryProof, phoneNumber };\n    }\n\n    return {\n      sessionInfo: verificationId,\n      code: verificationCode\n    };\n  }\n\n  /** {@inheritdoc AuthCredential.toJSON} */\n  toJSON(): object {\n    const obj: Record<string, string> = {\n      providerId: this.providerId\n    };\n    if (this.params.phoneNumber) {\n      obj.phoneNumber = this.params.phoneNumber;\n    }\n    if (this.params.temporaryProof) {\n      obj.temporaryProof = this.params.temporaryProof;\n    }\n    if (this.params.verificationCode) {\n      obj.verificationCode = this.params.verificationCode;\n    }\n    if (this.params.verificationId) {\n      obj.verificationId = this.params.verificationId;\n    }\n\n    return obj;\n  }\n\n  /** Generates a phone credential based on a plain object or a JSON string. */\n  static fromJSON(json: object | string): PhoneAuthCredential | null {\n    if (typeof json === 'string') {\n      json = JSON.parse(json);\n    }\n\n    const { verificationId, verificationCode, phoneNumber, temporaryProof } =\n      json as { [key: string]: string };\n    if (\n      !verificationCode &&\n      !verificationId &&\n      !phoneNumber &&\n      !temporaryProof\n    ) {\n      return null;\n    }\n\n    return new PhoneAuthCredential({\n      verificationId,\n      verificationCode,\n      phoneNumber,\n      temporaryProof\n    });\n  }\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { extractQuerystring, querystringDecode } from '@firebase/util';\nimport { ActionCodeOperation } from '../model/public_types';\nimport { AuthErrorCode } from './errors';\nimport { _assert } from './util/assert';\n\n/**\n * Enums for fields in URL query string.\n *\n * @enum {string}\n */\nconst enum QueryField {\n  API_KEY = 'apiKey',\n  CODE = 'oobCode',\n  CONTINUE_URL = 'continueUrl',\n  LANGUAGE_CODE = 'languageCode',\n  MODE = 'mode',\n  TENANT_ID = 'tenantId'\n}\n\n/**\n * Maps the mode string in action code URL to Action Code Info operation.\n *\n * @param mode\n */\nfunction parseMode(mode: string | null): ActionCodeOperation | null {\n  switch (mode) {\n    case 'recoverEmail':\n      return ActionCodeOperation.RECOVER_EMAIL;\n    case 'resetPassword':\n      return ActionCodeOperation.PASSWORD_RESET;\n    case 'signIn':\n      return ActionCodeOperation.EMAIL_SIGNIN;\n    case 'verifyEmail':\n      return ActionCodeOperation.VERIFY_EMAIL;\n    case 'verifyAndChangeEmail':\n      return ActionCodeOperation.VERIFY_AND_CHANGE_EMAIL;\n    case 'revertSecondFactorAddition':\n      return ActionCodeOperation.REVERT_SECOND_FACTOR_ADDITION;\n    default:\n      return null;\n  }\n}\n\n/**\n * Helper to parse FDL links\n *\n * @param url\n */\nfunction parseDeepLink(url: string): string {\n  const link = querystringDecode(extractQuerystring(url))['link'];\n\n  // Double link case (automatic redirect).\n  const doubleDeepLink = link\n    ? querystringDecode(extractQuerystring(link))['deep_link_id']\n    : null;\n  // iOS custom scheme links.\n  const iOSDeepLink = querystringDecode(extractQuerystring(url))[\n    'deep_link_id'\n  ];\n  const iOSDoubleDeepLink = iOSDeepLink\n    ? querystringDecode(extractQuerystring(iOSDeepLink))['link']\n    : null;\n  return iOSDoubleDeepLink || iOSDeepLink || doubleDeepLink || link || url;\n}\n\n/**\n * A utility class to parse email action URLs such as password reset, email verification,\n * email link sign in, etc.\n *\n * @public\n */\nexport class ActionCodeURL {\n  /**\n   * The API key of the email action link.\n   */\n  readonly apiKey: string;\n  /**\n   * The action code of the email action link.\n   */\n  readonly code: string;\n  /**\n   * The continue URL of the email action link. Null if not provided.\n   */\n  readonly continueUrl: string | null;\n  /**\n   * The language code of the email action link. Null if not provided.\n   */\n  readonly languageCode: string | null;\n  /**\n   * The action performed by the email action link. It returns from one of the types from\n   * {@link ActionCodeInfo}\n   */\n  readonly operation: string;\n  /**\n   * The tenant ID of the email action link. Null if the email action is from the parent project.\n   */\n  readonly tenantId: string | null;\n\n  /**\n   * @param actionLink - The link from which to extract the URL.\n   * @returns The {@link ActionCodeURL} object, or null if the link is invalid.\n   *\n   * @internal\n   */\n  constructor(actionLink: string) {\n    const searchParams = querystringDecode(extractQuerystring(actionLink));\n    const apiKey = searchParams[QueryField.API_KEY] ?? null;\n    const code = searchParams[QueryField.CODE] ?? null;\n    const operation = parseMode(searchParams[QueryField.MODE] ?? null);\n    // Validate API key, code and mode.\n    _assert(apiKey && code && operation, AuthErrorCode.ARGUMENT_ERROR);\n    this.apiKey = apiKey;\n    this.operation = operation;\n    this.code = code;\n    this.continueUrl = searchParams[QueryField.CONTINUE_URL] ?? null;\n    this.languageCode = searchParams[QueryField.LANGUAGE_CODE] ?? null;\n    this.tenantId = searchParams[QueryField.TENANT_ID] ?? null;\n  }\n\n  /**\n   * Parses the email action link string and returns an {@link ActionCodeURL} if the link is valid,\n   * otherwise returns null.\n   *\n   * @param link  - The email action link string.\n   * @returns The {@link ActionCodeURL} object, or null if the link is invalid.\n   *\n   * @public\n   */\n  static parseLink(link: string): ActionCodeURL | null {\n    const actionLink = parseDeepLink(link);\n    try {\n      return new ActionCodeURL(actionLink);\n    } catch {\n      return null;\n    }\n  }\n}\n\n/**\n * Parses the email action link string and returns an {@link ActionCodeURL} if\n * the link is valid, otherwise returns null.\n *\n * @public\n */\nexport function parseActionCodeURL(link: string): ActionCodeURL | null {\n  return ActionCodeURL.parseLink(link);\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ProviderId, SignInMethod } from '../../model/enums';\nimport { AuthProvider } from '../../model/public_types';\n\nimport { ActionCodeURL } from '../action_code_url';\nimport { EmailAuthCredential } from '../credentials/email';\nimport { AuthErrorCode } from '../errors';\nimport { _assert } from '../util/assert';\n\n/**\n * Provider for generating {@link EmailAuthCredential}.\n *\n * @public\n */\nexport class EmailAuthProvider implements AuthProvider {\n  /**\n   * Always set to {@link ProviderId}.PASSWORD, even for email link.\n   */\n  static readonly PROVIDER_ID: 'password' = ProviderId.PASSWORD;\n  /**\n   * Always set to {@link SignInMethod}.EMAIL_PASSWORD.\n   */\n  static readonly EMAIL_PASSWORD_SIGN_IN_METHOD: 'password' =\n    SignInMethod.EMAIL_PASSWORD;\n  /**\n   * Always set to {@link SignInMethod}.EMAIL_LINK.\n   */\n  static readonly EMAIL_LINK_SIGN_IN_METHOD: 'emailLink' =\n    SignInMethod.EMAIL_LINK;\n  /**\n   * Always set to {@link ProviderId}.PASSWORD, even for email link.\n   */\n  readonly providerId = EmailAuthProvider.PROVIDER_ID;\n\n  /**\n   * Initialize an {@link AuthCredential} using an email and password.\n   *\n   * @example\n   * ```javascript\n   * const authCredential = EmailAuthProvider.credential(email, password);\n   * const userCredential = await signInWithCredential(auth, authCredential);\n   * ```\n   *\n   * @example\n   * ```javascript\n   * const userCredential = await signInWithEmailAndPassword(auth, email, password);\n   * ```\n   *\n   * @param email - Email address.\n   * @param password - User account password.\n   * @returns The auth provider credential.\n   */\n  static credential(email: string, password: string): EmailAuthCredential {\n    return EmailAuthCredential._fromEmailAndPassword(email, password);\n  }\n\n  /**\n   * Initialize an {@link AuthCredential} using an email and an email link after a sign in with\n   * email link operation.\n   *\n   * @example\n   * ```javascript\n   * const authCredential = EmailAuthProvider.credentialWithLink(auth, email, emailLink);\n   * const userCredential = await signInWithCredential(auth, authCredential);\n   * ```\n   *\n   * @example\n   * ```javascript\n   * await sendSignInLinkToEmail(auth, email);\n   * // Obtain emailLink from user.\n   * const userCredential = await signInWithEmailLink(auth, email, emailLink);\n   * ```\n   *\n   * @param auth - The {@link Auth} instance used to verify the link.\n   * @param email - Email address.\n   * @param emailLink - Sign-in email link.\n   * @returns - The auth provider credential.\n   */\n  static credentialWithLink(\n    email: string,\n    emailLink: string\n  ): EmailAuthCredential {\n    const actionCodeUrl = ActionCodeURL.parseLink(emailLink);\n    _assert(actionCodeUrl, AuthErrorCode.ARGUMENT_ERROR);\n\n    return EmailAuthCredential._fromEmailAndCode(\n      email,\n      actionCodeUrl.code,\n      actionCodeUrl.tenantId\n    );\n  }\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { AuthProvider } from '../../model/public_types';\n\n/**\n * Map of OAuth Custom Parameters.\n *\n * @public\n */\nexport type CustomParameters = Record<string, string>;\n\n/**\n * The base class for all Federated providers (OAuth (including OIDC), SAML).\n *\n * This class is not meant to be instantiated directly.\n *\n * @public\n */\nexport abstract class FederatedAuthProvider implements AuthProvider {\n  /** @internal */\n  defaultLanguageCode: string | null = null;\n  /** @internal */\n  private customParameters: CustomParameters = {};\n\n  /**\n   * Constructor for generic OAuth providers.\n   *\n   * @param providerId - Provider for which credentials should be generated.\n   */\n  constructor(readonly providerId: string) {}\n\n  /**\n   * Set the language gode.\n   *\n   * @param languageCode - language code\n   */\n  setDefaultLanguage(languageCode: string | null): void {\n    this.defaultLanguageCode = languageCode;\n  }\n\n  /**\n   * Sets the OAuth custom parameters to pass in an OAuth request for popup and redirect sign-in\n   * operations.\n   *\n   * @remarks\n   * For a detailed list, check the reserved required OAuth 2.0 parameters such as `client_id`,\n   * `redirect_uri`, `scope`, `response_type`, and `state` are not allowed and will be ignored.\n   *\n   * @param customOAuthParameters - The custom OAuth parameters to pass in the OAuth request.\n   */\n  setCustomParameters(customOAuthParameters: CustomParameters): AuthProvider {\n    this.customParameters = customOAuthParameters;\n    return this;\n  }\n\n  /**\n   * Retrieve the current list of {@link CustomParameters}.\n   */\n  getCustomParameters(): CustomParameters {\n    return this.customParameters;\n  }\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { AuthProvider, UserCredential } from '../../model/public_types';\n\nimport { _assert } from '../util/assert';\nimport { AuthErrorCode } from '../errors';\n\nimport { OAuthCredential, OAuthCredentialParams } from '../credentials/oauth';\nimport { UserCredentialInternal } from '../../model/user';\nimport { FirebaseError } from '@firebase/util';\nimport { TaggedWithTokenResponse } from '../../model/id_token';\nimport { SignInWithIdpResponse } from '../../../internal';\nimport { FederatedAuthProvider } from './federated';\n\n/**\n * Defines the options for initializing an {@link OAuthCredential}.\n *\n * @remarks\n * For ID tokens with nonce claim, the raw nonce has to also be provided.\n *\n * @public\n */\nexport interface OAuthCredentialOptions {\n  /**\n   * The OAuth ID token used to initialize the {@link OAuthCredential}.\n   */\n  idToken?: string;\n  /**\n   * The OAuth access token used to initialize the {@link OAuthCredential}.\n   */\n  accessToken?: string;\n  /**\n   * The raw nonce associated with the ID token.\n   *\n   * @remarks\n   * It is required when an ID token with a nonce field is provided. The SHA-256 hash of the\n   * raw nonce must match the nonce field in the ID token.\n   */\n  rawNonce?: string;\n}\n\n/**\n * Common code to all OAuth providers. This is separate from the\n * {@link OAuthProvider} so that child providers (like\n * {@link GoogleAuthProvider}) don't inherit the `credential` instance method.\n * Instead, they rely on a static `credential` method.\n */\nexport abstract class BaseOAuthProvider\n  extends FederatedAuthProvider\n  implements AuthProvider\n{\n  /** @internal */\n  private scopes: string[] = [];\n\n  /**\n   * Add an OAuth scope to the credential.\n   *\n   * @param scope - Provider OAuth scope to add.\n   */\n  addScope(scope: string): AuthProvider {\n    // If not already added, add scope to list.\n    if (!this.scopes.includes(scope)) {\n      this.scopes.push(scope);\n    }\n    return this;\n  }\n\n  /**\n   * Retrieve the current list of OAuth scopes.\n   */\n  getScopes(): string[] {\n    return [...this.scopes];\n  }\n}\n\n/**\n * Provider for generating generic {@link OAuthCredential}.\n *\n * @example\n * ```javascript\n * // Sign in using a redirect.\n * const provider = new OAuthProvider('google.com');\n * // Start a sign in process for an unauthenticated user.\n * provider.addScope('profile');\n * provider.addScope('email');\n * await signInWithRedirect(auth, provider);\n * // This will trigger a full page redirect away from your app\n *\n * // After returning from the redirect when your app initializes you can obtain the result\n * const result = await getRedirectResult(auth);\n * if (result) {\n *   // This is the signed-in user\n *   const user = result.user;\n *   // This gives you a OAuth Access Token for the provider.\n *   const credential = provider.credentialFromResult(auth, result);\n *   const token = credential.accessToken;\n * }\n * ```\n *\n * @example\n * ```javascript\n * // Sign in using a popup.\n * const provider = new OAuthProvider('google.com');\n * provider.addScope('profile');\n * provider.addScope('email');\n * const result = await signInWithPopup(auth, provider);\n *\n * // The signed-in user info.\n * const user = result.user;\n * // This gives you a OAuth Access Token for the provider.\n * const credential = provider.credentialFromResult(auth, result);\n * const token = credential.accessToken;\n * ```\n * @public\n */\nexport class OAuthProvider extends BaseOAuthProvider {\n  /**\n   * Creates an {@link OAuthCredential} from a JSON string or a plain object.\n   * @param json - A plain object or a JSON string\n   */\n  static credentialFromJSON(json: object | string): OAuthCredential {\n    const obj = typeof json === 'string' ? JSON.parse(json) : json;\n    _assert(\n      'providerId' in obj && 'signInMethod' in obj,\n      AuthErrorCode.ARGUMENT_ERROR\n    );\n    return OAuthCredential._fromParams(obj);\n  }\n\n  /**\n   * Creates a {@link OAuthCredential} from a generic OAuth provider's access token or ID token.\n   *\n   * @remarks\n   * The raw nonce is required when an ID token with a nonce field is provided. The SHA-256 hash of\n   * the raw nonce must match the nonce field in the ID token.\n   *\n   * @example\n   * ```javascript\n   * // `googleUser` from the onsuccess Google Sign In callback.\n   * // Initialize a generate OAuth provider with a `google.com` providerId.\n   * const provider = new OAuthProvider('google.com');\n   * const credential = provider.credential({\n   *   idToken: googleUser.getAuthResponse().id_token,\n   * });\n   * const result = await signInWithCredential(credential);\n   * ```\n   *\n   * @param params - Either the options object containing the ID token, access token and raw nonce\n   * or the ID token string.\n   */\n  credential(params: OAuthCredentialOptions): OAuthCredential {\n    return this._credential({...params, nonce: params.rawNonce});\n  }\n\n  /** An internal credential method that accepts more permissive options */\n  private _credential(\n    params: Omit<OAuthCredentialParams, 'signInMethod' | 'providerId'>\n  ): OAuthCredential {\n    _assert(params.idToken || params.accessToken, AuthErrorCode.ARGUMENT_ERROR);\n    // For OAuthCredential, sign in method is same as providerId.\n    return OAuthCredential._fromParams({\n      ...params,\n      providerId: this.providerId,\n      signInMethod: this.providerId\n    });\n  }\n\n  /**\n   * Used to extract the underlying {@link OAuthCredential} from a {@link UserCredential}.\n   *\n   * @param userCredential - The user credential.\n   */\n  static credentialFromResult(\n    userCredential: UserCredential\n  ): OAuthCredential | null {\n    return OAuthProvider.oauthCredentialFromTaggedObject(\n      userCredential as UserCredentialInternal\n    );\n  }\n  /**\n   * Used to extract the underlying {@link OAuthCredential} from a {@link AuthError} which was\n   * thrown during a sign-in, link, or reauthenticate operation.\n   *\n   * @param userCredential - The user credential.\n   */\n  static credentialFromError(error: FirebaseError): OAuthCredential | null {\n    return OAuthProvider.oauthCredentialFromTaggedObject(\n      (error.customData || {}) as TaggedWithTokenResponse\n    );\n  }\n\n  private static oauthCredentialFromTaggedObject({\n    _tokenResponse: tokenResponse\n  }: TaggedWithTokenResponse): OAuthCredential | null {\n    if (!tokenResponse) {\n      return null;\n    }\n\n    const {\n      oauthIdToken,\n      oauthAccessToken,\n      oauthTokenSecret,\n      pendingToken,\n      nonce,\n      providerId\n    } = tokenResponse as SignInWithIdpResponse;\n    if (\n      !oauthAccessToken &&\n      !oauthTokenSecret &&\n      !oauthIdToken &&\n      !pendingToken\n    ) {\n      return null;\n    }\n\n    if (!providerId) {\n      return null;\n    }\n\n    try {\n      return new OAuthProvider(providerId)._credential({\n        idToken: oauthIdToken,\n        accessToken: oauthAccessToken,\n        nonce,\n        pendingToken\n      });\n    } catch (e) {\n      return null;\n    }\n  }\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { UserCredential } from '../../model/public_types';\nimport { FirebaseError } from '@firebase/util';\n\nimport { TaggedWithTokenResponse } from '../../model/id_token';\nimport { UserCredentialInternal } from '../../model/user';\nimport { OAuthCredential } from '../credentials/oauth';\nimport { BaseOAuthProvider } from './oauth';\nimport { ProviderId, SignInMethod } from '../../model/enums';\n\n/**\n * Provider for generating an {@link OAuthCredential} for {@link ProviderId}.FACEBOOK.\n *\n * @example\n * ```javascript\n * // Sign in using a redirect.\n * const provider = new FacebookAuthProvider();\n * // Start a sign in process for an unauthenticated user.\n * provider.addScope('user_birthday');\n * await signInWithRedirect(auth, provider);\n * // This will trigger a full page redirect away from your app\n *\n * // After returning from the redirect when your app initializes you can obtain the result\n * const result = await getRedirectResult(auth);\n * if (result) {\n *   // This is the signed-in user\n *   const user = result.user;\n *   // This gives you a Facebook Access Token.\n *   const credential = FacebookAuthProvider.credentialFromResult(result);\n *   const token = credential.accessToken;\n * }\n * ```\n *\n * @example\n * ```javascript\n * // Sign in using a popup.\n * const provider = new FacebookAuthProvider();\n * provider.addScope('user_birthday');\n * const result = await signInWithPopup(auth, provider);\n *\n * // The signed-in user info.\n * const user = result.user;\n * // This gives you a Facebook Access Token.\n * const credential = FacebookAuthProvider.credentialFromResult(result);\n * const token = credential.accessToken;\n * ```\n *\n * @public\n */\nexport class FacebookAuthProvider extends BaseOAuthProvider {\n  /** Always set to {@link SignInMethod}.FACEBOOK. */\n  static readonly FACEBOOK_SIGN_IN_METHOD: 'facebook.com' =\n    SignInMethod.FACEBOOK;\n  /** Always set to {@link ProviderId}.FACEBOOK. */\n  static readonly PROVIDER_ID: 'facebook.com' = ProviderId.FACEBOOK;\n\n  constructor() {\n    super(ProviderId.FACEBOOK);\n  }\n\n  /**\n   * Creates a credential for Facebook.\n   *\n   * @example\n   * ```javascript\n   * // `event` from the Facebook auth.authResponseChange callback.\n   * const credential = FacebookAuthProvider.credential(event.authResponse.accessToken);\n   * const result = await signInWithCredential(credential);\n   * ```\n   *\n   * @param accessToken - Facebook access token.\n   */\n  static credential(accessToken: string): OAuthCredential {\n    return OAuthCredential._fromParams({\n      providerId: FacebookAuthProvider.PROVIDER_ID,\n      signInMethod: FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD,\n      accessToken\n    });\n  }\n\n  /**\n   * Used to extract the underlying {@link OAuthCredential} from a {@link UserCredential}.\n   *\n   * @param userCredential - The user credential.\n   */\n  static credentialFromResult(\n    userCredential: UserCredential\n  ): OAuthCredential | null {\n    return FacebookAuthProvider.credentialFromTaggedObject(\n      userCredential as UserCredentialInternal\n    );\n  }\n\n  /**\n   * Used to extract the underlying {@link OAuthCredential} from a {@link AuthError} which was\n   * thrown during a sign-in, link, or reauthenticate operation.\n   *\n   * @param userCredential - The user credential.\n   */\n  static credentialFromError(error: FirebaseError): OAuthCredential | null {\n    return FacebookAuthProvider.credentialFromTaggedObject(\n      (error.customData || {}) as TaggedWithTokenResponse\n    );\n  }\n\n  private static credentialFromTaggedObject({\n    _tokenResponse: tokenResponse\n  }: TaggedWithTokenResponse): OAuthCredential | null {\n    if (!tokenResponse || !('oauthAccessToken' in tokenResponse)) {\n      return null;\n    }\n\n    if (!tokenResponse.oauthAccessToken) {\n      return null;\n    }\n\n    try {\n      return FacebookAuthProvider.credential(tokenResponse.oauthAccessToken);\n    } catch {\n      return null;\n    }\n  }\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { UserCredential } from '../../model/public_types';\nimport { FirebaseError } from '@firebase/util';\n\nimport { SignInWithIdpResponse } from '../../api/authentication/idp';\nimport { TaggedWithTokenResponse } from '../../model/id_token';\nimport { UserCredentialInternal } from '../../model/user';\nimport { OAuthCredential } from '../credentials/oauth';\nimport { BaseOAuthProvider } from './oauth';\nimport { ProviderId, SignInMethod } from '../../model/enums';\n\n/**\n * Provider for generating an an {@link OAuthCredential} for {@link ProviderId}.GOOGLE.\n *\n * @example\n * ```javascript\n * // Sign in using a redirect.\n * const provider = new GoogleAuthProvider();\n * // Start a sign in process for an unauthenticated user.\n * provider.addScope('profile');\n * provider.addScope('email');\n * await signInWithRedirect(auth, provider);\n * // This will trigger a full page redirect away from your app\n *\n * // After returning from the redirect when your app initializes you can obtain the result\n * const result = await getRedirectResult(auth);\n * if (result) {\n *   // This is the signed-in user\n *   const user = result.user;\n *   // This gives you a Google Access Token.\n *   const credential = GoogleAuthProvider.credentialFromResult(result);\n *   const token = credential.accessToken;\n * }\n * ```\n *\n * @example\n * ```javascript\n * // Sign in using a popup.\n * const provider = new GoogleAuthProvider();\n * provider.addScope('profile');\n * provider.addScope('email');\n * const result = await signInWithPopup(auth, provider);\n *\n * // The signed-in user info.\n * const user = result.user;\n * // This gives you a Google Access Token.\n * const credential = GoogleAuthProvider.credentialFromResult(result);\n * const token = credential.accessToken;\n * ```\n *\n * @public\n */\nexport class GoogleAuthProvider extends BaseOAuthProvider {\n  /** Always set to {@link SignInMethod}.GOOGLE. */\n  static readonly GOOGLE_SIGN_IN_METHOD: 'google.com' = SignInMethod.GOOGLE;\n  /** Always set to {@link ProviderId}.GOOGLE. */\n  static readonly PROVIDER_ID: 'google.com' = ProviderId.GOOGLE;\n\n  constructor() {\n    super(ProviderId.GOOGLE);\n    this.addScope('profile');\n  }\n\n  /**\n   * Creates a credential for Google. At least one of ID token and access token is required.\n   *\n   * @example\n   * ```javascript\n   * // \\`googleUser\\` from the onsuccess Google Sign In callback.\n   * const credential = GoogleAuthProvider.credential(googleUser.getAuthResponse().id_token);\n   * const result = await signInWithCredential(credential);\n   * ```\n   *\n   * @param idToken - Google ID token.\n   * @param accessToken - Google access token.\n   */\n  static credential(\n    idToken?: string | null,\n    accessToken?: string | null\n  ): OAuthCredential {\n    return OAuthCredential._fromParams({\n      providerId: GoogleAuthProvider.PROVIDER_ID,\n      signInMethod: GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD,\n      idToken,\n      accessToken\n    });\n  }\n\n  /**\n   * Used to extract the underlying {@link OAuthCredential} from a {@link UserCredential}.\n   *\n   * @param userCredential - The user credential.\n   */\n  static credentialFromResult(\n    userCredential: UserCredential\n  ): OAuthCredential | null {\n    return GoogleAuthProvider.credentialFromTaggedObject(\n      userCredential as UserCredentialInternal\n    );\n  }\n  /**\n   * Used to extract the underlying {@link OAuthCredential} from a {@link AuthError} which was\n   * thrown during a sign-in, link, or reauthenticate operation.\n   *\n   * @param userCredential - The user credential.\n   */\n  static credentialFromError(error: FirebaseError): OAuthCredential | null {\n    return GoogleAuthProvider.credentialFromTaggedObject(\n      (error.customData || {}) as TaggedWithTokenResponse\n    );\n  }\n\n  private static credentialFromTaggedObject({\n    _tokenResponse: tokenResponse\n  }: TaggedWithTokenResponse): OAuthCredential | null {\n    if (!tokenResponse) {\n      return null;\n    }\n\n    const { oauthIdToken, oauthAccessToken } =\n      tokenResponse as SignInWithIdpResponse;\n    if (!oauthIdToken && !oauthAccessToken) {\n      // This could be an oauth 1 credential or a phone credential\n      return null;\n    }\n\n    try {\n      return GoogleAuthProvider.credential(oauthIdToken, oauthAccessToken);\n    } catch {\n      return null;\n    }\n  }\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { UserCredential } from '../../model/public_types';\nimport { FirebaseError } from '@firebase/util';\n\nimport { TaggedWithTokenResponse } from '../../model/id_token';\nimport { UserCredentialInternal } from '../../model/user';\nimport { OAuthCredential } from '../credentials/oauth';\nimport { BaseOAuthProvider } from './oauth';\nimport { ProviderId, SignInMethod } from '../../model/enums';\n\n/**\n * Provider for generating an {@link OAuthCredential} for {@link ProviderId}.GITHUB.\n *\n * @remarks\n * GitHub requires an OAuth 2.0 redirect, so you can either handle the redirect directly, or use\n * the {@link signInWithPopup} handler:\n *\n * @example\n * ```javascript\n * // Sign in using a redirect.\n * const provider = new GithubAuthProvider();\n * // Start a sign in process for an unauthenticated user.\n * provider.addScope('repo');\n * await signInWithRedirect(auth, provider);\n * // This will trigger a full page redirect away from your app\n *\n * // After returning from the redirect when your app initializes you can obtain the result\n * const result = await getRedirectResult(auth);\n * if (result) {\n *   // This is the signed-in user\n *   const user = result.user;\n *   // This gives you a Github Access Token.\n *   const credential = GithubAuthProvider.credentialFromResult(result);\n *   const token = credential.accessToken;\n * }\n * ```\n *\n * @example\n * ```javascript\n * // Sign in using a popup.\n * const provider = new GithubAuthProvider();\n * provider.addScope('repo');\n * const result = await signInWithPopup(auth, provider);\n *\n * // The signed-in user info.\n * const user = result.user;\n * // This gives you a Github Access Token.\n * const credential = GithubAuthProvider.credentialFromResult(result);\n * const token = credential.accessToken;\n * ```\n * @public\n */\nexport class GithubAuthProvider extends BaseOAuthProvider {\n  /** Always set to {@link SignInMethod}.GITHUB. */\n  static readonly GITHUB_SIGN_IN_METHOD: 'github.com' = SignInMethod.GITHUB;\n  /** Always set to {@link ProviderId}.GITHUB. */\n  static readonly PROVIDER_ID: 'github.com' = ProviderId.GITHUB;\n\n  constructor() {\n    super(ProviderId.GITHUB);\n  }\n\n  /**\n   * Creates a credential for Github.\n   *\n   * @param accessToken - Github access token.\n   */\n  static credential(accessToken: string): OAuthCredential {\n    return OAuthCredential._fromParams({\n      providerId: GithubAuthProvider.PROVIDER_ID,\n      signInMethod: GithubAuthProvider.GITHUB_SIGN_IN_METHOD,\n      accessToken\n    });\n  }\n\n  /**\n   * Used to extract the underlying {@link OAuthCredential} from a {@link UserCredential}.\n   *\n   * @param userCredential - The user credential.\n   */\n  static credentialFromResult(\n    userCredential: UserCredential\n  ): OAuthCredential | null {\n    return GithubAuthProvider.credentialFromTaggedObject(\n      userCredential as UserCredentialInternal\n    );\n  }\n\n  /**\n   * Used to extract the underlying {@link OAuthCredential} from a {@link AuthError} which was\n   * thrown during a sign-in, link, or reauthenticate operation.\n   *\n   * @param userCredential - The user credential.\n   */\n  static credentialFromError(error: FirebaseError): OAuthCredential | null {\n    return GithubAuthProvider.credentialFromTaggedObject(\n      (error.customData || {}) as TaggedWithTokenResponse\n    );\n  }\n\n  private static credentialFromTaggedObject({\n    _tokenResponse: tokenResponse\n  }: TaggedWithTokenResponse): OAuthCredential | null {\n    if (!tokenResponse || !('oauthAccessToken' in tokenResponse)) {\n      return null;\n    }\n\n    if (!tokenResponse.oauthAccessToken) {\n      return null;\n    }\n\n    try {\n      return GithubAuthProvider.credential(tokenResponse.oauthAccessToken);\n    } catch {\n      return null;\n    }\n  }\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  Endpoint,\n  HttpMethod,\n  _addTidIfNecessary,\n  _performSignInRequest\n} from '../index';\nimport { IdTokenResponse } from '../../model/id_token';\nimport { Auth } from '../../model/public_types';\n\nexport interface SignUpRequest {\n  returnSecureToken?: boolean;\n  email?: string;\n  password?: string;\n  tenantId?: string;\n}\n\nexport interface SignUpResponse extends IdTokenResponse {\n  displayName?: string;\n  email?: string;\n}\n\nexport async function signUp(\n  auth: Auth,\n  request: SignUpRequest\n): Promise<SignUpResponse> {\n  return _performSignInRequest<SignUpRequest, SignUpResponse>(\n    auth,\n    HttpMethod.POST,\n    Endpoint.SIGN_UP,\n    _addTidIfNecessary(auth, request)\n  );\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { PhoneOrOauthTokenResponse } from '../../api/authentication/mfa';\nimport { IdTokenResponse } from '../../model/id_token';\nimport { UserInternal, UserCredentialInternal } from '../../model/user';\nimport { UserImpl } from './user_impl';\nimport { AuthInternal } from '../../model/auth';\nimport { OperationType, ProviderId } from '../../model/enums';\n\ninterface UserCredentialParams {\n  readonly user: UserInternal;\n  readonly providerId: ProviderId | string | null;\n  readonly _tokenResponse?: PhoneOrOauthTokenResponse;\n  readonly operationType: OperationType;\n}\n\nexport class UserCredentialImpl\n  implements UserCredentialInternal, UserCredentialParams\n{\n  readonly user: UserInternal;\n  readonly providerId: ProviderId | string | null;\n  readonly _tokenResponse: PhoneOrOauthTokenResponse | undefined;\n  readonly operationType: OperationType;\n\n  constructor(params: UserCredentialParams) {\n    this.user = params.user;\n    this.providerId = params.providerId;\n    this._tokenResponse = params._tokenResponse;\n    this.operationType = params.operationType;\n  }\n\n  static async _fromIdTokenResponse(\n    auth: AuthInternal,\n    operationType: OperationType,\n    idTokenResponse: IdTokenResponse,\n    isAnonymous: boolean = false\n  ): Promise<UserCredentialInternal> {\n    const user = await UserImpl._fromIdTokenResponse(\n      auth,\n      idTokenResponse,\n      isAnonymous\n    );\n    const providerId = providerIdForResponse(idTokenResponse);\n    const userCred = new UserCredentialImpl({\n      user,\n      providerId,\n      _tokenResponse: idTokenResponse,\n      operationType\n    });\n    return userCred;\n  }\n\n  static async _forOperation(\n    user: UserInternal,\n    operationType: OperationType,\n    response: PhoneOrOauthTokenResponse\n  ): Promise<UserCredentialImpl> {\n    await user._updateTokensIfNecessary(response, /* reload */ true);\n    const providerId = providerIdForResponse(response);\n    return new UserCredentialImpl({\n      user,\n      providerId,\n      _tokenResponse: response,\n      operationType\n    });\n  }\n}\n\nfunction providerIdForResponse(\n  response: IdTokenResponse\n): ProviderId | string | null {\n  if (response.providerId) {\n    return response.providerId;\n  }\n\n  if ('phoneNumber' in response) {\n    return ProviderId.PHONE;\n  }\n\n  return null;\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Auth, UserCredential } from '../../model/public_types';\nimport { signUp } from '../../api/authentication/sign_up';\nimport { UserInternal } from '../../model/user';\nimport { UserCredentialImpl } from '../user/user_credential_impl';\nimport { _castAuth } from '../auth/auth_impl';\nimport { OperationType } from '../../model/enums';\n\n/**\n * Asynchronously signs in as an anonymous user.\n *\n * @remarks\n * If there is already an anonymous user signed in, that user will be returned; otherwise, a\n * new anonymous user identity will be created and returned.\n *\n * @param auth - The {@link Auth} instance.\n *\n * @public\n */\nexport async function signInAnonymously(auth: Auth): Promise<UserCredential> {\n  const authInternal = _castAuth(auth);\n  await authInternal._initializationPromise;\n  if (authInternal.currentUser?.isAnonymous) {\n    // If an anonymous user is already signed in, no need to sign them in again.\n    return new UserCredentialImpl({\n      user: authInternal.currentUser as UserInternal,\n      providerId: null,\n      operationType: OperationType.SIGN_IN\n    });\n  }\n  const response = await signUp(authInternal, {\n    returnSecureToken: true\n  });\n  const userCredential = await UserCredentialImpl._fromIdTokenResponse(\n    authInternal,\n    OperationType.SIGN_IN,\n    response,\n    true\n  );\n  await authInternal._updateCurrentUser(userCredential.user);\n  return userCredential;\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { UserCredential, Auth, User } from '../../model/public_types';\n\nimport { _processCredentialSavingMfaContextIfNecessary } from '../../mfa/mfa_error';\nimport { AuthInternal } from '../../model/auth';\nimport { UserInternal } from '../../model/user';\nimport { AuthCredential } from '../credentials';\nimport { _assertLinkedStatus, _link } from '../user/link_unlink';\nimport { _reauthenticate } from '../user/reauthenticate';\nimport { UserCredentialImpl } from '../user/user_credential_impl';\nimport { _castAuth } from '../auth/auth_impl';\nimport { getModularInstance } from '@firebase/util';\nimport { OperationType } from '../../model/enums';\n\nexport async function _signInWithCredential(\n  auth: AuthInternal,\n  credential: AuthCredential,\n  bypassAuthState = false\n): Promise<UserCredential> {\n  const operationType = OperationType.SIGN_IN;\n  const response = await _processCredentialSavingMfaContextIfNecessary(\n    auth,\n    operationType,\n    credential\n  );\n  const userCredential = await UserCredentialImpl._fromIdTokenResponse(\n    auth,\n    operationType,\n    response\n  );\n\n  if (!bypassAuthState) {\n    await auth._updateCurrentUser(userCredential.user);\n  }\n  return userCredential;\n}\n\n/**\n * Asynchronously signs in with the given credentials.\n *\n * @remarks\n * An {@link AuthProvider} can be used to generate the credential.\n *\n * @param auth - The {@link Auth} instance.\n * @param credential - The auth credential.\n *\n * @public\n */\nexport async function signInWithCredential(\n  auth: Auth,\n  credential: AuthCredential\n): Promise<UserCredential> {\n  return _signInWithCredential(_castAuth(auth), credential);\n}\n\n/**\n * Links the user account with the given credentials.\n *\n * @remarks\n * An {@link AuthProvider} can be used to generate the credential.\n *\n * @param user - The user.\n * @param credential - The auth credential.\n *\n * @public\n */\nexport async function linkWithCredential(\n  user: User,\n  credential: AuthCredential\n): Promise<UserCredential> {\n  const userInternal = getModularInstance(user) as UserInternal;\n\n  await _assertLinkedStatus(false, userInternal, credential.providerId);\n\n  return _link(userInternal, credential);\n}\n\n/**\n * Re-authenticates a user using a fresh credential.\n *\n * @remarks\n * Use before operations such as {@link updatePassword} that require tokens from recent sign-in\n * attempts. This method can be used to recover from a `CREDENTIAL_TOO_OLD_LOGIN_AGAIN` error.\n *\n * @param user - The user.\n * @param credential - The auth credential.\n *\n * @public\n */\nexport async function reauthenticateWithCredential(\n  user: User,\n  credential: AuthCredential\n): Promise<UserCredential> {\n  return _reauthenticate(getModularInstance(user) as UserInternal, credential);\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  Endpoint,\n  HttpMethod,\n  _addTidIfNecessary,\n  _performSignInRequest\n} from '../index';\nimport { IdTokenResponse } from '../../model/id_token';\nimport { Auth } from '../../model/public_types';\n\nexport interface SignInWithCustomTokenRequest {\n  token: string;\n  returnSecureToken: boolean;\n  tenantId?: string;\n}\n\nexport interface SignInWithCustomTokenResponse extends IdTokenResponse {}\n\nexport async function signInWithCustomToken(\n  auth: Auth,\n  request: SignInWithCustomTokenRequest\n): Promise<SignInWithCustomTokenResponse> {\n  return _performSignInRequest<\n    SignInWithCustomTokenRequest,\n    SignInWithCustomTokenResponse\n  >(\n    auth,\n    HttpMethod.POST,\n    Endpoint.SIGN_IN_WITH_CUSTOM_TOKEN,\n    _addTidIfNecessary(auth, request)\n  );\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Auth, UserCredential } from '../../model/public_types';\n\nimport { signInWithCustomToken as getIdTokenResponse } from '../../api/authentication/custom_token';\nimport { IdTokenResponse } from '../../model/id_token';\nimport { UserCredentialImpl } from '../user/user_credential_impl';\nimport { _castAuth } from '../auth/auth_impl';\nimport { OperationType } from '../../model/enums';\n\n/**\n * Asynchronously signs in using a custom token.\n *\n * @remarks\n * Custom tokens are used to integrate Firebase Auth with existing auth systems, and must\n * be generated by an auth backend using the\n * {@link https://firebase.google.com/docs/reference/admin/node/admin.auth.Auth#createcustomtoken | createCustomToken}\n * method in the {@link https://firebase.google.com/docs/auth/admin | Admin SDK} .\n *\n * Fails with an error if the token is invalid, expired, or not accepted by the Firebase Auth service.\n *\n * @param auth - The {@link Auth} instance.\n * @param customToken - The custom token to sign in with.\n *\n * @public\n */\nexport async function signInWithCustomToken(\n  auth: Auth,\n  customToken: string\n): Promise<UserCredential> {\n  const authInternal = _castAuth(auth);\n  const response: IdTokenResponse = await getIdTokenResponse(authInternal, {\n    token: customToken,\n    returnSecureToken: true\n  });\n  const cred = await UserCredentialImpl._fromIdTokenResponse(\n    authInternal,\n    OperationType.SIGN_IN,\n    response\n  );\n  await authInternal._updateCurrentUser(cred.user);\n  return cred;\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FactorId, MultiFactorInfo, PhoneMultiFactorInfo } from '../model/public_types';\nimport {\n  PhoneMfaEnrollment,\n  MfaEnrollment\n} from '../api/account_management/mfa';\nimport { AuthErrorCode } from '../core/errors';\nimport { _fail } from '../core/util/assert';\nimport { AuthInternal } from '../model/auth';\n\nexport abstract class MultiFactorInfoImpl implements MultiFactorInfo {\n  readonly uid: string;\n  readonly displayName?: string | null;\n  readonly enrollmentTime: string;\n\n  protected constructor(readonly factorId: FactorId, response: MfaEnrollment) {\n    this.uid = response.mfaEnrollmentId;\n    this.enrollmentTime = new Date(response.enrolledAt).toUTCString();\n    this.displayName = response.displayName;\n  }\n\n  static _fromServerResponse(\n    auth: AuthInternal,\n    enrollment: MfaEnrollment\n  ): MultiFactorInfoImpl {\n    if ('phoneInfo' in enrollment) {\n      return PhoneMultiFactorInfoImpl._fromServerResponse(auth, enrollment);\n    }\n    return _fail(auth, AuthErrorCode.INTERNAL_ERROR);\n  }\n}\n\nexport class PhoneMultiFactorInfoImpl extends MultiFactorInfoImpl implements PhoneMultiFactorInfo {\n  readonly phoneNumber: string;\n\n  private constructor(response: PhoneMfaEnrollment) {\n    super(FactorId.PHONE, response);\n    this.phoneNumber = response.phoneInfo;\n  }\n\n  static _fromServerResponse(\n    _auth: AuthInternal,\n    enrollment: MfaEnrollment\n  ): PhoneMultiFactorInfoImpl {\n    return new PhoneMultiFactorInfoImpl(enrollment);\n  }\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { MultiFactorError as MultiFactorErrorPublic } from '../model/public_types';\nimport { FirebaseError } from '@firebase/util';\nimport { AuthInternal } from '../model/auth';\nimport { IdTokenResponse } from '../model/id_token';\nimport { AuthErrorCode } from '../core/errors';\nimport { UserInternal } from '../model/user';\nimport { AuthCredential } from '../core/credentials';\nimport { IdTokenMfaResponse } from '../api/authentication/mfa';\nimport { OperationType } from '../model/enums';\n\nexport type MultiFactorErrorData = MultiFactorErrorPublic['customData'] & {\n  _serverResponse: IdTokenMfaResponse;\n};\n\nexport class MultiFactorError\n  extends FirebaseError\n  implements MultiFactorErrorPublic\n{\n  readonly customData: MultiFactorErrorData;\n\n  private constructor(\n    auth: AuthInternal,\n    error: FirebaseError,\n    readonly operationType: OperationType,\n    readonly user?: UserInternal\n  ) {\n    super(error.code, error.message);\n    // https://github.com/Microsoft/TypeScript-wiki/blob/master/Breaking-Changes.md#extending-built-ins-like-error-array-and-map-may-no-longer-work\n    Object.setPrototypeOf(this, MultiFactorError.prototype);\n    this.customData = {\n      appName: auth.name,\n      tenantId: auth.tenantId ?? undefined,\n      _serverResponse: error.customData!._serverResponse as IdTokenMfaResponse,\n      operationType,\n    };\n  }\n\n  static _fromErrorAndOperation(\n    auth: AuthInternal,\n    error: FirebaseError,\n    operationType: OperationType,\n    user?: UserInternal\n  ): MultiFactorError {\n    return new MultiFactorError(auth, error, operationType, user);\n  }\n}\n\nexport function _processCredentialSavingMfaContextIfNecessary(\n  auth: AuthInternal,\n  operationType: OperationType,\n  credential: AuthCredential,\n  user?: UserInternal\n): Promise<IdTokenResponse> {\n  const idTokenProvider =\n    operationType === OperationType.REAUTHENTICATE\n      ? credential._getReauthenticationResolver(auth)\n      : credential._getIdTokenResponse(auth);\n\n  return idTokenProvider.catch(error => {\n    if (error.code === `auth/${AuthErrorCode.MFA_REQUIRED}`) {\n      throw MultiFactorError._fromErrorAndOperation(\n        auth,\n        error,\n        operationType,\n        user\n      );\n    }\n\n    throw error;\n  });\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { User } from '../../model/public_types';\n\nimport { deleteLinkedAccounts } from '../../api/account_management/account';\nimport { UserInternal, UserCredentialInternal } from '../../model/user';\nimport { AuthCredential } from '../credentials';\nimport { AuthErrorCode } from '../errors';\nimport { _assert } from '../util/assert';\nimport { providerDataAsNames } from '../util/providers';\nimport { _logoutIfInvalidated } from './invalidation';\nimport { _reloadWithoutSaving } from './reload';\nimport { UserCredentialImpl } from './user_credential_impl';\nimport { getModularInstance } from '@firebase/util';\nimport { OperationType, ProviderId } from '../../model/enums';\n\n/**\n * Unlinks a provider from a user account.\n *\n * @param user - The user.\n * @param providerId - The provider to unlink.\n *\n * @public\n */\nexport async function unlink(user: User, providerId: string): Promise<User> {\n  const userInternal = getModularInstance(user) as UserInternal;\n  await _assertLinkedStatus(true, userInternal, providerId);\n  const { providerUserInfo } = await deleteLinkedAccounts(userInternal.auth, {\n    idToken: await userInternal.getIdToken(),\n    deleteProvider: [providerId]\n  });\n\n  const providersLeft = providerDataAsNames(providerUserInfo || []);\n\n  userInternal.providerData = userInternal.providerData.filter(pd =>\n    providersLeft.has(pd.providerId)\n  );\n  if (!providersLeft.has(ProviderId.PHONE)) {\n    userInternal.phoneNumber = null;\n  }\n\n  await userInternal.auth._persistUserIfCurrent(userInternal);\n  return userInternal;\n}\n\nexport async function _link(\n  user: UserInternal,\n  credential: AuthCredential,\n  bypassAuthState = false\n): Promise<UserCredentialInternal> {\n  const response = await _logoutIfInvalidated(\n    user,\n    credential._linkToIdToken(user.auth, await user.getIdToken()),\n    bypassAuthState\n  );\n  return UserCredentialImpl._forOperation(user, OperationType.LINK, response);\n}\n\nexport async function _assertLinkedStatus(\n  expected: boolean,\n  user: UserInternal,\n  provider: string\n): Promise<void> {\n  await _reloadWithoutSaving(user);\n  const providerIds = providerDataAsNames(user.providerData);\n\n  const code =\n    expected === false\n      ? AuthErrorCode.PROVIDER_ALREADY_LINKED\n      : AuthErrorCode.NO_SUCH_PROVIDER;\n  _assert(providerIds.has(provider) === expected, user.auth, code);\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ActionCodeSettings, Auth } from '../../model/public_types';\n\nimport { GetOobCodeRequest } from '../../api/authentication/email_and_password';\nimport { AuthErrorCode } from '../errors';\nimport { _assert } from '../util/assert';\n\nexport function _setActionCodeSettingsOnRequest(\n  auth: Auth,\n  request: GetOobCodeRequest,\n  actionCodeSettings: ActionCodeSettings\n): void {\n  _assert(\n    actionCodeSettings.url?.length > 0,\n    auth,\n    AuthErrorCode.INVALID_CONTINUE_URI\n  );\n  _assert(\n    typeof actionCodeSettings.dynamicLinkDomain === 'undefined' ||\n      actionCodeSettings.dynamicLinkDomain.length > 0,\n    auth,\n    AuthErrorCode.INVALID_DYNAMIC_LINK_DOMAIN\n  );\n\n  request.continueUrl = actionCodeSettings.url;\n  request.dynamicLinkDomain = actionCodeSettings.dynamicLinkDomain;\n  request.canHandleCodeInApp = actionCodeSettings.handleCodeInApp;\n\n  if (actionCodeSettings.iOS) {\n    _assert(\n      actionCodeSettings.iOS.bundleId.length > 0,\n      auth,\n      AuthErrorCode.MISSING_IOS_BUNDLE_ID\n    );\n    request.iOSBundleId = actionCodeSettings.iOS.bundleId;\n  }\n\n  if (actionCodeSettings.android) {\n    _assert(\n      actionCodeSettings.android.packageName.length > 0,\n      auth,\n      AuthErrorCode.MISSING_ANDROID_PACKAGE_NAME\n    );\n    request.androidInstallApp = actionCodeSettings.android.installApp;\n    request.androidMinimumVersionCode =\n      actionCodeSettings.android.minimumVersion;\n    request.androidPackageName = actionCodeSettings.android.packageName;\n  }\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FirebaseError } from '@firebase/util';\nimport { _processCredentialSavingMfaContextIfNecessary } from '../../mfa/mfa_error';\nimport { OperationType } from '../../model/enums';\nimport { UserInternal } from '../../model/user';\nimport { AuthCredential } from '../credentials';\nimport { AuthErrorCode } from '../errors';\nimport { _assert, _fail } from '../util/assert';\nimport { _parseToken } from './id_token_result';\nimport { _logoutIfInvalidated } from './invalidation';\nimport { UserCredentialImpl } from './user_credential_impl';\n\nexport async function _reauthenticate(\n  user: UserInternal,\n  credential: AuthCredential,\n  bypassAuthState = false\n): Promise<UserCredentialImpl> {\n  const { auth } = user;\n  const operationType = OperationType.REAUTHENTICATE;\n\n  try {\n    const response = await _logoutIfInvalidated(\n      user,\n      _processCredentialSavingMfaContextIfNecessary(\n        auth,\n        operationType,\n        credential,\n        user\n      ),\n      bypassAuthState\n    );\n    _assert(response.idToken, auth, AuthErrorCode.INTERNAL_ERROR);\n    const parsed = _parseToken(response.idToken);\n    _assert(parsed, auth, AuthErrorCode.INTERNAL_ERROR);\n\n    const { sub: localId } = parsed;\n    _assert(user.uid === localId, auth, AuthErrorCode.USER_MISMATCH);\n\n    return UserCredentialImpl._forOperation(user, operationType, response);\n  } catch (e) {\n    // Convert user deleted error into user mismatch\n    if ((e as FirebaseError)?.code === `auth/${AuthErrorCode.USER_DELETED}`) {\n      _fail(auth, AuthErrorCode.USER_MISMATCH);\n    }\n    throw e;\n  }\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  ActionCodeInfo,\n  ActionCodeOperation,\n  ActionCodeSettings,\n  Auth,\n  UserCredential\n} from '../../model/public_types';\n\nimport * as account from '../../api/account_management/email_and_password';\nimport * as authentication from '../../api/authentication/email_and_password';\nimport { signUp } from '../../api/authentication/sign_up';\nimport { MultiFactorInfoImpl } from '../../mfa/mfa_info';\nimport { EmailAuthProvider } from '../providers/email';\nimport { UserCredentialImpl } from '../user/user_credential_impl';\nimport { _assert } from '../util/assert';\nimport { _setActionCodeSettingsOnRequest } from './action_code_settings';\nimport { signInWithCredential } from './credential';\nimport { _castAuth } from '../auth/auth_impl';\nimport { AuthErrorCode } from '../errors';\nimport { getModularInstance } from '@firebase/util';\nimport { OperationType } from '../../model/enums';\n\n/**\n * Sends a password reset email to the given email address.\n *\n * @remarks\n * To complete the password reset, call {@link confirmPasswordReset} with the code supplied in\n * the email sent to the user, along with the new password specified by the user.\n *\n * @example\n * ```javascript\n * const actionCodeSettings = {\n *   url: 'https://www.example.com/?email=user@example.com',\n *   iOS: {\n *      bundleId: 'com.example.ios'\n *   },\n *   android: {\n *     packageName: 'com.example.android',\n *     installApp: true,\n *     minimumVersion: '12'\n *   },\n *   handleCodeInApp: true\n * };\n * await sendPasswordResetEmail(auth, 'user@example.com', actionCodeSettings);\n * // Obtain code from user.\n * await confirmPasswordReset('user@example.com', code);\n * ```\n *\n * @param auth - The {@link Auth} instance.\n * @param email - The user's email address.\n * @param actionCodeSettings - The {@link ActionCodeSettings}.\n *\n * @public\n */\nexport async function sendPasswordResetEmail(\n  auth: Auth,\n  email: string,\n  actionCodeSettings?: ActionCodeSettings\n): Promise<void> {\n  const authModular = getModularInstance(auth);\n  const request: authentication.PasswordResetRequest = {\n    requestType: ActionCodeOperation.PASSWORD_RESET,\n    email\n  };\n  if (actionCodeSettings) {\n    _setActionCodeSettingsOnRequest(authModular, request, actionCodeSettings);\n  }\n\n  await authentication.sendPasswordResetEmail(authModular, request);\n}\n\n/**\n * Completes the password reset process, given a confirmation code and new password.\n *\n * @param auth - The {@link Auth} instance.\n * @param oobCode - A confirmation code sent to the user.\n * @param newPassword - The new password.\n *\n * @public\n */\nexport async function confirmPasswordReset(\n  auth: Auth,\n  oobCode: string,\n  newPassword: string\n): Promise<void> {\n  await account.resetPassword(getModularInstance(auth), {\n    oobCode,\n    newPassword\n  });\n  // Do not return the email.\n}\n\n/**\n * Applies a verification code sent to the user by email or other out-of-band mechanism.\n *\n * @param auth - The {@link Auth} instance.\n * @param oobCode - A verification code sent to the user.\n *\n * @public\n */\nexport async function applyActionCode(\n  auth: Auth,\n  oobCode: string\n): Promise<void> {\n  await account.applyActionCode(getModularInstance(auth), { oobCode });\n}\n\n/**\n * Checks a verification code sent to the user by email or other out-of-band mechanism.\n *\n * @returns metadata about the code.\n *\n * @param auth - The {@link Auth} instance.\n * @param oobCode - A verification code sent to the user.\n *\n * @public\n */\nexport async function checkActionCode(\n  auth: Auth,\n  oobCode: string\n): Promise<ActionCodeInfo> {\n  const authModular = getModularInstance(auth);\n  const response = await account.resetPassword(authModular, { oobCode });\n\n  // Email could be empty only if the request type is EMAIL_SIGNIN or\n  // VERIFY_AND_CHANGE_EMAIL.\n  // New email should not be empty if the request type is\n  // VERIFY_AND_CHANGE_EMAIL.\n  // Multi-factor info could not be empty if the request type is\n  // REVERT_SECOND_FACTOR_ADDITION.\n  const operation = response.requestType;\n  _assert(operation, authModular, AuthErrorCode.INTERNAL_ERROR);\n  switch (operation) {\n    case ActionCodeOperation.EMAIL_SIGNIN:\n      break;\n    case ActionCodeOperation.VERIFY_AND_CHANGE_EMAIL:\n      _assert(response.newEmail, authModular, AuthErrorCode.INTERNAL_ERROR);\n      break;\n    case ActionCodeOperation.REVERT_SECOND_FACTOR_ADDITION:\n      _assert(response.mfaInfo, authModular, AuthErrorCode.INTERNAL_ERROR);\n    // fall through\n    default:\n      _assert(response.email, authModular, AuthErrorCode.INTERNAL_ERROR);\n  }\n\n  // The multi-factor info for revert second factor addition\n  let multiFactorInfo: MultiFactorInfoImpl | null = null;\n  if (response.mfaInfo) {\n    multiFactorInfo = MultiFactorInfoImpl._fromServerResponse(\n      _castAuth(authModular),\n      response.mfaInfo\n    );\n  }\n\n  return {\n    data: {\n      email:\n        (response.requestType === ActionCodeOperation.VERIFY_AND_CHANGE_EMAIL\n          ? response.newEmail\n          : response.email) || null,\n      previousEmail:\n        (response.requestType === ActionCodeOperation.VERIFY_AND_CHANGE_EMAIL\n          ? response.email\n          : response.newEmail) || null,\n      multiFactorInfo\n    },\n    operation\n  };\n}\n\n/**\n * Checks a password reset code sent to the user by email or other out-of-band mechanism.\n *\n * @returns the user's email address if valid.\n *\n * @param auth - The {@link Auth} instance.\n * @param code - A verification code sent to the user.\n *\n * @public\n */\nexport async function verifyPasswordResetCode(\n  auth: Auth,\n  code: string\n): Promise<string> {\n  const { data } = await checkActionCode(getModularInstance(auth), code);\n  // Email should always be present since a code was sent to it\n  return data.email!;\n}\n\n/**\n * Creates a new user account associated with the specified email address and password.\n *\n * @remarks\n * On successful creation of the user account, this user will also be signed in to your application.\n *\n * User account creation can fail if the account already exists or the password is invalid.\n *\n * Note: The email address acts as a unique identifier for the user and enables an email-based\n * password reset. This function will create a new user account and set the initial user password.\n *\n * @param auth - The {@link Auth} instance.\n * @param email - The user's email address.\n * @param password - The user's chosen password.\n *\n * @public\n */\nexport async function createUserWithEmailAndPassword(\n  auth: Auth,\n  email: string,\n  password: string\n): Promise<UserCredential> {\n  const authInternal = _castAuth(auth);\n  const response = await signUp(authInternal, {\n    returnSecureToken: true,\n    email,\n    password\n  });\n\n  const userCredential = await UserCredentialImpl._fromIdTokenResponse(\n    authInternal,\n    OperationType.SIGN_IN,\n    response\n  );\n  await authInternal._updateCurrentUser(userCredential.user);\n\n  return userCredential;\n}\n\n/**\n * Asynchronously signs in using an email and password.\n *\n * @remarks\n * Fails with an error if the email address and password do not match.\n *\n * Note: The user's password is NOT the password used to access the user's email account. The\n * email address serves as a unique identifier for the user, and the password is used to access\n * the user's account in your Firebase project. See also: {@link createUserWithEmailAndPassword}.\n *\n * @param auth - The {@link Auth} instance.\n * @param email - The users email address.\n * @param password - The users password.\n *\n * @public\n */\nexport function signInWithEmailAndPassword(\n  auth: Auth,\n  email: string,\n  password: string\n): Promise<UserCredential> {\n  return signInWithCredential(\n    getModularInstance(auth),\n    EmailAuthProvider.credential(email, password)\n  );\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  ActionCodeOperation,\n  ActionCodeSettings,\n  Auth,\n  UserCredential\n} from '../../model/public_types';\n\nimport * as api from '../../api/authentication/email_and_password';\nimport { ActionCodeURL } from '../action_code_url';\nimport { EmailAuthProvider } from '../providers/email';\nimport { _getCurrentUrl } from '../util/location';\nimport { _setActionCodeSettingsOnRequest } from './action_code_settings';\nimport { signInWithCredential } from './credential';\nimport { AuthErrorCode } from '../errors';\nimport { _assert } from '../util/assert';\nimport { getModularInstance } from '@firebase/util';\n\n/**\n * Sends a sign-in email link to the user with the specified email.\n *\n * @remarks\n * The sign-in operation has to always be completed in the app unlike other out of band email\n * actions (password reset and email verifications). This is because, at the end of the flow,\n * the user is expected to be signed in and their Auth state persisted within the app.\n *\n * To complete sign in with the email link, call {@link signInWithEmailLink} with the email\n * address and the email link supplied in the email sent to the user.\n *\n * @example\n * ```javascript\n * const actionCodeSettings = {\n *   url: 'https://www.example.com/?email=user@example.com',\n *   iOS: {\n *      bundleId: 'com.example.ios'\n *   },\n *   android: {\n *     packageName: 'com.example.android',\n *     installApp: true,\n *     minimumVersion: '12'\n *   },\n *   handleCodeInApp: true\n * };\n * await sendSignInLinkToEmail(auth, 'user@example.com', actionCodeSettings);\n * // Obtain emailLink from the user.\n * if(isSignInWithEmailLink(auth, emailLink)) {\n *   await signInWithEmailLink(auth, 'user@example.com', emailLink);\n * }\n * ```\n *\n * @param authInternal - The {@link Auth} instance.\n * @param email - The user's email address.\n * @param actionCodeSettings - The {@link ActionCodeSettings}.\n *\n * @public\n */\nexport async function sendSignInLinkToEmail(\n  auth: Auth,\n  email: string,\n  actionCodeSettings: ActionCodeSettings\n): Promise<void> {\n  const authModular = getModularInstance(auth);\n  const request: api.EmailSignInRequest = {\n    requestType: ActionCodeOperation.EMAIL_SIGNIN,\n    email\n  };\n  _assert(\n    actionCodeSettings.handleCodeInApp,\n    authModular,\n    AuthErrorCode.ARGUMENT_ERROR\n  );\n  if (actionCodeSettings) {\n    _setActionCodeSettingsOnRequest(authModular, request, actionCodeSettings);\n  }\n\n  await api.sendSignInLinkToEmail(authModular, request);\n}\n\n/**\n * Checks if an incoming link is a sign-in with email link suitable for {@link signInWithEmailLink}.\n *\n * @param auth - The {@link Auth} instance.\n * @param emailLink - The link sent to the user's email address.\n *\n * @public\n */\nexport function isSignInWithEmailLink(auth: Auth, emailLink: string): boolean {\n  const actionCodeUrl = ActionCodeURL.parseLink(emailLink);\n  return actionCodeUrl?.operation === ActionCodeOperation.EMAIL_SIGNIN;\n}\n\n/**\n * Asynchronously signs in using an email and sign-in email link.\n *\n * @remarks\n * If no link is passed, the link is inferred from the current URL.\n *\n * Fails with an error if the email address is invalid or OTP in email link expires.\n *\n * Note: Confirm the link is a sign-in email link before calling this method firebase.auth.Auth.isSignInWithEmailLink.\n *\n * @example\n * ```javascript\n * const actionCodeSettings = {\n *   url: 'https://www.example.com/?email=user@example.com',\n *   iOS: {\n *      bundleId: 'com.example.ios'\n *   },\n *   android: {\n *     packageName: 'com.example.android',\n *     installApp: true,\n *     minimumVersion: '12'\n *   },\n *   handleCodeInApp: true\n * };\n * await sendSignInLinkToEmail(auth, 'user@example.com', actionCodeSettings);\n * // Obtain emailLink from the user.\n * if(isSignInWithEmailLink(auth, emailLink)) {\n *   await signInWithEmailLink(auth, 'user@example.com', emailLink);\n * }\n * ```\n *\n * @param auth - The {@link Auth} instance.\n * @param email - The user's email address.\n * @param emailLink - The link sent to the user's email address.\n *\n * @public\n */\nexport async function signInWithEmailLink(\n  auth: Auth,\n  email: string,\n  emailLink?: string\n): Promise<UserCredential> {\n  const authModular = getModularInstance(auth);\n  const credential = EmailAuthProvider.credentialWithLink(\n    email,\n    emailLink || _getCurrentUrl()\n  );\n  // Check if the tenant ID in the email link matches the tenant ID on Auth\n  // instance.\n  _assert(\n    credential._tenantId === (authModular.tenantId || null),\n    authModular,\n    AuthErrorCode.TENANT_ID_MISMATCH\n  );\n  return signInWithCredential(authModular, credential);\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  Endpoint,\n  HttpMethod,\n  _addTidIfNecessary,\n  _performApiRequest\n} from '../index';\nimport { Auth } from '../../model/public_types';\n\nexport interface CreateAuthUriRequest {\n  identifier: string;\n  continueUri: string;\n  tenantId?: string;\n}\n\nexport interface CreateAuthUriResponse {\n  signinMethods: string[];\n}\n\nexport async function createAuthUri(\n  auth: Auth,\n  request: CreateAuthUriRequest\n): Promise<CreateAuthUriResponse> {\n  return _performApiRequest<CreateAuthUriRequest, CreateAuthUriResponse>(\n    auth,\n    HttpMethod.POST,\n    Endpoint.CREATE_AUTH_URI,\n    _addTidIfNecessary(auth, request)\n  );\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  ActionCodeOperation,\n  ActionCodeSettings,\n  Auth,\n  User\n} from '../../model/public_types';\n\nimport {\n  createAuthUri,\n  CreateAuthUriRequest\n} from '../../api/authentication/create_auth_uri';\nimport * as api from '../../api/authentication/email_and_password';\nimport { UserInternal } from '../../model/user';\nimport { _getCurrentUrl, _isHttpOrHttps } from '../util/location';\nimport { _setActionCodeSettingsOnRequest } from './action_code_settings';\nimport { getModularInstance } from '@firebase/util';\n\n/**\n * Gets the list of possible sign in methods for the given email address.\n *\n * @remarks\n * This is useful to differentiate methods of sign-in for the same provider, eg.\n * {@link EmailAuthProvider} which has 2 methods of sign-in,\n * {@link SignInMethod}.EMAIL_PASSWORD and\n * {@link SignInMethod}.EMAIL_LINK.\n *\n * @param auth - The {@link Auth} instance.\n * @param email - The user's email address.\n *\n * @public\n */\nexport async function fetchSignInMethodsForEmail(\n  auth: Auth,\n  email: string\n): Promise<string[]> {\n  // createAuthUri returns an error if continue URI is not http or https.\n  // For environments like Cordova, Chrome extensions, native frameworks, file\n  // systems, etc, use http://localhost as continue URL.\n  const continueUri = _isHttpOrHttps() ? _getCurrentUrl() : 'http://localhost';\n  const request: CreateAuthUriRequest = {\n    identifier: email,\n    continueUri\n  };\n\n  const { signinMethods } = await createAuthUri(\n    getModularInstance(auth),\n    request\n  );\n\n  return signinMethods || [];\n}\n\n/**\n * Sends a verification email to a user.\n *\n * @remarks\n * The verification process is completed by calling {@link applyActionCode}.\n *\n * @example\n * ```javascript\n * const actionCodeSettings = {\n *   url: 'https://www.example.com/?email=user@example.com',\n *   iOS: {\n *      bundleId: 'com.example.ios'\n *   },\n *   android: {\n *     packageName: 'com.example.android',\n *     installApp: true,\n *     minimumVersion: '12'\n *   },\n *   handleCodeInApp: true\n * };\n * await sendEmailVerification(user, actionCodeSettings);\n * // Obtain code from the user.\n * await applyActionCode(auth, code);\n * ```\n *\n * @param user - The user.\n * @param actionCodeSettings - The {@link ActionCodeSettings}.\n *\n * @public\n */\nexport async function sendEmailVerification(\n  user: User,\n  actionCodeSettings?: ActionCodeSettings | null\n): Promise<void> {\n  const userInternal = getModularInstance(user) as UserInternal;\n  const idToken = await user.getIdToken();\n  const request: api.VerifyEmailRequest = {\n    requestType: ActionCodeOperation.VERIFY_EMAIL,\n    idToken\n  };\n  if (actionCodeSettings) {\n    _setActionCodeSettingsOnRequest(\n      userInternal.auth,\n      request,\n      actionCodeSettings\n    );\n  }\n\n  const { email } = await api.sendEmailVerification(userInternal.auth, request);\n\n  if (email !== user.email) {\n    await user.reload();\n  }\n}\n\n/**\n * Sends a verification email to a new email address.\n *\n * @remarks\n * The user's email will be updated to the new one after being verified.\n *\n * If you have a custom email action handler, you can complete the verification process by calling\n * {@link applyActionCode}.\n *\n * @example\n * ```javascript\n * const actionCodeSettings = {\n *   url: 'https://www.example.com/?email=user@example.com',\n *   iOS: {\n *      bundleId: 'com.example.ios'\n *   },\n *   android: {\n *     packageName: 'com.example.android',\n *     installApp: true,\n *     minimumVersion: '12'\n *   },\n *   handleCodeInApp: true\n * };\n * await verifyBeforeUpdateEmail(user, 'newemail@example.com', actionCodeSettings);\n * // Obtain code from the user.\n * await applyActionCode(auth, code);\n * ```\n *\n * @param user - The user.\n * @param newEmail - The new email address to be verified before update.\n * @param actionCodeSettings - The {@link ActionCodeSettings}.\n *\n * @public\n */\nexport async function verifyBeforeUpdateEmail(\n  user: User,\n  newEmail: string,\n  actionCodeSettings?: ActionCodeSettings | null\n): Promise<void> {\n  const userInternal = getModularInstance(user) as UserInternal;\n  const idToken = await user.getIdToken();\n  const request: api.VerifyAndChangeEmailRequest = {\n    requestType: ActionCodeOperation.VERIFY_AND_CHANGE_EMAIL,\n    idToken,\n    newEmail\n  };\n  if (actionCodeSettings) {\n    _setActionCodeSettingsOnRequest(\n      userInternal.auth,\n      request,\n      actionCodeSettings\n    );\n  }\n\n  const { email } = await api.verifyAndChangeEmail(userInternal.auth, request);\n\n  if (email !== user.email) {\n    // If the local copy of the email on user is outdated, reload the\n    // user.\n    await user.reload();\n  }\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Endpoint, HttpMethod, _performApiRequest } from '../index';\nimport { IdTokenResponse } from '../../model/id_token';\nimport { Auth } from '../../model/public_types';\n\nexport interface UpdateProfileRequest {\n  idToken: string;\n  displayName?: string | null;\n  photoUrl?: string | null;\n  returnSecureToken: boolean;\n}\n\nexport interface UpdateProfileResponse extends IdTokenResponse {\n  displayName?: string | null;\n  photoUrl?: string | null;\n}\n\nexport async function updateProfile(\n  auth: Auth,\n  request: UpdateProfileRequest\n): Promise<UpdateProfileResponse> {\n  return _performApiRequest<UpdateProfileRequest, UpdateProfileResponse>(\n    auth,\n    HttpMethod.POST,\n    Endpoint.SET_ACCOUNT_INFO,\n    request\n  );\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { User } from '../../model/public_types';\n\nimport {\n  updateEmailPassword as apiUpdateEmailPassword,\n  UpdateEmailPasswordRequest\n} from '../../api/account_management/email_and_password';\nimport { updateProfile as apiUpdateProfile } from '../../api/account_management/profile';\nimport { UserInternal } from '../../model/user';\nimport { _logoutIfInvalidated } from './invalidation';\nimport { getModularInstance } from '@firebase/util';\nimport { ProviderId } from '../../model/enums';\n\n/**\n * Updates a user's profile data.\n *\n * @param user - The user.\n * @param profile - The profile's `displayName` and `photoURL` to update.\n *\n * @public\n */\nexport async function updateProfile(\n  user: User,\n  {\n    displayName,\n    photoURL: photoUrl\n  }: { displayName?: string | null; photoURL?: string | null }\n): Promise<void> {\n  if (displayName === undefined && photoUrl === undefined) {\n    return;\n  }\n\n  const userInternal = getModularInstance(user) as UserInternal;\n  const idToken = await userInternal.getIdToken();\n  const profileRequest = {\n    idToken,\n    displayName,\n    photoUrl,\n    returnSecureToken: true\n  };\n  const response = await _logoutIfInvalidated(\n    userInternal,\n    apiUpdateProfile(userInternal.auth, profileRequest)\n  );\n\n  userInternal.displayName = response.displayName || null;\n  userInternal.photoURL = response.photoUrl || null;\n\n  // Update the password provider as well\n  const passwordProvider = userInternal.providerData.find(\n    ({ providerId }) => providerId === ProviderId.PASSWORD\n  );\n  if (passwordProvider) {\n    passwordProvider.displayName = userInternal.displayName;\n    passwordProvider.photoURL = userInternal.photoURL;\n  }\n\n  await userInternal._updateTokensIfNecessary(response);\n}\n\n/**\n * Updates the user's email address.\n *\n * @remarks\n * An email will be sent to the original email address (if it was set) that allows to revoke the\n * email address change, in order to protect them from account hijacking.\n *\n * Important: this is a security sensitive operation that requires the user to have recently signed\n * in. If this requirement isn't met, ask the user to authenticate again and then call\n * {@link reauthenticateWithCredential}.\n *\n * @param user - The user.\n * @param newEmail - The new email address.\n *\n * @public\n */\nexport function updateEmail(user: User, newEmail: string): Promise<void> {\n  return updateEmailOrPassword(\n    getModularInstance(user) as UserInternal,\n    newEmail,\n    null\n  );\n}\n\n/**\n * Updates the user's password.\n *\n * @remarks\n * Important: this is a security sensitive operation that requires the user to have recently signed\n * in. If this requirement isn't met, ask the user to authenticate again and then call\n * {@link reauthenticateWithCredential}.\n *\n * @param user - The user.\n * @param newPassword - The new password.\n *\n * @public\n */\nexport function updatePassword(user: User, newPassword: string): Promise<void> {\n  return updateEmailOrPassword(\n    getModularInstance(user) as UserInternal,\n    null,\n    newPassword\n  );\n}\n\nasync function updateEmailOrPassword(\n  user: UserInternal,\n  email: string | null,\n  password: string | null\n): Promise<void> {\n  const { auth } = user;\n  const idToken = await user.getIdToken();\n  const request: UpdateEmailPasswordRequest = {\n    idToken,\n    returnSecureToken: true\n  };\n\n  if (email) {\n    request.email = email;\n  }\n\n  if (password) {\n    request.password = password;\n  }\n\n  const response = await _logoutIfInvalidated(\n    user,\n    apiUpdateEmailPassword(auth, request)\n  );\n  await user._updateTokensIfNecessary(response, /* reload */ true);\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { AdditionalUserInfo, UserCredential } from '../../model/public_types';\nimport { IdTokenResponse, IdTokenResponseKind } from '../../model/id_token';\nimport { _parseToken } from './id_token_result';\nimport { UserCredentialInternal } from '../../model/user';\nimport { ProviderId } from '../../model/enums';\n\n/**\n * Parse the `AdditionalUserInfo` from the ID token response.\n *\n */\nexport function _fromIdTokenResponse(\n  idTokenResponse?: IdTokenResponse\n): AdditionalUserInfo | null {\n  if (!idTokenResponse) {\n    return null;\n  }\n  const { providerId } = idTokenResponse;\n  const profile = idTokenResponse.rawUserInfo\n    ? JSON.parse(idTokenResponse.rawUserInfo)\n    : {};\n  const isNewUser =\n    idTokenResponse.isNewUser ||\n    idTokenResponse.kind === IdTokenResponseKind.SignupNewUser;\n  if (!providerId && idTokenResponse?.idToken) {\n    const signInProvider = _parseToken(idTokenResponse.idToken)?.firebase?.[\n      'sign_in_provider'\n    ];\n    if (signInProvider) {\n      const filteredProviderId =\n        signInProvider !== ProviderId.ANONYMOUS &&\n        signInProvider !== ProviderId.CUSTOM\n          ? (signInProvider as ProviderId)\n          : null;\n      // Uses generic class in accordance with the legacy SDK.\n      return new GenericAdditionalUserInfo(isNewUser, filteredProviderId);\n    }\n  }\n  if (!providerId) {\n    return null;\n  }\n  switch (providerId) {\n    case ProviderId.FACEBOOK:\n      return new FacebookAdditionalUserInfo(isNewUser, profile);\n    case ProviderId.GITHUB:\n      return new GithubAdditionalUserInfo(isNewUser, profile);\n    case ProviderId.GOOGLE:\n      return new GoogleAdditionalUserInfo(isNewUser, profile);\n    case ProviderId.TWITTER:\n      return new TwitterAdditionalUserInfo(\n        isNewUser,\n        profile,\n        idTokenResponse.screenName || null\n      );\n    case ProviderId.CUSTOM:\n    case ProviderId.ANONYMOUS:\n      return new GenericAdditionalUserInfo(isNewUser, null);\n    default:\n      return new GenericAdditionalUserInfo(isNewUser, providerId, profile);\n  }\n}\n\nclass GenericAdditionalUserInfo implements AdditionalUserInfo {\n  constructor(\n    readonly isNewUser: boolean,\n    readonly providerId: ProviderId | string | null,\n    readonly profile: Record<string, unknown> = {}\n  ) {}\n}\n\nclass FederatedAdditionalUserInfoWithUsername extends GenericAdditionalUserInfo {\n  constructor(\n    isNewUser: boolean,\n    providerId: ProviderId,\n    profile: Record<string, unknown>,\n    readonly username: string | null\n  ) {\n    super(isNewUser, providerId, profile);\n  }\n}\n\nclass FacebookAdditionalUserInfo extends GenericAdditionalUserInfo {\n  constructor(isNewUser: boolean, profile: Record<string, unknown>) {\n    super(isNewUser, ProviderId.FACEBOOK, profile);\n  }\n}\n\nclass GithubAdditionalUserInfo extends FederatedAdditionalUserInfoWithUsername {\n  constructor(isNewUser: boolean, profile: Record<string, unknown>) {\n    super(\n      isNewUser,\n      ProviderId.GITHUB,\n      profile,\n      typeof profile?.login === 'string' ? profile?.login : null\n    );\n  }\n}\n\nclass GoogleAdditionalUserInfo extends GenericAdditionalUserInfo {\n  constructor(isNewUser: boolean, profile: Record<string, unknown>) {\n    super(isNewUser, ProviderId.GOOGLE, profile);\n  }\n}\n\nclass TwitterAdditionalUserInfo extends FederatedAdditionalUserInfoWithUsername {\n  constructor(\n    isNewUser: boolean,\n    profile: Record<string, unknown>,\n    screenName: string | null\n  ) {\n    super(isNewUser, ProviderId.TWITTER, profile, screenName);\n  }\n}\n\n/**\n * Extracts provider specific {@link AdditionalUserInfo} for the given credential.\n *\n * @param userCredential - The user credential.\n *\n * @public\n */\nexport function getAdditionalUserInfo(\n  userCredential: UserCredential\n): AdditionalUserInfo | null {\n  const { user, _tokenResponse } = userCredential as UserCredentialInternal;\n  if (user.isAnonymous && !_tokenResponse) {\n    // Handle the special case where signInAnonymously() gets called twice.\n    // No network call is made so there's nothing to actually fill this in\n    return {\n      providerId: null,\n      isNewUser: false,\n      profile: null\n    };\n  }\n\n  return _fromIdTokenResponse(_tokenResponse);\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  Auth,\n  MultiFactorResolver,\n  UserCredential,\n  MultiFactorError\n} from '../model/public_types';\n\nimport { _castAuth } from '../core/auth/auth_impl';\nimport { AuthErrorCode } from '../core/errors';\nimport { UserCredentialImpl } from '../core/user/user_credential_impl';\nimport { _assert, _fail } from '../core/util/assert';\nimport { UserCredentialInternal } from '../model/user';\nimport { MultiFactorAssertionImpl } from './mfa_assertion';\nimport { MultiFactorError as MultiFactorErrorInternal } from './mfa_error';\nimport { MultiFactorInfoImpl } from './mfa_info';\nimport { MultiFactorSessionImpl } from './mfa_session';\nimport { getModularInstance } from '@firebase/util';\nimport { OperationType } from '../model/enums';\n\nexport class MultiFactorResolverImpl implements MultiFactorResolver {\n  private constructor(\n    readonly session: MultiFactorSessionImpl,\n    readonly hints: MultiFactorInfoImpl[],\n    private readonly signInResolver: (\n      assertion: MultiFactorAssertionImpl\n    ) => Promise<UserCredentialInternal>\n  ) {}\n\n  /** @internal */\n  static _fromError(\n    authExtern: Auth,\n    error: MultiFactorErrorInternal\n  ): MultiFactorResolverImpl {\n    const auth = _castAuth(authExtern);\n    const serverResponse = error.customData._serverResponse;\n    const hints = (serverResponse.mfaInfo || []).map(enrollment =>\n      MultiFactorInfoImpl._fromServerResponse(auth, enrollment)\n    );\n\n    _assert(\n      serverResponse.mfaPendingCredential,\n      auth,\n      AuthErrorCode.INTERNAL_ERROR\n    );\n    const session = MultiFactorSessionImpl._fromMfaPendingCredential(\n      serverResponse.mfaPendingCredential\n    );\n\n    return new MultiFactorResolverImpl(\n      session,\n      hints,\n      async (\n        assertion: MultiFactorAssertionImpl\n      ): Promise<UserCredentialInternal> => {\n        const mfaResponse = await assertion._process(auth, session);\n        // Clear out the unneeded fields from the old login response\n        delete serverResponse.mfaInfo;\n        delete serverResponse.mfaPendingCredential;\n\n        // Use in the new token & refresh token in the old response\n        const idTokenResponse = {\n          ...serverResponse,\n          idToken: mfaResponse.idToken,\n          refreshToken: mfaResponse.refreshToken\n        };\n\n        // TODO: we should collapse this switch statement into UserCredentialImpl._forOperation and have it support the SIGN_IN case\n        switch (error.operationType) {\n          case OperationType.SIGN_IN:\n            const userCredential =\n              await UserCredentialImpl._fromIdTokenResponse(\n                auth,\n                error.operationType,\n                idTokenResponse\n              );\n            await auth._updateCurrentUser(userCredential.user);\n            return userCredential;\n          case OperationType.REAUTHENTICATE:\n            _assert(error.user, auth, AuthErrorCode.INTERNAL_ERROR);\n            return UserCredentialImpl._forOperation(\n              error.user,\n              error.operationType,\n              idTokenResponse\n            );\n          default:\n            _fail(auth, AuthErrorCode.INTERNAL_ERROR);\n        }\n      }\n    );\n  }\n\n  async resolveSignIn(\n    assertionExtern: MultiFactorAssertionImpl\n  ): Promise<UserCredential> {\n    const assertion = assertionExtern as MultiFactorAssertionImpl;\n    return this.signInResolver(assertion);\n  }\n}\n\n/**\n * Provides a {@link MultiFactorResolver} suitable for completion of a\n * multi-factor flow.\n *\n * @param auth - The {@link Auth} instance.\n * @param error - The {@link MultiFactorError} raised during a sign-in, or\n * reauthentication operation.\n *\n * @public\n */\nexport function getMultiFactorResolver(\n  auth: Auth,\n  error: MultiFactorError\n): MultiFactorResolver {\n  const authModular = getModularInstance(auth);\n  const errorInternal = error as MultiFactorErrorInternal;\n  _assert(error.customData.operationType, authModular, AuthErrorCode.ARGUMENT_ERROR);\n  _assert(\n    errorInternal.customData._serverResponse?.mfaPendingCredential,\n    authModular,\n    AuthErrorCode.ARGUMENT_ERROR\n  );\n\n  return MultiFactorResolverImpl._fromError(authModular, errorInternal);\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { MultiFactorSession } from '../model/public_types';\n\nexport const enum MultiFactorSessionType {\n  ENROLL = 'enroll',\n  SIGN_IN = 'signin'\n}\n\ninterface SerializedMultiFactorSession {\n  multiFactorSession: {\n    idToken?: string;\n    pendingCredential?: string;\n  };\n}\n\nexport class MultiFactorSessionImpl implements MultiFactorSession {\n  private constructor(\n    readonly type: MultiFactorSessionType,\n    readonly credential: string\n  ) {}\n\n  static _fromIdtoken(idToken: string): MultiFactorSessionImpl {\n    return new MultiFactorSessionImpl(MultiFactorSessionType.ENROLL, idToken);\n  }\n\n  static _fromMfaPendingCredential(\n    mfaPendingCredential: string\n  ): MultiFactorSessionImpl {\n    return new MultiFactorSessionImpl(\n      MultiFactorSessionType.SIGN_IN,\n      mfaPendingCredential\n    );\n  }\n\n  toJSON(): SerializedMultiFactorSession {\n    const key =\n      this.type === MultiFactorSessionType.ENROLL\n        ? 'idToken'\n        : 'pendingCredential';\n    return {\n      multiFactorSession: {\n        [key]: this.credential\n      }\n    };\n  }\n\n  static fromJSON(\n    obj: Partial<SerializedMultiFactorSession>\n  ): MultiFactorSessionImpl | null {\n    if (obj?.multiFactorSession) {\n      if (obj.multiFactorSession?.pendingCredential) {\n        return MultiFactorSessionImpl._fromMfaPendingCredential(\n          obj.multiFactorSession.pendingCredential\n        );\n      } else if (obj.multiFactorSession?.idToken) {\n        return MultiFactorSessionImpl._fromIdtoken(\n          obj.multiFactorSession.idToken\n        );\n      }\n    }\n    return null;\n  }\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { getModularInstance } from '@firebase/util';\nimport {\n  Auth,\n  NextOrObserver,\n  Persistence,\n  User,\n  CompleteFn,\n  ErrorFn,\n  Unsubscribe\n} from '../model/public_types';\n\nexport {\n  debugErrorMap,\n  prodErrorMap,\n  AUTH_ERROR_CODES_MAP_DO_NOT_USE_INTERNALLY as AuthErrorCodes\n} from './errors';\n\n// Non-optional auth methods.\n/**\n * Changes the type of persistence on the {@link Auth} instance for the currently saved\n * `Auth` session and applies this type of persistence for future sign-in requests, including\n * sign-in with redirect requests.\n *\n * @remarks\n * This makes it easy for a user signing in to specify whether their session should be\n * remembered or not. It also makes it easier to never persist the `Auth` state for applications\n * that are shared by other users or have sensitive data.\n *\n * @example\n * ```javascript\n * setPersistence(auth, browserSessionPersistence);\n * ```\n *\n * @param auth - The {@link Auth} instance.\n * @param persistence - The {@link Persistence} to use.\n * @returns A `Promise` that resolves once the persistence change has completed\n *\n * @public\n */\nexport function setPersistence(\n  auth: Auth,\n  persistence: Persistence\n): Promise<void> {\n  return getModularInstance(auth).setPersistence(persistence);\n}\n/**\n * Adds an observer for changes to the signed-in user's ID token.\n *\n * @remarks\n * This includes sign-in, sign-out, and token refresh events.\n *\n * @param auth - The {@link Auth} instance.\n * @param nextOrObserver - callback triggered on change.\n * @param error - Deprecated. This callback is never triggered. Errors\n * on signing in/out can be caught in promises returned from\n * sign-in/sign-out functions.\n * @param completed - Deprecated. This callback is never triggered.\n *\n * @public\n */\nexport function onIdTokenChanged(\n  auth: Auth,\n  nextOrObserver: NextOrObserver<User>,\n  error?: ErrorFn,\n  completed?: CompleteFn\n): Unsubscribe {\n  return getModularInstance(auth).onIdTokenChanged(\n    nextOrObserver,\n    error,\n    completed\n  );\n}\n/**\n * Adds a blocking callback that runs before an auth state change\n * sets a new user.\n *\n * @param auth - The {@link Auth} instance.\n * @param callback - callback triggered before new user value is set.\n *   If this throws, it blocks the user from being set.\n * @param onAbort - callback triggered if a later `beforeAuthStateChanged()`\n *   callback throws, allowing you to undo any side effects.\n */\n export function beforeAuthStateChanged(\n  auth: Auth,\n  callback: (user: User|null) => void | Promise<void>,\n  onAbort?: () => void,\n): Unsubscribe {\n  return getModularInstance(auth).beforeAuthStateChanged(\n    callback,\n    onAbort\n  );\n}\n/**\n * Adds an observer for changes to the user's sign-in state.\n *\n * @remarks\n * To keep the old behavior, see {@link onIdTokenChanged}.\n *\n * @param auth - The {@link Auth} instance.\n * @param nextOrObserver - callback triggered on change.\n * @param error - Deprecated. This callback is never triggered. Errors\n * on signing in/out can be caught in promises returned from\n * sign-in/sign-out functions.\n * @param completed - Deprecated. This callback is never triggered.\n *\n * @public\n */\nexport function onAuthStateChanged(\n  auth: Auth,\n  nextOrObserver: NextOrObserver<User>,\n  error?: ErrorFn,\n  completed?: CompleteFn\n): Unsubscribe {\n  return getModularInstance(auth).onAuthStateChanged(\n    nextOrObserver,\n    error,\n    completed\n  );\n}\n/**\n * Sets the current language to the default device/browser preference.\n *\n * @param auth - The {@link Auth} instance.\n *\n * @public\n */\nexport function useDeviceLanguage(auth: Auth): void {\n  getModularInstance(auth).useDeviceLanguage();\n}\n/**\n * Asynchronously sets the provided user as {@link Auth.currentUser} on the\n * {@link Auth} instance.\n *\n * @remarks\n * A new instance copy of the user provided will be made and set as currentUser.\n *\n * This will trigger {@link onAuthStateChanged} and {@link onIdTokenChanged} listeners\n * like other sign in methods.\n *\n * The operation fails with an error if the user to be updated belongs to a different Firebase\n * project.\n *\n * @param auth - The {@link Auth} instance.\n * @param user - The new {@link User}.\n *\n * @public\n */\nexport function updateCurrentUser(\n  auth: Auth,\n  user: User | null\n): Promise<void> {\n  return getModularInstance(auth).updateCurrentUser(user);\n}\n/**\n * Signs out the current user.\n *\n * @param auth - The {@link Auth} instance.\n *\n * @public\n */\nexport function signOut(auth: Auth): Promise<void> {\n  return getModularInstance(auth).signOut();\n}\n\nexport { initializeAuth } from './auth/initialize';\nexport { connectAuthEmulator } from './auth/emulator';\n\n// credentials\nexport { AuthCredential } from './credentials';\nexport { EmailAuthCredential } from './credentials/email';\nexport { OAuthCredential } from './credentials/oauth';\nexport { PhoneAuthCredential } from './credentials/phone';\n\n// persistence\nexport { inMemoryPersistence } from './persistence/in_memory';\n\n// providers\nexport { EmailAuthProvider } from './providers/email';\nexport { FacebookAuthProvider } from './providers/facebook';\nexport { CustomParameters } from './providers/federated';\nexport { GoogleAuthProvider } from './providers/google';\nexport { GithubAuthProvider } from './providers/github';\nexport { OAuthProvider, OAuthCredentialOptions } from './providers/oauth';\nexport { SAMLAuthProvider } from './providers/saml';\nexport { TwitterAuthProvider } from './providers/twitter';\n\n// strategies\nexport { signInAnonymously } from './strategies/anonymous';\nexport {\n  signInWithCredential,\n  linkWithCredential,\n  reauthenticateWithCredential\n} from './strategies/credential';\nexport { signInWithCustomToken } from './strategies/custom_token';\nexport {\n  sendPasswordResetEmail,\n  confirmPasswordReset,\n  applyActionCode,\n  checkActionCode,\n  verifyPasswordResetCode,\n  createUserWithEmailAndPassword,\n  signInWithEmailAndPassword\n} from './strategies/email_and_password';\nexport {\n  sendSignInLinkToEmail,\n  isSignInWithEmailLink,\n  signInWithEmailLink\n} from './strategies/email_link';\nexport {\n  fetchSignInMethodsForEmail,\n  sendEmailVerification,\n  verifyBeforeUpdateEmail\n} from './strategies/email';\n\n// core\nexport { ActionCodeURL, parseActionCodeURL } from './action_code_url';\n\n// user\nexport {\n  updateProfile,\n  updateEmail,\n  updatePassword\n} from './user/account_info';\nexport { getIdToken, getIdTokenResult } from './user/id_token_result';\nexport { unlink } from './user/link_unlink';\nexport { getAdditionalUserInfo } from './user/additional_user_info';\n\n// Non-optional user methods.\nexport { reload } from './user/reload';\n/**\n * Deletes and signs out the user.\n *\n * @remarks\n * Important: this is a security-sensitive operation that requires the user to have recently\n * signed in. If this requirement isn't met, ask the user to authenticate again and then call\n * {@link reauthenticateWithCredential}.\n *\n * @param user - The user.\n *\n * @public\n */\nexport async function deleteUser(user: User): Promise<void> {\n  return getModularInstance(user).delete();\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {\n  MultiFactorAssertion,\n  MultiFactorInfo,\n  MultiFactorSession,\n  MultiFactorUser,\n  User\n} from '../model/public_types';\n\nimport { withdrawMfa } from '../api/account_management/mfa';\nimport { AuthErrorCode } from '../core/errors';\nimport { _logoutIfInvalidated } from '../core/user/invalidation';\nimport { UserInternal } from '../model/user';\nimport { MultiFactorAssertionImpl } from './mfa_assertion';\nimport { MultiFactorInfoImpl } from './mfa_info';\nimport { MultiFactorSessionImpl } from './mfa_session';\nimport { FirebaseError, getModularInstance } from '@firebase/util';\n\nexport class MultiFactorUserImpl implements MultiFactorUser {\n  enrolledFactors: MultiFactorInfo[] = [];\n\n  private constructor(readonly user: UserInternal) {\n    user._onReload(userInfo => {\n      if (userInfo.mfaInfo) {\n        this.enrolledFactors = userInfo.mfaInfo.map(enrollment =>\n          MultiFactorInfoImpl._fromServerResponse(user.auth, enrollment)\n        );\n      }\n    });\n  }\n\n  static _fromUser(user: UserInternal): MultiFactorUserImpl {\n    return new MultiFactorUserImpl(user);\n  }\n\n  async getSession(): Promise<MultiFactorSession> {\n    return MultiFactorSessionImpl._fromIdtoken(await this.user.getIdToken());\n  }\n\n  async enroll(\n    assertionExtern: MultiFactorAssertion,\n    displayName?: string | null\n  ): Promise<void> {\n    const assertion = assertionExtern as MultiFactorAssertionImpl;\n    const session = (await this.getSession()) as MultiFactorSessionImpl;\n    const finalizeMfaResponse = await _logoutIfInvalidated(\n      this.user,\n      assertion._process(this.user.auth, session, displayName)\n    );\n    // New tokens will be issued after enrollment of the new second factors.\n    // They need to be updated on the user.\n    await this.user._updateTokensIfNecessary(finalizeMfaResponse);\n    // The user needs to be reloaded to get the new multi-factor information\n    // from server. USER_RELOADED event will be triggered and `enrolledFactors`\n    // will be updated.\n    return this.user.reload();\n  }\n\n  async unenroll(infoOrUid: MultiFactorInfo | string): Promise<void> {\n    const mfaEnrollmentId =\n      typeof infoOrUid === 'string' ? infoOrUid : infoOrUid.uid;\n    const idToken = await this.user.getIdToken();\n    const idTokenResponse = await _logoutIfInvalidated(\n      this.user,\n      withdrawMfa(this.user.auth, {\n        idToken,\n        mfaEnrollmentId\n      })\n    );\n    // Remove the second factor from the user's list.\n    this.enrolledFactors = this.enrolledFactors.filter(\n      ({ uid }) => uid !== mfaEnrollmentId\n    );\n    // Depending on whether the backend decided to revoke the user's session,\n    // the tokenResponse may be empty. If the tokens were not updated (and they\n    // are now invalid), reloading the user will discover this and invalidate\n    // the user's state accordingly.\n    await this.user._updateTokensIfNecessary(idTokenResponse);\n    try {\n      await this.user.reload();\n    } catch (e) {\n      if ((e as FirebaseError)?.code !== `auth/${AuthErrorCode.TOKEN_EXPIRED}`) {\n        throw e;\n      }\n    }\n  }\n}\n\nconst multiFactorUserCache = new WeakMap<User, MultiFactorUser>();\n\n/**\n * The {@link MultiFactorUser} corresponding to the user.\n *\n * @remarks\n * This is used to access all multi-factor properties and operations related to the user.\n *\n * @param user - The user.\n *\n * @public\n */\nexport function multiFactor(user: User): MultiFactorUser {\n  const userModular = getModularInstance(user);\n  if (!multiFactorUserCache.has(userModular)) {\n    multiFactorUserCache.set(\n      userModular,\n      MultiFactorUserImpl._fromUser(userModular as UserInternal)\n    );\n  }\n  return multiFactorUserCache.get(userModular)!;\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Persistence } from '../../model/public_types';\n\nexport const enum PersistenceType {\n  SESSION = 'SESSION',\n  LOCAL = 'LOCAL',\n  NONE = 'NONE'\n}\n\nexport type PersistedBlob = Record<string, unknown>;\n\nexport interface Instantiator<T> {\n  (blob: PersistedBlob): T;\n}\n\nexport type PersistenceValue = PersistedBlob | string;\n\nexport const STORAGE_AVAILABLE_KEY = '__sak';\n\nexport interface StorageEventListener {\n  (value: PersistenceValue | null): void;\n}\n\nexport interface PersistenceInternal extends Persistence {\n  type: PersistenceType;\n  _isAvailable(): Promise<boolean>;\n  _set(key: string, value: PersistenceValue): Promise<void>;\n  _get<T extends PersistenceValue>(key: string): Promise<T | null>;\n  _remove(key: string): Promise<void>;\n  _addListener(key: string, listener: StorageEventListener): void;\n  _removeListener(key: string, listener: StorageEventListener): void;\n  // Should this persistence allow migration up the chosen hierarchy?\n  _shouldAllowMigration?: boolean;\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  PersistenceValue,\n  STORAGE_AVAILABLE_KEY,\n  PersistenceType\n} from '../../core/persistence';\n\n// There are two different browser persistence types: local and session.\n// Both have the same implementation but use a different underlying storage\n// object.\n\nexport abstract class BrowserPersistenceClass {\n  protected constructor(\n    protected readonly storageRetriever: () => Storage,\n    readonly type: PersistenceType\n  ) {}\n\n  _isAvailable(): Promise<boolean> {\n    try {\n      if (!this.storage) {\n        return Promise.resolve(false);\n      }\n      this.storage.setItem(STORAGE_AVAILABLE_KEY, '1');\n      this.storage.removeItem(STORAGE_AVAILABLE_KEY);\n      return Promise.resolve(true);\n    } catch {\n      return Promise.resolve(false);\n    }\n  }\n\n  _set(key: string, value: PersistenceValue): Promise<void> {\n    this.storage.setItem(key, JSON.stringify(value));\n    return Promise.resolve();\n  }\n\n  _get<T extends PersistenceValue>(key: string): Promise<T | null> {\n    const json = this.storage.getItem(key);\n    return Promise.resolve(json ? JSON.parse(json) : null);\n  }\n\n  _remove(key: string): Promise<void> {\n    this.storage.removeItem(key);\n    return Promise.resolve();\n  }\n\n  protected get storage(): Storage {\n    return this.storageRetriever();\n  }\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Persistence } from '../../model/public_types';\n\nimport { getUA } from '@firebase/util';\nimport {\n  _isSafari,\n  _isIOS,\n  _isIframe,\n  _isMobileBrowser,\n  _isIE10\n} from '../../core/util/browser';\nimport {\n  PersistenceInternal as InternalPersistence,\n  PersistenceType,\n  PersistenceValue,\n  StorageEventListener\n} from '../../core/persistence';\nimport { BrowserPersistenceClass } from './browser';\n\nfunction _iframeCannotSyncWebStorage(): boolean {\n  const ua = getUA();\n  return _isSafari(ua) || _isIOS(ua);\n}\n\n// The polling period in case events are not supported\nexport const _POLLING_INTERVAL_MS = 1000;\n\n// The IE 10 localStorage cross tab synchronization delay in milliseconds\nconst IE10_LOCAL_STORAGE_SYNC_DELAY = 10;\n\nclass BrowserLocalPersistence\n  extends BrowserPersistenceClass\n  implements InternalPersistence\n{\n  static type: 'LOCAL' = 'LOCAL';\n\n  constructor() {\n    super(() => window.localStorage, PersistenceType.LOCAL);\n  }\n\n  private readonly boundEventHandler = (event: StorageEvent, poll?: boolean): void => this.onStorageEvent(event, poll);\n  private readonly listeners: Record<string, Set<StorageEventListener>> = {};\n  private readonly localCache: Record<string, string | null> = {};\n  // setTimeout return value is platform specific\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private pollTimer: any | null = null;\n\n  // Safari or iOS browser and embedded in an iframe.\n  private readonly safariLocalStorageNotSynced =\n    _iframeCannotSyncWebStorage() && _isIframe();\n  // Whether to use polling instead of depending on window events\n  private readonly fallbackToPolling = _isMobileBrowser();\n  readonly _shouldAllowMigration = true;\n\n  private forAllChangedKeys(\n    cb: (key: string, oldValue: string | null, newValue: string | null) => void\n  ): void {\n    // Check all keys with listeners on them.\n    for (const key of Object.keys(this.listeners)) {\n      // Get value from localStorage.\n      const newValue = this.storage.getItem(key);\n      const oldValue = this.localCache[key];\n      // If local map value does not match, trigger listener with storage event.\n      // Differentiate this simulated event from the real storage event.\n      if (newValue !== oldValue) {\n        cb(key, oldValue, newValue);\n      }\n    }\n  }\n\n  private onStorageEvent(event: StorageEvent, poll = false): void {\n    // Key would be null in some situations, like when localStorage is cleared\n    if (!event.key) {\n      this.forAllChangedKeys(\n        (key: string, _oldValue: string | null, newValue: string | null) => {\n          this.notifyListeners(key, newValue);\n        }\n      );\n      return;\n    }\n\n    const key = event.key;\n\n    // Check the mechanism how this event was detected.\n    // The first event will dictate the mechanism to be used.\n    if (poll) {\n      // Environment detects storage changes via polling.\n      // Remove storage event listener to prevent possible event duplication.\n      this.detachListener();\n    } else {\n      // Environment detects storage changes via storage event listener.\n      // Remove polling listener to prevent possible event duplication.\n      this.stopPolling();\n    }\n\n    // Safari embedded iframe. Storage event will trigger with the delta\n    // changes but no changes will be applied to the iframe localStorage.\n    if (this.safariLocalStorageNotSynced) {\n      // Get current iframe page value.\n      const storedValue = this.storage.getItem(key);\n      // Value not synchronized, synchronize manually.\n      if (event.newValue !== storedValue) {\n        if (event.newValue !== null) {\n          // Value changed from current value.\n          this.storage.setItem(key, event.newValue);\n        } else {\n          // Current value deleted.\n          this.storage.removeItem(key);\n        }\n      } else if (this.localCache[key] === event.newValue && !poll) {\n        // Already detected and processed, do not trigger listeners again.\n        return;\n      }\n    }\n\n    const triggerListeners = (): void => {\n      // Keep local map up to date in case storage event is triggered before\n      // poll.\n      const storedValue = this.storage.getItem(key);\n      if (!poll && this.localCache[key] === storedValue) {\n        // Real storage event which has already been detected, do nothing.\n        // This seems to trigger in some IE browsers for some reason.\n        return;\n      }\n      this.notifyListeners(key, storedValue);\n    };\n\n    const storedValue = this.storage.getItem(key);\n    if (\n      _isIE10() &&\n      storedValue !== event.newValue &&\n      event.newValue !== event.oldValue\n    ) {\n      // IE 10 has this weird bug where a storage event would trigger with the\n      // correct key, oldValue and newValue but localStorage.getItem(key) does\n      // not yield the updated value until a few milliseconds. This ensures\n      // this recovers from that situation.\n      setTimeout(triggerListeners, IE10_LOCAL_STORAGE_SYNC_DELAY);\n    } else {\n      triggerListeners();\n    }\n  }\n\n  private notifyListeners(key: string, value: string | null): void {\n    this.localCache[key] = value;\n    const listeners = this.listeners[key];\n    if (listeners) {\n      for (const listener of Array.from(listeners)) {\n        listener(value ? JSON.parse(value) : value);\n      }\n    }\n  }\n\n  private startPolling(): void {\n    this.stopPolling();\n\n    this.pollTimer = setInterval(() => {\n      this.forAllChangedKeys(\n        (key: string, oldValue: string | null, newValue: string | null) => {\n          this.onStorageEvent(\n            new StorageEvent('storage', {\n              key,\n              oldValue,\n              newValue\n            }),\n            /* poll */ true\n          );\n        }\n      );\n    }, _POLLING_INTERVAL_MS);\n  }\n\n  private stopPolling(): void {\n    if (this.pollTimer) {\n      clearInterval(this.pollTimer);\n      this.pollTimer = null;\n    }\n  }\n\n  private attachListener(): void {\n    window.addEventListener('storage', this.boundEventHandler);\n  }\n\n  private detachListener(): void {\n    window.removeEventListener('storage', this.boundEventHandler);\n  }\n\n  _addListener(key: string, listener: StorageEventListener): void {\n    if (Object.keys(this.listeners).length === 0) {\n      // Whether browser can detect storage event when it had already been pushed to the background.\n      // This may happen in some mobile browsers. A localStorage change in the foreground window\n      // will not be detected in the background window via the storage event.\n      // This was detected in iOS 7.x mobile browsers\n      if (this.fallbackToPolling) {\n        this.startPolling();\n      } else {\n        this.attachListener();\n      }\n    }\n    if (!this.listeners[key]) {\n      this.listeners[key] = new Set();\n      // Populate the cache to avoid spuriously triggering on first poll.\n      this.localCache[key] = this.storage.getItem(key);\n    }\n    this.listeners[key].add(listener);\n  }\n\n  _removeListener(key: string, listener: StorageEventListener): void {\n    if (this.listeners[key]) {\n      this.listeners[key].delete(listener);\n\n      if (this.listeners[key].size === 0) {\n        delete this.listeners[key];\n      }\n    }\n\n    if (Object.keys(this.listeners).length === 0) {\n      this.detachListener();\n      this.stopPolling();\n    }\n  }\n\n  // Update local cache on base operations:\n\n  async _set(key: string, value: PersistenceValue): Promise<void> {\n    await super._set(key, value);\n    this.localCache[key] = JSON.stringify(value);\n  }\n\n  async _get<T extends PersistenceValue>(key: string): Promise<T | null> {\n    const value = await super._get<T>(key);\n    this.localCache[key] = JSON.stringify(value);\n    return value;\n  }\n\n  async _remove(key: string): Promise<void> {\n    await super._remove(key);\n    delete this.localCache[key];\n  }\n}\n\n/**\n * An implementation of {@link Persistence} of type `LOCAL` using `localStorage`\n * for the underlying storage.\n *\n * @public\n */\nexport const browserLocalPersistence: Persistence = BrowserLocalPersistence;\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { _generateEventId } from '../../core/util/event_id';\nimport {\n  _SenderRequest,\n  _EventType,\n  ReceiverMessageEvent,\n  _MessageError,\n  SenderMessageEvent,\n  _Status,\n  _ReceiverMessageResponse,\n  _ReceiverResponse,\n  _TimeoutDuration\n} from './index';\n\ninterface MessageHandler {\n  messageChannel: MessageChannel;\n  onMessage: EventListenerOrEventListenerObject;\n}\n\n/**\n * Interface for sending messages and waiting for a completion response.\n *\n */\nexport class Sender {\n  private readonly handlers = new Set<MessageHandler>();\n\n  constructor(private readonly target: ServiceWorker) {}\n\n  /**\n   * Unsubscribe the handler and remove it from our tracking Set.\n   *\n   * @param handler - The handler to unsubscribe.\n   */\n  private removeMessageHandler(handler: MessageHandler): void {\n    if (handler.messageChannel) {\n      handler.messageChannel.port1.removeEventListener(\n        'message',\n        handler.onMessage\n      );\n      handler.messageChannel.port1.close();\n    }\n    this.handlers.delete(handler);\n  }\n\n  /**\n   * Send a message to the Receiver located at {@link target}.\n   *\n   * @remarks\n   * We'll first wait a bit for an ACK , if we get one we will wait significantly longer until the\n   * receiver has had a chance to fully process the event.\n   *\n   * @param eventType - Type of event to send.\n   * @param data - The payload of the event.\n   * @param timeout - Timeout for waiting on an ACK from the receiver.\n   *\n   * @returns An array of settled promises from all the handlers that were listening on the receiver.\n   */\n  async _send<T extends _ReceiverResponse, S extends _SenderRequest>(\n    eventType: _EventType,\n    data: S,\n    timeout = _TimeoutDuration.ACK\n  ): Promise<_ReceiverMessageResponse<T>> {\n    const messageChannel =\n      typeof MessageChannel !== 'undefined' ? new MessageChannel() : null;\n    if (!messageChannel) {\n      throw new Error(_MessageError.CONNECTION_UNAVAILABLE);\n    }\n    // Node timers and browser timers return fundamentally different types.\n    // We don't actually care what the value is but TS won't accept unknown and\n    // we can't cast properly in both environments.\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    let completionTimer: any;\n    let handler: MessageHandler;\n    return new Promise<_ReceiverMessageResponse<T>>((resolve, reject) => {\n      const eventId = _generateEventId('', 20);\n      messageChannel.port1.start();\n      const ackTimer = setTimeout(() => {\n        reject(new Error(_MessageError.UNSUPPORTED_EVENT));\n      }, timeout);\n      handler = {\n        messageChannel,\n        onMessage(event: Event): void {\n          const messageEvent = event as MessageEvent<ReceiverMessageEvent<T>>;\n          if (messageEvent.data.eventId !== eventId) {\n            return;\n          }\n          switch (messageEvent.data.status) {\n            case _Status.ACK:\n              // The receiver should ACK first.\n              clearTimeout(ackTimer);\n              completionTimer = setTimeout(() => {\n                reject(new Error(_MessageError.TIMEOUT));\n              }, _TimeoutDuration.COMPLETION);\n              break;\n            case _Status.DONE:\n              // Once the receiver's handlers are finished we will get the results.\n              clearTimeout(completionTimer);\n              resolve(messageEvent.data.response);\n              break;\n            default:\n              clearTimeout(ackTimer);\n              clearTimeout(completionTimer);\n              reject(new Error(_MessageError.INVALID_RESPONSE));\n              break;\n          }\n        }\n      };\n      this.handlers.add(handler);\n      messageChannel.port1.addEventListener('message', handler.onMessage);\n      this.target.postMessage(\n        {\n          eventType,\n          eventId,\n          data\n        } as SenderMessageEvent<S>,\n        [messageChannel.port2]\n      );\n    }).finally(() => {\n      if (handler) {\n        this.removeMessageHandler(handler);\n      }\n    });\n  }\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Persistence } from '../../model/public_types';\nimport {\n  PersistedBlob,\n  PersistenceInternal as InternalPersistence,\n  PersistenceType,\n  PersistenceValue,\n  StorageEventListener,\n  STORAGE_AVAILABLE_KEY\n} from '../../core/persistence/';\nimport {\n  _EventType,\n  _PingResponse,\n  KeyChangedResponse,\n  KeyChangedRequest,\n  PingRequest,\n  _TimeoutDuration\n} from '../messagechannel/index';\nimport { Receiver } from '../messagechannel/receiver';\nimport { Sender } from '../messagechannel/sender';\nimport {\n  _isWorker,\n  _getActiveServiceWorker,\n  _getServiceWorkerController,\n  _getWorkerGlobalScope\n} from '../util/worker';\n\nexport const DB_NAME = 'firebaseLocalStorageDb';\nconst DB_VERSION = 1;\nconst DB_OBJECTSTORE_NAME = 'firebaseLocalStorage';\nconst DB_DATA_KEYPATH = 'fbase_key';\n\ninterface DBObject {\n  [DB_DATA_KEYPATH]: string;\n  value: PersistedBlob;\n}\n\n/**\n * Promise wrapper for IDBRequest\n *\n * Unfortunately we can't cleanly extend Promise<T> since promises are not callable in ES6\n *\n */\nclass DBPromise<T> {\n  constructor(private readonly request: IDBRequest) {}\n\n  toPromise(): Promise<T> {\n    return new Promise<T>((resolve, reject) => {\n      this.request.addEventListener('success', () => {\n        resolve(this.request.result);\n      });\n      this.request.addEventListener('error', () => {\n        reject(this.request.error);\n      });\n    });\n  }\n}\n\nfunction getObjectStore(db: IDBDatabase, isReadWrite: boolean): IDBObjectStore {\n  return db\n    .transaction([DB_OBJECTSTORE_NAME], isReadWrite ? 'readwrite' : 'readonly')\n    .objectStore(DB_OBJECTSTORE_NAME);\n}\n\nexport async function _clearDatabase(db: IDBDatabase): Promise<void> {\n  const objectStore = getObjectStore(db, true);\n  return new DBPromise<void>(objectStore.clear()).toPromise();\n}\n\nexport function _deleteDatabase(): Promise<void> {\n  const request = indexedDB.deleteDatabase(DB_NAME);\n  return new DBPromise<void>(request).toPromise();\n}\n\nexport function _openDatabase(): Promise<IDBDatabase> {\n  const request = indexedDB.open(DB_NAME, DB_VERSION);\n  return new Promise((resolve, reject) => {\n    request.addEventListener('error', () => {\n      reject(request.error);\n    });\n\n    request.addEventListener('upgradeneeded', () => {\n      const db = request.result;\n\n      try {\n        db.createObjectStore(DB_OBJECTSTORE_NAME, { keyPath: DB_DATA_KEYPATH });\n      } catch (e) {\n        reject(e);\n      }\n    });\n\n    request.addEventListener('success', async () => {\n      const db: IDBDatabase = request.result;\n      // Strange bug that occurs in Firefox when multiple tabs are opened at the\n      // same time. The only way to recover seems to be deleting the database\n      // and re-initializing it.\n      // https://github.com/firebase/firebase-js-sdk/issues/634\n\n      if (!db.objectStoreNames.contains(DB_OBJECTSTORE_NAME)) {\n        // Need to close the database or else you get a `blocked` event\n        db.close();\n        await _deleteDatabase();\n        resolve(await _openDatabase());\n      } else {\n        resolve(db);\n      }\n    });\n  });\n}\n\nexport async function _putObject(\n  db: IDBDatabase,\n  key: string,\n  value: PersistenceValue | string\n): Promise<void> {\n  const request = getObjectStore(db, true).put({\n    [DB_DATA_KEYPATH]: key,\n    value\n  });\n  return new DBPromise<void>(request).toPromise();\n}\n\nasync function getObject(\n  db: IDBDatabase,\n  key: string\n): Promise<PersistedBlob | null> {\n  const request = getObjectStore(db, false).get(key);\n  const data = await new DBPromise<DBObject | undefined>(request).toPromise();\n  return data === undefined ? null : data.value;\n}\n\nexport function _deleteObject(db: IDBDatabase, key: string): Promise<void> {\n  const request = getObjectStore(db, true).delete(key);\n  return new DBPromise<void>(request).toPromise();\n}\n\nexport const _POLLING_INTERVAL_MS = 800;\nexport const _TRANSACTION_RETRY_COUNT = 3;\n\nclass IndexedDBLocalPersistence implements InternalPersistence {\n  static type: 'LOCAL' = 'LOCAL';\n\n  type = PersistenceType.LOCAL;\n  db?: IDBDatabase;\n  readonly _shouldAllowMigration = true;\n\n  private readonly listeners: Record<string, Set<StorageEventListener>> = {};\n  private readonly localCache: Record<string, PersistenceValue | null> = {};\n  // setTimeout return value is platform specific\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private pollTimer: any | null = null;\n  private pendingWrites = 0;\n\n  private receiver: Receiver | null = null;\n  private sender: Sender | null = null;\n  private serviceWorkerReceiverAvailable = false;\n  private activeServiceWorker: ServiceWorker | null = null;\n  // Visible for testing only\n  readonly _workerInitializationPromise: Promise<void>;\n\n  constructor() {\n    // Fire & forget the service worker registration as it may never resolve\n    this._workerInitializationPromise =\n      this.initializeServiceWorkerMessaging().then(\n        () => {},\n        () => {}\n      );\n  }\n\n  async _openDb(): Promise<IDBDatabase> {\n    if (this.db) {\n      return this.db;\n    }\n    this.db = await _openDatabase();\n    return this.db;\n  }\n\n  async _withRetries<T>(op: (db: IDBDatabase) => Promise<T>): Promise<T> {\n    let numAttempts = 0;\n\n    while (true) {\n      try {\n        const db = await this._openDb();\n        return await op(db);\n      } catch (e) {\n        if (numAttempts++ > _TRANSACTION_RETRY_COUNT) {\n          throw e;\n        }\n        if (this.db) {\n          this.db.close();\n          this.db = undefined;\n        }\n        // TODO: consider adding exponential backoff\n      }\n    }\n  }\n\n  /**\n   * IndexedDB events do not propagate from the main window to the worker context.  We rely on a\n   * postMessage interface to send these events to the worker ourselves.\n   */\n  private async initializeServiceWorkerMessaging(): Promise<void> {\n    return _isWorker() ? this.initializeReceiver() : this.initializeSender();\n  }\n\n  /**\n   * As the worker we should listen to events from the main window.\n   */\n  private async initializeReceiver(): Promise<void> {\n    this.receiver = Receiver._getInstance(_getWorkerGlobalScope()!);\n    // Refresh from persistence if we receive a KeyChanged message.\n    this.receiver._subscribe(\n      _EventType.KEY_CHANGED,\n      async (_origin: string, data: KeyChangedRequest) => {\n        const keys = await this._poll();\n        return {\n          keyProcessed: keys.includes(data.key)\n        };\n      }\n    );\n    // Let the sender know that we are listening so they give us more timeout.\n    this.receiver._subscribe(\n      _EventType.PING,\n      async (_origin: string, _data: PingRequest) => {\n        return [_EventType.KEY_CHANGED];\n      }\n    );\n  }\n\n  /**\n   * As the main window, we should let the worker know when keys change (set and remove).\n   *\n   * @remarks\n   * {@link https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerContainer/ready | ServiceWorkerContainer.ready}\n   * may not resolve.\n   */\n  private async initializeSender(): Promise<void> {\n    // Check to see if there's an active service worker.\n    this.activeServiceWorker = await _getActiveServiceWorker();\n    if (!this.activeServiceWorker) {\n      return;\n    }\n    this.sender = new Sender(this.activeServiceWorker);\n    // Ping the service worker to check what events they can handle.\n    const results = await this.sender._send<_PingResponse, PingRequest>(\n      _EventType.PING,\n      {},\n      _TimeoutDuration.LONG_ACK\n    );\n    if (!results) {\n      return;\n    }\n    if (\n      results[0]?.fulfilled &&\n      results[0]?.value.includes(_EventType.KEY_CHANGED)\n    ) {\n      this.serviceWorkerReceiverAvailable = true;\n    }\n  }\n\n  /**\n   * Let the worker know about a changed key, the exact key doesn't technically matter since the\n   * worker will just trigger a full sync anyway.\n   *\n   * @remarks\n   * For now, we only support one service worker per page.\n   *\n   * @param key - Storage key which changed.\n   */\n  private async notifyServiceWorker(key: string): Promise<void> {\n    if (\n      !this.sender ||\n      !this.activeServiceWorker ||\n      _getServiceWorkerController() !== this.activeServiceWorker\n    ) {\n      return;\n    }\n    try {\n      await this.sender._send<KeyChangedResponse, KeyChangedRequest>(\n        _EventType.KEY_CHANGED,\n        { key },\n        // Use long timeout if receiver has previously responded to a ping from us.\n        this.serviceWorkerReceiverAvailable\n          ? _TimeoutDuration.LONG_ACK\n          : _TimeoutDuration.ACK\n      );\n    } catch {\n      // This is a best effort approach. Ignore errors.\n    }\n  }\n\n  async _isAvailable(): Promise<boolean> {\n    try {\n      if (!indexedDB) {\n        return false;\n      }\n      const db = await _openDatabase();\n      await _putObject(db, STORAGE_AVAILABLE_KEY, '1');\n      await _deleteObject(db, STORAGE_AVAILABLE_KEY);\n      return true;\n    } catch {}\n    return false;\n  }\n\n  private async _withPendingWrite(write: () => Promise<void>): Promise<void> {\n    this.pendingWrites++;\n    try {\n      await write();\n    } finally {\n      this.pendingWrites--;\n    }\n  }\n\n  async _set(key: string, value: PersistenceValue): Promise<void> {\n    return this._withPendingWrite(async () => {\n      await this._withRetries((db: IDBDatabase) => _putObject(db, key, value));\n      this.localCache[key] = value;\n      return this.notifyServiceWorker(key);\n    });\n  }\n\n  async _get<T extends PersistenceValue>(key: string): Promise<T | null> {\n    const obj = (await this._withRetries((db: IDBDatabase) =>\n      getObject(db, key)\n    )) as T;\n    this.localCache[key] = obj;\n    return obj;\n  }\n\n  async _remove(key: string): Promise<void> {\n    return this._withPendingWrite(async () => {\n      await this._withRetries((db: IDBDatabase) => _deleteObject(db, key));\n      delete this.localCache[key];\n      return this.notifyServiceWorker(key);\n    });\n  }\n\n  private async _poll(): Promise<string[]> {\n    // TODO: check if we need to fallback if getAll is not supported\n    const result = await this._withRetries((db: IDBDatabase) => {\n      const getAllRequest = getObjectStore(db, false).getAll();\n      return new DBPromise<DBObject[] | null>(getAllRequest).toPromise();\n    });\n\n    if (!result) {\n      return [];\n    }\n\n    // If we have pending writes in progress abort, we'll get picked up on the next poll\n    if (this.pendingWrites !== 0) {\n      return [];\n    }\n\n    const keys = [];\n    const keysInResult = new Set();\n    for (const { fbase_key: key, value } of result) {\n      keysInResult.add(key);\n      if (JSON.stringify(this.localCache[key]) !== JSON.stringify(value)) {\n        this.notifyListeners(key, value as PersistenceValue);\n        keys.push(key);\n      }\n    }\n    for (const localKey of Object.keys(this.localCache)) {\n      if (this.localCache[localKey] && !keysInResult.has(localKey)) {\n        // Deleted\n        this.notifyListeners(localKey, null);\n        keys.push(localKey);\n      }\n    }\n    return keys;\n  }\n\n  private notifyListeners(\n    key: string,\n    newValue: PersistenceValue | null\n  ): void {\n    this.localCache[key] = newValue;\n    const listeners = this.listeners[key];\n    if (listeners) {\n      for (const listener of Array.from(listeners)) {\n        listener(newValue);\n      }\n    }\n  }\n\n  private startPolling(): void {\n    this.stopPolling();\n\n    this.pollTimer = setInterval(\n      async () => this._poll(),\n      _POLLING_INTERVAL_MS\n    );\n  }\n\n  private stopPolling(): void {\n    if (this.pollTimer) {\n      clearInterval(this.pollTimer);\n      this.pollTimer = null;\n    }\n  }\n\n  _addListener(key: string, listener: StorageEventListener): void {\n    if (Object.keys(this.listeners).length === 0) {\n      this.startPolling();\n    }\n    if (!this.listeners[key]) {\n      this.listeners[key] = new Set();\n      // Populate the cache to avoid spuriously triggering on first poll.\n      void this._get(key); // This can happen in the background async and we can return immediately.\n    }\n    this.listeners[key].add(listener);\n  }\n\n  _removeListener(key: string, listener: StorageEventListener): void {\n    if (this.listeners[key]) {\n      this.listeners[key].delete(listener);\n\n      if (this.listeners[key].size === 0) {\n        delete this.listeners[key];\n      }\n    }\n\n    if (Object.keys(this.listeners).length === 0) {\n      this.stopPolling();\n    }\n  }\n}\n\n/**\n * An implementation of {@link Persistence} of type `LOCAL` using `indexedDB`\n * for the underlying storage.\n *\n * @public\n */\nexport const indexedDBLocalPersistence: Persistence = IndexedDBLocalPersistence;\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { AuthErrorCode } from '../../core/errors';\nimport { _assert } from '../../core/util/assert';\nimport { AuthInternal } from '../../model/auth';\nimport { RecaptchaParameters } from '../../model/public_types';\nimport { Recaptcha } from './recaptcha';\n\nexport const _SOLVE_TIME_MS = 500;\nexport const _EXPIRATION_TIME_MS = 60_000;\nexport const _WIDGET_ID_START = 1_000_000_000_000;\n\nexport interface Widget {\n  getResponse: () => string | null;\n  delete: () => void;\n  execute: () => void;\n}\n\nexport class MockReCaptcha implements Recaptcha {\n  private counter = _WIDGET_ID_START;\n  _widgets = new Map<number, Widget>();\n\n  constructor(private readonly auth: AuthInternal) {}\n\n  render(\n    container: string | HTMLElement,\n    parameters?: RecaptchaParameters\n  ): number {\n    const id = this.counter;\n    this._widgets.set(\n      id,\n      new MockWidget(container, this.auth.name, parameters || {})\n    );\n    this.counter++;\n    return id;\n  }\n\n  reset(optWidgetId?: number): void {\n    const id = optWidgetId || _WIDGET_ID_START;\n    void this._widgets.get(id)?.delete();\n    this._widgets.delete(id);\n  }\n\n  getResponse(optWidgetId?: number): string {\n    const id = optWidgetId || _WIDGET_ID_START;\n    return this._widgets.get(id)?.getResponse() || '';\n  }\n\n  async execute(optWidgetId?: number | string): Promise<string> {\n    const id: number = (optWidgetId as number) || _WIDGET_ID_START;\n    void this._widgets.get(id)?.execute();\n    return '';\n  }\n}\n\nexport class MockWidget {\n  private readonly container: HTMLElement;\n  private readonly isVisible: boolean;\n  private timerId: number | null = null;\n  private deleted = false;\n  private responseToken: string | null = null;\n  private readonly clickHandler = (): void => {\n    this.execute();\n  };\n\n  constructor(\n    containerOrId: string | HTMLElement,\n    appName: string,\n    private readonly params: RecaptchaParameters\n  ) {\n    const container =\n      typeof containerOrId === 'string'\n        ? document.getElementById(containerOrId)\n        : containerOrId;\n    _assert(container, AuthErrorCode.ARGUMENT_ERROR, { appName });\n\n    this.container = container;\n    this.isVisible = this.params.size !== 'invisible';\n    if (this.isVisible) {\n      this.execute();\n    } else {\n      this.container.addEventListener('click', this.clickHandler);\n    }\n  }\n\n  getResponse(): string | null {\n    this.checkIfDeleted();\n    return this.responseToken;\n  }\n\n  delete(): void {\n    this.checkIfDeleted();\n    this.deleted = true;\n    if (this.timerId) {\n      clearTimeout(this.timerId);\n      this.timerId = null;\n    }\n    this.container.removeEventListener('click', this.clickHandler);\n  }\n\n  execute(): void {\n    this.checkIfDeleted();\n    if (this.timerId) {\n      return;\n    }\n\n    this.timerId = window.setTimeout(() => {\n      this.responseToken = generateRandomAlphaNumericString(50);\n      const { callback, 'expired-callback': expiredCallback } = this.params;\n      if (callback) {\n        try {\n          callback(this.responseToken);\n        } catch (e) {}\n      }\n\n      this.timerId = window.setTimeout(() => {\n        this.timerId = null;\n        this.responseToken = null;\n        if (expiredCallback) {\n          try {\n            expiredCallback();\n          } catch (e) {}\n        }\n\n        if (this.isVisible) {\n          this.execute();\n        }\n      }, _EXPIRATION_TIME_MS);\n    }, _SOLVE_TIME_MS);\n  }\n\n  private checkIfDeleted(): void {\n    if (this.deleted) {\n      throw new Error('reCAPTCHA mock was already deleted!');\n    }\n  }\n}\n\nfunction generateRandomAlphaNumericString(len: number): string {\n  const chars = [];\n  const allowedChars =\n    '1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\n  for (let i = 0; i < len; i++) {\n    chars.push(\n      allowedChars.charAt(Math.floor(Math.random() * allowedChars.length))\n    );\n  }\n  return chars.join('');\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { querystring } from '@firebase/util';\n\nimport { AuthErrorCode } from '../../core/errors';\nimport { _assert, _createError } from '../../core/util/assert';\nimport { Delay } from '../../core/util/delay';\nimport { AuthInternal } from '../../model/auth';\nimport { _window } from '../auth_window';\nimport * as jsHelpers from '../load_js';\nimport { Recaptcha } from './recaptcha';\nimport { MockReCaptcha } from './recaptcha_mock';\n\n// ReCaptcha will load using the same callback, so the callback function needs\n// to be kept around\nexport const _JSLOAD_CALLBACK = jsHelpers._generateCallbackName('rcb');\nconst NETWORK_TIMEOUT_DELAY = new Delay(30000, 60000);\nconst RECAPTCHA_BASE = 'https://www.google.com/recaptcha/api.js?';\n\n/**\n * We need to mark this interface as internal explicitly to exclude it in the public typings, because\n * it references AuthInternal which has a circular dependency with UserInternal.\n *\n * @internal\n */\nexport interface ReCaptchaLoader {\n  load(auth: AuthInternal, hl?: string): Promise<Recaptcha>;\n  clearedOneInstance(): void;\n}\n\n/**\n * Loader for the GReCaptcha library. There should only ever be one of this.\n */\nexport class ReCaptchaLoaderImpl implements ReCaptchaLoader {\n  private hostLanguage = '';\n  private counter = 0;\n  /**\n   * Check for `render()` method. `window.grecaptcha` will exist if the Enterprise\n   * version of the ReCAPTCHA script was loaded by someone else (e.g. App Check) but\n   * `window.grecaptcha.render()` will not. Another load will add it.\n   */\n  private readonly librarySeparatelyLoaded = !!_window().grecaptcha?.render;\n\n  load(auth: AuthInternal, hl = ''): Promise<Recaptcha> {\n    _assert(isHostLanguageValid(hl), auth, AuthErrorCode.ARGUMENT_ERROR);\n\n    if (this.shouldResolveImmediately(hl)) {\n      return Promise.resolve(_window().grecaptcha!);\n    }\n    return new Promise<Recaptcha>((resolve, reject) => {\n      const networkTimeout = _window().setTimeout(() => {\n        reject(_createError(auth, AuthErrorCode.NETWORK_REQUEST_FAILED));\n      }, NETWORK_TIMEOUT_DELAY.get());\n\n      _window()[_JSLOAD_CALLBACK] = () => {\n        _window().clearTimeout(networkTimeout);\n        delete _window()[_JSLOAD_CALLBACK];\n\n        const recaptcha = _window().grecaptcha;\n\n        if (!recaptcha) {\n          reject(_createError(auth, AuthErrorCode.INTERNAL_ERROR));\n          return;\n        }\n\n        // Wrap the greptcha render function so that we know if the developer has\n        // called it separately\n        const render = recaptcha.render;\n        recaptcha.render = (container, params) => {\n          const widgetId = render(container, params);\n          this.counter++;\n          return widgetId;\n        };\n\n        this.hostLanguage = hl;\n        resolve(recaptcha);\n      };\n\n      const url = `${RECAPTCHA_BASE}?${querystring({\n        onload: _JSLOAD_CALLBACK,\n        render: 'explicit',\n        hl\n      })}`;\n\n      jsHelpers._loadJS(url).catch(() => {\n        clearTimeout(networkTimeout);\n        reject(_createError(auth, AuthErrorCode.INTERNAL_ERROR));\n      });\n    });\n  }\n\n  clearedOneInstance(): void {\n    this.counter--;\n  }\n\n  private shouldResolveImmediately(hl: string): boolean {\n    // We can resolve immediately if:\n    //    grecaptcha is already defined AND (\n    //     1. the requested language codes are the same OR\n    //     2. there exists already a ReCaptcha on the page\n    //     3. the library was already loaded by the app\n    // In cases (2) and (3), we _can't_ reload as it would break the recaptchas\n    // that are already in the page\n    return (\n      !!_window().grecaptcha?.render &&\n      (hl === this.hostLanguage ||\n        this.counter > 0 ||\n        this.librarySeparatelyLoaded)\n    );\n  }\n}\n\nfunction isHostLanguageValid(hl: string): boolean {\n  return hl.length <= 6 && /^\\s*[a-zA-Z0-9\\-]*\\s*$/.test(hl);\n}\n\nexport class MockReCaptchaLoaderImpl implements ReCaptchaLoader {\n  async load(auth: AuthInternal): Promise<Recaptcha> {\n    return new MockReCaptcha(auth);\n  }\n\n  clearedOneInstance(): void {}\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Auth, RecaptchaParameters } from '../../model/public_types';\nimport { getRecaptchaParams } from '../../api/authentication/recaptcha';\nimport { _castAuth } from '../../core/auth/auth_impl';\nimport { AuthErrorCode } from '../../core/errors';\nimport { _assert } from '../../core/util/assert';\nimport { _isHttpOrHttps } from '../../core/util/location';\nimport { ApplicationVerifierInternal } from '../../model/application_verifier';\nimport { AuthInternal } from '../../model/auth';\nimport { _window } from '../auth_window';\nimport { _isWorker } from '../util/worker';\nimport { Recaptcha } from './recaptcha';\nimport {\n  MockReCaptchaLoaderImpl,\n  ReCaptchaLoader,\n  ReCaptchaLoaderImpl\n} from './recaptcha_loader';\n\nexport const RECAPTCHA_VERIFIER_TYPE = 'recaptcha';\n\nconst DEFAULT_PARAMS: RecaptchaParameters = {\n  theme: 'light',\n  type: 'image'\n};\n\ntype TokenCallback = (token: string) => void;\n\n/**\n * An {@link https://www.google.com/recaptcha/ | reCAPTCHA}-based application verifier.\n *\n * @public\n */\nexport class RecaptchaVerifier implements ApplicationVerifierInternal {\n  /**\n   * The application verifier type.\n   *\n   * @remarks\n   * For a reCAPTCHA verifier, this is 'recaptcha'.\n   */\n  readonly type = RECAPTCHA_VERIFIER_TYPE;\n  private destroyed = false;\n  private widgetId: number | null = null;\n  private readonly container: HTMLElement;\n  private readonly isInvisible: boolean;\n  private readonly tokenChangeListeners = new Set<TokenCallback>();\n  private renderPromise: Promise<number> | null = null;\n  private readonly auth: AuthInternal;\n\n  /** @internal */\n  readonly _recaptchaLoader: ReCaptchaLoader;\n  private recaptcha: Recaptcha | null = null;\n\n  /**\n   *\n   * @param containerOrId - The reCAPTCHA container parameter.\n   *\n   * @remarks\n   * This has different meaning depending on whether the reCAPTCHA is hidden or visible. For a\n   * visible reCAPTCHA the container must be empty. If a string is used, it has to correspond to\n   * an element ID. The corresponding element must also must be in the DOM at the time of\n   * initialization.\n   *\n   * @param parameters - The optional reCAPTCHA parameters.\n   *\n   * @remarks\n   * Check the reCAPTCHA docs for a comprehensive list. All parameters are accepted except for\n   * the sitekey. Firebase Auth backend provisions a reCAPTCHA for each project and will\n   * configure this upon rendering. For an invisible reCAPTCHA, a size key must have the value\n   * 'invisible'.\n   *\n   * @param authExtern - The corresponding Firebase {@link Auth} instance.\n   *\n   * @remarks\n   * If none is provided, the default Firebase {@link Auth} instance is used. A Firebase {@link Auth} instance\n   * must be initialized with an API key, otherwise an error will be thrown.\n   */\n  constructor(\n    containerOrId: HTMLElement | string,\n    private readonly parameters: RecaptchaParameters = {\n      ...DEFAULT_PARAMS\n    },\n    authExtern: Auth\n  ) {\n    this.auth = _castAuth(authExtern);\n    this.isInvisible = this.parameters.size === 'invisible';\n    _assert(\n      typeof document !== 'undefined',\n      this.auth,\n      AuthErrorCode.OPERATION_NOT_SUPPORTED\n    );\n    const container =\n      typeof containerOrId === 'string'\n        ? document.getElementById(containerOrId)\n        : containerOrId;\n    _assert(container, this.auth, AuthErrorCode.ARGUMENT_ERROR);\n\n    this.container = container;\n    this.parameters.callback = this.makeTokenCallback(this.parameters.callback);\n\n    this._recaptchaLoader = this.auth.settings.appVerificationDisabledForTesting\n      ? new MockReCaptchaLoaderImpl()\n      : new ReCaptchaLoaderImpl();\n\n    this.validateStartingState();\n    // TODO: Figure out if sdk version is needed\n  }\n\n  /**\n   * Waits for the user to solve the reCAPTCHA and resolves with the reCAPTCHA token.\n   *\n   * @returns A Promise for the reCAPTCHA token.\n   */\n  async verify(): Promise<string> {\n    this.assertNotDestroyed();\n    const id = await this.render();\n    const recaptcha = this.getAssertedRecaptcha();\n\n    const response = recaptcha.getResponse(id);\n    if (response) {\n      return response;\n    }\n\n    return new Promise<string>(resolve => {\n      const tokenChange = (token: string): void => {\n        if (!token) {\n          return; // Ignore token expirations.\n        }\n        this.tokenChangeListeners.delete(tokenChange);\n        resolve(token);\n      };\n\n      this.tokenChangeListeners.add(tokenChange);\n      if (this.isInvisible) {\n        recaptcha.execute(id);\n      }\n    });\n  }\n\n  /**\n   * Renders the reCAPTCHA widget on the page.\n   *\n   * @returns A Promise that resolves with the reCAPTCHA widget ID.\n   */\n  render(): Promise<number> {\n    try {\n      this.assertNotDestroyed();\n    } catch (e) {\n      // This method returns a promise. Since it's not async (we want to return the\n      // _same_ promise if rendering is still occurring), the API surface should\n      // reject with the error rather than just throw\n      return Promise.reject(e);\n    }\n\n    if (this.renderPromise) {\n      return this.renderPromise;\n    }\n\n    this.renderPromise = this.makeRenderPromise().catch(e => {\n      this.renderPromise = null;\n      throw e;\n    });\n\n    return this.renderPromise;\n  }\n\n  /** @internal */\n  _reset(): void {\n    this.assertNotDestroyed();\n    if (this.widgetId !== null) {\n      this.getAssertedRecaptcha().reset(this.widgetId);\n    }\n  }\n\n  /**\n   * Clears the reCAPTCHA widget from the page and destroys the instance.\n   */\n  clear(): void {\n    this.assertNotDestroyed();\n    this.destroyed = true;\n    this._recaptchaLoader.clearedOneInstance();\n    if (!this.isInvisible) {\n      this.container.childNodes.forEach(node => {\n        this.container.removeChild(node);\n      });\n    }\n  }\n\n  private validateStartingState(): void {\n    _assert(!this.parameters.sitekey, this.auth, AuthErrorCode.ARGUMENT_ERROR);\n    _assert(\n      this.isInvisible || !this.container.hasChildNodes(),\n      this.auth,\n      AuthErrorCode.ARGUMENT_ERROR\n    );\n    _assert(\n      typeof document !== 'undefined',\n      this.auth,\n      AuthErrorCode.OPERATION_NOT_SUPPORTED\n    );\n  }\n\n  private makeTokenCallback(\n    existing: TokenCallback | string | undefined\n  ): TokenCallback {\n    return token => {\n      this.tokenChangeListeners.forEach(listener => listener(token));\n      if (typeof existing === 'function') {\n        existing(token);\n      } else if (typeof existing === 'string') {\n        const globalFunc = _window()[existing];\n        if (typeof globalFunc === 'function') {\n          globalFunc(token);\n        }\n      }\n    };\n  }\n\n  private assertNotDestroyed(): void {\n    _assert(!this.destroyed, this.auth, AuthErrorCode.INTERNAL_ERROR);\n  }\n\n  private async makeRenderPromise(): Promise<number> {\n    await this.init();\n    if (!this.widgetId) {\n      let container = this.container;\n      if (!this.isInvisible) {\n        const guaranteedEmpty = document.createElement('div');\n        container.appendChild(guaranteedEmpty);\n        container = guaranteedEmpty;\n      }\n\n      this.widgetId = this.getAssertedRecaptcha().render(\n        container,\n        this.parameters\n      );\n    }\n\n    return this.widgetId;\n  }\n\n  private async init(): Promise<void> {\n    _assert(\n      _isHttpOrHttps() && !_isWorker(),\n      this.auth,\n      AuthErrorCode.INTERNAL_ERROR\n    );\n\n    await domReady();\n    this.recaptcha = await this._recaptchaLoader.load(\n      this.auth,\n      this.auth.languageCode || undefined\n    );\n\n    const siteKey = await getRecaptchaParams(this.auth);\n    _assert(siteKey, this.auth, AuthErrorCode.INTERNAL_ERROR);\n    this.parameters.sitekey = siteKey;\n  }\n\n  private getAssertedRecaptcha(): Recaptcha {\n    _assert(this.recaptcha, this.auth, AuthErrorCode.INTERNAL_ERROR);\n    return this.recaptcha;\n  }\n}\n\nfunction domReady(): Promise<void> {\n  let resolver: (() => void) | null = null;\n  return new Promise<void>(resolve => {\n    if (document.readyState === 'complete') {\n      resolve();\n      return;\n    }\n\n    // Document not ready, wait for load before resolving.\n    // Save resolver, so we can remove listener in case it was externally\n    // cancelled.\n    resolver = () => resolve();\n    window.addEventListener('load', resolver);\n  }).catch(e => {\n    if (resolver) {\n      window.removeEventListener('load', resolver);\n    }\n\n    throw e;\n  });\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  ApplicationVerifier,\n  Auth,\n  ConfirmationResult,\n  PhoneInfoOptions,\n  User,\n  UserCredential\n} from '../../model/public_types';\n\nimport { startEnrollPhoneMfa } from '../../api/account_management/mfa';\nimport { startSignInPhoneMfa } from '../../api/authentication/mfa';\nimport { sendPhoneVerificationCode } from '../../api/authentication/sms';\nimport { ApplicationVerifierInternal } from '../../model/application_verifier';\nimport { PhoneAuthCredential } from '../../core/credentials/phone';\nimport { AuthErrorCode } from '../../core/errors';\nimport { _assertLinkedStatus, _link } from '../../core/user/link_unlink';\nimport { _assert } from '../../core/util/assert';\nimport { AuthInternal } from '../../model/auth';\nimport {\n  linkWithCredential,\n  reauthenticateWithCredential,\n  signInWithCredential\n} from '../../core/strategies/credential';\nimport {\n  MultiFactorSessionImpl,\n  MultiFactorSessionType\n} from '../../mfa/mfa_session';\nimport { UserInternal } from '../../model/user';\nimport { RECAPTCHA_VERIFIER_TYPE } from '../recaptcha/recaptcha_verifier';\nimport { _castAuth } from '../../core/auth/auth_impl';\nimport { getModularInstance } from '@firebase/util';\nimport { ProviderId } from '../../model/enums';\n\ninterface OnConfirmationCallback {\n  (credential: PhoneAuthCredential): Promise<UserCredential>;\n}\n\nclass ConfirmationResultImpl implements ConfirmationResult {\n  constructor(\n    readonly verificationId: string,\n    private readonly onConfirmation: OnConfirmationCallback\n  ) {}\n\n  confirm(verificationCode: string): Promise<UserCredential> {\n    const authCredential = PhoneAuthCredential._fromVerification(\n      this.verificationId,\n      verificationCode\n    );\n    return this.onConfirmation(authCredential);\n  }\n}\n\n/**\n * Asynchronously signs in using a phone number.\n *\n * @remarks\n * This method sends a code via SMS to the given\n * phone number, and returns a {@link ConfirmationResult}. After the user\n * provides the code sent to their phone, call {@link ConfirmationResult.confirm}\n * with the code to sign the user in.\n *\n * For abuse prevention, this method also requires a {@link ApplicationVerifier}.\n * This SDK includes a reCAPTCHA-based implementation, {@link RecaptchaVerifier}.\n * This function can work on other platforms that do not support the\n * {@link RecaptchaVerifier} (like React Native), but you need to use a\n * third-party {@link ApplicationVerifier} implementation.\n *\n * @example\n * ```javascript\n * // 'recaptcha-container' is the ID of an element in the DOM.\n * const applicationVerifier = new firebase.auth.RecaptchaVerifier('recaptcha-container');\n * const confirmationResult = await signInWithPhoneNumber(auth, phoneNumber, applicationVerifier);\n * // Obtain a verificationCode from the user.\n * const credential = await confirmationResult.confirm(verificationCode);\n * ```\n *\n * @param auth - The {@link Auth} instance.\n * @param phoneNumber - The user's phone number in E.164 format (e.g. +16505550101).\n * @param appVerifier - The {@link ApplicationVerifier}.\n *\n * @public\n */\nexport async function signInWithPhoneNumber(\n  auth: Auth,\n  phoneNumber: string,\n  appVerifier: ApplicationVerifier\n): Promise<ConfirmationResult> {\n  const authInternal = _castAuth(auth);\n  const verificationId = await _verifyPhoneNumber(\n    authInternal,\n    phoneNumber,\n    getModularInstance(appVerifier as ApplicationVerifierInternal)\n  );\n  return new ConfirmationResultImpl(verificationId, cred =>\n    signInWithCredential(authInternal, cred)\n  );\n}\n\n/**\n * Links the user account with the given phone number.\n *\n * @param user - The user.\n * @param phoneNumber - The user's phone number in E.164 format (e.g. +16505550101).\n * @param appVerifier - The {@link ApplicationVerifier}.\n *\n * @public\n */\nexport async function linkWithPhoneNumber(\n  user: User,\n  phoneNumber: string,\n  appVerifier: ApplicationVerifier\n): Promise<ConfirmationResult> {\n  const userInternal = getModularInstance(user) as UserInternal;\n  await _assertLinkedStatus(false, userInternal, ProviderId.PHONE);\n  const verificationId = await _verifyPhoneNumber(\n    userInternal.auth,\n    phoneNumber,\n    getModularInstance(appVerifier as ApplicationVerifierInternal)\n  );\n  return new ConfirmationResultImpl(verificationId, cred =>\n    linkWithCredential(userInternal, cred)\n  );\n}\n\n/**\n * Re-authenticates a user using a fresh phone credential.\n *\n * @remarks Use before operations such as {@link updatePassword} that require tokens from recent sign-in attempts.\n *\n * @param user - The user.\n * @param phoneNumber - The user's phone number in E.164 format (e.g. +16505550101).\n * @param appVerifier - The {@link ApplicationVerifier}.\n *\n * @public\n */\nexport async function reauthenticateWithPhoneNumber(\n  user: User,\n  phoneNumber: string,\n  appVerifier: ApplicationVerifier\n): Promise<ConfirmationResult> {\n  const userInternal = getModularInstance(user) as UserInternal;\n  const verificationId = await _verifyPhoneNumber(\n    userInternal.auth,\n    phoneNumber,\n    getModularInstance(appVerifier as ApplicationVerifierInternal)\n  );\n  return new ConfirmationResultImpl(verificationId, cred =>\n    reauthenticateWithCredential(userInternal, cred)\n  );\n}\n\n/**\n * Returns a verification ID to be used in conjunction with the SMS code that is sent.\n *\n */\nexport async function _verifyPhoneNumber(\n  auth: AuthInternal,\n  options: PhoneInfoOptions | string,\n  verifier: ApplicationVerifierInternal\n): Promise<string> {\n  const recaptchaToken = await verifier.verify();\n\n  try {\n    _assert(\n      typeof recaptchaToken === 'string',\n      auth,\n      AuthErrorCode.ARGUMENT_ERROR\n    );\n    _assert(\n      verifier.type === RECAPTCHA_VERIFIER_TYPE,\n      auth,\n      AuthErrorCode.ARGUMENT_ERROR\n    );\n\n    let phoneInfoOptions: PhoneInfoOptions;\n\n    if (typeof options === 'string') {\n      phoneInfoOptions = {\n        phoneNumber: options\n      };\n    } else {\n      phoneInfoOptions = options;\n    }\n\n    if ('session' in phoneInfoOptions) {\n      const session = phoneInfoOptions.session as MultiFactorSessionImpl;\n\n      if ('phoneNumber' in phoneInfoOptions) {\n        _assert(\n          session.type === MultiFactorSessionType.ENROLL,\n          auth,\n          AuthErrorCode.INTERNAL_ERROR\n        );\n        const response = await startEnrollPhoneMfa(auth, {\n          idToken: session.credential,\n          phoneEnrollmentInfo: {\n            phoneNumber: phoneInfoOptions.phoneNumber,\n            recaptchaToken\n          }\n        });\n        return response.phoneSessionInfo.sessionInfo;\n      } else {\n        _assert(\n          session.type === MultiFactorSessionType.SIGN_IN,\n          auth,\n          AuthErrorCode.INTERNAL_ERROR\n        );\n        const mfaEnrollmentId =\n          phoneInfoOptions.multiFactorHint?.uid ||\n          phoneInfoOptions.multiFactorUid;\n        _assert(mfaEnrollmentId, auth, AuthErrorCode.MISSING_MFA_INFO);\n        const response = await startSignInPhoneMfa(auth, {\n          mfaPendingCredential: session.credential,\n          mfaEnrollmentId,\n          phoneSignInInfo: {\n            recaptchaToken\n          }\n        });\n        return response.phoneResponseInfo.sessionInfo;\n      }\n    } else {\n      const { sessionInfo } = await sendPhoneVerificationCode(auth, {\n        phoneNumber: phoneInfoOptions.phoneNumber,\n        recaptchaToken\n      });\n      return sessionInfo;\n    }\n  } finally {\n    verifier._reset();\n  }\n}\n\n/**\n * Updates the user's phone number.\n *\n * @example\n * ```\n * // 'recaptcha-container' is the ID of an element in the DOM.\n * const applicationVerifier = new RecaptchaVerifier('recaptcha-container');\n * const provider = new PhoneAuthProvider(auth);\n * const verificationId = await provider.verifyPhoneNumber('+16505550101', applicationVerifier);\n * // Obtain the verificationCode from the user.\n * const phoneCredential = PhoneAuthProvider.credential(verificationId, verificationCode);\n * await updatePhoneNumber(user, phoneCredential);\n * ```\n *\n * @param user - The user.\n * @param credential - A credential authenticating the new phone number.\n *\n * @public\n */\nexport async function updatePhoneNumber(\n  user: User,\n  credential: PhoneAuthCredential\n): Promise<void> {\n  await _link(getModularInstance(user) as UserInternal, credential);\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  Auth,\n  PhoneInfoOptions,\n  ApplicationVerifier,\n  UserCredential\n} from '../../model/public_types';\n\nimport { SignInWithPhoneNumberResponse } from '../../api/authentication/sms';\nimport { ApplicationVerifierInternal as ApplicationVerifierInternal } from '../../model/application_verifier';\nimport { AuthInternal as AuthInternal } from '../../model/auth';\nimport { UserCredentialInternal as UserCredentialInternal } from '../../model/user';\nimport { PhoneAuthCredential } from '../../core/credentials/phone';\nimport { _verifyPhoneNumber } from '../strategies/phone';\nimport { _castAuth } from '../../core/auth/auth_impl';\nimport { AuthCredential } from '../../core';\nimport { FirebaseError, getModularInstance } from '@firebase/util';\nimport { TaggedWithTokenResponse } from '../../model/id_token';\nimport { ProviderId, SignInMethod } from '../../model/enums';\n\n/**\n * Provider for generating an {@link PhoneAuthCredential}.\n *\n * @example\n * ```javascript\n * // 'recaptcha-container' is the ID of an element in the DOM.\n * const applicationVerifier = new RecaptchaVerifier('recaptcha-container');\n * const provider = new PhoneAuthProvider(auth);\n * const verificationId = await provider.verifyPhoneNumber('+16505550101', applicationVerifier);\n * // Obtain the verificationCode from the user.\n * const phoneCredential = PhoneAuthProvider.credential(verificationId, verificationCode);\n * const userCredential = await signInWithCredential(auth, phoneCredential);\n * ```\n *\n * @public\n */\nexport class PhoneAuthProvider {\n  /** Always set to {@link ProviderId}.PHONE. */\n  static readonly PROVIDER_ID: 'phone' = ProviderId.PHONE;\n  /** Always set to {@link SignInMethod}.PHONE. */\n  static readonly PHONE_SIGN_IN_METHOD: 'phone' = SignInMethod.PHONE;\n\n  /** Always set to {@link ProviderId}.PHONE. */\n  readonly providerId = PhoneAuthProvider.PROVIDER_ID;\n  private readonly auth: AuthInternal;\n\n  /**\n   * @param auth - The Firebase {@link Auth} instance in which sign-ins should occur.\n   *\n   */\n  constructor(auth: Auth) {\n    this.auth = _castAuth(auth);\n  }\n\n  /**\n   *\n   * Starts a phone number authentication flow by sending a verification code to the given phone\n   * number.\n   *\n   * @example\n   * ```javascript\n   * const provider = new PhoneAuthProvider(auth);\n   * const verificationId = await provider.verifyPhoneNumber(phoneNumber, applicationVerifier);\n   * // Obtain verificationCode from the user.\n   * const authCredential = PhoneAuthProvider.credential(verificationId, verificationCode);\n   * const userCredential = await signInWithCredential(auth, authCredential);\n   * ```\n   *\n   * @example\n   * An alternative flow is provided using the `signInWithPhoneNumber` method.\n   * ```javascript\n   * const confirmationResult = signInWithPhoneNumber(auth, phoneNumber, applicationVerifier);\n   * // Obtain verificationCode from the user.\n   * const userCredential = confirmationResult.confirm(verificationCode);\n   * ```\n   *\n   * @param phoneInfoOptions - The user's {@link PhoneInfoOptions}. The phone number should be in\n   * E.164 format (e.g. +16505550101).\n   * @param applicationVerifier - For abuse prevention, this method also requires a\n   * {@link ApplicationVerifier}. This SDK includes a reCAPTCHA-based implementation,\n   * {@link RecaptchaVerifier}.\n   *\n   * @returns A Promise for a verification ID that can be passed to\n   * {@link PhoneAuthProvider.credential} to identify this flow..\n   */\n  verifyPhoneNumber(\n    phoneOptions: PhoneInfoOptions | string,\n    applicationVerifier: ApplicationVerifier\n  ): Promise<string> {\n    return _verifyPhoneNumber(\n      this.auth,\n      phoneOptions,\n      getModularInstance(applicationVerifier as ApplicationVerifierInternal)\n    );\n  }\n\n  /**\n   * Creates a phone auth credential, given the verification ID from\n   * {@link PhoneAuthProvider.verifyPhoneNumber} and the code that was sent to the user's\n   * mobile device.\n   *\n   * @example\n   * ```javascript\n   * const provider = new PhoneAuthProvider(auth);\n   * const verificationId = provider.verifyPhoneNumber(phoneNumber, applicationVerifier);\n   * // Obtain verificationCode from the user.\n   * const authCredential = PhoneAuthProvider.credential(verificationId, verificationCode);\n   * const userCredential = signInWithCredential(auth, authCredential);\n   * ```\n   *\n   * @example\n   * An alternative flow is provided using the `signInWithPhoneNumber` method.\n   * ```javascript\n   * const confirmationResult = await signInWithPhoneNumber(auth, phoneNumber, applicationVerifier);\n   * // Obtain verificationCode from the user.\n   * const userCredential = await confirmationResult.confirm(verificationCode);\n   * ```\n   *\n   * @param verificationId - The verification ID returned from {@link PhoneAuthProvider.verifyPhoneNumber}.\n   * @param verificationCode - The verification code sent to the user's mobile device.\n   *\n   * @returns The auth provider credential.\n   */\n  static credential(\n    verificationId: string,\n    verificationCode: string\n  ): PhoneAuthCredential {\n    return PhoneAuthCredential._fromVerification(\n      verificationId,\n      verificationCode\n    );\n  }\n\n  /**\n   * Generates an {@link AuthCredential} from a {@link UserCredential}.\n   * @param userCredential - The user credential.\n   */\n  static credentialFromResult(\n    userCredential: UserCredential\n  ): AuthCredential | null {\n    const credential = userCredential as UserCredentialInternal;\n    return PhoneAuthProvider.credentialFromTaggedObject(credential);\n  }\n\n  /**\n   * Returns an {@link AuthCredential} when passed an error.\n   *\n   * @remarks\n   *\n   * This method works for errors like\n   * `auth/account-exists-with-different-credentials`. This is useful for\n   * recovering when attempting to set a user's phone number but the number\n   * in question is already tied to another account. For example, the following\n   * code tries to update the current user's phone number, and if that\n   * fails, links the user with the account associated with that number:\n   *\n   * ```js\n   * const provider = new PhoneAuthProvider(auth);\n   * const verificationId = await provider.verifyPhoneNumber(number, verifier);\n   * try {\n   *   const code = ''; // Prompt the user for the verification code\n   *   await updatePhoneNumber(\n   *       auth.currentUser,\n   *       PhoneAuthProvider.credential(verificationId, code));\n   * } catch (e) {\n   *   if ((e as FirebaseError)?.code === 'auth/account-exists-with-different-credential') {\n   *     const cred = PhoneAuthProvider.credentialFromError(e);\n   *     await linkWithCredential(auth.currentUser, cred);\n   *   }\n   * }\n   *\n   * // At this point, auth.currentUser.phoneNumber === number.\n   * ```\n   *\n   * @param error - The error to generate a credential from.\n   */\n  static credentialFromError(error: FirebaseError): AuthCredential | null {\n    return PhoneAuthProvider.credentialFromTaggedObject(\n      (error.customData || {}) as TaggedWithTokenResponse\n    );\n  }\n\n  private static credentialFromTaggedObject({\n    _tokenResponse: tokenResponse\n  }: TaggedWithTokenResponse): AuthCredential | null {\n    if (!tokenResponse) {\n      return null;\n    }\n    const { phoneNumber, temporaryProof } =\n      tokenResponse as SignInWithPhoneNumberResponse;\n    if (phoneNumber && temporaryProof) {\n      return PhoneAuthCredential._fromTokenResponse(\n        phoneNumber,\n        temporaryProof\n      );\n    }\n    return null;\n  }\n}\n","/**\n * @license\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { PopupRedirectResolver } from '../../model/public_types';\nimport { AuthInternal } from '../../model/auth';\nimport { PopupRedirectResolverInternal } from '../../model/popup_redirect';\nimport { AuthErrorCode } from '../errors';\nimport { _assert } from './assert';\nimport { _getInstance } from './instantiator';\n\n/**\n * Chooses a popup/redirect resolver to use. This prefers the override (which\n * is directly passed in), and falls back to the property set on the auth\n * object. If neither are available, this function errors w/ an argument error.\n */\nexport function _withDefaultResolver(\n  auth: AuthInternal,\n  resolverOverride: PopupRedirectResolver | undefined\n): PopupRedirectResolverInternal {\n  if (resolverOverride) {\n    return _getInstance(resolverOverride);\n  }\n\n  _assert(auth._popupRedirectResolver, auth, AuthErrorCode.ARGUMENT_ERROR);\n\n  return auth._popupRedirectResolver;\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  signInWithIdp,\n  SignInWithIdpRequest\n} from '../../api/authentication/idp';\nimport { PhoneOrOauthTokenResponse } from '../../api/authentication/mfa';\nimport { AuthInternal } from '../../model/auth';\nimport { IdTokenResponse } from '../../model/id_token';\nimport { UserInternal, UserCredentialInternal } from '../../model/user';\nimport { AuthCredential } from '../credentials';\nimport { _link as _linkUser } from '../user/link_unlink';\nimport { _reauthenticate } from '../user/reauthenticate';\nimport { _assert } from '../util/assert';\nimport { _signInWithCredential } from './credential';\nimport { AuthErrorCode } from '../errors';\nimport { ProviderId } from '../../model/enums';\n\nexport interface IdpTaskParams {\n  auth: AuthInternal;\n  requestUri: string;\n  sessionId?: string;\n  tenantId?: string;\n  postBody?: string;\n  pendingToken?: string;\n  user?: UserInternal;\n  bypassAuthState?: boolean;\n}\n\nexport type IdpTask = (\n  params: IdpTaskParams\n) => Promise<UserCredentialInternal>;\n\nclass IdpCredential extends AuthCredential {\n  constructor(readonly params: IdpTaskParams) {\n    super(ProviderId.CUSTOM, ProviderId.CUSTOM);\n  }\n\n  _getIdTokenResponse(auth: AuthInternal): Promise<PhoneOrOauthTokenResponse> {\n    return signInWithIdp(auth, this._buildIdpRequest());\n  }\n\n  _linkToIdToken(\n    auth: AuthInternal,\n    idToken: string\n  ): Promise<IdTokenResponse> {\n    return signInWithIdp(auth, this._buildIdpRequest(idToken));\n  }\n\n  _getReauthenticationResolver(auth: AuthInternal): Promise<IdTokenResponse> {\n    return signInWithIdp(auth, this._buildIdpRequest());\n  }\n\n  private _buildIdpRequest(idToken?: string): SignInWithIdpRequest {\n    const request: SignInWithIdpRequest = {\n      requestUri: this.params.requestUri,\n      sessionId: this.params.sessionId,\n      postBody: this.params.postBody,\n      tenantId: this.params.tenantId,\n      pendingToken: this.params.pendingToken,\n      returnSecureToken: true,\n      returnIdpCredential: true\n    };\n\n    if (idToken) {\n      request.idToken = idToken;\n    }\n\n    return request;\n  }\n}\n\nexport function _signIn(\n  params: IdpTaskParams\n): Promise<UserCredentialInternal> {\n  return _signInWithCredential(\n    params.auth,\n    new IdpCredential(params),\n    params.bypassAuthState\n  ) as Promise<UserCredentialInternal>;\n}\n\nexport function _reauth(\n  params: IdpTaskParams\n): Promise<UserCredentialInternal> {\n  const { auth, user } = params;\n  _assert(user, auth, AuthErrorCode.INTERNAL_ERROR);\n  return _reauthenticate(\n    user,\n    new IdpCredential(params),\n    params.bypassAuthState\n  );\n}\n\nexport async function _link(\n  params: IdpTaskParams\n): Promise<UserCredentialInternal> {\n  const { auth, user } = params;\n  _assert(user, auth, AuthErrorCode.INTERNAL_ERROR);\n  return _linkUser(user, new IdpCredential(params), params.bypassAuthState);\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  Auth,\n  AuthProvider,\n  PopupRedirectResolver,\n  User,\n  UserCredential\n} from '../../model/public_types';\n\nimport { _castAuth } from '../../core/auth/auth_impl';\nimport { _assertLinkedStatus } from '../../core/user/link_unlink';\nimport { _assertInstanceOf } from '../../core/util/assert';\nimport { _generateEventId } from '../../core/util/event_id';\nimport { AuthEventType } from '../../model/popup_redirect';\nimport { UserInternal } from '../../model/user';\nimport { _withDefaultResolver } from '../../core/util/resolver';\nimport {\n  RedirectAction,\n  _setPendingRedirectStatus\n} from '../../core/strategies/redirect';\nimport { FederatedAuthProvider } from '../../core/providers/federated';\nimport { getModularInstance } from '@firebase/util';\n\n/**\n * Authenticates a Firebase client using a full-page redirect flow.\n *\n * @remarks\n * To handle the results and errors for this operation, refer to {@link getRedirectResult}.\n *\n * @example\n * ```javascript\n * // Sign in using a redirect.\n * const provider = new FacebookAuthProvider();\n * // You can add additional scopes to the provider:\n * provider.addScope('user_birthday');\n * // Start a sign in process for an unauthenticated user.\n * await signInWithRedirect(auth, provider);\n * // This will trigger a full page redirect away from your app\n *\n * // After returning from the redirect when your app initializes you can obtain the result\n * const result = await getRedirectResult(auth);\n * if (result) {\n *   // This is the signed-in user\n *   const user = result.user;\n *   // This gives you a Facebook Access Token.\n *   const credential = provider.credentialFromResult(auth, result);\n *   const token = credential.accessToken;\n * }\n * // As this API can be used for sign-in, linking and reauthentication,\n * // check the operationType to determine what triggered this redirect\n * // operation.\n * const operationType = result.operationType;\n * ```\n *\n * @param auth - The {@link Auth} instance.\n * @param provider - The provider to authenticate. The provider has to be an {@link OAuthProvider}.\n * Non-OAuth providers like {@link EmailAuthProvider} will throw an error.\n * @param resolver - An instance of {@link PopupRedirectResolver}, optional\n * if already supplied to {@link initializeAuth} or provided by {@link getAuth}.\n *\n * @public\n */\nexport function signInWithRedirect(\n  auth: Auth,\n  provider: AuthProvider,\n  resolver?: PopupRedirectResolver\n): Promise<never> {\n  return _signInWithRedirect(auth, provider, resolver) as Promise<never>;\n}\n\nexport async function _signInWithRedirect(\n  auth: Auth,\n  provider: AuthProvider,\n  resolver?: PopupRedirectResolver\n): Promise<void | never> {\n  const authInternal = _castAuth(auth);\n  _assertInstanceOf(auth, provider, FederatedAuthProvider);\n  const resolverInternal = _withDefaultResolver(authInternal, resolver);\n  await _setPendingRedirectStatus(resolverInternal, authInternal);\n\n  return resolverInternal._openRedirect(\n    authInternal,\n    provider,\n    AuthEventType.SIGN_IN_VIA_REDIRECT\n  );\n}\n\n/**\n * Reauthenticates the current user with the specified {@link OAuthProvider} using a full-page redirect flow.\n *\n * @example\n * ```javascript\n * // Sign in using a redirect.\n * const provider = new FacebookAuthProvider();\n * const result = await signInWithRedirect(auth, provider);\n * // This will trigger a full page redirect away from your app\n *\n * // After returning from the redirect when your app initializes you can obtain the result\n * const result = await getRedirectResult(auth);\n * // Link using a redirect.\n * await linkWithRedirect(result.user, provider);\n * // This will again trigger a full page redirect away from your app\n *\n * // After returning from the redirect when your app initializes you can obtain the result\n * const result = await getRedirectResult(auth);\n * ```\n *\n * @param user - The user.\n * @param provider - The provider to authenticate. The provider has to be an {@link OAuthProvider}.\n * Non-OAuth providers like {@link EmailAuthProvider} will throw an error.\n * @param resolver - An instance of {@link PopupRedirectResolver}, optional\n * if already supplied to {@link initializeAuth} or provided by {@link getAuth}.\n *\n * @public\n */\nexport function reauthenticateWithRedirect(\n  user: User,\n  provider: AuthProvider,\n  resolver?: PopupRedirectResolver\n): Promise<never> {\n  return _reauthenticateWithRedirect(\n    user,\n    provider,\n    resolver\n  ) as Promise<never>;\n}\nexport async function _reauthenticateWithRedirect(\n  user: User,\n  provider: AuthProvider,\n  resolver?: PopupRedirectResolver\n): Promise<void | never> {\n  const userInternal = getModularInstance(user) as UserInternal;\n  _assertInstanceOf(userInternal.auth, provider, FederatedAuthProvider);\n  // Allow the resolver to error before persisting the redirect user\n  const resolverInternal = _withDefaultResolver(userInternal.auth, resolver);\n  await _setPendingRedirectStatus(resolverInternal, userInternal.auth);\n\n  const eventId = await prepareUserForRedirect(userInternal);\n  return resolverInternal._openRedirect(\n    userInternal.auth,\n    provider,\n    AuthEventType.REAUTH_VIA_REDIRECT,\n    eventId\n  );\n}\n\n/**\n * Links the {@link OAuthProvider} to the user account using a full-page redirect flow.\n *\n * @example\n * ```javascript\n * // Sign in using some other provider.\n * const result = await signInWithEmailAndPassword(auth, email, password);\n * // Link using a redirect.\n * const provider = new FacebookAuthProvider();\n * await linkWithRedirect(result.user, provider);\n * // This will trigger a full page redirect away from your app\n *\n * // After returning from the redirect when your app initializes you can obtain the result\n * const result = await getRedirectResult(auth);\n * ```\n *\n * @param user - The user.\n * @param provider - The provider to authenticate. The provider has to be an {@link OAuthProvider}.\n * Non-OAuth providers like {@link EmailAuthProvider} will throw an error.\n * @param resolver - An instance of {@link PopupRedirectResolver}, optional\n * if already supplied to {@link initializeAuth} or provided by {@link getAuth}.\n *\n *\n * @public\n */\nexport function linkWithRedirect(\n  user: User,\n  provider: AuthProvider,\n  resolver?: PopupRedirectResolver\n): Promise<never> {\n  return _linkWithRedirect(user, provider, resolver) as Promise<never>;\n}\nexport async function _linkWithRedirect(\n  user: User,\n  provider: AuthProvider,\n  resolver?: PopupRedirectResolver\n): Promise<void | never> {\n  const userInternal = getModularInstance(user) as UserInternal;\n  _assertInstanceOf(userInternal.auth, provider, FederatedAuthProvider);\n  // Allow the resolver to error before persisting the redirect user\n  const resolverInternal = _withDefaultResolver(userInternal.auth, resolver);\n  await _assertLinkedStatus(false, userInternal, provider.providerId);\n  await _setPendingRedirectStatus(resolverInternal, userInternal.auth);\n\n  const eventId = await prepareUserForRedirect(userInternal);\n  return resolverInternal._openRedirect(\n    userInternal.auth,\n    provider,\n    AuthEventType.LINK_VIA_REDIRECT,\n    eventId\n  );\n}\n\n/**\n * Returns a {@link UserCredential} from the redirect-based sign-in flow.\n *\n * @remarks\n * If sign-in succeeded, returns the signed in user. If sign-in was unsuccessful, fails with an\n * error. If no redirect operation was called, returns a {@link UserCredential}\n * with a null `user`.\n *\n * @example\n * ```javascript\n * // Sign in using a redirect.\n * const provider = new FacebookAuthProvider();\n * // You can add additional scopes to the provider:\n * provider.addScope('user_birthday');\n * // Start a sign in process for an unauthenticated user.\n * await signInWithRedirect(auth, provider);\n * // This will trigger a full page redirect away from your app\n *\n * // After returning from the redirect when your app initializes you can obtain the result\n * const result = await getRedirectResult(auth);\n * if (result) {\n *   // This is the signed-in user\n *   const user = result.user;\n *   // This gives you a Facebook Access Token.\n *   const credential = provider.credentialFromResult(auth, result);\n *   const token = credential.accessToken;\n * }\n * // As this API can be used for sign-in, linking and reauthentication,\n * // check the operationType to determine what triggered this redirect\n * // operation.\n * const operationType = result.operationType;\n * ```\n *\n * @param auth - The {@link Auth} instance.\n * @param resolver - An instance of {@link PopupRedirectResolver}, optional\n * if already supplied to {@link initializeAuth} or provided by {@link getAuth}.\n *\n * @public\n */\nexport async function getRedirectResult(\n  auth: Auth,\n  resolver?: PopupRedirectResolver\n): Promise<UserCredential | null> {\n  await _castAuth(auth)._initializationPromise;\n  return _getRedirectResult(auth, resolver, false);\n}\n\nexport async function _getRedirectResult(\n  auth: Auth,\n  resolverExtern?: PopupRedirectResolver,\n  bypassAuthState = false\n): Promise<UserCredential | null> {\n  const authInternal = _castAuth(auth);\n  const resolver = _withDefaultResolver(authInternal, resolverExtern);\n  const action = new RedirectAction(authInternal, resolver, bypassAuthState);\n  const result = await action.execute();\n\n  if (result && !bypassAuthState) {\n    delete result.user._redirectEventId;\n    await authInternal._persistUserIfCurrent(result.user as UserInternal);\n    await authInternal._setRedirectUser(null, resolverExtern);\n  }\n\n  return result;\n}\n\nasync function prepareUserForRedirect(user: UserInternal): Promise<string> {\n  const eventId = _generateEventId(`${user.uid}:::`);\n  user._redirectEventId = eventId;\n  await user.auth._setRedirectUser(user);\n  await user.auth._persistUserIfCurrent(user);\n  return eventId;\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  AuthEvent,\n  AuthEventConsumer,\n  AuthEventType,\n  EventManager\n} from '../../model/popup_redirect';\nimport { AuthErrorCode } from '../errors';\nimport { AuthInternal } from '../../model/auth';\nimport { _createError } from '../util/assert';\n\n// The amount of time to store the UIDs of seen events; this is\n// set to 10 min by default\nconst EVENT_DUPLICATION_CACHE_DURATION_MS = 10 * 60 * 1000;\n\nexport class AuthEventManager implements EventManager {\n  private readonly cachedEventUids: Set<string> = new Set();\n  private readonly consumers: Set<AuthEventConsumer> = new Set();\n  protected queuedRedirectEvent: AuthEvent | null = null;\n  protected hasHandledPotentialRedirect = false;\n  private lastProcessedEventTime = Date.now();\n\n  constructor(private readonly auth: AuthInternal) {}\n\n  registerConsumer(authEventConsumer: AuthEventConsumer): void {\n    this.consumers.add(authEventConsumer);\n\n    if (\n      this.queuedRedirectEvent &&\n      this.isEventForConsumer(this.queuedRedirectEvent, authEventConsumer)\n    ) {\n      this.sendToConsumer(this.queuedRedirectEvent, authEventConsumer);\n      this.saveEventToCache(this.queuedRedirectEvent);\n      this.queuedRedirectEvent = null;\n    }\n  }\n\n  unregisterConsumer(authEventConsumer: AuthEventConsumer): void {\n    this.consumers.delete(authEventConsumer);\n  }\n\n  onEvent(event: AuthEvent): boolean {\n    // Check if the event has already been handled\n    if (this.hasEventBeenHandled(event)) {\n      return false;\n    }\n\n    let handled = false;\n    this.consumers.forEach(consumer => {\n      if (this.isEventForConsumer(event, consumer)) {\n        handled = true;\n        this.sendToConsumer(event, consumer);\n        this.saveEventToCache(event);\n      }\n    });\n\n    if (this.hasHandledPotentialRedirect || !isRedirectEvent(event)) {\n      // If we've already seen a redirect before, or this is a popup event,\n      // bail now\n      return handled;\n    }\n\n    this.hasHandledPotentialRedirect = true;\n\n    // If the redirect wasn't handled, hang on to it\n    if (!handled) {\n      this.queuedRedirectEvent = event;\n      handled = true;\n    }\n\n    return handled;\n  }\n\n  private sendToConsumer(event: AuthEvent, consumer: AuthEventConsumer): void {\n    if (event.error && !isNullRedirectEvent(event)) {\n      const code =\n        (event.error.code?.split('auth/')[1] as AuthErrorCode) ||\n        AuthErrorCode.INTERNAL_ERROR;\n      consumer.onError(_createError(this.auth, code));\n    } else {\n      consumer.onAuthEvent(event);\n    }\n  }\n\n  private isEventForConsumer(\n    event: AuthEvent,\n    consumer: AuthEventConsumer\n  ): boolean {\n    const eventIdMatches =\n      consumer.eventId === null ||\n      (!!event.eventId && event.eventId === consumer.eventId);\n    return consumer.filter.includes(event.type) && eventIdMatches;\n  }\n\n  private hasEventBeenHandled(event: AuthEvent): boolean {\n    if (\n      Date.now() - this.lastProcessedEventTime >=\n      EVENT_DUPLICATION_CACHE_DURATION_MS\n    ) {\n      this.cachedEventUids.clear();\n    }\n\n    return this.cachedEventUids.has(eventUid(event));\n  }\n\n  private saveEventToCache(event: AuthEvent): void {\n    this.cachedEventUids.add(eventUid(event));\n    this.lastProcessedEventTime = Date.now();\n  }\n}\n\nfunction eventUid(e: AuthEvent): string {\n  return [e.type, e.eventId, e.sessionId, e.tenantId].filter(v => v).join('-');\n}\n\nfunction isNullRedirectEvent({ type, error }: AuthEvent): boolean {\n  return (\n    type === AuthEventType.UNKNOWN &&\n    error?.code === `auth/${AuthErrorCode.NO_AUTH_EVENT}`\n  );\n}\n\nfunction isRedirectEvent(event: AuthEvent): boolean {\n  switch (event.type) {\n    case AuthEventType.SIGN_IN_VIA_REDIRECT:\n    case AuthEventType.LINK_VIA_REDIRECT:\n    case AuthEventType.REAUTH_VIA_REDIRECT:\n      return true;\n    case AuthEventType.UNKNOWN:\n      return isNullRedirectEvent(event);\n    default:\n      return false;\n  }\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { _registerComponent, registerVersion } from '@firebase/app';\nimport {\n  Component,\n  ComponentType,\n  InstantiationMode,\n} from '@firebase/component';\n\nimport { name, version } from '../../../package.json';\nimport { AuthErrorCode } from '../errors';\nimport { _assert } from '../util/assert';\nimport { _getClientVersion, ClientPlatform } from '../util/version';\nimport { _castAuth, AuthImpl, DefaultConfig } from './auth_impl';\nimport { AuthInterop } from './firebase_internal';\nimport { ConfigInternal } from '../../model/auth';\nimport { Dependencies } from '../../model/public_types';\nimport { _initializeAuthInstance } from './initialize';\n\nexport const enum _ComponentName {\n  AUTH = 'auth',\n  AUTH_INTERNAL = 'auth-internal'\n}\n\nfunction getVersionForPlatform(\n  clientPlatform: ClientPlatform\n): string | undefined {\n  switch (clientPlatform) {\n    case ClientPlatform.NODE:\n      return 'node';\n    case ClientPlatform.REACT_NATIVE:\n      return 'rn';\n    case ClientPlatform.WORKER:\n      return 'webworker';\n    case ClientPlatform.CORDOVA:\n      return 'cordova';\n    default:\n      return undefined;\n  }\n}\n\n/** @internal */\nexport function registerAuth(clientPlatform: ClientPlatform): void {\n  _registerComponent(\n    new Component(\n      _ComponentName.AUTH,\n      (container, { options: deps }: { options?: Dependencies }) => {\n        const app = container.getProvider('app').getImmediate()!;\n        const heartbeatServiceProvider = container.getProvider<'heartbeat'>('heartbeat');\n        const { apiKey, authDomain } = app.options;\n        return ((app, heartbeatServiceProvider) => {\n          _assert(\n            apiKey && !apiKey.includes(':'),\n            AuthErrorCode.INVALID_API_KEY,\n            { appName: app.name }\n          );\n          // Auth domain is optional if IdP sign in isn't being used\n          _assert(!authDomain?.includes(':'), AuthErrorCode.ARGUMENT_ERROR, {\n            appName: app.name\n          });\n          const config: ConfigInternal = {\n            apiKey,\n            authDomain,\n            clientPlatform,\n            apiHost: DefaultConfig.API_HOST,\n            tokenApiHost: DefaultConfig.TOKEN_API_HOST,\n            apiScheme: DefaultConfig.API_SCHEME,\n            sdkClientVersion: _getClientVersion(clientPlatform)\n          };\n\n          const authInstance = new AuthImpl(app, heartbeatServiceProvider, config);\n          _initializeAuthInstance(authInstance, deps);\n\n          return authInstance;\n        })(app, heartbeatServiceProvider);\n      },\n      ComponentType.PUBLIC\n    )\n      /**\n       * Auth can only be initialized by explicitly calling getAuth() or initializeAuth()\n       * For why we do this, See go/firebase-next-auth-init\n       */\n      .setInstantiationMode(InstantiationMode.EXPLICIT)\n      /**\n       * Because all firebase products that depend on auth depend on auth-internal directly,\n       * we need to initialize auth-internal after auth is initialized to make it available to other firebase products.\n       */\n      .setInstanceCreatedCallback(\n        (container, _instanceIdentifier, _instance) => {\n          const authInternalProvider = container.getProvider(\n            _ComponentName.AUTH_INTERNAL\n          );\n          authInternalProvider.initialize();\n        }\n      )\n  );\n\n  _registerComponent(\n    new Component(\n      _ComponentName.AUTH_INTERNAL,\n      container => {\n        const auth = _castAuth(\n          container.getProvider(_ComponentName.AUTH).getImmediate()!\n        );\n        return (auth => new AuthInterop(auth))(auth);\n      },\n      ComponentType.PRIVATE\n    ).setInstantiationMode(InstantiationMode.EXPLICIT)\n  );\n\n  registerVersion(name, version, getVersionForPlatform(clientPlatform));\n  // BUILD_TARGET will be replaced by values like esm5, esm2017, cjs5, etc during the compilation\n  registerVersion(name, version, '__BUILD_TARGET__');\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ActionCodeOperation, Auth } from '../../model/public_types';\n\nimport {\n  Endpoint,\n  HttpMethod,\n  _addTidIfNecessary,\n  _performApiRequest\n} from '../index';\nimport { IdTokenResponse } from '../../model/id_token';\nimport { MfaEnrollment } from './mfa';\n\nexport interface ResetPasswordRequest {\n  oobCode: string;\n  newPassword?: string;\n  tenantId?: string;\n}\n\nexport interface ResetPasswordResponse {\n  email: string;\n  newEmail?: string;\n  requestType?: ActionCodeOperation;\n  mfaInfo?: MfaEnrollment;\n}\n\nexport async function resetPassword(\n  auth: Auth,\n  request: ResetPasswordRequest\n): Promise<ResetPasswordResponse> {\n  return _performApiRequest<ResetPasswordRequest, ResetPasswordResponse>(\n    auth,\n    HttpMethod.POST,\n    Endpoint.RESET_PASSWORD,\n    _addTidIfNecessary(auth, request)\n  );\n}\nexport interface UpdateEmailPasswordRequest {\n  idToken: string;\n  returnSecureToken?: boolean;\n  email?: string;\n  password?: string;\n}\n\nexport interface UpdateEmailPasswordResponse extends IdTokenResponse {}\n\nexport async function updateEmailPassword(\n  auth: Auth,\n  request: UpdateEmailPasswordRequest\n): Promise<UpdateEmailPasswordResponse> {\n  return _performApiRequest<\n    UpdateEmailPasswordRequest,\n    UpdateEmailPasswordResponse\n  >(auth, HttpMethod.POST, Endpoint.SET_ACCOUNT_INFO, request);\n}\n\nexport interface ApplyActionCodeRequest {\n  oobCode: string;\n  tenantId?: string;\n}\n\nexport interface ApplyActionCodeResponse {}\n\nexport async function applyActionCode(\n  auth: Auth,\n  request: ApplyActionCodeRequest\n): Promise<ApplyActionCodeResponse> {\n  return _performApiRequest<ApplyActionCodeRequest, ApplyActionCodeResponse>(\n    auth,\n    HttpMethod.POST,\n    Endpoint.SET_ACCOUNT_INFO,\n    _addTidIfNecessary(auth, request)\n  );\n}\n","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n"],"names":["$022dd92771cad7b9$var$Renderer_1","$022dd92771cad7b9$var$__importDefault","parcelRequire","$022dd92771cad7b9$var$utils","$022dd92771cad7b9$var$__importStar","$022dd92771cad7b9$var$canvas","document","createElement","style","width","height","position","zIndex","top","right","$022dd92771cad7b9$var$ctx","getContext","$022dd92771cad7b9$var$_a","getElementById","addEventListener","module","exports","easterBreaker","async","Error","Math","ceil","window","innerWidth","innerHeight","_a1","body","appendChild","_image","getScreenshot","image","relative_height","_b","drawImage","engine","rows","columns","createStackEngine","slots","bodies","world","composites","row","slotRow","push","column","default","options","run","runner","$3q6P0","Runner","create","mouse","Mouse","mouseConstraint","MouseConstraint","constraint","stiffness","render","visible","Composite","add","factory","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","key1","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Common","_nextId","_seed","_nowStartTime","Date","_warnedOnce","_decomp","extend","obj","deep","argsStart","deepClone","arguments","length","source","prop","constructor","clone","keys","values","path","begin","end","split","slice","set","val","parts","shuffle","array","j","floor","random","temp","choose","choices","isElement","HTMLElement","nodeType","nodeName","isArray","toString","isFunction","isPlainObject","isString","clamp","min","max","sign","now","performance","webkitNow","_seededRandom","colorToNumber","colorString","replace","charAt","parseInt","logLevel","log","console","apply","concat","Array","info","warn","warnOnce","message","join","deprecated","warning","chain","nextId","indexOf","haystack","needle","map","list","func","mapped","topologicalSort","graph","result","visited","node","_topologicalSort","neighbors","neighbor","funcs","i1","_chained","lastResult","args","chainPathBefore","base","chainPathAfter","setDecomp","decomp","getDecomp","$parcel$global","e","Bounds","vertices","bounds","x","y","update","velocity","Infinity","vertex","contains","point","overlaps","boundsA","boundsB","translate","vector","shift","deltaX","deltaY","Vector","magnitude","sqrt","magnitudeSquared","rotate","angle","output","cos","sin","rotateAbout","normalise","dot","vectorA","vectorB","cross","cross3","vectorC","sub","mult","scalar","div","perp","negate","neg","atan2","_temp","Vertices","points","index","isInternal","fromPath","match","parseFloat","centre","area","mean","average","signed","abs","inertia","mass","numerator","denominator","v","verticesLength","translateX","translateY","dx","dy","pointX","pointY","nextVertex","scale","scaleX","scaleY","delta","chamfer","radius","quality","qualityMin","qualityMax","newVertices","prevVertex","currentRadius","prevNormal","nextNormal","diagonalRadius","pow","radiusVector","midNormal","scaledVertex","precision","theta","acos","clockwiseSort","sort","vertexA","vertexB","isConvex","k","z","flag","hull","upper","lower","pop","Events","on","eventNames","callback","names","events","off","callbacks","newCallbacks","trigger","event","eventClone","Body","id","type","parent","isModified","constraints","label","plugin","cache","allBodies","allConstraints","allComposites","setModified","composite","updateParents","updateChildren","childComposite","objects","addBody","addConstraint","addComposite","remove","removeBody","removeConstraint","removeComposite","compositeA","compositeB","removeCompositeAt","splice","removeBodyAt","removeConstraintAt","clear","keepStatic","filter","isStatic","object1","move","rebase","translation","recursive","rotation","setPosition","Sleeping","Axes","_inertiaScale","_nextCollidingGroupId","_nextNonCollidingGroupId","_nextCategory","defaults","force","torque","positionImpulse","constraintImpulse","totalContacts","speed","angularSpeed","angularVelocity","isSensor","isSleeping","motion","sleepThreshold","density","restitution","friction","frictionStatic","frictionAir","collisionFilter","category","mask","group","slop","timeScale","opacity","strokeStyle","fillStyle","lineWidth","sprite","xScale","yScale","xOffset","yOffset","circleRadius","positionPrev","anglePrev","axes","_original","_initProperties","nextGroup","isNonColliding","nextCategory","defaultFillStyle","defaultStrokeStyle","defaultLineWidth","settings","setStatic","setMass","setDensity","setInertia","setVertices","setAngle","setVelocity","setAngularVelocity","setParts","setCentre","part","inverseMass","inverseInertia","moment","fromVertices","autoHull","hullCentre","total","_totalProperties","relative","totalArea","totalInertia","deltaTime","correction","deltaTimeSquared","velocityPrevX","velocityPrevY","applyForce","offset","properties","_motionWakeThreshold","_motionSleepThreshold","_minBias","timeFactor","minMotion","maxMotion","sleepCounter","afterCollisions","pairs","pair","isActive","collision","bodyA","bodyB","sleepingBody","movingBody","wasSleeping","Collision","_supports","_overlapAB","_overlapBA","Pair","overlap","axis","collided","parentA","parentB","depth","normal","tangent","penetration","supports","collides","_overlapAxes","minOverlap","table","minAxis","minAxisX","minAxisY","supportsB","_findSupports","supportCount","supportsA","verticesA","verticesB","overlapAB","overlapBA","verticesALength","verticesBLength","verticesAX","verticesAY","verticesBX","verticesBY","axesLength","overlapMin","Number","MAX_VALUE","overlapAxisNumber","axisX","axisY","minA","minB","maxA","maxB","_projectToAxis","projection","direction","vertexC","distance","bodyAPositionX","bodyAPositionY","normalX","normalY","nearestDistance","Contact","timestamp","contacts","activeContacts","separation","confirmedActive","timeCreated","timeUpdated","parentAVerticesLength","support","contactId","contact","setActive","Constraint","_warming","_torqueDampen","_minLength","pointA","pointB","initialPointA","initialPointB","damping","angularStiffness","angleA","angleB","anchors","preSolveAll","impulse","solveAll","fixedA","fixedB","solve","pointAWorld","pointBWorld","currentLength","share","normalVelocity","relativeVelocity","difference","massTotal","resistanceTotal","zero","postSolveAll","gradient","toFixed","xx","Bodies","rectangle","trapezoid","slope","verticesPath","x1","x2","x3","circle","maxSides","sides","polygon","PI","yy","vertexSets","flagInternal","removeCollinear","minimumArea","removeDuplicatePoints","canDecomp","vertices1","Boolean","quickDecomp","concave","makeCCW","removeCollinearPoints","decomposed","chunkVertices","partA","partB","pav","pbv","da","db","element","absolute","mousedownPosition","mouseupPosition","wheelDelta","button","pixelRatio","getAttribute","sourceEvents","mousemove","mousedown","mouseup","mousewheel","_getRelativeMousePosition","changedTouches","preventDefault","detail","setElement","clearSourceEvents","setOffset","setScale","elementBounds","getBoundingClientRect","rootNode","documentElement","parentNode","scrollX","undefined","pageXOffset","scrollLeft","scrollY","pageYOffset","scrollTop","touches","pageX","left","pageY","clientWidth","clientHeight","Detector","setBodies","detector","collisions","bodiesLength","canCollide","_compareBoundsX","boundXMax","boundYMax","boundYMin","bodyAStatic","partsALength","partsASingle","partsBLength","partsBStart","filterA","filterB","module1","Plugin","_registry","register","isPlugin","registered","pluginVersion","versionParse","version","number","registeredVersion","resolve","dependency","dependencyParse","range","install","isUsed","used","isFor","parsed","for","versionSatisfies","use","plugins","uses","dependencies","sortedDependencies","status","_warned","tracked","parsedBase","resolved","test","pattern","exec","major","minor","patch","isRange","operator","prerelease","Render","_requestAnimationFrame","_cancelAnimationFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","setTimeout","cancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","msCancelAnimationFrame","_goodFps","_goodDelta","controller","canvas","frameRequestId","timing","historySize","deltaHistory","lastTime","lastTimestamp","lastElapsed","timestampElapsed","timestampElapsedHistory","engineDeltaHistory","engineElapsedHistory","elapsedHistory","background","wireframeBackground","hasBounds","enabled","wireframes","showSleeping","showDebug","showStats","showPerformance","showBounds","showVelocity","showCollisions","showSeparations","showAxes","showPositions","showAngleIndicator","showIds","showVertexNumbers","showConvexHulls","showInternalEdges","showMousePosition","_createCanvas","context","textures","showBroadphase","setPixelRatio","loop","time","_updateTiming","stats","stop","_getPixelRatio","setAttribute","lookAt","padding","center","viewHeight","outerRatio","innerRatio","startViewTransform","boundsWidth","boundsHeight","boundsScaleX","boundsScaleY","setTransform","endViewTransform","startTime","currentBackground","_applyBackground","globalCompositeOperation","fillRect","enableSleeping","bodyConvexHulls","bodyWireframes","bodyBounds","bodyAxes","bodyPositions","bodyVelocity","bodyIds","separations","vertexNumbers","mousePosition","sections","Part","Cons","Comp","font","textBaseline","textAlign","section","fillText","lastEngineDelta","lastDelta","deltaMean","_mean","elapsedMean","engineDeltaMean","engineElapsedMean","rateMean","fps","gap","round","count","indicator","plotY","beginPath","moveTo","lineTo","stroke","start","arc","closePath","coils","fill","globalAlpha","texture","_getTexture","rect","normalPosX","normalPosY","inspector","selected","item","data","setLineDash","selectStart","selectBounds","unshift","oncontextmenu","onselectstart","devicePixelRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","imagePath","Image","src","cssBackground","backgroundSize","normalImpulse","tangentImpulse","Engine","Resolver","Pairs","positionIterations","velocityIterations","constraintIterations","gravity","grid","buckets","broadphase","metrics","_bodiesApplyGravity","_bodiesUpdate","collisionStart","preSolvePosition","solvePosition","postSolvePosition","preSolveVelocity","solveVelocity","collisionActive","collisionEnd","_bodiesClearForces","merge","engineA","engineB","gravityScale","worldBounds","_restingThresh","_restingThreshTangent","_positionDampen","_positionWarming","_frictionNormalMultiplier","activeCount","pairsLength","contactShare","positionDampen","positionWarming","verticesTranslate","boundsUpdate","positionImpulseX","positionImpulseY","contactsLength","contactVertex","impulseX","impulseY","maxFriction","timeScaleSquared","restingThresh","frictionNormalMultiplier","restingThreshTangent","NumberMaxValue","bodyAVelocity","bodyBVelocity","tangentX","tangentY","inverseMassTotal","offsetAX","offsetAY","offsetBX","offsetBY","velocityPointAX","velocityPointAY","relativeVelocityX","relativeVelocityY","tangentVelocity","normalOverlap","normalForce","frictionLimit","oAcN","oBcN","contactNormalImpulse","contactTangentImpulse","pairIndex","pairsList","pairsListLength","pairsTable","collisionsLength","removePairIndex","Matter","Composites","Grid","Query","SAT","Svg","World","columnGap","rowGap","lastBody","bodyHeight","bodyWidth","maxHeight","stack","xOffsetA","yOffsetA","xOffsetB","yOffsetB","bodyAHeight","bodyAWidth","bodyBHeight","col","crossBrace","bodyC","actualRows","lastBodyWidth","size","newtonsCradle","wheelSize","wheelAOffset","wheelBOffset","car","axelA","wheelA","axelB","wheelB","particleRadius","particleOptions","constraintOptions","softBody","bucket","bucketId","gridChanged","forceUpdate","newRegion","_getRegion","_getBucketId","isInsideNewRegion","startCol","endCol","startRow","endRow","isInsideOldRegion","region","_createBucket","_bucketAddBody","regionA","regionB","bucketWidth","bucketHeight","bucketLength","pairId","gridPairs","_bucketRemoveBody","pairKeys","pairKeysLength","_triggerEvents","partsAStart","startPoint","endPoint","rayWidth","rayAngle","rayLength","rayX","rayY","ray","outside","_frameTimeout","deltaSampleSize","counterTimestamp","frameCounter","timePrev","isFixed","deltaMin","deltaMax","tick","sampleLength","point1","segment1","segments","segmentsQueue","lastSegment","lastPoint","lx","ly","addPoint","px","py","pathSegType","isRelative","segment","segType","pathSegTypeAsLetter","toUpperCase","getTotalLength","pathSegList","numberOfItems","getItem","getPathSegAtLength","addSegmentPoint","getPointAtLength","il","y1","y2","segs","len","seg","replaceItem","createSVGPathSegLinetoVerticalAbs","createSVGPathSegCurvetoCubicAbs","createSVGPathSegCurvetoQuadraticAbs","createSVGPathSegCurvetoQuadraticSmoothAbs","createSVGPathSegArcAbs","r1","r2","largeArcFlag","sweepFlag","this","getImageSlice","row1","column1","serialize","imageSliceBank","slotSize","ctx","config","forEverySlot","slot","imageSlice","save","restore","$64473b4b09392167$var$html2canvas_1","$64473b4b09392167$var$__importDefault","allowTaint","WALL_THICKNESS","extendStatics","d1","b1","setPrototypeOf","__proto__","b","__extends","TypeError","String","__","assign","__awaiter","thisArg","_arguments","P","generator","adopt","Promise","reject","fulfilled","step","next","rejected","done","then","__generator","g","_","sent","verb","throw","return","iterator","op","ops","trys","f","__spreadArray","to","from","pack","ar","Bounds1","w","h","fromClientRect","clientRect","windowBounds","fromDOMRectList","domRectList","domRect","find","EMPTY","parseDocumentSize","scrollWidth","offsetWidth","scrollHeight","offsetHeight","str","fromCodePoint","codePoints","charCodeAt","extra","_i","chars","codePoint","codeUnits","lookup","chars$2","Uint8Array","i$2","lookup$2","chars$1$1","i$1$1","lookup$1$1","base64","encoded1","encoded2","encoded3","encoded4","bufferLength","polyUint16Array","ArrayBuffer","bytes","buffer","polyUint32Array","polyUint16Array$1","polyUint32Array$1","UTRIE2_INDEX_SHIFT","UTRIE2_SHIFT_1_2","UTRIE2_LSCP_INDEX_2_LENGTH","UTRIE2_INDEX_1_OFFSET$1","UTRIE2_OMITTED_BMP_INDEX_1_LENGTH$1","UTRIE2_INDEX_2_MASK$1","slice16$1","slice16","view","Trie","Uint32Array","_byteLength","decode$1","view32","view16","Uint16Array","headerLength","initialValue","errorValue","highStart","highValueIndex","ix","UTRIE2_SHIFT_2$1","UTRIE2_INDEX_SHIFT$1","UTRIE2_DATA_MASK$1","UTRIE2_INDEX_1_OFFSET","UTRIE2_LSCP_INDEX_2_OFFSET$1","UTRIE2_SHIFT_1$1","chars$3","lookup$3","ZWJ","i$3","LETTER_NUMBER_MODIFIER","BK","CR$1","LF$1","CM","NL","WJ","ZW","GL","SP","ZWJ$1","B2","BA","BB","HY","CB","CL","CP","EX","IN","NS","OP","QU","IS","NU","PO","PR","SY","AI","AL","CJ","EB","EM","H2","H3","BREAK_NOT_ALLOWED","BREAK_ALLOWED","UnicodeTrie","JV","JT","RI$1","SA","XX","ea_OP","CR","LF","BREAK_MANDATORY","SPACE","BREAK_ALLOWED$1","UnicodeTrie$1","createTrieFromBase64$1","ALPHABETICS","HL","HARD_LINE_BREAKS","SPACE$1","PREFIX_POSTFIX","LINE_BREAKS","KOREAN_SYLLABLE_BLOCK","JL","lineBreak","indices","forEach","classType","categories","types","prev","ID","a","currentIndex","classTypes","current","previousNonSpaceClassType","indicies","BREAK_NOT_ALLOWED$1","forbiddenBreaks","afterIndex","before","beforeIndex","isAdjacentWithSpaceIgnored","HYPHEN","prevIndex","cssFormattedClasses","wordBreak","_a","codePointsToCharacterClasses","isLetterNumber","letterNumber","Break1","toCodePoints","Break","required","toCodePoints$1","forbiddenBreakpoints","nextIndex","_lineBreakAtIndex","lastEnd","FLAG_UNRESTRICTED","FLAG_ID","FLAG_INTEGER","FLAG_NUMBER","LINE_FEED","SOLIDUS","REVERSE_SOLIDUS","CHARACTER_TABULATION","QUOTATION_MARK","EQUALS_SIGN","NUMBER_SIGN","DOLLAR_SIGN","PERCENTAGE_SIGN","APOSTROPHE","LEFT_PARENTHESIS","RIGHT_PARENTHESIS","LOW_LINE","HYPHEN_MINUS","EXCLAMATION_MARK","LESS_THAN_SIGN","GREATER_THAN_SIGN","COMMERCIAL_AT","LEFT_SQUARE_BRACKET","RIGHT_SQUARE_BRACKET","CIRCUMFLEX_ACCENT","LEFT_CURLY_BRACKET","QUESTION_MARK","RIGHT_CURLY_BRACKET","VERTICAL_LINE","TILDE","CONTROL","REPLACEMENT_CHARACTER","ASTERISK","PLUS_SIGN","COMMA","COLON","SEMICOLON","FULL_STOP","NULL","BACKSPACE","LINE_TABULATION","SHIFT_OUT","INFORMATION_SEPARATOR_ONE","DELETE","EOF","ZERO","a11","e11","f1","u","A","E","F","U","Z","isDigit","isSurrogateCodePoint","isHex","isLowerCaseLetter","isUpperCaseLetter","isLetter","isNonASCIICodePoint","isWhiteSpace","isNameStartCodePoint","isNonPrintableCodePoint","c1","c2","isIdentifierStart","c3","isValidEscape","stringToNumber","integers","int","fromCodePoint$1","fraction","fracd","frac","expsign","exponent","exp","LEFT_PARENTHESIS_TOKEN","RIGHT_PARENTHESIS_TOKEN","COMMA_TOKEN","SUFFIX_MATCH_TOKEN","PREFIX_MATCH_TOKEN","COLUMN_TOKEN","DASH_MATCH_TOKEN","INCLUDE_MATCH_TOKEN","LEFT_CURLY_BRACKET_TOKEN","RIGHT_CURLY_BRACKET_TOKEN","SUBSTRING_MATCH_TOKEN","BAD_URL_TOKEN","BAD_STRING_TOKEN","CDO_TOKEN","CDC_TOKEN","COLON_TOKEN","SEMICOLON_TOKEN","LEFT_SQUARE_BRACKET_TOKEN","RIGHT_SQUARE_BRACKET_TOKEN","WHITESPACE_TOKEN","Tokenizer","_value","write","chunk","read","tokens","consumeToken","EOF_TOKEN","token","consumeCodePoint","consumeStringToken","peekCodePoint","isNameCodePoint","flags","consumeName","isNumberStart","reconsumeCodePoint","consumeNumericToken","e1","e2","e3","consumeIdentLikeToken","a1","a2","a3","u1","u2","consumeUnicodeRangeToken","consumeWhiteSpace","digits","questionMarks","digit","endDigits","toLowerCase","consumeUrlToken","stringToken","consumeBadUrlRemnants","consumeEscapedCodePoint","consumeStringSlice","SLICE_STACK_SIZE","amount","endingCodePoint","consumeNumber","repr","unit","hex","hexCodePoint","Parser","_tokens","tokenizer","Tokenizer1","parseComponentValue","parseValues","parseComponentValues","SyntaxError","reconsumeToken","consumeComponentValue","consumeSimpleBlock","consumeFunction","block","isEndingTokenFor","functionToken","cssFunction","isDimensionToken","isNumberToken","isIdentToken","isStringToken","parseFunctionArgs","arg","isLength","isLengthPercentage","parseLengthPercentageTuple","ZERO_LENGTH","HUNDRED_PERCENT","tuple","getAbsoluteValue","parse","_context","DEG","GRAD","RAD","TURN","ident","deg1","deg","colorFunction","SUPPORTED_COLOR_FUNCTIONS","substring","pack1","namedColor","COLORS","TRANSPARENT","isTransparent","color","alpha","blue","green","red","rgb","nonFunctionArgSeparator","getTokenColorValue","hue2rgb","t1","t2","hue","hsl","saturation","lightness","angle1","hsla","rgba","parseColor","color$1","Parser1","ALICEBLUE","ANTIQUEWHITE","AQUA","AQUAMARINE","AZURE","BEIGE","BISQUE","BLACK","BLANCHEDALMOND","BLUE","BLUEVIOLET","BROWN","BURLYWOOD","CADETBLUE","CHARTREUSE","CHOCOLATE","CORAL","CORNFLOWERBLUE","CORNSILK","CRIMSON","CYAN","DARKBLUE","DARKCYAN","DARKGOLDENROD","DARKGRAY","DARKGREEN","DARKGREY","DARKKHAKI","DARKMAGENTA","DARKOLIVEGREEN","DARKORANGE","DARKORCHID","DARKRED","DARKSALMON","DARKSEAGREEN","DARKSLATEBLUE","DARKSLATEGRAY","DARKSLATEGREY","DARKTURQUOISE","DARKVIOLET","DEEPPINK","DEEPSKYBLUE","DIMGRAY","DIMGREY","DODGERBLUE","FIREBRICK","FLORALWHITE","FORESTGREEN","FUCHSIA","GAINSBORO","GHOSTWHITE","GOLD","GOLDENROD","GRAY","GREEN","GREENYELLOW","GREY","HONEYDEW","HOTPINK","INDIANRED","INDIGO","IVORY","KHAKI","LAVENDER","LAVENDERBLUSH","LAWNGREEN","LEMONCHIFFON","LIGHTBLUE","LIGHTCORAL","LIGHTCYAN","LIGHTGOLDENRODYELLOW","LIGHTGRAY","LIGHTGREEN","LIGHTGREY","LIGHTPINK","LIGHTSALMON","LIGHTSEAGREEN","LIGHTSKYBLUE","LIGHTSLATEGRAY","LIGHTSLATEGREY","LIGHTSTEELBLUE","LIGHTYELLOW","LIME","LIMEGREEN","LINEN","MAGENTA","MAROON","MEDIUMAQUAMARINE","MEDIUMBLUE","MEDIUMORCHID","MEDIUMPURPLE","MEDIUMSEAGREEN","MEDIUMSLATEBLUE","MEDIUMSPRINGGREEN","MEDIUMTURQUOISE","MEDIUMVIOLETRED","MIDNIGHTBLUE","MINTCREAM","MISTYROSE","MOCCASIN","NAVAJOWHITE","NAVY","OLDLACE","OLIVE","OLIVEDRAB","ORANGE","ORANGERED","ORCHID","PALEGOLDENROD","PALEGREEN","PALETURQUOISE","PALEVIOLETRED","PAPAYAWHIP","PEACHPUFF","PERU","PINK","PLUM","POWDERBLUE","PURPLE","REBECCAPURPLE","RED","ROSYBROWN","ROYALBLUE","SADDLEBROWN","SALMON","SANDYBROWN","SEAGREEN","SEASHELL","SIENNA","SILVER","SKYBLUE","SLATEBLUE","SLATEGRAY","SLATEGREY","SNOW","SPRINGGREEN","STEELBLUE","TAN","TEAL","THISTLE","TOMATO","TURQUOISE","prefix","format","parseColorStop","stops","lineLength","last","first","processStops","previous","i2","stop_1","absoluteValue","gapBegin","stop_2","gapLength","gapValue","getAngleFromCorner","corner","centerX","centerY","radian","halfWidth","halfHeight","halfLineLength","yDiff","xDiff","closest","reduce","stat","cx","cy","optimumDistance","optimumCorner","shape","rx","ry","findCorner","firstToken","angle$1","parseNamedSide","isAngle","colorStop","CLOSEST_SIDE","isColorStop","acc","FIFTY_PERCENT","CIRCLE","ELLIPSE","CONTAIN","FARTHEST_SIDE","CLOSEST_CORNER","COVER","FARTHEST_CORNER","image_1","url","addImage","imageFunction","SUPPORTED_IMAGE_FUNCTIONS","isSupportedImage","BACKGROUND_SIZE","prefixLinearGradient","isAtPosition_1","prefixRadialGradient","colorType","backgroundPosition","backgroundRepeat","parseBackgroundRepeat","BACKGROUND_SIZE1","isBackgroundSizeInfoToken","borderColorForSide","side","borderRightColor","borderBottomColor","borderLeftColor","borderRadiusForSide","borderStyleForSide","borderBottomStyle","borderLeftStyle","borderWidthForSide","borderTopWidth1","borderRightWidth1","borderBottomWidth1","borderLeftWidth1","bit","parseDisplayValue","display","float","letterSpacing1","LINE_BREAK1","STRICT","NORMAL","lineHeight","fontSize","listStyleImage","image1","marginForSide","overflow","paddingForSide","isIdentWithValue","offsetX","offsetY","blur","shadow","transform","textTransform","transformFunction","SUPPORTED_TRANSFORM_FUNCTIONS","matrix","matrix3d","b2","a4","b4","DEFAULT_VALUE1","transformOrigin","origins","DEFAULT","visibility","WORD_BREAK1","BREAK_ALL","KEEP_ALL","auto","order","opacity1","line","accumulator","results","fontVariant1","content","increments","filtered","nonWhiteSpace","counter","increment","resets","reset","duration1","quotes","open_1","close_1","open","close","quote","inset","spread","layers","DEFAULT_VALUE","CSSParsedDeclaration","declaration","animationDuration","backgroundClip","backgroundClip1","backgroundColor","backgroundColor1","backgroundImage","backgroundImage1","backgroundOrigin","backgroundOrigin1","borderTopColor","borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius","borderTopStyle","borderRightStyle","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","boxShadow","color1","direction1","display1","float1","cssFloat","fontFamily","fontFamily1","fontSize1","fontStyle","fontVariant","fontWeight","letterSpacing","lineBreak1","listStylePosition","listStyleType","marginTop","marginRight","marginBottom","marginLeft","overflowTuple","overflow1","overflowX","overflowY","overflowWrap","paddingTop","paddingTop1","paddingRight","paddingRight1","paddingBottom","paddingBottom1","paddingLeft","paddingLeft1","paintOrder","paintOrder1","position1","textAlign1","textDecorationColor","textDecorationLine","textDecorationLine1","textDecoration","textShadow","textShadow1","textTransform1","transform$1","visibility1","webkitTextStrokeColor","webkitTextStrokeWidth","wordBreak1","isVisible","isTransformed","isPositioned","isPositionedWithZIndex","isFloating","isInlineLevel","CSSParsedPseudoDeclaration1","CSSParsedPseudoDeclaration","quotes1","CSSParsedCounterDeclaration1","CSSParsedCounterDeclaration","counterIncrement","counterIncrement1","counterReset","counterReset1","descriptor","parser","length_1","value_1","elementDebuggerAttribute","getElementDebugType","elementType","ElementContainer","textNodes","elements","isDebugging","base641","chars$1","i$1","lookup$1","UTRIE2_OMITTED_BMP_INDEX_1_LENGTH","UTRIE2_SHIFT_1","UTRIE2_INDEX_2_MASK","decode","UTRIE2_SHIFT_2","UTRIE2_DATA_MASK","UTRIE2_LSCP_INDEX_2_OFFSET","PseudoElementType1","PseudoElementType","Prepend","Control","Extend","SpacingMark","fromCharCode","codePointToClass","_graphemeBreakAtIndex","_codePoints","L","LV","V","T","Extended_Pictographic","RI","countRI","graphemeBreak","GraphemeBreaker","bk","breaker","graphemes","createRange","testElement","TEST_HEIGHT","selectNode","rangeBounds","rangeHeight","removeChild","wordSpacing","innerHTML","repeat","firstChild","textList","every","text","setStart","setEnd","boundAhead","crossOrigin","XMLHttpRequest","responseType","testSVG","img","toDataURL","isGreenPixel","testForeignObject","loadSerializedSVG","img1","greenImageSrc","svg","createForeignObjectSVG","loadSerializedSVG$1","getImageData","catch","xmlns","createElementNS","foreignObject","setAttributeNS","onload","onerror","encodeURIComponent","XMLSerializer","serializeToString","SUPPORT_RANGE_BOUNDS","value8","testRangeBounds","FEATURES","SUPPORT_WORD_BREAKING","value1","testIOSLineBreak","SUPPORT_SVG_DRAWING","value2","SUPPORT_FOREIGNOBJECT_DRAWING","value3","fetch","SUPPORT_CORS_IMAGES","value4","testCORS","SUPPORT_RESPONSE_TYPE","value5","testResponseType","SUPPORT_CORS_XHR","value6","SUPPORT_NATIVE_TEXT_SEGMENTATION","value7","Intl","Segmenter","styles","trim","clientRects","getClientRects","subSegments","segmentGraphemes","subOffset_1","subSegment","textBounds","TextBounds1","replacementNode","splitText","getWrapperBounds","ownerDocument","wrapper","cloneNode","replaceChild","parseBounds","segmenter","granularity","splitGraphemes","segmentWords","breakWords","breakText","word_1","wordSeparators","words","_loop_1","TextContainer","transform1","parseTextBounds","CAPITALIZE","capitalize","p1","p2","ImageElementContainer1","_super","ImageElementContainer","_this","currentSrc","intrinsicWidth","naturalWidth","CanvasElementContainer1","CanvasElementContainer","intrinsicHeight","SVGElementContainer","baseVal","LIElementContainer","OLElementContainer","reversed","RADIO_BORDER_RADIUS","reformatInputBounds","PASSWORD","placeholder","InputElementContainer1","InputElementContainer","input","checked","getInputValue","CHECKBOX","RADIO","CHECKBOX_BORDER_RADIUS","option","selectedIndex","SelectElementContainer","TextareaElementContainer","IFrameElementContainer","iframe","contentWindow","tree","parseTree","documentBackgroundColor","getComputedStyle","bodyBackgroundColor","root","nextNode","childNode1","nextSibling","TextContainer1","assignedNodes","childNode","parseNodeTree","container","createContainer","createsRealStackingContext","createsStackingContext1","LIST_OWNERS","tagName","shadowRoot","isTextareaElement","isSVGElement","isSelectElement","isImageElement","isCanvasElement","SVGElementContainer1","isLIElement","LIElementContainer1","isOLElement","OLElementContainer1","isInputElement","SelectElementContainer1","TextareaElementContainer1","isIFrameElement","IFrameElementContainer1","ElementContainer1","isBodyElement","isTextNode","Node","TEXT_NODE","isElementNode","ELEMENT_NODE","isHTMLElementNode","isSVGElementNode","className","isHTMLElement","isVideoElement","isStyleElement","isScriptElement","CounterState1","CounterState","counters","getCounterValue","getCounterValues","canReset","entry","counterNames","ROMAN_UPPER","ARMENIAN","HEBREW","GEORGIAN","symbols","fallback","suffix","createCounterText","string","integer","codePointRangeLength","isNumeric","resolver","createCounterStyleFromRange","codePointRangeStart","codePointRangeEnd","createCounterStyleWithSymbolResolver","createCounterStyleFromSymbols","CJK_HUNDRED_COEFFICIENTS","createCJKCounter","numbers","multipliers","negativeSign","tmp","coefficient","CJK_ZEROS","CJK_TEN_COEFFICIENTS","CJK_TEN_HIGH_COEFFICIENTS","appendSuffix","cjkSuffix","spaceSuffix","defaultSuffix","createAdditiveCounter","CHINESE_INFORMAL_MULTIPLIERS","CHINESE_FORMAL_MULTIPLIERS","JAPANESE_NEGATIVE","KOREAN_NEGATIVE","koreanSuffix","DocumentCloner","scrolledElements","referenceElement","defaultView","iframeLoader","restoreNodeScroll","cloneWindow","scrollTo","windowSize","navigator","userAgent","logger","onclone","documentClone","fonts","ready","imagesReady","serializeDoctype","doctype","adoptNode","iframeLoad","createElementClone","createCanvasClone","createVideoClone","createStyleClone","srcset","loading","createCustomElementClone","sheet","cssRules","css1","css","rule","cssText","textContent","error","inlineImages","clonedCtx","clonedCanvas","putImageData","gl","attribs","getContextAttributes","preserveDrawingBuffer","video","blankCanvas","appendChildNode","child","copyStyles","hasAttribute","IGNORE_ATTRIBUTE","ignoreElements","cloneChildNodes","isSlotElement","assignedNode","createTextNode","transitionProperty","styleBefore","styleAfter","clonedReferenceElement","createPseudoHideStyles","resolvePseudoContent","BEFORE","isCustomElement","insertBefore","after","AFTER","copyCSSStyles","pseudoElt","value9","anonymousReplacedElement","attr","counterStyle","counterState","counterType","delim","counterStates","counterType_1","separator","getQuote","quoteDepth","PSEUDO_HIDE_ELEMENT_CLASS_BEFORE","PSEUDO_HIDE_ELEMENT_CLASS_AFTER","newClassName","baseValue","destroy","CORNER1","CORNER","createIFrameContainer","cloneIframeContainer","border","scrolling","imageReady","complete","all","images","interval","setInterval","childNodes","readyState","ignoredStyleProperties","target","setProperty","getPropertyValue","internalSubset","publicId","systemId","restoreOwnerScroll","PSEUDO_HIDE_ELEMENT_STYLE","PSEUDO_BEFORE","PSEUDO_AFTER","CacheStorage","getOrigin","link","_link","href","protocol","hostname","port","isSameOrigin","setContext","_origin","location","Cache","_options","has","_cache","useCORS","useProxy","CacheStorage1","isInlineImage","isBlobImage","proxy","debug","isInlineBase64Image","imageTimeout","xhr","response","reader_1","FileReader","readAsDataURL","queryString","timeout_1","timeout","ontimeout","send","INLINE_SVG","INLINE_BASE64","INLINE_IMG","isRenderable","isSVG","substr","Vector1","BezierCurve","startControl","endControl","subdivide","firstHalf","ab","lerp","bc","cd","abbc","bccd","dest","reverse","BoundCurves","getAbsoluteValueForTuple","tlh","tlv","trh","trv","_c","brh","brv","_d","blh","blv","factors","maxFactor","topWidth","rightHeight","bottomWidth","leftHeight","topLeftBorderDoubleOuterBox","getCurvePoints","TOP_LEFT","topRightBorderDoubleOuterBox","TOP_RIGHT","bottomRightBorderDoubleOuterBox","BOTTOM_RIGHT","bottomLeftBorderDoubleOuterBox","BOTTOM_LEFT","topLeftBorderDoubleInnerBox","topRightBorderDoubleInnerBox","bottomRightBorderDoubleInnerBox","bottomLeftBorderDoubleInnerBox","topLeftBorderStroke","topRightBorderStroke","bottomRightBorderStroke","bottomLeftBorderStroke","topLeftBorderBox","topRightBorderBox","bottomRightBorderBox","bottomLeftBorderBox","topLeftPaddingBox","topRightPaddingBox","bottomRightPaddingBox","bottomLeftPaddingBox","topLeftContentBox","topRightContentBox","bottomRightContentBox","bottomLeftContentBox","kappa","oy","xm","ym","BezierCurve1","ox","curves","TransformEffect","ClipEffect","OpacityEffect1","OpacityEffect","isTransformEffect","effect","isClipEffect","some","deltaW","deltaH","StackingContext1","StackingContext","inlineLevel","nonInlineLevel","negativeZIndex","zeroOrAutoZIndexOrTransformedOrOpacity","positiveZIndex","nonPositionedFloats","nonPositionedInlineLevel","ElementPaint","BoundCurves1","effects","TransformEffect1","borderBox","calculateBorderBoxPath","paddingBox","calculatePaddingBoxPath","equalPath","ClipEffect1","getEffects","inFlow","croplessEffects","stackingContext","realStackingContext","listItems","ElementPaint1","paintContainer","createsStackingContext","treatAsRealStackingContext","order_1","index_1","parentStack","index_2","parseStackTree","listOwnerItems","processListItems","owner","numbering","listValue","parsePathForBorder","borderSide","createPathFromCurves","parsePathForBorderDoubleOuter","parsePathForBorderDoubleInner","parsePathForBorderStroke","createStrokePathFromCurves","outer1","outer2","inner1","inner2","isBezierCurve","paddingBox1","contentBox","calculateBackgroundPositioningArea","calculateBackgroundPaintingArea","intrinsicSize","backgroundPositioningArea","getBackgroundValueForIndex","backgroundPaintingArea","backgroundImageSize","calculateBackgroundSize","sizeWidth","sizeHeight","calculateBackgroundRepeatPath","isAuto","AUTO","intrinsicProportion","second","hasIntrinsicValue","hasIntrinsicWidth","hasIntrinsicHeight","hasIntrinsicProportion","hasIntrinsicDimensions","width_3","height_3","FontMetrics","_data","_document","parseMetrics","span","margin","whiteSpace","SMALL_IMAGE","verticalAlign","SAMPLE_TEXT","baseline","offsetTop","middle","getMetrics","Renderer","CanvasRenderer","_activeEffects","fontMetrics","FontMetrics1","applyEffects","popEffect","applyEffect","isOpacityEffect","renderStack","renderStackContent","renderNode","paint","renderNodeContent","renderTextWithLetterSpacing","letter","measureText","createFontStyle","variant","fixIOSSystemFonts","renderTextNode","text1","paintOrderLayer","asString","textShadows","shadowColor","shadowOffsetX","shadowOffsetY","lineJoin","box","renderReplacedElement","INPUT_COLOR","canvasTextAlign","clip","computeLineHeight","_p","renderNodeBackgroundAndBorders","_e","_f","_g","_h","_j","_k","_l","_m","_o","paths","formatPath","bezierCurveTo","renderRepeat","renderBackgroundImage","backgroundImage2","calculateBackgroundRendering","this_1","createPattern","resizeImage","calculateGradientDirection","x0","y0","createLinearGradient","gradient_1","addColorStop","isRadialGradient","top_1","createRadialGradient","radialGradient_1","renderDoubleBorder","curvePoints","innerPaths","renderSolidBorder","outerPaths","borders","borders_1","calculateBackgroundCurvedPaintingArea","hasBackground","borderBoxArea","maskOffset","MASK_OFFSET","shadowPaintingArea","transformPath","shadowBlur","renderDashedDottedBorder","boxPaths","startX","startY","endX","endY","dashLength","spaceLength","useLineDash","multiplier","numberOfDashes","minSpace","maxSpace","path1","path2","strokePaths","lineCap","calculateContentBoxPath","fontFamilies","iOSBrokenFonts","ForeignObjectRenderer","Logger","getTime","instances","Context1","Context","instanceName","instanceCount","Logger1","logging","html2canvas","opts","resourceOptions","contextOptions","windowOptions","foreignObjectRendering","cloneOptions","documentCloner","clonedElement","renderOptions","_q","_r","_s","_t","_u","__assign","windowWidth","windowHeight","DocumentCloner1","toIFrame","parseBackgroundColor","ForeignObjectRenderer1","CanvasRenderer1","removeContainer","$01a0d922e623affe$export$df452a08cd31b578","menuBtnRef","querySelector","mobilMenuRef","expanded","classList","toggle","$gjiCh","$a4215d9bec027569$export$2e2bcd8739ae039","base_url","moviesStartPath","page","addLoader","movies","$a4215d9bec027569$require$axios","removeLoader","moviesSearchPath","searchQuery","searchedMovies","fullInfoPath","fullMovieInfo","discover","sortBy","movieByPop","sortGenre","movieByGenre","resetPage","query","newQuery","genresPath","$dSs1Y","$bdfcdc80b4c38739$export$4d81fd392b0a6f3e","Loading","standard","svgColor","$bdfcdc80b4c38739$export$5303cf8b8f096deb","newLoadingSettings","typesLoading","loadingSettings","zindex","rtl","cssAnimation","cssAnimationDuration","clickToClose","customSvgUrl","customSvgCode","svgSize","messageID","messageFontSize","messageMaxLength","messageColor","commonConsoleError","commonCheckHeadOrBody","commonExtendOptions","extended","commonGetPlaintext","html","htmlPool","innerText","loadingGetInternalCSSCodes","loadingCreate","loadingType","messageOrOptions","delay","Notiflix","init","newLoadingSettingsBackup","newOptions","messageHTML","svgIcon","loadingAndBlockSvgIconHourglass","loadingAndBlockSvgIconCircle","loadingAndBlockSvgIconArrows","loadingAndBlockSvgIconDots","loadingAndBlockSvgIconPulse","white","loadingAndBlockSvgIconNotiflix","svgSizeAsDigit","winWidth","maxSvgWidthPx","svgIconHTML","ntflxLoadingWrap","flexWrap","flexDirection","alignItems","justifyContent","clearTimeout","loadingElm","timeout1","timeout2","userLoadingOptions","getInternalCSSCodes","styleElementId","internalCSS","head","commonSetInternalCSSCodes","userLoadingExtendOptions","hourglass","arrows","dots","pulse","custom","notiflix","change","newMessage","messageWrap","oldMessageElm","getElementsByTagName","newMessageHTML","loadingChangeMessage","define","amd","$8a2573892eafc323$var$axios","$8a2573892eafc323$var$createInstance","defaultConfig","$6zSb1","instance","$djt5d","request","$2bBga","instanceConfig","$d0EKm","Axios","CanceledError","CancelToken","isCancel","VERSION","toFormData","AxiosError","Cancel","promises","isAxiosError","$197982d8c7a73e5f$var$toString","$197982d8c7a73e5f$var$kindOf","thing","$197982d8c7a73e5f$var$kindOfTest","$197982d8c7a73e5f$var$isArray","$197982d8c7a73e5f$var$isUndefined","$197982d8c7a73e5f$var$isArrayBuffer","$197982d8c7a73e5f$var$isObject","$197982d8c7a73e5f$var$isPlainObject","getPrototypeOf","$197982d8c7a73e5f$var$isDate","$197982d8c7a73e5f$var$isFile","$197982d8c7a73e5f$var$isBlob","$197982d8c7a73e5f$var$isFileList","$197982d8c7a73e5f$var$isFunction","$197982d8c7a73e5f$var$isURLSearchParams","$197982d8c7a73e5f$var$forEach","fn","TypedArray","$197982d8c7a73e5f$var$isTypedArray","isArrayBuffer","isBuffer","isFormData","FormData","isArrayBufferView","isView","isNumber","isObject","isUndefined","isDate","isFile","isBlob","isStream","pipe","isURLSearchParams","isStandardBrowserEnv","product","$197982d8c7a73e5f$var$merge","assignValue","stripBOM","inherits","superConstructor","props","descriptors","toFlatObject","sourceObj","destObj","merged","getOwnPropertyNames","kindOf","kindOfTest","endsWith","searchString","lastIndex","toArray","arr","isTypedArray","isFileList","$4ca0095817960ee3$var$validators","$6zj0X","validators","$4ca0095817960ee3$var$Axios","interceptors","$5Dm7L","configOrUrl","method","transitional","assertOptions","silentJSONParsing","boolean","forcedJSONParsing","clarifyTimeoutError","requestInterceptorChain","synchronousRequestInterceptors","interceptor","runWhen","synchronous","promise","responseInterceptorChain","$eQ5d8","newConfig","onFulfilled","onRejected","getUri","fullPath","$1ZTQa","baseURL","$2RNjJ","params","paramsSerializer","generateHTTPMethod","isForm","headers","$2166c96446d6ea30$var$encode","serializedParams","toISOString","JSON","stringify","hashmarkIndex","$41a1c1ac65ef962e$var$InterceptorManager","handlers","eject","$acd9f6ce0996c2c9$var$throwIfCancellationRequested","cancelToken","throwIfRequested","signal","aborted","$83xK9","$bhEpd","transformRequest","common","adapter","$hqlPG","transformResponse","reason","$ksuZT","fns","$caf5cce0e605762b$var$DEFAULT_CONTENT_TYPE","$caf5cce0e605762b$var$setContentTypeIfUnset","$caf5cce0e605762b$var$defaults","$2wfLM","$4TNnu","$i16eu","isObjectPayload","contentType","_FormData","env","$aewVa","rawValue","encoder","$caf5cce0e605762b$var$stringifySafely","strictJSONParsing","$121rJ","ERR_BAD_RESPONSE","xsrfCookieName","xsrfHeaderName","maxContentLength","maxBodyLength","validateStatus","Accept","$391299e0893a3dfa$var$cachedSetTimeout","$391299e0893a3dfa$var$cachedClearTimeout","$391299e0893a3dfa$var$process","$391299e0893a3dfa$var$defaultSetTimout","$391299e0893a3dfa$var$defaultClearTimeout","$391299e0893a3dfa$var$runTimeout","fun","$391299e0893a3dfa$var$currentQueue","$391299e0893a3dfa$var$queue","$391299e0893a3dfa$var$draining","$391299e0893a3dfa$var$queueIndex","$391299e0893a3dfa$var$cleanUpNextTick","$391299e0893a3dfa$var$drainQueue","marker","$391299e0893a3dfa$var$runClearTimeout","$391299e0893a3dfa$var$Item","$391299e0893a3dfa$var$noop","nextTick","title","browser","argv","versions","addListener","once","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","normalizedName","$0c07198b07c857d4$var$AxiosError","code","toJSON","description","fileName","lineNumber","columnNumber","$0c07198b07c857d4$var$prototype","$0c07198b07c857d4$var$descriptors","defineProperties","customProps","axiosError","formData","convertValue","Blob","$7734bfa34e03fc2a$require$Buffer","build","parentKey","fullKey","el","append","$d4ecdbf520e63dca$export$a143d493d941bafc","$d4ecdbf520e63dca$export$f99ded8fe4b79145","$d4ecdbf520e63dca$var$customInspectSymbol","$d4ecdbf520e63dca$var$Buffer","$d4ecdbf520e63dca$var$K_MAX_LENGTH","$d4ecdbf520e63dca$var$createBuffer","RangeError","buf","encodingOrOffset","$d4ecdbf520e63dca$var$allocUnsafe","$d4ecdbf520e63dca$var$from","encoding","isEncoding","$d4ecdbf520e63dca$var$byteLength","actual","$d4ecdbf520e63dca$var$fromString","arrayView","$d4ecdbf520e63dca$var$isInstance","copy","$d4ecdbf520e63dca$var$fromArrayBuffer","byteOffset","byteLength","$d4ecdbf520e63dca$var$fromArrayLike","$d4ecdbf520e63dca$var$fromArrayView","SharedArrayBuffer","valueOf","$d4ecdbf520e63dca$var$checked","$d4ecdbf520e63dca$var$numberIsNaN","$d4ecdbf520e63dca$var$fromObject","toPrimitive","$d4ecdbf520e63dca$var$assertSize","mustMatch","loweredCase","$d4ecdbf520e63dca$var$utf8ToBytes","$d4ecdbf520e63dca$var$base64ToBytes","$d4ecdbf520e63dca$var$slowToString","$d4ecdbf520e63dca$var$hexSlice","$d4ecdbf520e63dca$var$utf8Slice","$d4ecdbf520e63dca$var$asciiSlice","$d4ecdbf520e63dca$var$latin1Slice","$d4ecdbf520e63dca$var$base64Slice","$d4ecdbf520e63dca$var$utf16leSlice","$d4ecdbf520e63dca$var$swap","$d4ecdbf520e63dca$var$bidirectionalIndexOf","$d4ecdbf520e63dca$var$arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","readUInt16BE","foundIndex","found","$d4ecdbf520e63dca$var$hexWrite","remaining","strLen","$d4ecdbf520e63dca$var$utf8Write","$d4ecdbf520e63dca$var$blitBuffer","$d4ecdbf520e63dca$var$asciiWrite","byteArray","$d4ecdbf520e63dca$var$asciiToBytes","$d4ecdbf520e63dca$var$base64Write","$d4ecdbf520e63dca$var$ucs2Write","units","hi","lo","$d4ecdbf520e63dca$var$utf16leToBytes","$hqZtu","fromByteArray","res","firstByte","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","$d4ecdbf520e63dca$var$MAX_ARGUMENTS_LENGTH","$d4ecdbf520e63dca$var$decodeCodePointsArray","TYPED_ARRAY_SUPPORT","proto","foo","$d4ecdbf520e63dca$var$typedArraySupport","poolSize","alloc","$d4ecdbf520e63dca$var$alloc","allocUnsafe","allocUnsafeSlow","_isBuffer","compare","pos","swap16","swap32","swap64","toLocaleString","equals","inspect","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","_arr","ret","out","$d4ecdbf520e63dca$var$hexSliceLookupTable","$d4ecdbf520e63dca$var$checkOffset","ext","$d4ecdbf520e63dca$var$checkInt","$d4ecdbf520e63dca$var$wrtBigUInt64LE","$d4ecdbf520e63dca$var$checkIntBI","BigInt","$d4ecdbf520e63dca$var$wrtBigUInt64BE","$d4ecdbf520e63dca$var$checkIEEE754","$d4ecdbf520e63dca$var$writeFloat","littleEndian","noAssert","$5WQj6","$d4ecdbf520e63dca$var$writeDouble","newBuf","subarray","readUintLE","readUIntLE","byteLength1","mul","readUintBE","readUIntBE","byteLength2","readUint8","readUInt8","readUint16LE","readUInt16LE","readUint16BE","readUint32LE","readUInt32LE","readUint32BE","readUInt32BE","readBigUInt64LE","$d4ecdbf520e63dca$var$defineBigIntMethod","$d4ecdbf520e63dca$var$validateNumber","$d4ecdbf520e63dca$var$boundsError","readBigUInt64BE","readIntLE","byteLength3","readIntBE","byteLength4","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readBigInt64LE","readBigInt64BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUintLE","writeUIntLE","byteLength5","writeUintBE","writeUIntBE","byteLength6","writeUint8","writeUInt8","writeUint16LE","writeUInt16LE","writeUint16BE","writeUInt16BE","writeUint32LE","writeUInt32LE","writeUint32BE","writeUInt32BE","writeBigUInt64LE","writeBigUInt64BE","writeIntLE","byteLength7","limit","writeIntBE","byteLength8","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeBigInt64LE","writeBigInt64BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","copyWithin","$d4ecdbf520e63dca$var$errors","$d4ecdbf520e63dca$var$E","sym","getMessage","Base","configurable","writable","super","$d4ecdbf520e63dca$var$addNumericalSeparator","byteLength10","ERR_OUT_OF_RANGE","byteLength9","$d4ecdbf520e63dca$var$checkBounds","ERR_INVALID_ARG_TYPE","ERR_BUFFER_OUT_OF_BOUNDS","msg","received","isInteger","$d4ecdbf520e63dca$var$INVALID_BASE64_RE","leadSurrogate","toByteArray","$d4ecdbf520e63dca$var$base64clean","dst","alphabet","i16","$d4ecdbf520e63dca$var$BufferBigIntNotDefined","$034686670a8a195b$export$d622b2ad8d90c771","$034686670a8a195b$export$6100ba28696e12de","b64","lens","$034686670a8a195b$var$getLens","validLen","placeHoldersLen","$034686670a8a195b$var$Arr","$034686670a8a195b$var$_byteLength","curByte","len2","$034686670a8a195b$var$revLookup","uint8","len3","extraBytes","maxChunkLength","i3","$034686670a8a195b$var$encodeChunk","$034686670a8a195b$var$lookup","$034686670a8a195b$var$code","$034686670a8a195b$var$i","$034686670a8a195b$var$len","len1","num","$454af19f7384844b$export$aafa59e2e03f2942","$454af19f7384844b$export$68d8715fc104d294","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","rt","isNaN","LN2","onCanceled","requestData","requestHeaders","unsubscribe","removeEventListener","auth","username","password","unescape","Authorization","btoa","onloadend","responseHeaders","$9cPEm","getAllResponseHeaders","responseText","statusText","$1TQad","err","onreadystatechange","responseURL","onabort","ECONNABORTED","ERR_NETWORK","timeoutErrorMessage","ETIMEDOUT","xsrfValue","withCredentials","$g3yOT","$kTwUV","setRequestHeader","onDownloadProgress","onUploadProgress","upload","cancel","abort","subscribe","$8wMQb","ERR_BAD_REQUEST","expires","domain","secure","cookie","toGMTString","RegExp","decodeURIComponent","requestedURL","$iUwU6","$91vFE","relativeURL","$6b3d4ca234f68ddb$var$ignoreDuplicateOf","originURL","msie","urlParsingNode","resolveURL","host","search","hash","pathname","requestURL","$5dd8c74561f08d70$var$CanceledError","ERR_CANCELED","__CANCEL__","config1","config2","getMergedValue","mergeDeepProperties","valueFromConfig2","defaultToConfig2","mergeDirectKeys","mergeMap","timeoutMessage","decompress","beforeRedirect","transport","httpAgent","httpsAgent","socketPath","responseEncoding","configValue","$4c84c2d525dc977b$var$validators","$4c84c2d525dc977b$var$deprecatedWarnings","validator","formatMessage","opt","desc","$4c84c2d525dc977b$require$VERSION","ERR_DEPRECATED","schema","allowUnknown","ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","$1c9d2783569136b3$var$CancelToken","executor","resolvePromise","_listeners","onfulfilled","_resolve","listener","payload","$7wRzo","$1dd9653ffac7bfeb$export$c9559b622b3d6142","$1dd9653ffac7bfeb$export$c56a348ae6870e29","movie","moviePoster","poster_path","movieTitle","movieReleaseDate","release_date","movieGenres","ids","genres","genresArray","genre","$1dd9653ffac7bfeb$var$getGenres","genre_ids","movieMarkup","insertAdjacentHTML","$1dd9653ffac7bfeb$export$8c1b58d5eff8e8c1","$57b5136e8712daff$export$1b16090b9a50a74","$38bc8b2c82e947f6$var$Theme","$38bc8b2c82e947f6$var$bodyTheme","$38bc8b2c82e947f6$var$footerTheme","$38bc8b2c82e947f6$var$themeSwitcher","localStorage","setItem","$688836e605b6a3cd$var$bodyElFooter","$688836e605b6a3cd$var$modalFooter","$688836e605b6a3cd$var$buttonFooter","$688836e605b6a3cd$var$closeModalButton","$688836e605b6a3cd$var$onPressEsc","$688836e605b6a3cd$var$closeModalFooter","$688836e605b6a3cd$var$modalFooterClick","keyCode","$f1c1e0945c28a5e5$var$modalWindowEl","$f1c1e0945c28a5e5$export$2e2bcd8739ae039","makeFilmModalMarkup","original_title","name1","vote_average","vote_count","overview","popularity","filmGenres","modalWindow","filmInfo","$f1c1e0945c28a5e5$export$e4c057bff3fcea28","$f1c1e0945c28a5e5$export$5268812ce4f0457","$f1c1e0945c28a5e5$export$1dcae825a987e74e","$f1c1e0945c28a5e5$var$closeModal","$f1c1e0945c28a5e5$export$65b3a6fecc735771","$e5F2q","$2ySY5","moviesGallery","evt","$kKRQW","clearModal","isOpenModal","onEscClose","onClickClose","$a12f9f451cac8635$var$getFullInfo","getFullMovieInfo","films","$a12f9f451cac8635$var$modalMarkup","watchedBtn","queueBtn","$a12f9f451cac8635$var$header","$a12f9f451cac8635$var$watchedIdList","$a12f9f451cac8635$export$49a7eaf505d966ae","$a12f9f451cac8635$var$queueIdList","$a12f9f451cac8635$export$90342974b38de9f","$a12f9f451cac8635$var$keyW","$a12f9f451cac8635$var$keyQ","watchedMovie","$31u3U","loadLocalStorage","film","saveLocalStorage","queueMovie","$2338c8cd734f85a6$export$f3928fa528b0a11c","$2338c8cd734f85a6$export$d3dfa491819f2d3c","$eWCmQ","$ix4Jr","initializeApp","$9cWZU","firebaseConfig","$bcf271695020ebcc$var$auth","$kbFea","$bcf271695020ebcc$var$singUpEL","$bcf271695020ebcc$var$singOutEL","$bcf271695020ebcc$var$singInEL","$bcf271695020ebcc$var$singUpModalBtnClose","$bcf271695020ebcc$var$singInModalBtnClose","$bcf271695020ebcc$var$backdropSingUpEl","$bcf271695020ebcc$var$backdropSingInEl","$bcf271695020ebcc$var$singUpEmailInput","$bcf271695020ebcc$var$singUpPasswordInput","$bcf271695020ebcc$var$singInEmailInput","$bcf271695020ebcc$var$singInPasswordInput","$bcf271695020ebcc$var$onSubmitSingUpButtonClick","email","a5","userCredential","user","$parcel$interopDefault","Notify","$bcf271695020ebcc$var$onSubmitSingInButtonClick","a6","success","uid","n1","o1","s1","l1","m1","wrapID","overlayID","borderRadius","backOverlay","backOverlayColor","plainText","showOnlyTheLastOne","pauseOnHover","cssAnimationStyle","closeButton","useIcon","useFontAwesome","fontAwesomeIconStyle","fontAwesomeIconSize","textColor","childClassName","notiflixIconColor","fontAwesomeClassName","fontAwesomeIconColor","failure","backOverlayClickToClose","titleFontSize","titleMaxLength","buttonFontSize","buttonMaxLength","titleColor","buttonBackground","buttonColor","buttonsFontSize","buttonsMaxLength","okButtonColor","okButtonBackground","cancelButtonColor","cancelButtonBackground","g1","querySelectorLimit","k1","h1","N","W1","I1","R1","A1","M","B","D1","T1","F1","G","toLocaleLowerCase","bottom","pointerEvents","C","childElementCount","S","W","I","R","querySelectorAll","E1","j1","Report","z1","S1","L1","O1","H1","n2","Confirm","focus","setSelectionRange","dispatchEvent","Event","stopPropagation","returnValue","cancelBubble","P1","U1","X1","q1","Q","Y1","n3","isPrototypeOf","NodeList","Block","X","D","q","O","H","Y","K","$","J","createContextualFragment","tt","et","it","show","ask","prompt","V1","$6b42ffb9a099ad39$export$fcc0626890c55730","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","$d7defabc17f02990$var$PlatformLoggerServiceImpl","getPlatformInfoString","getProviders","service","provider","getImmediate","databaseCompatName","$7vF8m","$d7defabc17f02990$export$9f30fa0c10967f7f","$d7defabc17f02990$var$PLATFORM_LOG_STRING","$d7defabc17f02990$var$name$o","$d7defabc17f02990$export$b4e3c36c855b14b5","Map","$d7defabc17f02990$export$9566bce3835c0f28","$d7defabc17f02990$export$fa5244b94c62d36a","app","component","addComponent","$d7defabc17f02990$var$logger","$d7defabc17f02990$export$c930050e7bb63965","componentName","$d7defabc17f02990$export$fa0d6da0f5838f50","heartbeatController","getProvider","optional","triggerHeartbeat","$d7defabc17f02990$var$ERRORS","setLogLevelImpl","$d7defabc17f02990$var$ERROR_FACTORY","$ffjl9","ErrorFactory","$d7defabc17f02990$var$FirebaseAppImpl","automaticDataCollectionEnabled","checkDestroyed","_automaticDataCollectionEnabled","_name","_config","_container","_isDeleted","isDeleted","$4a6xH","Component","$d7defabc17f02990$export$c55cfd413944906d","rawConfig","name4","existingApp","deepEqual","ComponentContainer","newApp","name5","$d7defabc17f02990$export$d29d5299a7137abc","libraryKeyOrName","version1","library","libraryMismatch","versionMismatch","$307d2bd0b522285b$export$16fa2f45be04daa8","instantiationMode","multipleInstances","serviceProps","onInstanceCreated","instanceFactory","$307d2bd0b522285b$var$DEFAULT_ENTRY_NAME","$307d2bd0b522285b$export$2881499e37b75b9a","instancesDeferred","normalizedIdentifier","deferred","Deferred","isInitialized","shouldAutoInitialize","normalizeInstanceIdentifier","identifier","$307d2bd0b522285b$var$isComponentEager","getOrInitializeService","instanceIdentifier","instanceDeferred","entries","delete","instancesOptions","services","INTERNAL","_delete","isComponentSet","onInit","existingCallbacks","onInitCallbacks","Set","existingInstance","invokeOnInitCallbacks","$b197424204fd80b4$var$stringToByteArray$1","charToByteMapWebSafe_","ENCODED_VALS_BASE","HAS_NATIVE_SUPPORT","atob","encodeByteArray","webSafe","init_","byteToCharMap","byteToCharMapWebSafe_","byteToCharMap_","byte1","haveByte2","byte2","haveByte3","byte3","outByte1","outByte2","outByte3","outByte4","encodeString","stringToByteArray","decodeStringToByteArray","charToByteMap","charToByteMap_","byte4","ENCODED_VALS","ENCODED_VALS_WEBSAFE","$b197424204fd80b4$export$4b5284a3025a455","utf8Bytes","$b197424204fd80b4$export$b3b2de96497acc47","$b197424204fd80b4$export$e510a73ee562749","$b197424204fd80b4$export$c62426fdd000a97e","decodeString","$b197424204fd80b4$export$85f6557964517f1a","wrapCallback","$b197424204fd80b4$export$c36915b22ce77c19","$b197424204fd80b4$export$872f8323f01d7ae0","runtime","chrome","$b197424204fd80b4$export$7e7b1a9668aaed8","ua","preExist","DB_CHECK_NAME","self","indexedDB","onsuccess","deleteDatabase","onupgradeneeded","customData","$b197424204fd80b4$export$dd24e9cd51226c56","captureStackTrace","$b197424204fd80b4$export$3fa6e1b18a3b2d40","template","errors","$b197424204fd80b4$var$replaceTemplate","fullMessage","serviceName","fullCode","$b197424204fd80b4$export$9cb4719e2e525b7a","aKeys","bKeys","aProp","bProp","$b197424204fd80b4$var$isObject","$577b55f579ec2041$var$instances","$577b55f579ec2041$export$243e62d78d3b544d","LogLevel1","$577b55f579ec2041$var$levelStringToEnum","DEBUG","VERBOSE","INFO","ERROR","SILENT","$577b55f579ec2041$var$defaultLogLevel","$577b55f579ec2041$var$ConsoleMethod","WARN","$577b55f579ec2041$var$defaultLogHandler","logType","_logLevel","logHandler","_logHandler","userLogHandler","_userLogHandler","$ekHjI","$92f73a92431170de$export$ca0ed41b1a2af7e","blocked","upgrade","blocking","terminated","openPromise","oldVersion","newVersion","transaction","$92f73a92431170de$var$readMethods","$92f73a92431170de$var$writeMethods","$92f73a92431170de$var$cachedMethods","$92f73a92431170de$var$getMethod","target1","IDBDatabase","targetFuncName","useIndex","isWrite","IDBIndex","IDBObjectStore","storeName","tx","store","oldTraps","receiver","$a6f488ce4cf7dbe7$var$idbProxyableTypes","$a6f488ce4cf7dbe7$var$cursorAdvanceMethods","$a6f488ce4cf7dbe7$var$cursorRequestMap","WeakMap","$a6f488ce4cf7dbe7$var$transactionDoneMap","$a6f488ce4cf7dbe7$var$transactionStoreNamesMap","$a6f488ce4cf7dbe7$var$transformCache","$a6f488ce4cf7dbe7$export$407448d2b89b1813","$a6f488ce4cf7dbe7$var$idbProxyTraps","IDBTransaction","objectStoreNames","objectStore","$a6f488ce4cf7dbe7$export$efccba1c4a2ef57b","$a6f488ce4cf7dbe7$export$43caf9889c228507","$a6f488ce4cf7dbe7$var$wrapFunction","IDBCursor","advance","continue","continuePrimaryKey","$a6f488ce4cf7dbe7$export$3b14a55fb2447963","storeNames","$a6f488ce4cf7dbe7$var$transformCachableValue","unlisten","DOMException","$a6f488ce4cf7dbe7$var$cacheDonePromiseForTransaction","Proxy","IDBRequest","$a6f488ce4cf7dbe7$var$promisifyRequest","newValue","$eb24d0a67f2298cb$var$_prodErrorMap","$eb24d0a67f2298cb$export$e7094788287c5e9b","$eb24d0a67f2298cb$var$_DEFAULT_AUTH_ERROR_FACTORY","$eb24d0a67f2298cb$var$logClient","$eb24d0a67f2298cb$var$_logError","LogLevel","SDK_VERSION","$eb24d0a67f2298cb$export$493d36ec626b6698","authOrCode","rest","$eb24d0a67f2298cb$var$createErrorInternal","$eb24d0a67f2298cb$export$92108d983e8ee699","$eb24d0a67f2298cb$var$_errorWithCustomMessage","errorMap","fullParams","appName","_errorFactory","$eb24d0a67f2298cb$export$9fa96a7d116ea3ce","assertion","$eb24d0a67f2298cb$var$debugFail","$eb24d0a67f2298cb$var$instanceCache","$eb24d0a67f2298cb$export$8a5498727ef6be21","cls","Function","$eb24d0a67f2298cb$var$_isHttpOrHttps","$eb24d0a67f2298cb$var$_getCurrentScheme","$eb24d0a67f2298cb$var$Delay","isMobile","longDelay","shortDelay","isMobileCordova","isReactNative","$eb24d0a67f2298cb$var$_emulatorUrl","emulator","startsWith","$eb24d0a67f2298cb$export$23ebac1979863676","static","fetchImpl","headersImpl","responseImpl","Headers","Response","INVALID_IDENTIFIER","EMAIL_EXISTS","EXPIRED_OOB_CODE","TOO_MANY_ATTEMPTS_TRY_LATER","INVALID_CODE","SESSION_EXPIRED","UNAUTHORIZED_DOMAIN","INVALID_MFA_PENDING_CREDENTIAL","SECOND_FACTOR_LIMIT_EXCEEDED","$eb24d0a67f2298cb$var$DEFAULT_API_TIMEOUT_MS","$eb24d0a67f2298cb$var$_addTidIfNecessary","tenantId","$eb24d0a67f2298cb$var$_performApiRequest","customErrorMap","$eb24d0a67f2298cb$var$_performFetchWithErrorHandling","querystring","languageCode","$eb24d0a67f2298cb$var$_getFinalTarget","apiHost","referrerPolicy","fetchFn","_canInitEmulator","$eb24d0a67f2298cb$var$SERVER_ERROR_MAP","networkTimeout","$eb24d0a67f2298cb$var$NetworkTimeout","race","clearNetworkTimeout","json","$eb24d0a67f2298cb$var$_makeTaggedError","ok","errorMessage","serverErrorCode","serverErrorMessage","authError","FirebaseError","serverResponse","apiScheme","timer","errorParams","phoneNumber","_tokenResponse","$eb24d0a67f2298cb$var$utcTimestampToDateString","utcTimestamp","date","toUTCString","$eb24d0a67f2298cb$var$secondsStringToMilliseconds","seconds","$eb24d0a67f2298cb$var$_parseToken","signature","decoded","base64Decode","$eb24d0a67f2298cb$var$_logoutIfInvalidated","bypassAuthState","$eb24d0a67f2298cb$var$isUserInvalidated","currentUser","signOut","isRunning","timerId","wasError","errorBackoff","stsTokenManager","expirationTime","getInterval","iteration","getIdToken","schedule","lastSignInTime","lastLoginAt","creationTime","createdAt","metadata","_initializeTime","$eb24d0a67f2298cb$var$_reloadWithoutSaving","idToken","$eb24d0a67f2298cb$var$getAccountInfo","users","coreAccount","newProviderData","providerUserInfo","providerId","$l73V3","__rest","rawId","displayName","photoURL","photoUrl","original","newData","updates","localId","emailVerified","providerData","$eb24d0a67f2298cb$var$StsTokenManager","isExpired","updateFromServerResponse","refreshToken","expiresIn","parsedToken","iat","$eb24d0a67f2298cb$var$_tokenExpiresIn","updateTokensAndExpiration","forceRefresh","accessToken","refresh","clearRefreshToken","grant_type","refresh_token","tokenApiHost","_getAdditionalHeaders","access_token","expires_in","expiresInSec","manager","_performRefresh","$eb24d0a67f2298cb$var$assertStringOrUndefined","_notifyListenersIfCurrent","userInternal","getModularInstance","claims","auth_time","firebase","signInProvider","issuedAtTime","signInSecondFactor","$eb24d0a67f2298cb$export$3b513254972cfc9c","_persistUserIfCurrent","$eb24d0a67f2298cb$export$1a82df3d29112e01","_assign","isAnonymous","userInfo","$eb24d0a67f2298cb$export$cf2f7c5792f80b46","_clone","reloadListener","_notifyReloadListener","reloadUserInfo","proactiveRefresh","_start","tokensRefreshed","_redirectEventId","plainObjectTokenManager","fromJSON","idTokenResponse","$eb24d0a67f2298cb$var$ProactiveRefresh","$eb24d0a67f2298cb$var$UserMetadata","$eb24d0a67f2298cb$var$InMemoryPersistence","storage","_key","_listener","$eb24d0a67f2298cb$export$3d12bd131bb975d1","$eb24d0a67f2298cb$var$PersistenceUserManager","blob","persistence","_get","fullUserKey","_fromJSON","_remove","_set","fullPersistenceKey","newPersistence","getCurrentUser","removeCurrentUser","setCurrentUser","_removeListener","boundEventHandler","persistenceHierarchy","userKey","$eb24d0a67f2298cb$export$28f7fcd39efa255","$eb24d0a67f2298cb$export$61196ced6d74a310","_isAvailable","selectedPersistence","availablePersistences","persistence1","userToMigrate","migrationHierarchy","_shouldAllowMigration","_onStorageEvent","_addListener","$eb24d0a67f2298cb$var$_getBrowserName","$eb24d0a67f2298cb$var$_isIEMobile","$eb24d0a67f2298cb$var$_isFirefox","$eb24d0a67f2298cb$var$_isBlackBerry","$eb24d0a67f2298cb$var$_isWebOS","$eb24d0a67f2298cb$var$_isSafari","$eb24d0a67f2298cb$var$_isChromeIOS","$eb24d0a67f2298cb$export$6554612db691658e","re","matches","getUA","$eb24d0a67f2298cb$export$d24c54395ce0c509","$eb24d0a67f2298cb$export$a33b77bbdbb8366c","clientPlatform","frameworks","reportedPlatform","reportedFrameworks","onAbort","signInWithEmailLink","wrappedCallback","queue","nextUser","beforeStateCallback","onAbortStack","originalMessage","popupRedirectResolver","_popupRedirectResolver","_initializationPromise","_deleted","persistenceManager","_shouldInitProactively","_initialize","initializeCurrentUser","lastNotifiedUid","_isInitialized","assertedPersistence","_currentUser","_updateCurrentUser","previouslyStoredUser","futureCurrentUser","needsTocheckMiddleware","getOrInitRedirectPersistenceManager","redirectUserEventId","redirectUser","storedUserEventId","signInWithPhoneNumber","directlySetCurrentUser","beforeStateQueue","runMiddleware","_overrideRedirectResult","reloadAndSetCurrentUserOrClear","redirectResolver","_completeRedirectFn","_setRedirectUser","languages","navigatorLanguage","language","$eb24d0a67f2298cb$var$_getUserLanguage","userExtern","skipBeforeStateCallbacks","notifyAuthListeners","redirectPersistenceManager","setPersistence","_getPersistence","_updateErrorMap","nextOrObserver","completed","registerStateListener","authStateSubscription","pushCallback","onIdTokenChanged","redirectManager","_redirectPersistence","isProactiveRefreshEnabled","_startProactiveRefresh","_stopProactiveRefresh","idTokenSubscription","currentUid","subscription","cb","addObserver","action","operations","framework","clientVersion","_getFrameworks","heartbeatsHeader","heartbeatServiceProvider","getHeartbeatsHeader","emulatorConfig","$eb24d0a67f2298cb$var$Subscription","$eb24d0a67f2298cb$var$AuthMiddlewareQueue","appVerificationDisabledForTesting","sdkClientVersion","$eb24d0a67f2298cb$export$158acd800e1ef08b","observer","createSubscribe","_getIdTokenResponse","_auth","_linkToIdToken","_idToken","signInMethod","$eb24d0a67f2298cb$var$updateEmailPassword","$eb24d0a67f2298cb$export$9bb611d729802a56","$eb24d0a67f2298cb$export$7f8ddf7c7c20b3cd","oobCode","_email","_password","_tenantId","_fromEmailAndPassword","_fromEmailAndCode","$eb24d0a67f2298cb$var$_performSignInRequest","$eb24d0a67f2298cb$var$signInWithPassword","returnSecureToken","$eb24d0a67f2298cb$var$signInWithEmailLink$1","$eb24d0a67f2298cb$var$signInWithEmailLinkForLinking","_getReauthenticationResolver","authentication.sendPasswordResetEmail","account.resetPassword","$eb24d0a67f2298cb$export$b4171a6734a65d42","cred","nonce","pendingToken","oauthToken","oauthTokenSecret","secret","$eb24d0a67f2298cb$var$signInWithIdp","buildRequest","autoCreate","requestUri","postBody","$eb24d0a67f2298cb$var$VERIFY_PHONE_NUMBER_FOR_EXISTING_ERROR_MAP_","USER_NOT_FOUND","$eb24d0a67f2298cb$export$3466f893ebf79586","verificationId","verificationCode","temporaryProof","$eb24d0a67f2298cb$var$signInWithPhoneNumber$1","_makeVerificationRequest","$eb24d0a67f2298cb$var$linkWithPhoneNumber$1","operation","$eb24d0a67f2298cb$var$verifyPhoneNumberForExisting","sessionInfo","$eb24d0a67f2298cb$export$4c3d22f3d993c33f","querystringDecode","extractQuerystring","iOSDeepLink","doubleDeepLink","actionLink","searchParams","$eb24d0a67f2298cb$var$parseMode","continueUrl","$eb24d0a67f2298cb$export$3a1a48c8f6ef640e","emailLink","actionCodeUrl","parseLink","PROVIDER_ID","EMAIL_PASSWORD_SIGN_IN_METHOD","EMAIL_LINK_SIGN_IN_METHOD","$eb24d0a67f2298cb$var$FederatedAuthProvider","setDefaultLanguage","defaultLanguageCode","setCustomParameters","customOAuthParameters","customParameters","$eb24d0a67f2298cb$var$BaseOAuthProvider","scopes","scope","getScopes","$eb24d0a67f2298cb$export$a07804094c3ecf2d","_fromParams","FACEBOOK_SIGN_IN_METHOD","credentialFromTaggedObject","tokenResponse","credential","oauthAccessToken","$eb24d0a67f2298cb$export$3722cfe417b6ed86","GOOGLE_SIGN_IN_METHOD","oauthIdToken","addScope","$eb24d0a67f2298cb$export$971d5caa766a69d7","GITHUB_SIGN_IN_METHOD","$eb24d0a67f2298cb$export$71cec2538cb2c617","TWITTER_SIGN_IN_METHOD","$eb24d0a67f2298cb$var$signUp","$eb24d0a67f2298cb$var$UserCredentialImpl","operationType","_fromIdTokenResponse","$eb24d0a67f2298cb$var$providerIdForResponse","_updateTokensIfNecessary","$eb24d0a67f2298cb$var$MultiFactorError","_serverResponse","$eb24d0a67f2298cb$var$_processCredentialSavingMfaContextIfNecessary","_fromErrorAndOperation","_forOperation","$eb24d0a67f2298cb$var$_reauthenticate","$eb24d0a67f2298cb$var$_signInWithCredential","$eb24d0a67f2298cb$export$8743009a87fcb00f","$eb24d0a67f2298cb$export$a8550f7dbe79f93a","authInternal","$eb24d0a67f2298cb$export$2e2af4578d910ddf","$eb24d0a67f2298cb$export$90a7f3efeed30595","onAuthStateChanged","$eb24d0a67f2298cb$export$4a5767248b18ef41","isIE","documentMode","standalone","deps","_getProvider","initialOptions","getOptions","initialize","_initializeWithPersistence","hierarchy","$f5ed4ab2a4d1861b$export$3c9a16f847548506","getOwnPropertySymbols","propertyIsEnumerable"],"version":3,"file":"index.71063ea6.js.map"}